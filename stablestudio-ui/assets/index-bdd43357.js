var mz=Object.defineProperty;var gz=Object.getPrototypeOf;var yz=Reflect.get;var vz=(e,t,n)=>t in e?mz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ut=(e,t,n)=>(vz(e,typeof t!="symbol"?t+"":t,n),n),_3=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var X1=(e,t,n)=>(_3(e,t,"read from private field"),n?n.call(e):t.get(e)),$c=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)};var xo=(e,t,n)=>(_3(e,t,"access private method"),n),T3=(e,t,n)=>yz(gz(e),n,t);function wz(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Hr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function bz(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var a=Function.bind.apply(t,i);return new a}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var PA={exports:{}},bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jh=Symbol.for("react.element"),xz=Symbol.for("react.portal"),kz=Symbol.for("react.fragment"),Sz=Symbol.for("react.strict_mode"),Ez=Symbol.for("react.profiler"),Cz=Symbol.for("react.provider"),_z=Symbol.for("react.context"),Tz=Symbol.for("react.forward_ref"),Iz=Symbol.for("react.suspense"),Pz=Symbol.for("react.memo"),Rz=Symbol.for("react.lazy"),I3=Symbol.iterator;function Az(e){return e===null||typeof e!="object"?null:(e=I3&&e[I3]||e["@@iterator"],typeof e=="function"?e:null)}var RA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},AA=Object.assign,NA={};function sc(e,t,n){this.props=e,this.context=t,this.refs=NA,this.updater=n||RA}sc.prototype.isReactComponent={};sc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};sc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function DA(){}DA.prototype=sc.prototype;function $S(e,t,n){this.props=e,this.context=t,this.refs=NA,this.updater=n||RA}var VS=$S.prototype=new DA;VS.constructor=$S;AA(VS,sc.prototype);VS.isPureReactComponent=!0;var P3=Array.isArray,OA=Object.prototype.hasOwnProperty,WS={current:null},MA={key:!0,ref:!0,__self:!0,__source:!0};function LA(e,t,n){var r,i={},a=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)OA.call(t,r)&&!MA.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Jh,type:e,key:a,ref:s,props:i,_owner:WS.current}}function Nz(e,t){return{$$typeof:Jh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function GS(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jh}function Dz(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var R3=/\/+/g;function Q1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Dz(""+e.key):t.toString(36)}function xm(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Jh:case xz:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Q1(s,0):r,P3(i)?(n="",e!=null&&(n=e.replace(R3,"$&/")+"/"),xm(i,t,n,"",function(u){return u})):i!=null&&(GS(i)&&(i=Nz(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(R3,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",P3(e))for(var o=0;o<e.length;o++){a=e[o];var l=r+Q1(a,o);s+=xm(a,t,n,l,i)}else if(l=Az(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=r+Q1(a,o++),s+=xm(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function kp(e,t,n){if(e==null)return e;var r=[],i=0;return xm(e,r,"","",function(a){return t.call(n,a,i++)}),r}function Oz(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var kr={current:null},km={transition:null},Mz={ReactCurrentDispatcher:kr,ReactCurrentBatchConfig:km,ReactCurrentOwner:WS};bt.Children={map:kp,forEach:function(e,t,n){kp(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return kp(e,function(){t++}),t},toArray:function(e){return kp(e,function(t){return t})||[]},only:function(e){if(!GS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};bt.Component=sc;bt.Fragment=kz;bt.Profiler=Ez;bt.PureComponent=$S;bt.StrictMode=Sz;bt.Suspense=Iz;bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mz;bt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=AA({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=WS.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)OA.call(t,l)&&!MA.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Jh,type:e.type,key:i,ref:a,props:r,_owner:s}};bt.createContext=function(e){return e={$$typeof:_z,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Cz,_context:e},e.Consumer=e};bt.createElement=LA;bt.createFactory=function(e){var t=LA.bind(null,e);return t.type=e,t};bt.createRef=function(){return{current:null}};bt.forwardRef=function(e){return{$$typeof:Tz,render:e}};bt.isValidElement=GS;bt.lazy=function(e){return{$$typeof:Rz,_payload:{_status:-1,_result:e},_init:Oz}};bt.memo=function(e,t){return{$$typeof:Pz,type:e,compare:t===void 0?null:t}};bt.startTransition=function(e){var t=km.transition;km.transition={};try{e()}finally{km.transition=t}};bt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};bt.useCallback=function(e,t){return kr.current.useCallback(e,t)};bt.useContext=function(e){return kr.current.useContext(e)};bt.useDebugValue=function(){};bt.useDeferredValue=function(e){return kr.current.useDeferredValue(e)};bt.useEffect=function(e,t){return kr.current.useEffect(e,t)};bt.useId=function(){return kr.current.useId()};bt.useImperativeHandle=function(e,t,n){return kr.current.useImperativeHandle(e,t,n)};bt.useInsertionEffect=function(e,t){return kr.current.useInsertionEffect(e,t)};bt.useLayoutEffect=function(e,t){return kr.current.useLayoutEffect(e,t)};bt.useMemo=function(e,t){return kr.current.useMemo(e,t)};bt.useReducer=function(e,t,n){return kr.current.useReducer(e,t,n)};bt.useRef=function(e){return kr.current.useRef(e)};bt.useState=function(e){return kr.current.useState(e)};bt.useSyncExternalStore=function(e,t,n){return kr.current.useSyncExternalStore(e,t,n)};bt.useTransition=function(){return kr.current.useTransition()};bt.version="18.2.0";PA.exports=bt;var Y=PA.exports;const Ve=Zi(Y),A3=wz({__proto__:null,default:Ve},[Y]);function Lz(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Fz(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Bz=function(){function e(n){var r=this;this._insertTag=function(i){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,a),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Fz(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=Lz(i);try{a.insertRule(r,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),or="-ms-",_g="-moz-",Nt="-webkit-",FA="comm",HS="rule",qS="decl",zz="@import",BA="@keyframes",Uz=Math.abs,dy=String.fromCharCode,jz=Object.assign;function $z(e,t){return Qn(e,0)^45?(((t<<2^Qn(e,0))<<2^Qn(e,1))<<2^Qn(e,2))<<2^Qn(e,3):0}function zA(e){return e.trim()}function Vz(e,t){return(e=t.exec(e))?e[0]:e}function Dt(e,t,n){return e.replace(t,n)}function nx(e,t){return e.indexOf(t)}function Qn(e,t){return e.charCodeAt(t)|0}function ih(e,t,n){return e.slice(t,n)}function ma(e){return e.length}function KS(e){return e.length}function Sp(e,t){return t.push(e),e}function Wz(e,t){return e.map(t).join("")}var hy=1,Lu=1,UA=0,zr=0,In=0,oc="";function fy(e,t,n,r,i,a,s){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:hy,column:Lu,length:s,return:""}}function Vc(e,t){return jz(fy("",null,null,"",null,null,0),e,{length:-e.length},t)}function Gz(){return In}function Hz(){return In=zr>0?Qn(oc,--zr):0,Lu--,In===10&&(Lu=1,hy--),In}function Yr(){return In=zr<UA?Qn(oc,zr++):0,Lu++,In===10&&(Lu=1,hy++),In}function ba(){return Qn(oc,zr)}function Sm(){return zr}function ef(e,t){return ih(oc,e,t)}function ah(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function jA(e){return hy=Lu=1,UA=ma(oc=e),zr=0,[]}function $A(e){return oc="",e}function Em(e){return zA(ef(zr-1,rx(e===91?e+2:e===40?e+1:e)))}function qz(e){for(;(In=ba())&&In<33;)Yr();return ah(e)>2||ah(In)>3?"":" "}function Kz(e,t){for(;--t&&Yr()&&!(In<48||In>102||In>57&&In<65||In>70&&In<97););return ef(e,Sm()+(t<6&&ba()==32&&Yr()==32))}function rx(e){for(;Yr();)switch(In){case e:return zr;case 34:case 39:e!==34&&e!==39&&rx(In);break;case 40:e===41&&rx(e);break;case 92:Yr();break}return zr}function Yz(e,t){for(;Yr()&&e+In!==47+10;)if(e+In===42+42&&ba()===47)break;return"/*"+ef(t,zr-1)+"*"+dy(e===47?e:Yr())}function Xz(e){for(;!ah(ba());)Yr();return ef(e,zr)}function Qz(e){return $A(Cm("",null,null,null,[""],e=jA(e),0,[0],e))}function Cm(e,t,n,r,i,a,s,o,l){for(var u=0,c=0,h=s,p=0,m=0,g=0,y=1,b=1,v=1,x=0,k="",T=i,P=a,R=r,N=k;b;)switch(g=x,x=Yr()){case 40:if(g!=108&&Qn(N,h-1)==58){nx(N+=Dt(Em(x),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:N+=Em(x);break;case 9:case 10:case 13:case 32:N+=qz(g);break;case 92:N+=Kz(Sm()-1,7);continue;case 47:switch(ba()){case 42:case 47:Sp(Zz(Yz(Yr(),Sm()),t,n),l);break;default:N+="/"}break;case 123*y:o[u++]=ma(N)*v;case 125*y:case 59:case 0:switch(x){case 0:case 125:b=0;case 59+c:v==-1&&(N=Dt(N,/\f/g,"")),m>0&&ma(N)-h&&Sp(m>32?D3(N+";",r,n,h-1):D3(Dt(N," ","")+";",r,n,h-2),l);break;case 59:N+=";";default:if(Sp(R=N3(N,t,n,u,c,i,o,k,T=[],P=[],h),a),x===123)if(c===0)Cm(N,t,R,R,T,a,h,o,P);else switch(p===99&&Qn(N,3)===110?100:p){case 100:case 109:case 115:Cm(e,R,R,r&&Sp(N3(e,R,R,0,0,i,o,k,i,T=[],h),P),i,P,h,o,r?T:P);break;default:Cm(N,R,R,R,[""],P,0,o,P)}}u=c=m=0,y=v=1,k=N="",h=s;break;case 58:h=1+ma(N),m=g;default:if(y<1){if(x==123)--y;else if(x==125&&y++==0&&Hz()==125)continue}switch(N+=dy(x),x*y){case 38:v=c>0?1:(N+="\f",-1);break;case 44:o[u++]=(ma(N)-1)*v,v=1;break;case 64:ba()===45&&(N+=Em(Yr())),p=ba(),c=h=ma(k=N+=Xz(Sm())),x++;break;case 45:g===45&&ma(N)==2&&(y=0)}}return a}function N3(e,t,n,r,i,a,s,o,l,u,c){for(var h=i-1,p=i===0?a:[""],m=KS(p),g=0,y=0,b=0;g<r;++g)for(var v=0,x=ih(e,h+1,h=Uz(y=s[g])),k=e;v<m;++v)(k=zA(y>0?p[v]+" "+x:Dt(x,/&\f/g,p[v])))&&(l[b++]=k);return fy(e,t,n,i===0?HS:o,l,u,c)}function Zz(e,t,n){return fy(e,t,n,FA,dy(Gz()),ih(e,2,-2),0)}function D3(e,t,n,r){return fy(e,t,n,qS,ih(e,0,r),ih(e,r+1,-1),r)}function vu(e,t){for(var n="",r=KS(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Jz(e,t,n,r){switch(e.type){case zz:case qS:return e.return=e.return||e.value;case FA:return"";case BA:return e.return=e.value+"{"+vu(e.children,r)+"}";case HS:e.value=e.props.join(",")}return ma(n=vu(e.children,r))?e.return=e.value+"{"+n+"}":""}function eU(e){var t=KS(e);return function(n,r,i,a){for(var s="",o=0;o<t;o++)s+=e[o](n,r,i,a)||"";return s}}function tU(e){return function(t){t.root||(t=t.return)&&e(t)}}function nU(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var rU=function(t,n,r){for(var i=0,a=0;i=a,a=ba(),i===38&&a===12&&(n[r]=1),!ah(a);)Yr();return ef(t,zr)},iU=function(t,n){var r=-1,i=44;do switch(ah(i)){case 0:i===38&&ba()===12&&(n[r]=1),t[r]+=rU(zr-1,n,r);break;case 2:t[r]+=Em(i);break;case 4:if(i===44){t[++r]=ba()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=dy(i)}while(i=Yr());return t},aU=function(t,n){return $A(iU(jA(t),n))},O3=new WeakMap,sU=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!O3.get(r))&&!i){O3.set(t,!0);for(var a=[],s=aU(n,a),o=r.props,l=0,u=0;l<s.length;l++)for(var c=0;c<o.length;c++,u++)t.props[u]=a[l]?s[l].replace(/&\f/g,o[c]):o[c]+" "+s[l]}}},oU=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function VA(e,t){switch($z(e,t)){case 5103:return Nt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Nt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Nt+e+_g+e+or+e+e;case 6828:case 4268:return Nt+e+or+e+e;case 6165:return Nt+e+or+"flex-"+e+e;case 5187:return Nt+e+Dt(e,/(\w+).+(:[^]+)/,Nt+"box-$1$2"+or+"flex-$1$2")+e;case 5443:return Nt+e+or+"flex-item-"+Dt(e,/flex-|-self/,"")+e;case 4675:return Nt+e+or+"flex-line-pack"+Dt(e,/align-content|flex-|-self/,"")+e;case 5548:return Nt+e+or+Dt(e,"shrink","negative")+e;case 5292:return Nt+e+or+Dt(e,"basis","preferred-size")+e;case 6060:return Nt+"box-"+Dt(e,"-grow","")+Nt+e+or+Dt(e,"grow","positive")+e;case 4554:return Nt+Dt(e,/([^-])(transform)/g,"$1"+Nt+"$2")+e;case 6187:return Dt(Dt(Dt(e,/(zoom-|grab)/,Nt+"$1"),/(image-set)/,Nt+"$1"),e,"")+e;case 5495:case 3959:return Dt(e,/(image-set\([^]*)/,Nt+"$1$`$1");case 4968:return Dt(Dt(e,/(.+:)(flex-)?(.*)/,Nt+"box-pack:$3"+or+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Nt+e+e;case 4095:case 3583:case 4068:case 2532:return Dt(e,/(.+)-inline(.+)/,Nt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ma(e)-1-t>6)switch(Qn(e,t+1)){case 109:if(Qn(e,t+4)!==45)break;case 102:return Dt(e,/(.+:)(.+)-([^]+)/,"$1"+Nt+"$2-$3$1"+_g+(Qn(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~nx(e,"stretch")?VA(Dt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Qn(e,t+1)!==115)break;case 6444:switch(Qn(e,ma(e)-3-(~nx(e,"!important")&&10))){case 107:return Dt(e,":",":"+Nt)+e;case 101:return Dt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Nt+(Qn(e,14)===45?"inline-":"")+"box$3$1"+Nt+"$2$3$1"+or+"$2box$3")+e}break;case 5936:switch(Qn(e,t+11)){case 114:return Nt+e+or+Dt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Nt+e+or+Dt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Nt+e+or+Dt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Nt+e+or+e+e}return e}var lU=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case qS:t.return=VA(t.value,t.length);break;case BA:return vu([Vc(t,{value:Dt(t.value,"@","@"+Nt)})],i);case HS:if(t.length)return Wz(t.props,function(a){switch(Vz(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return vu([Vc(t,{props:[Dt(a,/:(read-\w+)/,":"+_g+"$1")]})],i);case"::placeholder":return vu([Vc(t,{props:[Dt(a,/:(plac\w+)/,":"+Nt+"input-$1")]}),Vc(t,{props:[Dt(a,/:(plac\w+)/,":"+_g+"$1")]}),Vc(t,{props:[Dt(a,/:(plac\w+)/,or+"input-$1")]})],i)}return""})}},uU=[lU],WA=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var b=y.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=t.stylisPlugins||uU,a={},s,o=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var b=y.getAttribute("data-emotion").split(" "),v=1;v<b.length;v++)a[b[v]]=!0;o.push(y)});var l,u=[sU,oU];{var c,h=[Jz,tU(function(y){c.insert(y)})],p=eU(u.concat(i,h)),m=function(b){return vu(Qz(b),p)};l=function(b,v,x,k){c=x,m(b?b+"{"+v.styles+"}":v.styles),k&&(g.inserted[v.name]=!0)}}var g={key:n,sheet:new Bz({key:n,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:l};return g.sheet.hydrate(o),g},GA={exports:{}},Bt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hn=typeof Symbol=="function"&&Symbol.for,YS=Hn?Symbol.for("react.element"):60103,XS=Hn?Symbol.for("react.portal"):60106,py=Hn?Symbol.for("react.fragment"):60107,my=Hn?Symbol.for("react.strict_mode"):60108,gy=Hn?Symbol.for("react.profiler"):60114,yy=Hn?Symbol.for("react.provider"):60109,vy=Hn?Symbol.for("react.context"):60110,QS=Hn?Symbol.for("react.async_mode"):60111,wy=Hn?Symbol.for("react.concurrent_mode"):60111,by=Hn?Symbol.for("react.forward_ref"):60112,xy=Hn?Symbol.for("react.suspense"):60113,cU=Hn?Symbol.for("react.suspense_list"):60120,ky=Hn?Symbol.for("react.memo"):60115,Sy=Hn?Symbol.for("react.lazy"):60116,dU=Hn?Symbol.for("react.block"):60121,hU=Hn?Symbol.for("react.fundamental"):60117,fU=Hn?Symbol.for("react.responder"):60118,pU=Hn?Symbol.for("react.scope"):60119;function ri(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case YS:switch(e=e.type,e){case QS:case wy:case py:case gy:case my:case xy:return e;default:switch(e=e&&e.$$typeof,e){case vy:case by:case Sy:case ky:case yy:return e;default:return t}}case XS:return t}}}function HA(e){return ri(e)===wy}Bt.AsyncMode=QS;Bt.ConcurrentMode=wy;Bt.ContextConsumer=vy;Bt.ContextProvider=yy;Bt.Element=YS;Bt.ForwardRef=by;Bt.Fragment=py;Bt.Lazy=Sy;Bt.Memo=ky;Bt.Portal=XS;Bt.Profiler=gy;Bt.StrictMode=my;Bt.Suspense=xy;Bt.isAsyncMode=function(e){return HA(e)||ri(e)===QS};Bt.isConcurrentMode=HA;Bt.isContextConsumer=function(e){return ri(e)===vy};Bt.isContextProvider=function(e){return ri(e)===yy};Bt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===YS};Bt.isForwardRef=function(e){return ri(e)===by};Bt.isFragment=function(e){return ri(e)===py};Bt.isLazy=function(e){return ri(e)===Sy};Bt.isMemo=function(e){return ri(e)===ky};Bt.isPortal=function(e){return ri(e)===XS};Bt.isProfiler=function(e){return ri(e)===gy};Bt.isStrictMode=function(e){return ri(e)===my};Bt.isSuspense=function(e){return ri(e)===xy};Bt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===py||e===wy||e===gy||e===my||e===xy||e===cU||typeof e=="object"&&e!==null&&(e.$$typeof===Sy||e.$$typeof===ky||e.$$typeof===yy||e.$$typeof===vy||e.$$typeof===by||e.$$typeof===hU||e.$$typeof===fU||e.$$typeof===pU||e.$$typeof===dU)};Bt.typeOf=ri;GA.exports=Bt;var mU=GA.exports,qA=mU,gU={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},yU={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},KA={};KA[qA.ForwardRef]=gU;KA[qA.Memo]=yU;var vU=!0;function ZS(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var YA=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||vU===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},JS=function(t,n,r){YA(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var a=n;do t.insert(n===a?"."+i:"",a,t.sheet,!0),a=a.next;while(a!==void 0)}};function wU(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var bU={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},xU=/[A-Z]|^ms/g,kU=/_EMO_([^_]+?)_([^]*?)_EMO_/g,XA=function(t){return t.charCodeAt(1)===45},M3=function(t){return t!=null&&typeof t!="boolean"},Z1=nU(function(e){return XA(e)?e:e.replace(xU,"-$&").toLowerCase()}),L3=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(kU,function(r,i,a){return ga={name:i,styles:a,next:ga},i})}return bU[t]!==1&&!XA(t)&&typeof n=="number"&&n!==0?n+"px":n};function sh(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return ga={name:n.name,styles:n.styles,next:ga},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)ga={name:r.name,styles:r.styles,next:ga},r=r.next;var i=n.styles+";";return i}return SU(e,t,n)}case"function":{if(e!==void 0){var a=ga,s=n(e);return ga=a,sh(e,t,s)}break}}if(t==null)return n;var o=t[n];return o!==void 0?o:n}function SU(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=sh(e,t,n[i])+";";else for(var a in n){var s=n[a];if(typeof s!="object")t!=null&&t[s]!==void 0?r+=a+"{"+t[s]+"}":M3(s)&&(r+=Z1(a)+":"+L3(a,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var o=0;o<s.length;o++)M3(s[o])&&(r+=Z1(a)+":"+L3(a,s[o])+";");else{var l=sh(e,t,s);switch(a){case"animation":case"animationName":{r+=Z1(a)+":"+l+";";break}default:r+=a+"{"+l+"}"}}}return r}var F3=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ga,wu=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,a="";ga=void 0;var s=t[0];s==null||s.raw===void 0?(i=!1,a+=sh(r,n,s)):a+=s[0];for(var o=1;o<t.length;o++)a+=sh(r,n,t[o]),i&&(a+=s[o]);F3.lastIndex=0;for(var l="",u;(u=F3.exec(a))!==null;)l+="-"+u[1];var c=wU(a)+l;return{name:c,styles:a,next:ga}},EU=function(t){return t()},QA=A3["useInsertionEffect"]?A3["useInsertionEffect"]:!1,CU=QA||EU,B3=QA||Y.useLayoutEffect,tf={}.hasOwnProperty,ZA=Y.createContext(typeof HTMLElement<"u"?WA({key:"css"}):null);ZA.Provider;var JA=function(t){return Y.forwardRef(function(n,r){var i=Y.useContext(ZA);return t(n,i,r)})},eN=Y.createContext({}),ix="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",eE=function(t,n){var r={};for(var i in n)tf.call(n,i)&&(r[i]=n[i]);return r[ix]=t,r},_U=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return YA(n,r,i),CU(function(){return JS(n,r,i)}),null},tE=JA(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var i=e[ix],a=[r],s="";typeof e.className=="string"?s=ZS(t.registered,a,e.className):e.className!=null&&(s=e.className+" ");var o=wu(a,void 0,Y.useContext(eN));s+=t.key+"-"+o.name;var l={};for(var u in e)tf.call(e,u)&&u!=="css"&&u!==ix&&(l[u]=e[u]);return l.ref=n,l.className=s,Y.createElement(Y.Fragment,null,Y.createElement(_U,{cache:t,serialized:o,isStringTag:typeof i=="string"}),Y.createElement(i,l))}),tN={exports:{}},Ey={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TU=Y,IU=Symbol.for("react.element"),PU=Symbol.for("react.fragment"),RU=Object.prototype.hasOwnProperty,AU=TU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NU={key:!0,ref:!0,__self:!0,__source:!0};function nN(e,t,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)RU.call(t,r)&&!NU.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:IU,type:e,key:a,ref:s,props:i,_owner:AU.current}}Ey.Fragment=PU;Ey.jsx=nN;Ey.jsxs=nN;tN.exports=Ey;var nE=tN.exports;const DU=nE.Fragment,z3=nE.jsx,U3=nE.jsxs;var it=DU;function E(e,t,n){return tf.call(t,"css")?z3(tE,eE(e,t),n):z3(e,t,n)}function ne(e,t,n){return tf.call(t,"css")?U3(tE,eE(e,t),n):U3(e,t,n)}var ax={},rN={exports:{}},ii={},iN={exports:{}},aN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(de,ie){var pe=de.length;de.push(ie);e:for(;0<pe;){var F=pe-1>>>1,M=de[F];if(0<i(M,ie))de[F]=ie,de[pe]=M,pe=F;else break e}}function n(de){return de.length===0?null:de[0]}function r(de){if(de.length===0)return null;var ie=de[0],pe=de.pop();if(pe!==ie){de[0]=pe;e:for(var F=0,M=de.length,Ce=M>>>1;F<Ce;){var _e=2*(F+1)-1,Te=de[_e],Qe=_e+1,pt=de[Qe];if(0>i(Te,pe))Qe<M&&0>i(pt,Te)?(de[F]=pt,de[Qe]=pe,F=Qe):(de[F]=Te,de[_e]=pe,F=_e);else if(Qe<M&&0>i(pt,pe))de[F]=pt,de[Qe]=pe,F=Qe;else break e}}return ie}function i(de,ie){var pe=de.sortIndex-ie.sortIndex;return pe!==0?pe:de.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,h=null,p=3,m=!1,g=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(de){for(var ie=n(u);ie!==null;){if(ie.callback===null)r(u);else if(ie.startTime<=de)r(u),ie.sortIndex=ie.expirationTime,t(l,ie);else break;ie=n(u)}}function T(de){if(y=!1,k(de),!g)if(n(l)!==null)g=!0,X(P);else{var ie=n(u);ie!==null&&le(T,ie.startTime-de)}}function P(de,ie){g=!1,y&&(y=!1,v(B),B=-1),m=!0;var pe=p;try{for(k(ie),h=n(l);h!==null&&(!(h.expirationTime>ie)||de&&!H());){var F=h.callback;if(typeof F=="function"){h.callback=null,p=h.priorityLevel;var M=F(h.expirationTime<=ie);ie=e.unstable_now(),typeof M=="function"?h.callback=M:h===n(l)&&r(l),k(ie)}else r(l);h=n(l)}if(h!==null)var Ce=!0;else{var _e=n(u);_e!==null&&le(T,_e.startTime-ie),Ce=!1}return Ce}finally{h=null,p=pe,m=!1}}var R=!1,N=null,B=-1,j=5,W=-1;function H(){return!(e.unstable_now()-W<j)}function z(){if(N!==null){var de=e.unstable_now();W=de;var ie=!0;try{ie=N(!0,de)}finally{ie?$():(R=!1,N=null)}}else R=!1}var $;if(typeof x=="function")$=function(){x(z)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,te=O.port2;O.port1.onmessage=z,$=function(){te.postMessage(null)}}else $=function(){b(z,0)};function X(de){N=de,R||(R=!0,$())}function le(de,ie){B=b(function(){de(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(de){de.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,X(P))},e.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<de?Math.floor(1e3/de):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(de){switch(p){case 1:case 2:case 3:var ie=3;break;default:ie=p}var pe=p;p=ie;try{return de()}finally{p=pe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(de,ie){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var pe=p;p=de;try{return ie()}finally{p=pe}},e.unstable_scheduleCallback=function(de,ie,pe){var F=e.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?F+pe:F):pe=F,de){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=pe+M,de={id:c++,callback:ie,priorityLevel:de,startTime:pe,expirationTime:M,sortIndex:-1},pe>F?(de.sortIndex=pe,t(u,de),n(l)===null&&de===n(u)&&(y?(v(B),B=-1):y=!0,le(T,pe-F))):(de.sortIndex=M,t(l,de),g||m||(g=!0,X(P))),de},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(de){var ie=p;return function(){var pe=p;p=ie;try{return de.apply(this,arguments)}finally{p=pe}}}})(aN);iN.exports=aN;var Td=iN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sN=Y,Jr=Td;function Ae(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oN=new Set,oh={};function dl(e,t){Fu(e,t),Fu(e+"Capture",t)}function Fu(e,t){for(oh[e]=t,e=0;e<t.length;e++)oN.add(t[e])}var Ya=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sx=Object.prototype.hasOwnProperty,OU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,j3={},$3={};function MU(e){return sx.call($3,e)?!0:sx.call(j3,e)?!1:OU.test(e)?$3[e]=!0:(j3[e]=!0,!1)}function LU(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function FU(e,t,n,r){if(t===null||typeof t>"u"||LU(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Sr(e,t,n,r,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Jn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Jn[e]=new Sr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Jn[t]=new Sr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Jn[e]=new Sr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Jn[e]=new Sr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Jn[e]=new Sr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Jn[e]=new Sr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Jn[e]=new Sr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Jn[e]=new Sr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Jn[e]=new Sr(e,5,!1,e.toLowerCase(),null,!1,!1)});var rE=/[\-:]([a-z])/g;function iE(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rE,iE);Jn[t]=new Sr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rE,iE);Jn[t]=new Sr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rE,iE);Jn[t]=new Sr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Jn[e]=new Sr(e,1,!1,e.toLowerCase(),null,!1,!1)});Jn.xlinkHref=new Sr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Jn[e]=new Sr(e,1,!1,e.toLowerCase(),null,!0,!0)});function aE(e,t,n,r){var i=Jn.hasOwnProperty(t)?Jn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(FU(t,n,i,r)&&(n=null),r||i===null?MU(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ts=sN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ep=Symbol.for("react.element"),Jl=Symbol.for("react.portal"),eu=Symbol.for("react.fragment"),sE=Symbol.for("react.strict_mode"),ox=Symbol.for("react.profiler"),lN=Symbol.for("react.provider"),uN=Symbol.for("react.context"),oE=Symbol.for("react.forward_ref"),lx=Symbol.for("react.suspense"),ux=Symbol.for("react.suspense_list"),lE=Symbol.for("react.memo"),Cs=Symbol.for("react.lazy"),cN=Symbol.for("react.offscreen"),V3=Symbol.iterator;function Wc(e){return e===null||typeof e!="object"?null:(e=V3&&e[V3]||e["@@iterator"],typeof e=="function"?e:null)}var pn=Object.assign,J1;function gd(e){if(J1===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);J1=t&&t[1]||""}return`
`+J1+e}var ew=!1;function tw(e,t){if(!e||ew)return"";ew=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{ew=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?gd(e):""}function BU(e){switch(e.tag){case 5:return gd(e.type);case 16:return gd("Lazy");case 13:return gd("Suspense");case 19:return gd("SuspenseList");case 0:case 2:case 15:return e=tw(e.type,!1),e;case 11:return e=tw(e.type.render,!1),e;case 1:return e=tw(e.type,!0),e;default:return""}}function cx(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case eu:return"Fragment";case Jl:return"Portal";case ox:return"Profiler";case sE:return"StrictMode";case lx:return"Suspense";case ux:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case uN:return(e.displayName||"Context")+".Consumer";case lN:return(e._context.displayName||"Context")+".Provider";case oE:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lE:return t=e.displayName||null,t!==null?t:cx(e.type)||"Memo";case Cs:t=e._payload,e=e._init;try{return cx(e(t))}catch{}}return null}function zU(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cx(t);case 8:return t===sE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dN(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function UU(e){var t=dN(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cp(e){e._valueTracker||(e._valueTracker=UU(e))}function hN(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dN(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Tg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function dx(e,t){var n=t.checked;return pn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function W3(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Xs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fN(e,t){t=t.checked,t!=null&&aE(e,"checked",t,!1)}function hx(e,t){fN(e,t);var n=Xs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fx(e,t.type,n):t.hasOwnProperty("defaultValue")&&fx(e,t.type,Xs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function G3(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function fx(e,t,n){(t!=="number"||Tg(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var yd=Array.isArray;function bu(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Xs(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function px(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ae(91));return pn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function H3(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ae(92));if(yd(n)){if(1<n.length)throw Error(Ae(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Xs(n)}}function pN(e,t){var n=Xs(t.value),r=Xs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function q3(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function mN(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mx(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?mN(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _p,gN=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_p=_p||document.createElement("div"),_p.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_p.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function lh(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Id={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jU=["Webkit","ms","Moz","O"];Object.keys(Id).forEach(function(e){jU.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Id[t]=Id[e]})});function yN(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Id.hasOwnProperty(e)&&Id[e]?(""+t).trim():t+"px"}function vN(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=yN(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var $U=pn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gx(e,t){if(t){if($U[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ae(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ae(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ae(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ae(62))}}function yx(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vx=null;function uE(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wx=null,xu=null,ku=null;function K3(e){if(e=af(e)){if(typeof wx!="function")throw Error(Ae(280));var t=e.stateNode;t&&(t=Py(t),wx(e.stateNode,e.type,t))}}function wN(e){xu?ku?ku.push(e):ku=[e]:xu=e}function bN(){if(xu){var e=xu,t=ku;if(ku=xu=null,K3(e),t)for(e=0;e<t.length;e++)K3(t[e])}}function xN(e,t){return e(t)}function kN(){}var nw=!1;function SN(e,t,n){if(nw)return e(t,n);nw=!0;try{return xN(e,t,n)}finally{nw=!1,(xu!==null||ku!==null)&&(kN(),bN())}}function uh(e,t){var n=e.stateNode;if(n===null)return null;var r=Py(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ae(231,t,typeof n));return n}var bx=!1;if(Ya)try{var Gc={};Object.defineProperty(Gc,"passive",{get:function(){bx=!0}}),window.addEventListener("test",Gc,Gc),window.removeEventListener("test",Gc,Gc)}catch{bx=!1}function VU(e,t,n,r,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Pd=!1,Ig=null,Pg=!1,xx=null,WU={onError:function(e){Pd=!0,Ig=e}};function GU(e,t,n,r,i,a,s,o,l){Pd=!1,Ig=null,VU.apply(WU,arguments)}function HU(e,t,n,r,i,a,s,o,l){if(GU.apply(this,arguments),Pd){if(Pd){var u=Ig;Pd=!1,Ig=null}else throw Error(Ae(198));Pg||(Pg=!0,xx=u)}}function hl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function EN(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Y3(e){if(hl(e)!==e)throw Error(Ae(188))}function qU(e){var t=e.alternate;if(!t){if(t=hl(e),t===null)throw Error(Ae(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Y3(i),e;if(a===r)return Y3(i),t;a=a.sibling}throw Error(Ae(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(Ae(189))}}if(n.alternate!==r)throw Error(Ae(190))}if(n.tag!==3)throw Error(Ae(188));return n.stateNode.current===n?e:t}function CN(e){return e=qU(e),e!==null?_N(e):null}function _N(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_N(e);if(t!==null)return t;e=e.sibling}return null}var TN=Jr.unstable_scheduleCallback,X3=Jr.unstable_cancelCallback,KU=Jr.unstable_shouldYield,YU=Jr.unstable_requestPaint,En=Jr.unstable_now,XU=Jr.unstable_getCurrentPriorityLevel,cE=Jr.unstable_ImmediatePriority,IN=Jr.unstable_UserBlockingPriority,Rg=Jr.unstable_NormalPriority,QU=Jr.unstable_LowPriority,PN=Jr.unstable_IdlePriority,Cy=null,xa=null;function ZU(e){if(xa&&typeof xa.onCommitFiberRoot=="function")try{xa.onCommitFiberRoot(Cy,e,void 0,(e.current.flags&128)===128)}catch{}}var qi=Math.clz32?Math.clz32:t9,JU=Math.log,e9=Math.LN2;function t9(e){return e>>>=0,e===0?32:31-(JU(e)/e9|0)|0}var Tp=64,Ip=4194304;function vd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ag(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=vd(o):(a&=s,a!==0&&(r=vd(a)))}else s=n&~i,s!==0?r=vd(s):a!==0&&(r=vd(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-qi(t),i=1<<n,r|=e[n],t&=~i;return r}function n9(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function r9(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-qi(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=n9(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function kx(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function RN(){var e=Tp;return Tp<<=1,!(Tp&4194240)&&(Tp=64),e}function rw(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function nf(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qi(t),e[t]=n}function i9(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-qi(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function dE(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-qi(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ft=0;function AN(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var NN,hE,DN,ON,MN,Sx=!1,Pp=[],Us=null,js=null,$s=null,ch=new Map,dh=new Map,As=[],a9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Q3(e,t){switch(e){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":ch.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dh.delete(t.pointerId)}}function Hc(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=af(t),t!==null&&hE(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function s9(e,t,n,r,i){switch(t){case"focusin":return Us=Hc(Us,e,t,n,r,i),!0;case"dragenter":return js=Hc(js,e,t,n,r,i),!0;case"mouseover":return $s=Hc($s,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ch.set(a,Hc(ch.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,dh.set(a,Hc(dh.get(a)||null,e,t,n,r,i)),!0}return!1}function LN(e){var t=Fo(e.target);if(t!==null){var n=hl(t);if(n!==null){if(t=n.tag,t===13){if(t=EN(n),t!==null){e.blockedOn=t,MN(e.priority,function(){DN(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _m(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ex(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);vx=r,n.target.dispatchEvent(r),vx=null}else return t=af(n),t!==null&&hE(t),e.blockedOn=n,!1;t.shift()}return!0}function Z3(e,t,n){_m(e)&&n.delete(t)}function o9(){Sx=!1,Us!==null&&_m(Us)&&(Us=null),js!==null&&_m(js)&&(js=null),$s!==null&&_m($s)&&($s=null),ch.forEach(Z3),dh.forEach(Z3)}function qc(e,t){e.blockedOn===t&&(e.blockedOn=null,Sx||(Sx=!0,Jr.unstable_scheduleCallback(Jr.unstable_NormalPriority,o9)))}function hh(e){function t(i){return qc(i,e)}if(0<Pp.length){qc(Pp[0],e);for(var n=1;n<Pp.length;n++){var r=Pp[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Us!==null&&qc(Us,e),js!==null&&qc(js,e),$s!==null&&qc($s,e),ch.forEach(t),dh.forEach(t),n=0;n<As.length;n++)r=As[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<As.length&&(n=As[0],n.blockedOn===null);)LN(n),n.blockedOn===null&&As.shift()}var Su=ts.ReactCurrentBatchConfig,Ng=!0;function l9(e,t,n,r){var i=Ft,a=Su.transition;Su.transition=null;try{Ft=1,fE(e,t,n,r)}finally{Ft=i,Su.transition=a}}function u9(e,t,n,r){var i=Ft,a=Su.transition;Su.transition=null;try{Ft=4,fE(e,t,n,r)}finally{Ft=i,Su.transition=a}}function fE(e,t,n,r){if(Ng){var i=Ex(e,t,n,r);if(i===null)fw(e,t,r,Dg,n),Q3(e,r);else if(s9(i,e,t,n,r))r.stopPropagation();else if(Q3(e,r),t&4&&-1<a9.indexOf(e)){for(;i!==null;){var a=af(i);if(a!==null&&NN(a),a=Ex(e,t,n,r),a===null&&fw(e,t,r,Dg,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else fw(e,t,r,null,n)}}var Dg=null;function Ex(e,t,n,r){if(Dg=null,e=uE(r),e=Fo(e),e!==null)if(t=hl(e),t===null)e=null;else if(n=t.tag,n===13){if(e=EN(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Dg=e,null}function FN(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XU()){case cE:return 1;case IN:return 4;case Rg:case QU:return 16;case PN:return 536870912;default:return 16}default:return 16}}var Ms=null,pE=null,Tm=null;function BN(){if(Tm)return Tm;var e,t=pE,n=t.length,r,i="value"in Ms?Ms.value:Ms.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[a-r];r++);return Tm=i.slice(e,1<r?1-r:void 0)}function Im(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Rp(){return!0}function J3(){return!1}function ai(e){function t(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Rp:J3,this.isPropagationStopped=J3,this}return pn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rp)},persist:function(){},isPersistent:Rp}),t}var lc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mE=ai(lc),rf=pn({},lc,{view:0,detail:0}),c9=ai(rf),iw,aw,Kc,_y=pn({},rf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gE,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kc&&(Kc&&e.type==="mousemove"?(iw=e.screenX-Kc.screenX,aw=e.screenY-Kc.screenY):aw=iw=0,Kc=e),iw)},movementY:function(e){return"movementY"in e?e.movementY:aw}}),eI=ai(_y),d9=pn({},_y,{dataTransfer:0}),h9=ai(d9),f9=pn({},rf,{relatedTarget:0}),sw=ai(f9),p9=pn({},lc,{animationName:0,elapsedTime:0,pseudoElement:0}),m9=ai(p9),g9=pn({},lc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),y9=ai(g9),v9=pn({},lc,{data:0}),tI=ai(v9),w9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},x9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k9(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=x9[e])?!!t[e]:!1}function gE(){return k9}var S9=pn({},rf,{key:function(e){if(e.key){var t=w9[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Im(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?b9[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gE,charCode:function(e){return e.type==="keypress"?Im(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Im(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),E9=ai(S9),C9=pn({},_y,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nI=ai(C9),_9=pn({},rf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gE}),T9=ai(_9),I9=pn({},lc,{propertyName:0,elapsedTime:0,pseudoElement:0}),P9=ai(I9),R9=pn({},_y,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),A9=ai(R9),N9=[9,13,27,32],yE=Ya&&"CompositionEvent"in window,Rd=null;Ya&&"documentMode"in document&&(Rd=document.documentMode);var D9=Ya&&"TextEvent"in window&&!Rd,zN=Ya&&(!yE||Rd&&8<Rd&&11>=Rd),rI=String.fromCharCode(32),iI=!1;function UN(e,t){switch(e){case"keyup":return N9.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jN(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var tu=!1;function O9(e,t){switch(e){case"compositionend":return jN(t);case"keypress":return t.which!==32?null:(iI=!0,rI);case"textInput":return e=t.data,e===rI&&iI?null:e;default:return null}}function M9(e,t){if(tu)return e==="compositionend"||!yE&&UN(e,t)?(e=BN(),Tm=pE=Ms=null,tu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zN&&t.locale!=="ko"?null:t.data;default:return null}}var L9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aI(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!L9[e.type]:t==="textarea"}function $N(e,t,n,r){wN(r),t=Og(t,"onChange"),0<t.length&&(n=new mE("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ad=null,fh=null;function F9(e){JN(e,0)}function Ty(e){var t=iu(e);if(hN(t))return e}function B9(e,t){if(e==="change")return t}var VN=!1;if(Ya){var ow;if(Ya){var lw="oninput"in document;if(!lw){var sI=document.createElement("div");sI.setAttribute("oninput","return;"),lw=typeof sI.oninput=="function"}ow=lw}else ow=!1;VN=ow&&(!document.documentMode||9<document.documentMode)}function oI(){Ad&&(Ad.detachEvent("onpropertychange",WN),fh=Ad=null)}function WN(e){if(e.propertyName==="value"&&Ty(fh)){var t=[];$N(t,fh,e,uE(e)),SN(F9,t)}}function z9(e,t,n){e==="focusin"?(oI(),Ad=t,fh=n,Ad.attachEvent("onpropertychange",WN)):e==="focusout"&&oI()}function U9(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ty(fh)}function j9(e,t){if(e==="click")return Ty(t)}function $9(e,t){if(e==="input"||e==="change")return Ty(t)}function V9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qi=typeof Object.is=="function"?Object.is:V9;function ph(e,t){if(Qi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!sx.call(t,i)||!Qi(e[i],t[i]))return!1}return!0}function lI(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function uI(e,t){var n=lI(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lI(n)}}function GN(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?GN(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function HN(){for(var e=window,t=Tg();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Tg(e.document)}return t}function vE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function W9(e){var t=HN(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&GN(n.ownerDocument.documentElement,n)){if(r!==null&&vE(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=uI(n,a);var s=uI(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var G9=Ya&&"documentMode"in document&&11>=document.documentMode,nu=null,Cx=null,Nd=null,_x=!1;function cI(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_x||nu==null||nu!==Tg(r)||(r=nu,"selectionStart"in r&&vE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Nd&&ph(Nd,r)||(Nd=r,r=Og(Cx,"onSelect"),0<r.length&&(t=new mE("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=nu)))}function Ap(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ru={animationend:Ap("Animation","AnimationEnd"),animationiteration:Ap("Animation","AnimationIteration"),animationstart:Ap("Animation","AnimationStart"),transitionend:Ap("Transition","TransitionEnd")},uw={},qN={};Ya&&(qN=document.createElement("div").style,"AnimationEvent"in window||(delete ru.animationend.animation,delete ru.animationiteration.animation,delete ru.animationstart.animation),"TransitionEvent"in window||delete ru.transitionend.transition);function Iy(e){if(uw[e])return uw[e];if(!ru[e])return e;var t=ru[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in qN)return uw[e]=t[n];return e}var KN=Iy("animationend"),YN=Iy("animationiteration"),XN=Iy("animationstart"),QN=Iy("transitionend"),ZN=new Map,dI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function eo(e,t){ZN.set(e,t),dl(t,[e])}for(var cw=0;cw<dI.length;cw++){var dw=dI[cw],H9=dw.toLowerCase(),q9=dw[0].toUpperCase()+dw.slice(1);eo(H9,"on"+q9)}eo(KN,"onAnimationEnd");eo(YN,"onAnimationIteration");eo(XN,"onAnimationStart");eo("dblclick","onDoubleClick");eo("focusin","onFocus");eo("focusout","onBlur");eo(QN,"onTransitionEnd");Fu("onMouseEnter",["mouseout","mouseover"]);Fu("onMouseLeave",["mouseout","mouseover"]);Fu("onPointerEnter",["pointerout","pointerover"]);Fu("onPointerLeave",["pointerout","pointerover"]);dl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dl("onBeforeInput",["compositionend","keypress","textInput","paste"]);dl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K9=new Set("cancel close invalid load scroll toggle".split(" ").concat(wd));function hI(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,HU(r,t,void 0,e),e.currentTarget=null}function JN(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;hI(i,o,u),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;hI(i,o,u),a=l}}}if(Pg)throw e=xx,Pg=!1,xx=null,e}function tn(e,t){var n=t[Ax];n===void 0&&(n=t[Ax]=new Set);var r=e+"__bubble";n.has(r)||(eD(t,e,2,!1),n.add(r))}function hw(e,t,n){var r=0;t&&(r|=4),eD(n,e,r,t)}var Np="_reactListening"+Math.random().toString(36).slice(2);function mh(e){if(!e[Np]){e[Np]=!0,oN.forEach(function(n){n!=="selectionchange"&&(K9.has(n)||hw(n,!1,e),hw(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Np]||(t[Np]=!0,hw("selectionchange",!1,t))}}function eD(e,t,n,r){switch(FN(t)){case 1:var i=l9;break;case 4:i=u9;break;default:i=fE}n=i.bind(null,t,n,e),i=void 0,!bx||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function fw(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Fo(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}SN(function(){var u=a,c=uE(n),h=[];e:{var p=ZN.get(e);if(p!==void 0){var m=mE,g=e;switch(e){case"keypress":if(Im(n)===0)break e;case"keydown":case"keyup":m=E9;break;case"focusin":g="focus",m=sw;break;case"focusout":g="blur",m=sw;break;case"beforeblur":case"afterblur":m=sw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=eI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=h9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=T9;break;case KN:case YN:case XN:m=m9;break;case QN:m=P9;break;case"scroll":m=c9;break;case"wheel":m=A9;break;case"copy":case"cut":case"paste":m=y9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=nI}var y=(t&4)!==0,b=!y&&e==="scroll",v=y?p!==null?p+"Capture":null:p;y=[];for(var x=u,k;x!==null;){k=x;var T=k.stateNode;if(k.tag===5&&T!==null&&(k=T,v!==null&&(T=uh(x,v),T!=null&&y.push(gh(x,T,k)))),b)break;x=x.return}0<y.length&&(p=new m(p,g,null,n,c),h.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==vx&&(g=n.relatedTarget||n.fromElement)&&(Fo(g)||g[Xa]))break e;if((m||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?Fo(g):null,g!==null&&(b=hl(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(y=eI,T="onMouseLeave",v="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(y=nI,T="onPointerLeave",v="onPointerEnter",x="pointer"),b=m==null?p:iu(m),k=g==null?p:iu(g),p=new y(T,x+"leave",m,n,c),p.target=b,p.relatedTarget=k,T=null,Fo(c)===u&&(y=new y(v,x+"enter",g,n,c),y.target=k,y.relatedTarget=b,T=y),b=T,m&&g)t:{for(y=m,v=g,x=0,k=y;k;k=Bl(k))x++;for(k=0,T=v;T;T=Bl(T))k++;for(;0<x-k;)y=Bl(y),x--;for(;0<k-x;)v=Bl(v),k--;for(;x--;){if(y===v||v!==null&&y===v.alternate)break t;y=Bl(y),v=Bl(v)}y=null}else y=null;m!==null&&fI(h,p,m,y,!1),g!==null&&b!==null&&fI(h,b,g,y,!0)}}e:{if(p=u?iu(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var P=B9;else if(aI(p))if(VN)P=$9;else{P=U9;var R=z9}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=j9);if(P&&(P=P(e,u))){$N(h,P,n,c);break e}R&&R(e,p,u),e==="focusout"&&(R=p._wrapperState)&&R.controlled&&p.type==="number"&&fx(p,"number",p.value)}switch(R=u?iu(u):window,e){case"focusin":(aI(R)||R.contentEditable==="true")&&(nu=R,Cx=u,Nd=null);break;case"focusout":Nd=Cx=nu=null;break;case"mousedown":_x=!0;break;case"contextmenu":case"mouseup":case"dragend":_x=!1,cI(h,n,c);break;case"selectionchange":if(G9)break;case"keydown":case"keyup":cI(h,n,c)}var N;if(yE)e:{switch(e){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else tu?UN(e,n)&&(B="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(zN&&n.locale!=="ko"&&(tu||B!=="onCompositionStart"?B==="onCompositionEnd"&&tu&&(N=BN()):(Ms=c,pE="value"in Ms?Ms.value:Ms.textContent,tu=!0)),R=Og(u,B),0<R.length&&(B=new tI(B,e,null,n,c),h.push({event:B,listeners:R}),N?B.data=N:(N=jN(n),N!==null&&(B.data=N)))),(N=D9?O9(e,n):M9(e,n))&&(u=Og(u,"onBeforeInput"),0<u.length&&(c=new tI("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=N))}JN(h,t)})}function gh(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Og(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=uh(e,n),a!=null&&r.unshift(gh(e,a,i)),a=uh(e,t),a!=null&&r.push(gh(e,a,i))),e=e.return}return r}function Bl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function fI(e,t,n,r,i){for(var a=t._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=uh(n,a),l!=null&&s.unshift(gh(n,l,o))):i||(l=uh(n,a),l!=null&&s.push(gh(n,l,o)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Y9=/\r\n?/g,X9=/\u0000|\uFFFD/g;function pI(e){return(typeof e=="string"?e:""+e).replace(Y9,`
`).replace(X9,"")}function Dp(e,t,n){if(t=pI(t),pI(e)!==t&&n)throw Error(Ae(425))}function Mg(){}var Tx=null,Ix=null;function Px(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Rx=typeof setTimeout=="function"?setTimeout:void 0,Q9=typeof clearTimeout=="function"?clearTimeout:void 0,mI=typeof Promise=="function"?Promise:void 0,Z9=typeof queueMicrotask=="function"?queueMicrotask:typeof mI<"u"?function(e){return mI.resolve(null).then(e).catch(J9)}:Rx;function J9(e){setTimeout(function(){throw e})}function pw(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),hh(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);hh(t)}function Vs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gI(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var uc=Math.random().toString(36).slice(2),va="__reactFiber$"+uc,yh="__reactProps$"+uc,Xa="__reactContainer$"+uc,Ax="__reactEvents$"+uc,e7="__reactListeners$"+uc,t7="__reactHandles$"+uc;function Fo(e){var t=e[va];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xa]||n[va]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gI(e);e!==null;){if(n=e[va])return n;e=gI(e)}return t}e=n,n=e.parentNode}return null}function af(e){return e=e[va]||e[Xa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function iu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ae(33))}function Py(e){return e[yh]||null}var Nx=[],au=-1;function to(e){return{current:e}}function rn(e){0>au||(e.current=Nx[au],Nx[au]=null,au--)}function Xt(e,t){au++,Nx[au]=e.current,e.current=t}var Qs={},pr=to(Qs),Mr=to(!1),nl=Qs;function Bu(e,t){var n=e.type.contextTypes;if(!n)return Qs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Lr(e){return e=e.childContextTypes,e!=null}function Lg(){rn(Mr),rn(pr)}function yI(e,t,n){if(pr.current!==Qs)throw Error(Ae(168));Xt(pr,t),Xt(Mr,n)}function tD(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Ae(108,zU(e)||"Unknown",i));return pn({},n,r)}function Fg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qs,nl=pr.current,Xt(pr,e),Xt(Mr,Mr.current),!0}function vI(e,t,n){var r=e.stateNode;if(!r)throw Error(Ae(169));n?(e=tD(e,t,nl),r.__reactInternalMemoizedMergedChildContext=e,rn(Mr),rn(pr),Xt(pr,e)):rn(Mr),Xt(Mr,n)}var $a=null,Ry=!1,mw=!1;function nD(e){$a===null?$a=[e]:$a.push(e)}function n7(e){Ry=!0,nD(e)}function no(){if(!mw&&$a!==null){mw=!0;var e=0,t=Ft;try{var n=$a;for(Ft=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}$a=null,Ry=!1}catch(i){throw $a!==null&&($a=$a.slice(e+1)),TN(cE,no),i}finally{Ft=t,mw=!1}}return null}var su=[],ou=0,Bg=null,zg=0,bi=[],xi=0,rl=null,Ga=1,Ha="";function Io(e,t){su[ou++]=zg,su[ou++]=Bg,Bg=e,zg=t}function rD(e,t,n){bi[xi++]=Ga,bi[xi++]=Ha,bi[xi++]=rl,rl=e;var r=Ga;e=Ha;var i=32-qi(r)-1;r&=~(1<<i),n+=1;var a=32-qi(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ga=1<<32-qi(t)+i|n<<i|r,Ha=a+e}else Ga=1<<a|n<<i|r,Ha=e}function wE(e){e.return!==null&&(Io(e,1),rD(e,1,0))}function bE(e){for(;e===Bg;)Bg=su[--ou],su[ou]=null,zg=su[--ou],su[ou]=null;for(;e===rl;)rl=bi[--xi],bi[xi]=null,Ha=bi[--xi],bi[xi]=null,Ga=bi[--xi],bi[xi]=null}var Xr=null,Kr=null,un=!1,$i=null;function iD(e,t){var n=Ei(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function wI(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xr=e,Kr=Vs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xr=e,Kr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=rl!==null?{id:Ga,overflow:Ha}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ei(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Xr=e,Kr=null,!0):!1;default:return!1}}function Dx(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ox(e){if(un){var t=Kr;if(t){var n=t;if(!wI(e,t)){if(Dx(e))throw Error(Ae(418));t=Vs(n.nextSibling);var r=Xr;t&&wI(e,t)?iD(r,n):(e.flags=e.flags&-4097|2,un=!1,Xr=e)}}else{if(Dx(e))throw Error(Ae(418));e.flags=e.flags&-4097|2,un=!1,Xr=e}}}function bI(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xr=e}function Op(e){if(e!==Xr)return!1;if(!un)return bI(e),un=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Px(e.type,e.memoizedProps)),t&&(t=Kr)){if(Dx(e))throw aD(),Error(Ae(418));for(;t;)iD(e,t),t=Vs(t.nextSibling)}if(bI(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ae(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Kr=Vs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Kr=null}}else Kr=Xr?Vs(e.stateNode.nextSibling):null;return!0}function aD(){for(var e=Kr;e;)e=Vs(e.nextSibling)}function zu(){Kr=Xr=null,un=!1}function xE(e){$i===null?$i=[e]:$i.push(e)}var r7=ts.ReactCurrentBatchConfig;function Ui(e,t){if(e&&e.defaultProps){t=pn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Ug=to(null),jg=null,lu=null,kE=null;function SE(){kE=lu=jg=null}function EE(e){var t=Ug.current;rn(Ug),e._currentValue=t}function Mx(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Eu(e,t){jg=e,kE=lu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Dr=!0),e.firstContext=null)}function _i(e){var t=e._currentValue;if(kE!==e)if(e={context:e,memoizedValue:t,next:null},lu===null){if(jg===null)throw Error(Ae(308));lu=e,jg.dependencies={lanes:0,firstContext:e}}else lu=lu.next=e;return t}var Bo=null;function CE(e){Bo===null?Bo=[e]:Bo.push(e)}function sD(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,CE(t)):(n.next=i.next,i.next=n),t.interleaved=n,Qa(e,r)}function Qa(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var _s=!1;function _E(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oD(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ws(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,_t&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Qa(e,n)}return i=r.interleaved,i===null?(t.next=t,CE(r)):(t.next=i.next,i.next=t),r.interleaved=t,Qa(e,n)}function Pm(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,dE(e,n)}}function xI(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $g(e,t,n,r){var i=e.updateQueue;_s=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(a!==null){var h=i.baseState;s=0,c=u=l=null,o=a;do{var p=o.lane,m=o.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,y=o;switch(p=t,m=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(m,h,p);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,p=typeof g=="function"?g.call(m,h,p):g,p==null)break e;h=pn({},h,p);break e;case 2:_s=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=m,l=h):c=c.next=m,s|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);al|=s,e.lanes=s,e.memoizedState=h}}function kI(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ae(191,i));i.call(r)}}}var lD=new sN.Component().refs;function Lx(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:pn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ay={isMounted:function(e){return(e=e._reactInternals)?hl(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=br(),i=Hs(e),a=qa(r,i);a.payload=t,n!=null&&(a.callback=n),t=Ws(e,a,i),t!==null&&(Ki(t,e,i,r),Pm(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=br(),i=Hs(e),a=qa(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Ws(e,a,i),t!==null&&(Ki(t,e,i,r),Pm(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=br(),r=Hs(e),i=qa(n,r);i.tag=2,t!=null&&(i.callback=t),t=Ws(e,i,r),t!==null&&(Ki(t,e,r,n),Pm(t,e,r))}};function SI(e,t,n,r,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!ph(n,r)||!ph(i,a):!0}function uD(e,t,n){var r=!1,i=Qs,a=t.contextType;return typeof a=="object"&&a!==null?a=_i(a):(i=Lr(t)?nl:pr.current,r=t.contextTypes,a=(r=r!=null)?Bu(e,i):Qs),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ay,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function EI(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ay.enqueueReplaceState(t,t.state,null)}function Fx(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=lD,_E(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=_i(a):(a=Lr(t)?nl:pr.current,i.context=Bu(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Lx(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ay.enqueueReplaceState(i,i.state,null),$g(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Yc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ae(309));var r=n.stateNode}if(!r)throw Error(Ae(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;o===lD&&(o=i.refs={}),s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(Ae(284));if(!n._owner)throw Error(Ae(290,e))}return e}function Mp(e,t){throw e=Object.prototype.toString.call(t),Error(Ae(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function CI(e){var t=e._init;return t(e._payload)}function cD(e){function t(v,x){if(e){var k=v.deletions;k===null?(v.deletions=[x],v.flags|=16):k.push(x)}}function n(v,x){if(!e)return null;for(;x!==null;)t(v,x),x=x.sibling;return null}function r(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function i(v,x){return v=qs(v,x),v.index=0,v.sibling=null,v}function a(v,x,k){return v.index=k,e?(k=v.alternate,k!==null?(k=k.index,k<x?(v.flags|=2,x):k):(v.flags|=2,x)):(v.flags|=1048576,x)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,x,k,T){return x===null||x.tag!==6?(x=kw(k,v.mode,T),x.return=v,x):(x=i(x,k),x.return=v,x)}function l(v,x,k,T){var P=k.type;return P===eu?c(v,x,k.props.children,T,k.key):x!==null&&(x.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Cs&&CI(P)===x.type)?(T=i(x,k.props),T.ref=Yc(v,x,k),T.return=v,T):(T=Mm(k.type,k.key,k.props,null,v.mode,T),T.ref=Yc(v,x,k),T.return=v,T)}function u(v,x,k,T){return x===null||x.tag!==4||x.stateNode.containerInfo!==k.containerInfo||x.stateNode.implementation!==k.implementation?(x=Sw(k,v.mode,T),x.return=v,x):(x=i(x,k.children||[]),x.return=v,x)}function c(v,x,k,T,P){return x===null||x.tag!==7?(x=Ho(k,v.mode,T,P),x.return=v,x):(x=i(x,k),x.return=v,x)}function h(v,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return x=kw(""+x,v.mode,k),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ep:return k=Mm(x.type,x.key,x.props,null,v.mode,k),k.ref=Yc(v,null,x),k.return=v,k;case Jl:return x=Sw(x,v.mode,k),x.return=v,x;case Cs:var T=x._init;return h(v,T(x._payload),k)}if(yd(x)||Wc(x))return x=Ho(x,v.mode,k,null),x.return=v,x;Mp(v,x)}return null}function p(v,x,k,T){var P=x!==null?x.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return P!==null?null:o(v,x,""+k,T);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ep:return k.key===P?l(v,x,k,T):null;case Jl:return k.key===P?u(v,x,k,T):null;case Cs:return P=k._init,p(v,x,P(k._payload),T)}if(yd(k)||Wc(k))return P!==null?null:c(v,x,k,T,null);Mp(v,k)}return null}function m(v,x,k,T,P){if(typeof T=="string"&&T!==""||typeof T=="number")return v=v.get(k)||null,o(x,v,""+T,P);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ep:return v=v.get(T.key===null?k:T.key)||null,l(x,v,T,P);case Jl:return v=v.get(T.key===null?k:T.key)||null,u(x,v,T,P);case Cs:var R=T._init;return m(v,x,k,R(T._payload),P)}if(yd(T)||Wc(T))return v=v.get(k)||null,c(x,v,T,P,null);Mp(x,T)}return null}function g(v,x,k,T){for(var P=null,R=null,N=x,B=x=0,j=null;N!==null&&B<k.length;B++){N.index>B?(j=N,N=null):j=N.sibling;var W=p(v,N,k[B],T);if(W===null){N===null&&(N=j);break}e&&N&&W.alternate===null&&t(v,N),x=a(W,x,B),R===null?P=W:R.sibling=W,R=W,N=j}if(B===k.length)return n(v,N),un&&Io(v,B),P;if(N===null){for(;B<k.length;B++)N=h(v,k[B],T),N!==null&&(x=a(N,x,B),R===null?P=N:R.sibling=N,R=N);return un&&Io(v,B),P}for(N=r(v,N);B<k.length;B++)j=m(N,v,B,k[B],T),j!==null&&(e&&j.alternate!==null&&N.delete(j.key===null?B:j.key),x=a(j,x,B),R===null?P=j:R.sibling=j,R=j);return e&&N.forEach(function(H){return t(v,H)}),un&&Io(v,B),P}function y(v,x,k,T){var P=Wc(k);if(typeof P!="function")throw Error(Ae(150));if(k=P.call(k),k==null)throw Error(Ae(151));for(var R=P=null,N=x,B=x=0,j=null,W=k.next();N!==null&&!W.done;B++,W=k.next()){N.index>B?(j=N,N=null):j=N.sibling;var H=p(v,N,W.value,T);if(H===null){N===null&&(N=j);break}e&&N&&H.alternate===null&&t(v,N),x=a(H,x,B),R===null?P=H:R.sibling=H,R=H,N=j}if(W.done)return n(v,N),un&&Io(v,B),P;if(N===null){for(;!W.done;B++,W=k.next())W=h(v,W.value,T),W!==null&&(x=a(W,x,B),R===null?P=W:R.sibling=W,R=W);return un&&Io(v,B),P}for(N=r(v,N);!W.done;B++,W=k.next())W=m(N,v,B,W.value,T),W!==null&&(e&&W.alternate!==null&&N.delete(W.key===null?B:W.key),x=a(W,x,B),R===null?P=W:R.sibling=W,R=W);return e&&N.forEach(function(z){return t(v,z)}),un&&Io(v,B),P}function b(v,x,k,T){if(typeof k=="object"&&k!==null&&k.type===eu&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Ep:e:{for(var P=k.key,R=x;R!==null;){if(R.key===P){if(P=k.type,P===eu){if(R.tag===7){n(v,R.sibling),x=i(R,k.props.children),x.return=v,v=x;break e}}else if(R.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Cs&&CI(P)===R.type){n(v,R.sibling),x=i(R,k.props),x.ref=Yc(v,R,k),x.return=v,v=x;break e}n(v,R);break}else t(v,R);R=R.sibling}k.type===eu?(x=Ho(k.props.children,v.mode,T,k.key),x.return=v,v=x):(T=Mm(k.type,k.key,k.props,null,v.mode,T),T.ref=Yc(v,x,k),T.return=v,v=T)}return s(v);case Jl:e:{for(R=k.key;x!==null;){if(x.key===R)if(x.tag===4&&x.stateNode.containerInfo===k.containerInfo&&x.stateNode.implementation===k.implementation){n(v,x.sibling),x=i(x,k.children||[]),x.return=v,v=x;break e}else{n(v,x);break}else t(v,x);x=x.sibling}x=Sw(k,v.mode,T),x.return=v,v=x}return s(v);case Cs:return R=k._init,b(v,x,R(k._payload),T)}if(yd(k))return g(v,x,k,T);if(Wc(k))return y(v,x,k,T);Mp(v,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,x!==null&&x.tag===6?(n(v,x.sibling),x=i(x,k),x.return=v,v=x):(n(v,x),x=kw(k,v.mode,T),x.return=v,v=x),s(v)):n(v,x)}return b}var Uu=cD(!0),dD=cD(!1),sf={},ka=to(sf),vh=to(sf),wh=to(sf);function zo(e){if(e===sf)throw Error(Ae(174));return e}function TE(e,t){switch(Xt(wh,t),Xt(vh,e),Xt(ka,sf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:mx(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=mx(t,e)}rn(ka),Xt(ka,t)}function ju(){rn(ka),rn(vh),rn(wh)}function hD(e){zo(wh.current);var t=zo(ka.current),n=mx(t,e.type);t!==n&&(Xt(vh,e),Xt(ka,n))}function IE(e){vh.current===e&&(rn(ka),rn(vh))}var hn=to(0);function Vg(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gw=[];function PE(){for(var e=0;e<gw.length;e++)gw[e]._workInProgressVersionPrimary=null;gw.length=0}var Rm=ts.ReactCurrentDispatcher,yw=ts.ReactCurrentBatchConfig,il=0,fn=null,Mn=null,Vn=null,Wg=!1,Dd=!1,bh=0,i7=0;function ar(){throw Error(Ae(321))}function RE(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qi(e[n],t[n]))return!1;return!0}function AE(e,t,n,r,i,a){if(il=a,fn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Rm.current=e===null||e.memoizedState===null?l7:u7,e=n(r,i),Dd){a=0;do{if(Dd=!1,bh=0,25<=a)throw Error(Ae(301));a+=1,Vn=Mn=null,t.updateQueue=null,Rm.current=c7,e=n(r,i)}while(Dd)}if(Rm.current=Gg,t=Mn!==null&&Mn.next!==null,il=0,Vn=Mn=fn=null,Wg=!1,t)throw Error(Ae(300));return e}function NE(){var e=bh!==0;return bh=0,e}function ha(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vn===null?fn.memoizedState=Vn=e:Vn=Vn.next=e,Vn}function Ti(){if(Mn===null){var e=fn.alternate;e=e!==null?e.memoizedState:null}else e=Mn.next;var t=Vn===null?fn.memoizedState:Vn.next;if(t!==null)Vn=t,Mn=e;else{if(e===null)throw Error(Ae(310));Mn=e,e={memoizedState:Mn.memoizedState,baseState:Mn.baseState,baseQueue:Mn.baseQueue,queue:Mn.queue,next:null},Vn===null?fn.memoizedState=Vn=e:Vn=Vn.next=e}return Vn}function xh(e,t){return typeof t=="function"?t(e):t}function vw(e){var t=Ti(),n=t.queue;if(n===null)throw Error(Ae(311));n.lastRenderedReducer=e;var r=Mn,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,u=a;do{var c=u.lane;if((il&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=h,s=r):l=l.next=h,fn.lanes|=c,al|=c}u=u.next}while(u!==null&&u!==a);l===null?s=r:l.next=o,Qi(r,t.memoizedState)||(Dr=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,fn.lanes|=a,al|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ww(e){var t=Ti(),n=t.queue;if(n===null)throw Error(Ae(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);Qi(a,t.memoizedState)||(Dr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function fD(){}function pD(e,t){var n=fn,r=Ti(),i=t(),a=!Qi(r.memoizedState,i);if(a&&(r.memoizedState=i,Dr=!0),r=r.queue,DE(yD.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Vn!==null&&Vn.memoizedState.tag&1){if(n.flags|=2048,kh(9,gD.bind(null,n,r,i,t),void 0,null),Wn===null)throw Error(Ae(349));il&30||mD(n,t,i)}return i}function mD(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=fn.updateQueue,t===null?(t={lastEffect:null,stores:null},fn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function gD(e,t,n,r){t.value=n,t.getSnapshot=r,vD(t)&&wD(e)}function yD(e,t,n){return n(function(){vD(t)&&wD(e)})}function vD(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qi(e,n)}catch{return!0}}function wD(e){var t=Qa(e,1);t!==null&&Ki(t,e,1,-1)}function _I(e){var t=ha();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xh,lastRenderedState:e},t.queue=e,e=e.dispatch=o7.bind(null,fn,e),[t.memoizedState,e]}function kh(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=fn.updateQueue,t===null?(t={lastEffect:null,stores:null},fn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function bD(){return Ti().memoizedState}function Am(e,t,n,r){var i=ha();fn.flags|=e,i.memoizedState=kh(1|t,n,void 0,r===void 0?null:r)}function Ny(e,t,n,r){var i=Ti();r=r===void 0?null:r;var a=void 0;if(Mn!==null){var s=Mn.memoizedState;if(a=s.destroy,r!==null&&RE(r,s.deps)){i.memoizedState=kh(t,n,a,r);return}}fn.flags|=e,i.memoizedState=kh(1|t,n,a,r)}function TI(e,t){return Am(8390656,8,e,t)}function DE(e,t){return Ny(2048,8,e,t)}function xD(e,t){return Ny(4,2,e,t)}function kD(e,t){return Ny(4,4,e,t)}function SD(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ED(e,t,n){return n=n!=null?n.concat([e]):null,Ny(4,4,SD.bind(null,t,e),n)}function OE(){}function CD(e,t){var n=Ti();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&RE(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function _D(e,t){var n=Ti();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&RE(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function TD(e,t,n){return il&21?(Qi(n,t)||(n=RN(),fn.lanes|=n,al|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Dr=!0),e.memoizedState=n)}function a7(e,t){var n=Ft;Ft=n!==0&&4>n?n:4,e(!0);var r=yw.transition;yw.transition={};try{e(!1),t()}finally{Ft=n,yw.transition=r}}function PD(){return Ti().memoizedState}function s7(e,t,n){var r=Hs(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},RD(e))AD(t,n);else if(n=sD(e,t,n,r),n!==null){var i=br();Ki(n,e,r,i),ND(n,t,r)}}function o7(e,t,n){var r=Hs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(RD(e))AD(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Qi(o,s)){var l=t.interleaved;l===null?(i.next=i,CE(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=sD(e,t,i,r),n!==null&&(i=br(),Ki(n,e,r,i),ND(n,t,r))}}function RD(e){var t=e.alternate;return e===fn||t!==null&&t===fn}function AD(e,t){Dd=Wg=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ND(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,dE(e,n)}}var Gg={readContext:_i,useCallback:ar,useContext:ar,useEffect:ar,useImperativeHandle:ar,useInsertionEffect:ar,useLayoutEffect:ar,useMemo:ar,useReducer:ar,useRef:ar,useState:ar,useDebugValue:ar,useDeferredValue:ar,useTransition:ar,useMutableSource:ar,useSyncExternalStore:ar,useId:ar,unstable_isNewReconciler:!1},l7={readContext:_i,useCallback:function(e,t){return ha().memoizedState=[e,t===void 0?null:t],e},useContext:_i,useEffect:TI,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Am(4194308,4,SD.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Am(4194308,4,e,t)},useInsertionEffect:function(e,t){return Am(4,2,e,t)},useMemo:function(e,t){var n=ha();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ha();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=s7.bind(null,fn,e),[r.memoizedState,e]},useRef:function(e){var t=ha();return e={current:e},t.memoizedState=e},useState:_I,useDebugValue:OE,useDeferredValue:function(e){return ha().memoizedState=e},useTransition:function(){var e=_I(!1),t=e[0];return e=a7.bind(null,e[1]),ha().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=fn,i=ha();if(un){if(n===void 0)throw Error(Ae(407));n=n()}else{if(n=t(),Wn===null)throw Error(Ae(349));il&30||mD(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,TI(yD.bind(null,r,a,e),[e]),r.flags|=2048,kh(9,gD.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ha(),t=Wn.identifierPrefix;if(un){var n=Ha,r=Ga;n=(r&~(1<<32-qi(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=bh++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=i7++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},u7={readContext:_i,useCallback:CD,useContext:_i,useEffect:DE,useImperativeHandle:ED,useInsertionEffect:xD,useLayoutEffect:kD,useMemo:_D,useReducer:vw,useRef:bD,useState:function(){return vw(xh)},useDebugValue:OE,useDeferredValue:function(e){var t=Ti();return TD(t,Mn.memoizedState,e)},useTransition:function(){var e=vw(xh)[0],t=Ti().memoizedState;return[e,t]},useMutableSource:fD,useSyncExternalStore:pD,useId:PD,unstable_isNewReconciler:!1},c7={readContext:_i,useCallback:CD,useContext:_i,useEffect:DE,useImperativeHandle:ED,useInsertionEffect:xD,useLayoutEffect:kD,useMemo:_D,useReducer:ww,useRef:bD,useState:function(){return ww(xh)},useDebugValue:OE,useDeferredValue:function(e){var t=Ti();return Mn===null?t.memoizedState=e:TD(t,Mn.memoizedState,e)},useTransition:function(){var e=ww(xh)[0],t=Ti().memoizedState;return[e,t]},useMutableSource:fD,useSyncExternalStore:pD,useId:PD,unstable_isNewReconciler:!1};function $u(e,t){try{var n="",r=t;do n+=BU(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function bw(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Bx(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var d7=typeof WeakMap=="function"?WeakMap:Map;function DD(e,t,n){n=qa(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qg||(qg=!0,Kx=r),Bx(e,t)},n}function OD(e,t,n){n=qa(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Bx(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Bx(e,t),typeof r!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function II(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new d7;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=C7.bind(null,e,t,n),t.then(e,e))}function PI(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function RI(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=qa(-1,1),t.tag=2,Ws(n,t,1))),n.lanes|=1),e)}var h7=ts.ReactCurrentOwner,Dr=!1;function vr(e,t,n,r){t.child=e===null?dD(t,null,n,r):Uu(t,e.child,n,r)}function AI(e,t,n,r,i){n=n.render;var a=t.ref;return Eu(t,i),r=AE(e,t,n,r,a,i),n=NE(),e!==null&&!Dr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Za(e,t,i)):(un&&n&&wE(t),t.flags|=1,vr(e,t,r,i),t.child)}function NI(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!$E(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,MD(e,t,a,r,i)):(e=Mm(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:ph,n(s,r)&&e.ref===t.ref)return Za(e,t,i)}return t.flags|=1,e=qs(a,r),e.ref=t.ref,e.return=t,t.child=e}function MD(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(ph(a,r)&&e.ref===t.ref)if(Dr=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(Dr=!0);else return t.lanes=e.lanes,Za(e,t,i)}return zx(e,t,n,r,i)}function LD(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xt(cu,Gr),Gr|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Xt(cu,Gr),Gr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Xt(cu,Gr),Gr|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Xt(cu,Gr),Gr|=r;return vr(e,t,i,n),t.child}function FD(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function zx(e,t,n,r,i){var a=Lr(n)?nl:pr.current;return a=Bu(t,a),Eu(t,i),n=AE(e,t,n,r,a,i),r=NE(),e!==null&&!Dr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Za(e,t,i)):(un&&r&&wE(t),t.flags|=1,vr(e,t,n,i),t.child)}function DI(e,t,n,r,i){if(Lr(n)){var a=!0;Fg(t)}else a=!1;if(Eu(t,i),t.stateNode===null)Nm(e,t),uD(t,n,r),Fx(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=_i(u):(u=Lr(n)?nl:pr.current,u=Bu(t,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==u)&&EI(t,s,r,u),_s=!1;var p=t.memoizedState;s.state=p,$g(t,r,s,i),l=t.memoizedState,o!==r||p!==l||Mr.current||_s?(typeof c=="function"&&(Lx(t,n,c,r),l=t.memoizedState),(o=_s||SI(t,n,o,r,p,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,oD(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Ui(t.type,o),s.props=u,h=t.pendingProps,p=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=_i(l):(l=Lr(n)?nl:pr.current,l=Bu(t,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==h||p!==l)&&EI(t,s,r,l),_s=!1,p=t.memoizedState,s.state=p,$g(t,r,s,i);var g=t.memoizedState;o!==h||p!==g||Mr.current||_s?(typeof m=="function"&&(Lx(t,n,m,r),g=t.memoizedState),(u=_s||SI(t,n,u,r,p,g,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),s.props=r,s.state=g,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Ux(e,t,n,r,a,i)}function Ux(e,t,n,r,i,a){FD(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&vI(t,n,!1),Za(e,t,a);r=t.stateNode,h7.current=t;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Uu(t,e.child,null,a),t.child=Uu(t,null,o,a)):vr(e,t,o,a),t.memoizedState=r.state,i&&vI(t,n,!0),t.child}function BD(e){var t=e.stateNode;t.pendingContext?yI(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yI(e,t.context,!1),TE(e,t.containerInfo)}function OI(e,t,n,r,i){return zu(),xE(i),t.flags|=256,vr(e,t,n,r),t.child}var jx={dehydrated:null,treeContext:null,retryLane:0};function $x(e){return{baseLanes:e,cachePool:null,transitions:null}}function zD(e,t,n){var r=t.pendingProps,i=hn.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Xt(hn,i&1),e===null)return Ox(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,a?(r=t.mode,a=t.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=My(s,r,0,null),e=Ho(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=$x(n),t.memoizedState=jx,e):ME(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return f7(e,t,s,r,o,i,n);if(a){a=r.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=qs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=qs(o,a):(a=Ho(a,s,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,s=e.child.memoizedState,s=s===null?$x(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=jx,r}return a=e.child,e=a.sibling,r=qs(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ME(e,t){return t=My({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Lp(e,t,n,r){return r!==null&&xE(r),Uu(t,e.child,null,n),e=ME(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function f7(e,t,n,r,i,a,s){if(n)return t.flags&256?(t.flags&=-257,r=bw(Error(Ae(422))),Lp(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=My({mode:"visible",children:r.children},i,0,null),a=Ho(a,i,s,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Uu(t,e.child,null,s),t.child.memoizedState=$x(s),t.memoizedState=jx,a);if(!(t.mode&1))return Lp(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(Ae(419)),r=bw(a,r,void 0),Lp(e,t,s,r)}if(o=(s&e.childLanes)!==0,Dr||o){if(r=Wn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Qa(e,i),Ki(r,e,i,-1))}return jE(),r=bw(Error(Ae(421))),Lp(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=_7.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Kr=Vs(i.nextSibling),Xr=t,un=!0,$i=null,e!==null&&(bi[xi++]=Ga,bi[xi++]=Ha,bi[xi++]=rl,Ga=e.id,Ha=e.overflow,rl=t),t=ME(t,r.children),t.flags|=4096,t)}function MI(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Mx(e.return,t,n)}function xw(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function UD(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(vr(e,t,r.children,n),r=hn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&MI(e,n,t);else if(e.tag===19)MI(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Xt(hn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Vg(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),xw(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Vg(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}xw(t,!0,n,null,a);break;case"together":xw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Nm(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Za(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),al|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ae(153));if(t.child!==null){for(e=t.child,n=qs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=qs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function p7(e,t,n){switch(t.tag){case 3:BD(t),zu();break;case 5:hD(t);break;case 1:Lr(t.type)&&Fg(t);break;case 4:TE(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Xt(Ug,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Xt(hn,hn.current&1),t.flags|=128,null):n&t.child.childLanes?zD(e,t,n):(Xt(hn,hn.current&1),e=Za(e,t,n),e!==null?e.sibling:null);Xt(hn,hn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return UD(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Xt(hn,hn.current),r)break;return null;case 22:case 23:return t.lanes=0,LD(e,t,n)}return Za(e,t,n)}var jD,Vx,$D,VD;jD=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vx=function(){};$D=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,zo(ka.current);var a=null;switch(n){case"input":i=dx(e,i),r=dx(e,r),a=[];break;case"select":i=pn({},i,{value:void 0}),r=pn({},r,{value:void 0}),a=[];break;case"textarea":i=px(e,i),r=px(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Mg)}gx(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(oh.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(o=i?.[u],r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(oh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&tn("scroll",e),a||o===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};VD=function(e,t,n,r){n!==r&&(t.flags|=4)};function Xc(e,t){if(!un)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function sr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function m7(e,t,n){var r=t.pendingProps;switch(bE(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sr(t),null;case 1:return Lr(t.type)&&Lg(),sr(t),null;case 3:return r=t.stateNode,ju(),rn(Mr),rn(pr),PE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Op(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$i!==null&&(Qx($i),$i=null))),Vx(e,t),sr(t),null;case 5:IE(t);var i=zo(wh.current);if(n=t.type,e!==null&&t.stateNode!=null)$D(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ae(166));return sr(t),null}if(e=zo(ka.current),Op(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[va]=t,r[yh]=a,e=(t.mode&1)!==0,n){case"dialog":tn("cancel",r),tn("close",r);break;case"iframe":case"object":case"embed":tn("load",r);break;case"video":case"audio":for(i=0;i<wd.length;i++)tn(wd[i],r);break;case"source":tn("error",r);break;case"img":case"image":case"link":tn("error",r),tn("load",r);break;case"details":tn("toggle",r);break;case"input":W3(r,a),tn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},tn("invalid",r);break;case"textarea":H3(r,a),tn("invalid",r)}gx(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&Dp(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Dp(r.textContent,o,e),i=["children",""+o]):oh.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&tn("scroll",r)}switch(n){case"input":Cp(r),G3(r,a,!0);break;case"textarea":Cp(r),q3(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Mg)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=mN(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[va]=t,e[yh]=r,jD(e,t,!1,!1),t.stateNode=e;e:{switch(s=yx(n,r),n){case"dialog":tn("cancel",e),tn("close",e),i=r;break;case"iframe":case"object":case"embed":tn("load",e),i=r;break;case"video":case"audio":for(i=0;i<wd.length;i++)tn(wd[i],e);i=r;break;case"source":tn("error",e),i=r;break;case"img":case"image":case"link":tn("error",e),tn("load",e),i=r;break;case"details":tn("toggle",e),i=r;break;case"input":W3(e,r),i=dx(e,r),tn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=pn({},r,{value:void 0}),tn("invalid",e);break;case"textarea":H3(e,r),i=px(e,r),tn("invalid",e);break;default:i=r}gx(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?vN(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&gN(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&lh(e,l):typeof l=="number"&&lh(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(oh.hasOwnProperty(a)?l!=null&&a==="onScroll"&&tn("scroll",e):l!=null&&aE(e,a,l,s))}switch(n){case"input":Cp(e),G3(e,r,!1);break;case"textarea":Cp(e),q3(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Xs(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?bu(e,!!r.multiple,a,!1):r.defaultValue!=null&&bu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Mg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return sr(t),null;case 6:if(e&&t.stateNode!=null)VD(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ae(166));if(n=zo(wh.current),zo(ka.current),Op(t)){if(r=t.stateNode,n=t.memoizedProps,r[va]=t,(a=r.nodeValue!==n)&&(e=Xr,e!==null))switch(e.tag){case 3:Dp(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Dp(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[va]=t,t.stateNode=r}return sr(t),null;case 13:if(rn(hn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(un&&Kr!==null&&t.mode&1&&!(t.flags&128))aD(),zu(),t.flags|=98560,a=!1;else if(a=Op(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(Ae(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ae(317));a[va]=t}else zu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;sr(t),a=!1}else $i!==null&&(Qx($i),$i=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||hn.current&1?Ln===0&&(Ln=3):jE())),t.updateQueue!==null&&(t.flags|=4),sr(t),null);case 4:return ju(),Vx(e,t),e===null&&mh(t.stateNode.containerInfo),sr(t),null;case 10:return EE(t.type._context),sr(t),null;case 17:return Lr(t.type)&&Lg(),sr(t),null;case 19:if(rn(hn),a=t.memoizedState,a===null)return sr(t),null;if(r=(t.flags&128)!==0,s=a.rendering,s===null)if(r)Xc(a,!1);else{if(Ln!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Vg(e),s!==null){for(t.flags|=128,Xc(a,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Xt(hn,hn.current&1|2),t.child}e=e.sibling}a.tail!==null&&En()>Vu&&(t.flags|=128,r=!0,Xc(a,!1),t.lanes=4194304)}else{if(!r)if(e=Vg(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!un)return sr(t),null}else 2*En()-a.renderingStartTime>Vu&&n!==1073741824&&(t.flags|=128,r=!0,Xc(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(n=a.last,n!==null?n.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=En(),t.sibling=null,n=hn.current,Xt(hn,r?n&1|2:n&1),t):(sr(t),null);case 22:case 23:return UE(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Gr&1073741824&&(sr(t),t.subtreeFlags&6&&(t.flags|=8192)):sr(t),null;case 24:return null;case 25:return null}throw Error(Ae(156,t.tag))}function g7(e,t){switch(bE(t),t.tag){case 1:return Lr(t.type)&&Lg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ju(),rn(Mr),rn(pr),PE(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return IE(t),null;case 13:if(rn(hn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ae(340));zu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return rn(hn),null;case 4:return ju(),null;case 10:return EE(t.type._context),null;case 22:case 23:return UE(),null;case 24:return null;default:return null}}var Fp=!1,ur=!1,y7=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function uu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){yn(e,t,r)}else n.current=null}function Wx(e,t,n){try{n()}catch(r){yn(e,t,r)}}var LI=!1;function v7(e,t){if(Tx=Ng,e=HN(),vE(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,u=0,c=0,h=e,p=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(o=s+i),h!==a||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===e)break t;if(p===n&&++u===i&&(o=s),p===a&&++c===r&&(l=s),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ix={focusedElem:e,selectionRange:n},Ng=!1,Ge=t;Ge!==null;)if(t=Ge,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ge=e;else for(;Ge!==null;){t=Ge;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,b=g.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:Ui(t.type,y),b);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ae(163))}}catch(T){yn(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,Ge=e;break}Ge=t.return}return g=LI,LI=!1,g}function Od(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Wx(t,n,a)}i=i.next}while(i!==r)}}function Dy(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Gx(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function WD(e){var t=e.alternate;t!==null&&(e.alternate=null,WD(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[va],delete t[yh],delete t[Ax],delete t[e7],delete t[t7])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function GD(e){return e.tag===5||e.tag===3||e.tag===4}function FI(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||GD(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hx(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Mg));else if(r!==4&&(e=e.child,e!==null))for(Hx(e,t,n),e=e.sibling;e!==null;)Hx(e,t,n),e=e.sibling}function qx(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(qx(e,t,n),e=e.sibling;e!==null;)qx(e,t,n),e=e.sibling}var Yn=null,ji=!1;function gs(e,t,n){for(n=n.child;n!==null;)HD(e,t,n),n=n.sibling}function HD(e,t,n){if(xa&&typeof xa.onCommitFiberUnmount=="function")try{xa.onCommitFiberUnmount(Cy,n)}catch{}switch(n.tag){case 5:ur||uu(n,t);case 6:var r=Yn,i=ji;Yn=null,gs(e,t,n),Yn=r,ji=i,Yn!==null&&(ji?(e=Yn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Yn.removeChild(n.stateNode));break;case 18:Yn!==null&&(ji?(e=Yn,n=n.stateNode,e.nodeType===8?pw(e.parentNode,n):e.nodeType===1&&pw(e,n),hh(e)):pw(Yn,n.stateNode));break;case 4:r=Yn,i=ji,Yn=n.stateNode.containerInfo,ji=!0,gs(e,t,n),Yn=r,ji=i;break;case 0:case 11:case 14:case 15:if(!ur&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Wx(n,t,s),i=i.next}while(i!==r)}gs(e,t,n);break;case 1:if(!ur&&(uu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){yn(n,t,o)}gs(e,t,n);break;case 21:gs(e,t,n);break;case 22:n.mode&1?(ur=(r=ur)||n.memoizedState!==null,gs(e,t,n),ur=r):gs(e,t,n);break;default:gs(e,t,n)}}function BI(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new y7),t.forEach(function(r){var i=T7.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Fi(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:Yn=o.stateNode,ji=!1;break e;case 3:Yn=o.stateNode.containerInfo,ji=!0;break e;case 4:Yn=o.stateNode.containerInfo,ji=!0;break e}o=o.return}if(Yn===null)throw Error(Ae(160));HD(a,s,i),Yn=null,ji=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){yn(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qD(t,e),t=t.sibling}function qD(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Fi(t,e),ua(e),r&4){try{Od(3,e,e.return),Dy(3,e)}catch(y){yn(e,e.return,y)}try{Od(5,e,e.return)}catch(y){yn(e,e.return,y)}}break;case 1:Fi(t,e),ua(e),r&512&&n!==null&&uu(n,n.return);break;case 5:if(Fi(t,e),ua(e),r&512&&n!==null&&uu(n,n.return),e.flags&32){var i=e.stateNode;try{lh(i,"")}catch(y){yn(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=n!==null?n.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&fN(i,a),yx(o,s);var u=yx(o,a);for(s=0;s<l.length;s+=2){var c=l[s],h=l[s+1];c==="style"?vN(i,h):c==="dangerouslySetInnerHTML"?gN(i,h):c==="children"?lh(i,h):aE(i,c,h,u)}switch(o){case"input":hx(i,a);break;case"textarea":pN(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?bu(i,!!a.multiple,m,!1):p!==!!a.multiple&&(a.defaultValue!=null?bu(i,!!a.multiple,a.defaultValue,!0):bu(i,!!a.multiple,a.multiple?[]:"",!1))}i[yh]=a}catch(y){yn(e,e.return,y)}}break;case 6:if(Fi(t,e),ua(e),r&4){if(e.stateNode===null)throw Error(Ae(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(y){yn(e,e.return,y)}}break;case 3:if(Fi(t,e),ua(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hh(t.containerInfo)}catch(y){yn(e,e.return,y)}break;case 4:Fi(t,e),ua(e);break;case 13:Fi(t,e),ua(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(BE=En())),r&4&&BI(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(ur=(u=ur)||c,Fi(t,e),ur=u):Fi(t,e),ua(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Ge=e,c=e.child;c!==null;){for(h=Ge=c;Ge!==null;){switch(p=Ge,m=p.child,p.tag){case 0:case 11:case 14:case 15:Od(4,p,p.return);break;case 1:uu(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){yn(r,n,y)}}break;case 5:uu(p,p.return);break;case 22:if(p.memoizedState!==null){UI(h);continue}}m!==null?(m.return=p,Ge=m):UI(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=yN("display",s))}catch(y){yn(e,e.return,y)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){yn(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Fi(t,e),ua(e),r&4&&BI(e);break;case 21:break;default:Fi(t,e),ua(e)}}function ua(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(GD(n)){var r=n;break e}n=n.return}throw Error(Ae(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(lh(i,""),r.flags&=-33);var a=FI(e);qx(e,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=FI(e);Hx(e,o,s);break;default:throw Error(Ae(161))}}catch(l){yn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function w7(e,t,n){Ge=e,KD(e)}function KD(e,t,n){for(var r=(e.mode&1)!==0;Ge!==null;){var i=Ge,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Fp;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||ur;o=Fp;var u=ur;if(Fp=s,(ur=l)&&!u)for(Ge=i;Ge!==null;)s=Ge,l=s.child,s.tag===22&&s.memoizedState!==null?jI(i):l!==null?(l.return=s,Ge=l):jI(i);for(;a!==null;)Ge=a,KD(a),a=a.sibling;Ge=i,Fp=o,ur=u}zI(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ge=a):zI(e)}}function zI(e){for(;Ge!==null;){var t=Ge;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ur||Dy(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ur)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ui(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&kI(t,a,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}kI(t,s,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&hh(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ae(163))}ur||t.flags&512&&Gx(t)}catch(p){yn(t,t.return,p)}}if(t===e){Ge=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ge=n;break}Ge=t.return}}function UI(e){for(;Ge!==null;){var t=Ge;if(t===e){Ge=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ge=n;break}Ge=t.return}}function jI(e){for(;Ge!==null;){var t=Ge;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Dy(4,t)}catch(l){yn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){yn(t,i,l)}}var a=t.return;try{Gx(t)}catch(l){yn(t,a,l)}break;case 5:var s=t.return;try{Gx(t)}catch(l){yn(t,s,l)}}}catch(l){yn(t,t.return,l)}if(t===e){Ge=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Ge=o;break}Ge=t.return}}var b7=Math.ceil,Hg=ts.ReactCurrentDispatcher,LE=ts.ReactCurrentOwner,Ci=ts.ReactCurrentBatchConfig,_t=0,Wn=null,Pn=null,Zn=0,Gr=0,cu=to(0),Ln=0,Sh=null,al=0,Oy=0,FE=0,Md=null,Nr=null,BE=0,Vu=1/0,ja=null,qg=!1,Kx=null,Gs=null,Bp=!1,Ls=null,Kg=0,Ld=0,Yx=null,Dm=-1,Om=0;function br(){return _t&6?En():Dm!==-1?Dm:Dm=En()}function Hs(e){return e.mode&1?_t&2&&Zn!==0?Zn&-Zn:r7.transition!==null?(Om===0&&(Om=RN()),Om):(e=Ft,e!==0||(e=window.event,e=e===void 0?16:FN(e.type)),e):1}function Ki(e,t,n,r){if(50<Ld)throw Ld=0,Yx=null,Error(Ae(185));nf(e,n,r),(!(_t&2)||e!==Wn)&&(e===Wn&&(!(_t&2)&&(Oy|=n),Ln===4&&Ns(e,Zn)),Fr(e,r),n===1&&_t===0&&!(t.mode&1)&&(Vu=En()+500,Ry&&no()))}function Fr(e,t){var n=e.callbackNode;r9(e,t);var r=Ag(e,e===Wn?Zn:0);if(r===0)n!==null&&X3(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&X3(n),t===1)e.tag===0?n7($I.bind(null,e)):nD($I.bind(null,e)),Z9(function(){!(_t&6)&&no()}),n=null;else{switch(AN(r)){case 1:n=cE;break;case 4:n=IN;break;case 16:n=Rg;break;case 536870912:n=PN;break;default:n=Rg}n=nO(n,YD.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function YD(e,t){if(Dm=-1,Om=0,_t&6)throw Error(Ae(327));var n=e.callbackNode;if(Cu()&&e.callbackNode!==n)return null;var r=Ag(e,e===Wn?Zn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Yg(e,r);else{t=r;var i=_t;_t|=2;var a=QD();(Wn!==e||Zn!==t)&&(ja=null,Vu=En()+500,Go(e,t));do try{S7();break}catch(o){XD(e,o)}while(1);SE(),Hg.current=a,_t=i,Pn!==null?t=0:(Wn=null,Zn=0,t=Ln)}if(t!==0){if(t===2&&(i=kx(e),i!==0&&(r=i,t=Xx(e,i))),t===1)throw n=Sh,Go(e,0),Ns(e,r),Fr(e,En()),n;if(t===6)Ns(e,r);else{if(i=e.current.alternate,!(r&30)&&!x7(i)&&(t=Yg(e,r),t===2&&(a=kx(e),a!==0&&(r=a,t=Xx(e,a))),t===1))throw n=Sh,Go(e,0),Ns(e,r),Fr(e,En()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Ae(345));case 2:Po(e,Nr,ja);break;case 3:if(Ns(e,r),(r&130023424)===r&&(t=BE+500-En(),10<t)){if(Ag(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){br(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Rx(Po.bind(null,e,Nr,ja),t);break}Po(e,Nr,ja);break;case 4:if(Ns(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-qi(r);a=1<<s,s=t[s],s>i&&(i=s),r&=~a}if(r=i,r=En()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*b7(r/1960))-r,10<r){e.timeoutHandle=Rx(Po.bind(null,e,Nr,ja),r);break}Po(e,Nr,ja);break;case 5:Po(e,Nr,ja);break;default:throw Error(Ae(329))}}}return Fr(e,En()),e.callbackNode===n?YD.bind(null,e):null}function Xx(e,t){var n=Md;return e.current.memoizedState.isDehydrated&&(Go(e,t).flags|=256),e=Yg(e,t),e!==2&&(t=Nr,Nr=n,t!==null&&Qx(t)),e}function Qx(e){Nr===null?Nr=e:Nr.push.apply(Nr,e)}function x7(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Qi(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ns(e,t){for(t&=~FE,t&=~Oy,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qi(t),r=1<<n;e[n]=-1,t&=~r}}function $I(e){if(_t&6)throw Error(Ae(327));Cu();var t=Ag(e,0);if(!(t&1))return Fr(e,En()),null;var n=Yg(e,t);if(e.tag!==0&&n===2){var r=kx(e);r!==0&&(t=r,n=Xx(e,r))}if(n===1)throw n=Sh,Go(e,0),Ns(e,t),Fr(e,En()),n;if(n===6)throw Error(Ae(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Po(e,Nr,ja),Fr(e,En()),null}function zE(e,t){var n=_t;_t|=1;try{return e(t)}finally{_t=n,_t===0&&(Vu=En()+500,Ry&&no())}}function sl(e){Ls!==null&&Ls.tag===0&&!(_t&6)&&Cu();var t=_t;_t|=1;var n=Ci.transition,r=Ft;try{if(Ci.transition=null,Ft=1,e)return e()}finally{Ft=r,Ci.transition=n,_t=t,!(_t&6)&&no()}}function UE(){Gr=cu.current,rn(cu)}function Go(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Q9(n)),Pn!==null)for(n=Pn.return;n!==null;){var r=n;switch(bE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Lg();break;case 3:ju(),rn(Mr),rn(pr),PE();break;case 5:IE(r);break;case 4:ju();break;case 13:rn(hn);break;case 19:rn(hn);break;case 10:EE(r.type._context);break;case 22:case 23:UE()}n=n.return}if(Wn=e,Pn=e=qs(e.current,null),Zn=Gr=t,Ln=0,Sh=null,FE=Oy=al=0,Nr=Md=null,Bo!==null){for(t=0;t<Bo.length;t++)if(n=Bo[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}Bo=null}return e}function XD(e,t){do{var n=Pn;try{if(SE(),Rm.current=Gg,Wg){for(var r=fn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Wg=!1}if(il=0,Vn=Mn=fn=null,Dd=!1,bh=0,LE.current=null,n===null||n.return===null){Ln=1,Sh=t,Pn=null;break}e:{var a=e,s=n.return,o=n,l=t;if(t=Zn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=PI(s);if(m!==null){m.flags&=-257,RI(m,s,o,a,t),m.mode&1&&II(a,u,t),t=m,l=u;var g=t.updateQueue;if(g===null){var y=new Set;y.add(l),t.updateQueue=y}else g.add(l);break e}else{if(!(t&1)){II(a,u,t),jE();break e}l=Error(Ae(426))}}else if(un&&o.mode&1){var b=PI(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),RI(b,s,o,a,t),xE($u(l,o));break e}}a=l=$u(l,o),Ln!==4&&(Ln=2),Md===null?Md=[a]:Md.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=DD(a,l,t);xI(a,v);break e;case 1:o=l;var x=a.type,k=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Gs===null||!Gs.has(k)))){a.flags|=65536,t&=-t,a.lanes|=t;var T=OD(a,o,t);xI(a,T);break e}}a=a.return}while(a!==null)}JD(n)}catch(P){t=P,Pn===n&&n!==null&&(Pn=n=n.return);continue}break}while(1)}function QD(){var e=Hg.current;return Hg.current=Gg,e===null?Gg:e}function jE(){(Ln===0||Ln===3||Ln===2)&&(Ln=4),Wn===null||!(al&268435455)&&!(Oy&268435455)||Ns(Wn,Zn)}function Yg(e,t){var n=_t;_t|=2;var r=QD();(Wn!==e||Zn!==t)&&(ja=null,Go(e,t));do try{k7();break}catch(i){XD(e,i)}while(1);if(SE(),_t=n,Hg.current=r,Pn!==null)throw Error(Ae(261));return Wn=null,Zn=0,Ln}function k7(){for(;Pn!==null;)ZD(Pn)}function S7(){for(;Pn!==null&&!KU();)ZD(Pn)}function ZD(e){var t=tO(e.alternate,e,Gr);e.memoizedProps=e.pendingProps,t===null?JD(e):Pn=t,LE.current=null}function JD(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=g7(n,t),n!==null){n.flags&=32767,Pn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ln=6,Pn=null;return}}else if(n=m7(n,t,Gr),n!==null){Pn=n;return}if(t=t.sibling,t!==null){Pn=t;return}Pn=t=e}while(t!==null);Ln===0&&(Ln=5)}function Po(e,t,n){var r=Ft,i=Ci.transition;try{Ci.transition=null,Ft=1,E7(e,t,n,r)}finally{Ci.transition=i,Ft=r}return null}function E7(e,t,n,r){do Cu();while(Ls!==null);if(_t&6)throw Error(Ae(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ae(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(i9(e,a),e===Wn&&(Pn=Wn=null,Zn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bp||(Bp=!0,nO(Rg,function(){return Cu(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Ci.transition,Ci.transition=null;var s=Ft;Ft=1;var o=_t;_t|=4,LE.current=null,v7(e,n),qD(n,e),W9(Ix),Ng=!!Tx,Ix=Tx=null,e.current=n,w7(n),YU(),_t=o,Ft=s,Ci.transition=a}else e.current=n;if(Bp&&(Bp=!1,Ls=e,Kg=i),a=e.pendingLanes,a===0&&(Gs=null),ZU(n.stateNode),Fr(e,En()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(qg)throw qg=!1,e=Kx,Kx=null,e;return Kg&1&&e.tag!==0&&Cu(),a=e.pendingLanes,a&1?e===Yx?Ld++:(Ld=0,Yx=e):Ld=0,no(),null}function Cu(){if(Ls!==null){var e=AN(Kg),t=Ci.transition,n=Ft;try{if(Ci.transition=null,Ft=16>e?16:e,Ls===null)var r=!1;else{if(e=Ls,Ls=null,Kg=0,_t&6)throw Error(Ae(331));var i=_t;for(_t|=4,Ge=e.current;Ge!==null;){var a=Ge,s=a.child;if(Ge.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Ge=u;Ge!==null;){var c=Ge;switch(c.tag){case 0:case 11:case 15:Od(8,c,a)}var h=c.child;if(h!==null)h.return=c,Ge=h;else for(;Ge!==null;){c=Ge;var p=c.sibling,m=c.return;if(WD(c),c===u){Ge=null;break}if(p!==null){p.return=m,Ge=p;break}Ge=m}}}var g=a.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}Ge=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Ge=s;else e:for(;Ge!==null;){if(a=Ge,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Od(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,Ge=v;break e}Ge=a.return}}var x=e.current;for(Ge=x;Ge!==null;){s=Ge;var k=s.child;if(s.subtreeFlags&2064&&k!==null)k.return=s,Ge=k;else e:for(s=x;Ge!==null;){if(o=Ge,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Dy(9,o)}}catch(P){yn(o,o.return,P)}if(o===s){Ge=null;break e}var T=o.sibling;if(T!==null){T.return=o.return,Ge=T;break e}Ge=o.return}}if(_t=i,no(),xa&&typeof xa.onPostCommitFiberRoot=="function")try{xa.onPostCommitFiberRoot(Cy,e)}catch{}r=!0}return r}finally{Ft=n,Ci.transition=t}}return!1}function VI(e,t,n){t=$u(n,t),t=DD(e,t,1),e=Ws(e,t,1),t=br(),e!==null&&(nf(e,1,t),Fr(e,t))}function yn(e,t,n){if(e.tag===3)VI(e,e,n);else for(;t!==null;){if(t.tag===3){VI(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Gs===null||!Gs.has(r))){e=$u(n,e),e=OD(t,e,1),t=Ws(t,e,1),e=br(),t!==null&&(nf(t,1,e),Fr(t,e));break}}t=t.return}}function C7(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=br(),e.pingedLanes|=e.suspendedLanes&n,Wn===e&&(Zn&n)===n&&(Ln===4||Ln===3&&(Zn&130023424)===Zn&&500>En()-BE?Go(e,0):FE|=n),Fr(e,t)}function eO(e,t){t===0&&(e.mode&1?(t=Ip,Ip<<=1,!(Ip&130023424)&&(Ip=4194304)):t=1);var n=br();e=Qa(e,t),e!==null&&(nf(e,t,n),Fr(e,n))}function _7(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),eO(e,n)}function T7(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ae(314))}r!==null&&r.delete(t),eO(e,n)}var tO;tO=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Mr.current)Dr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Dr=!1,p7(e,t,n);Dr=!!(e.flags&131072)}else Dr=!1,un&&t.flags&1048576&&rD(t,zg,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Nm(e,t),e=t.pendingProps;var i=Bu(t,pr.current);Eu(t,n),i=AE(null,t,r,e,i,n);var a=NE();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Lr(r)?(a=!0,Fg(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_E(t),i.updater=Ay,t.stateNode=i,i._reactInternals=t,Fx(t,r,e,n),t=Ux(null,t,r,!0,a,n)):(t.tag=0,un&&a&&wE(t),vr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Nm(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=P7(r),e=Ui(r,e),i){case 0:t=zx(null,t,r,e,n);break e;case 1:t=DI(null,t,r,e,n);break e;case 11:t=AI(null,t,r,e,n);break e;case 14:t=NI(null,t,r,Ui(r.type,e),n);break e}throw Error(Ae(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ui(r,i),zx(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ui(r,i),DI(e,t,r,i,n);case 3:e:{if(BD(t),e===null)throw Error(Ae(387));r=t.pendingProps,a=t.memoizedState,i=a.element,oD(e,t),$g(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=$u(Error(Ae(423)),t),t=OI(e,t,r,n,i);break e}else if(r!==i){i=$u(Error(Ae(424)),t),t=OI(e,t,r,n,i);break e}else for(Kr=Vs(t.stateNode.containerInfo.firstChild),Xr=t,un=!0,$i=null,n=dD(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zu(),r===i){t=Za(e,t,n);break e}vr(e,t,r,n)}t=t.child}return t;case 5:return hD(t),e===null&&Ox(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,Px(r,i)?s=null:a!==null&&Px(r,a)&&(t.flags|=32),FD(e,t),vr(e,t,s,n),t.child;case 6:return e===null&&Ox(t),null;case 13:return zD(e,t,n);case 4:return TE(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Uu(t,null,r,n):vr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ui(r,i),AI(e,t,r,i,n);case 7:return vr(e,t,t.pendingProps,n),t.child;case 8:return vr(e,t,t.pendingProps.children,n),t.child;case 12:return vr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Xt(Ug,r._currentValue),r._currentValue=s,a!==null)if(Qi(a.value,s)){if(a.children===i.children&&!Mr.current){t=Za(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=qa(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Mx(a.return,n,t),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Ae(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Mx(s,n,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}vr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Eu(t,n),i=_i(i),r=r(i),t.flags|=1,vr(e,t,r,n),t.child;case 14:return r=t.type,i=Ui(r,t.pendingProps),i=Ui(r.type,i),NI(e,t,r,i,n);case 15:return MD(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ui(r,i),Nm(e,t),t.tag=1,Lr(r)?(e=!0,Fg(t)):e=!1,Eu(t,n),uD(t,r,i),Fx(t,r,i,n),Ux(null,t,r,!0,e,n);case 19:return UD(e,t,n);case 22:return LD(e,t,n)}throw Error(Ae(156,t.tag))};function nO(e,t){return TN(e,t)}function I7(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ei(e,t,n,r){return new I7(e,t,n,r)}function $E(e){return e=e.prototype,!(!e||!e.isReactComponent)}function P7(e){if(typeof e=="function")return $E(e)?1:0;if(e!=null){if(e=e.$$typeof,e===oE)return 11;if(e===lE)return 14}return 2}function qs(e,t){var n=e.alternate;return n===null?(n=Ei(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mm(e,t,n,r,i,a){var s=2;if(r=e,typeof e=="function")$E(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case eu:return Ho(n.children,i,a,t);case sE:s=8,i|=8;break;case ox:return e=Ei(12,n,t,i|2),e.elementType=ox,e.lanes=a,e;case lx:return e=Ei(13,n,t,i),e.elementType=lx,e.lanes=a,e;case ux:return e=Ei(19,n,t,i),e.elementType=ux,e.lanes=a,e;case cN:return My(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lN:s=10;break e;case uN:s=9;break e;case oE:s=11;break e;case lE:s=14;break e;case Cs:s=16,r=null;break e}throw Error(Ae(130,e==null?e:typeof e,""))}return t=Ei(s,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Ho(e,t,n,r){return e=Ei(7,e,r,t),e.lanes=n,e}function My(e,t,n,r){return e=Ei(22,e,r,t),e.elementType=cN,e.lanes=n,e.stateNode={isHidden:!1},e}function kw(e,t,n){return e=Ei(6,e,null,t),e.lanes=n,e}function Sw(e,t,n){return t=Ei(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function R7(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rw(0),this.expirationTimes=rw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function VE(e,t,n,r,i,a,s,o,l){return e=new R7(e,t,n,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ei(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_E(a),e}function A7(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jl,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function rO(e){if(!e)return Qs;e=e._reactInternals;e:{if(hl(e)!==e||e.tag!==1)throw Error(Ae(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Lr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ae(171))}if(e.tag===1){var n=e.type;if(Lr(n))return tD(e,n,t)}return t}function iO(e,t,n,r,i,a,s,o,l){return e=VE(n,r,!0,e,i,a,s,o,l),e.context=rO(null),n=e.current,r=br(),i=Hs(n),a=qa(r,i),a.callback=t??null,Ws(n,a,i),e.current.lanes=i,nf(e,i,r),Fr(e,r),e}function Ly(e,t,n,r){var i=t.current,a=br(),s=Hs(i);return n=rO(n),t.context===null?t.context=n:t.pendingContext=n,t=qa(a,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ws(i,t,s),e!==null&&(Ki(e,i,s,a),Pm(e,i,s)),s}function Xg(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function WI(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function WE(e,t){WI(e,t),(e=e.alternate)&&WI(e,t)}function N7(){return null}var aO=typeof reportError=="function"?reportError:function(e){console.error(e)};function GE(e){this._internalRoot=e}Fy.prototype.render=GE.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ae(409));Ly(e,t,null,null)};Fy.prototype.unmount=GE.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;sl(function(){Ly(null,e,null,null)}),t[Xa]=null}};function Fy(e){this._internalRoot=e}Fy.prototype.unstable_scheduleHydration=function(e){if(e){var t=ON();e={blockedOn:null,target:e,priority:t};for(var n=0;n<As.length&&t!==0&&t<As[n].priority;n++);As.splice(n,0,e),n===0&&LN(e)}};function HE(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function By(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function GI(){}function D7(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=Xg(s);a.call(u)}}var s=iO(t,r,e,0,null,!1,!1,"",GI);return e._reactRootContainer=s,e[Xa]=s.current,mh(e.nodeType===8?e.parentNode:e),sl(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=Xg(l);o.call(u)}}var l=VE(e,0,!1,null,null,!1,!1,"",GI);return e._reactRootContainer=l,e[Xa]=l.current,mh(e.nodeType===8?e.parentNode:e),sl(function(){Ly(t,l,n,r)}),l}function zy(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Xg(s);o.call(l)}}Ly(t,s,e,i)}else s=D7(n,t,e,i,r);return Xg(s)}NN=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vd(t.pendingLanes);n!==0&&(dE(t,n|1),Fr(t,En()),!(_t&6)&&(Vu=En()+500,no()))}break;case 13:sl(function(){var r=Qa(e,1);if(r!==null){var i=br();Ki(r,e,1,i)}}),WE(e,1)}};hE=function(e){if(e.tag===13){var t=Qa(e,134217728);if(t!==null){var n=br();Ki(t,e,134217728,n)}WE(e,134217728)}};DN=function(e){if(e.tag===13){var t=Hs(e),n=Qa(e,t);if(n!==null){var r=br();Ki(n,e,t,r)}WE(e,t)}};ON=function(){return Ft};MN=function(e,t){var n=Ft;try{return Ft=e,t()}finally{Ft=n}};wx=function(e,t,n){switch(t){case"input":if(hx(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Py(r);if(!i)throw Error(Ae(90));hN(r),hx(r,i)}}}break;case"textarea":pN(e,n);break;case"select":t=n.value,t!=null&&bu(e,!!n.multiple,t,!1)}};xN=zE;kN=sl;var O7={usingClientEntryPoint:!1,Events:[af,iu,Py,wN,bN,zE]},Qc={findFiberByHostInstance:Fo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},M7={bundleType:Qc.bundleType,version:Qc.version,rendererPackageName:Qc.rendererPackageName,rendererConfig:Qc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ts.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=CN(e),e===null?null:e.stateNode},findFiberByHostInstance:Qc.findFiberByHostInstance||N7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zp.isDisabled&&zp.supportsFiber)try{Cy=zp.inject(M7),xa=zp}catch{}}ii.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O7;ii.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!HE(t))throw Error(Ae(200));return A7(e,t,null,n)};ii.createRoot=function(e,t){if(!HE(e))throw Error(Ae(299));var n=!1,r="",i=aO;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=VE(e,1,!1,null,null,n,!1,r,i),e[Xa]=t.current,mh(e.nodeType===8?e.parentNode:e),new GE(t)};ii.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ae(188)):(e=Object.keys(e).join(","),Error(Ae(268,e)));return e=CN(t),e=e===null?null:e.stateNode,e};ii.flushSync=function(e){return sl(e)};ii.hydrate=function(e,t,n){if(!By(t))throw Error(Ae(200));return zy(null,e,t,!0,n)};ii.hydrateRoot=function(e,t,n){if(!HE(e))throw Error(Ae(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=aO;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=iO(t,null,e,1,n??null,i,!1,a,s),e[Xa]=t.current,mh(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Fy(t)};ii.render=function(e,t,n){if(!By(t))throw Error(Ae(200));return zy(null,e,t,!1,n)};ii.unmountComponentAtNode=function(e){if(!By(e))throw Error(Ae(40));return e._reactRootContainer?(sl(function(){zy(null,null,e,!1,function(){e._reactRootContainer=null,e[Xa]=null})}),!0):!1};ii.unstable_batchedUpdates=zE;ii.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!By(n))throw Error(Ae(200));if(e==null||e._reactInternals===void 0)throw Error(Ae(38));return zy(e,t,n,!1,r)};ii.version="18.2.0-next-9e3b772b8-20220608";function sO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sO)}catch(e){console.error(e)}}sO(),rN.exports=ii;var cc=rN.exports,HI=cc;ax.createRoot=HI.createRoot,ax.hydrateRoot=HI.hydrateRoot;var oO={},Uy={};Uy.byteLength=B7;Uy.toByteArray=U7;Uy.fromByteArray=V7;var wa=[],gi=[],L7=typeof Uint8Array<"u"?Uint8Array:Array,Ew="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var zl=0,F7=Ew.length;zl<F7;++zl)wa[zl]=Ew[zl],gi[Ew.charCodeAt(zl)]=zl;gi["-".charCodeAt(0)]=62;gi["_".charCodeAt(0)]=63;function lO(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function B7(e){var t=lO(e),n=t[0],r=t[1];return(n+r)*3/4-r}function z7(e,t,n){return(t+n)*3/4-n}function U7(e){var t,n=lO(e),r=n[0],i=n[1],a=new L7(z7(e,r,i)),s=0,o=i>0?r-4:r,l;for(l=0;l<o;l+=4)t=gi[e.charCodeAt(l)]<<18|gi[e.charCodeAt(l+1)]<<12|gi[e.charCodeAt(l+2)]<<6|gi[e.charCodeAt(l+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=t&255;return i===2&&(t=gi[e.charCodeAt(l)]<<2|gi[e.charCodeAt(l+1)]>>4,a[s++]=t&255),i===1&&(t=gi[e.charCodeAt(l)]<<10|gi[e.charCodeAt(l+1)]<<4|gi[e.charCodeAt(l+2)]>>2,a[s++]=t>>8&255,a[s++]=t&255),a}function j7(e){return wa[e>>18&63]+wa[e>>12&63]+wa[e>>6&63]+wa[e&63]}function $7(e,t,n){for(var r,i=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(j7(r));return i.join("")}function V7(e){for(var t,n=e.length,r=n%3,i=[],a=16383,s=0,o=n-r;s<o;s+=a)i.push($7(e,s,s+a>o?o:s+a));return r===1?(t=e[n-1],i.push(wa[t>>2]+wa[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(wa[t>>10]+wa[t>>4&63]+wa[t<<2&63]+"=")),i.join("")}var qE={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */qE.read=function(e,t,n,r,i){var a,s,o=i*8-r-1,l=(1<<o)-1,u=l>>1,c=-7,h=n?i-1:0,p=n?-1:1,m=e[t+h];for(h+=p,a=m&(1<<-c)-1,m>>=-c,c+=o;c>0;a=a*256+e[t+h],h+=p,c-=8);for(s=a&(1<<-c)-1,a>>=-c,c+=r;c>0;s=s*256+e[t+h],h+=p,c-=8);if(a===0)a=1-u;else{if(a===l)return s?NaN:(m?-1:1)*(1/0);s=s+Math.pow(2,r),a=a-u}return(m?-1:1)*s*Math.pow(2,a-r)};qE.write=function(e,t,n,r,i,a){var s,o,l,u=a*8-i-1,c=(1<<u)-1,h=c>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:a-1,g=r?1:-1,y=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+h>=1?t+=p/l:t+=p*Math.pow(2,1-h),t*l>=2&&(s++,l/=2),s+h>=c?(o=0,s=c):s+h>=1?(o=(t*l-1)*Math.pow(2,i),s=s+h):(o=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[n+m]=o&255,m+=g,o/=256,i-=8);for(s=s<<i|o,u+=i;u>0;e[n+m]=s&255,m+=g,s/=256,u-=8);e[n+m-g]|=y*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=Uy,n=qE,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=o,e.SlowBuffer=x,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=a(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const D=new Uint8Array(1),C={foo:function(){return 42}};return Object.setPrototypeOf(C,Uint8Array.prototype),Object.setPrototypeOf(D,C),D.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function s(D){if(D>i)throw new RangeError('The value "'+D+'" is invalid for option "size"');const C=new Uint8Array(D);return Object.setPrototypeOf(C,o.prototype),C}function o(D,C,I){if(typeof D=="number"){if(typeof C=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(D)}return l(D,C,I)}o.poolSize=8192;function l(D,C,I){if(typeof D=="string")return p(D,C);if(ArrayBuffer.isView(D))return g(D);if(D==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof D);if(he(D,ArrayBuffer)||D&&he(D.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(he(D,SharedArrayBuffer)||D&&he(D.buffer,SharedArrayBuffer)))return y(D,C,I);if(typeof D=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const V=D.valueOf&&D.valueOf();if(V!=null&&V!==D)return o.from(V,C,I);const J=b(D);if(J)return J;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof D[Symbol.toPrimitive]=="function")return o.from(D[Symbol.toPrimitive]("string"),C,I);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof D)}o.from=function(D,C,I){return l(D,C,I)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function u(D){if(typeof D!="number")throw new TypeError('"size" argument must be of type number');if(D<0)throw new RangeError('The value "'+D+'" is invalid for option "size"')}function c(D,C,I){return u(D),D<=0?s(D):C!==void 0?typeof I=="string"?s(D).fill(C,I):s(D).fill(C):s(D)}o.alloc=function(D,C,I){return c(D,C,I)};function h(D){return u(D),s(D<0?0:v(D)|0)}o.allocUnsafe=function(D){return h(D)},o.allocUnsafeSlow=function(D){return h(D)};function p(D,C){if((typeof C!="string"||C==="")&&(C="utf8"),!o.isEncoding(C))throw new TypeError("Unknown encoding: "+C);const I=k(D,C)|0;let V=s(I);const J=V.write(D,C);return J!==I&&(V=V.slice(0,J)),V}function m(D){const C=D.length<0?0:v(D.length)|0,I=s(C);for(let V=0;V<C;V+=1)I[V]=D[V]&255;return I}function g(D){if(he(D,Uint8Array)){const C=new Uint8Array(D);return y(C.buffer,C.byteOffset,C.byteLength)}return m(D)}function y(D,C,I){if(C<0||D.byteLength<C)throw new RangeError('"offset" is outside of buffer bounds');if(D.byteLength<C+(I||0))throw new RangeError('"length" is outside of buffer bounds');let V;return C===void 0&&I===void 0?V=new Uint8Array(D):I===void 0?V=new Uint8Array(D,C):V=new Uint8Array(D,C,I),Object.setPrototypeOf(V,o.prototype),V}function b(D){if(o.isBuffer(D)){const C=v(D.length)|0,I=s(C);return I.length===0||D.copy(I,0,0,C),I}if(D.length!==void 0)return typeof D.length!="number"||Re(D.length)?s(0):m(D);if(D.type==="Buffer"&&Array.isArray(D.data))return m(D.data)}function v(D){if(D>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return D|0}function x(D){return+D!=D&&(D=0),o.alloc(+D)}o.isBuffer=function(C){return C!=null&&C._isBuffer===!0&&C!==o.prototype},o.compare=function(C,I){if(he(C,Uint8Array)&&(C=o.from(C,C.offset,C.byteLength)),he(I,Uint8Array)&&(I=o.from(I,I.offset,I.byteLength)),!o.isBuffer(C)||!o.isBuffer(I))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(C===I)return 0;let V=C.length,J=I.length;for(let fe=0,me=Math.min(V,J);fe<me;++fe)if(C[fe]!==I[fe]){V=C[fe],J=I[fe];break}return V<J?-1:J<V?1:0},o.isEncoding=function(C){switch(String(C).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(C,I){if(!Array.isArray(C))throw new TypeError('"list" argument must be an Array of Buffers');if(C.length===0)return o.alloc(0);let V;if(I===void 0)for(I=0,V=0;V<C.length;++V)I+=C[V].length;const J=o.allocUnsafe(I);let fe=0;for(V=0;V<C.length;++V){let me=C[V];if(he(me,Uint8Array))fe+me.length>J.length?(o.isBuffer(me)||(me=o.from(me)),me.copy(J,fe)):Uint8Array.prototype.set.call(J,me,fe);else if(o.isBuffer(me))me.copy(J,fe);else throw new TypeError('"list" argument must be an Array of Buffers');fe+=me.length}return J};function k(D,C){if(o.isBuffer(D))return D.length;if(ArrayBuffer.isView(D)||he(D,ArrayBuffer))return D.byteLength;if(typeof D!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof D);const I=D.length,V=arguments.length>2&&arguments[2]===!0;if(!V&&I===0)return 0;let J=!1;for(;;)switch(C){case"ascii":case"latin1":case"binary":return I;case"utf8":case"utf-8":return Q(D).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I*2;case"hex":return I>>>1;case"base64":return ke(D).length;default:if(J)return V?-1:Q(D).length;C=(""+C).toLowerCase(),J=!0}}o.byteLength=k;function T(D,C,I){let V=!1;if((C===void 0||C<0)&&(C=0),C>this.length||((I===void 0||I>this.length)&&(I=this.length),I<=0)||(I>>>=0,C>>>=0,I<=C))return"";for(D||(D="utf8");;)switch(D){case"hex":return ie(this,C,I);case"utf8":case"utf-8":return O(this,C,I);case"ascii":return le(this,C,I);case"latin1":case"binary":return de(this,C,I);case"base64":return $(this,C,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pe(this,C,I);default:if(V)throw new TypeError("Unknown encoding: "+D);D=(D+"").toLowerCase(),V=!0}}o.prototype._isBuffer=!0;function P(D,C,I){const V=D[C];D[C]=D[I],D[I]=V}o.prototype.swap16=function(){const C=this.length;if(C%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let I=0;I<C;I+=2)P(this,I,I+1);return this},o.prototype.swap32=function(){const C=this.length;if(C%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let I=0;I<C;I+=4)P(this,I,I+3),P(this,I+1,I+2);return this},o.prototype.swap64=function(){const C=this.length;if(C%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let I=0;I<C;I+=8)P(this,I,I+7),P(this,I+1,I+6),P(this,I+2,I+5),P(this,I+3,I+4);return this},o.prototype.toString=function(){const C=this.length;return C===0?"":arguments.length===0?O(this,0,C):T.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(C){if(!o.isBuffer(C))throw new TypeError("Argument must be a Buffer");return this===C?!0:o.compare(this,C)===0},o.prototype.inspect=function(){let C="";const I=e.INSPECT_MAX_BYTES;return C=this.toString("hex",0,I).replace(/(.{2})/g,"$1 ").trim(),this.length>I&&(C+=" ... "),"<Buffer "+C+">"},r&&(o.prototype[r]=o.prototype.inspect),o.prototype.compare=function(C,I,V,J,fe){if(he(C,Uint8Array)&&(C=o.from(C,C.offset,C.byteLength)),!o.isBuffer(C))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof C);if(I===void 0&&(I=0),V===void 0&&(V=C?C.length:0),J===void 0&&(J=0),fe===void 0&&(fe=this.length),I<0||V>C.length||J<0||fe>this.length)throw new RangeError("out of range index");if(J>=fe&&I>=V)return 0;if(J>=fe)return-1;if(I>=V)return 1;if(I>>>=0,V>>>=0,J>>>=0,fe>>>=0,this===C)return 0;let me=fe-J,Ze=V-I;const St=Math.min(me,Ze),ct=this.slice(J,fe),rt=C.slice(I,V);for(let xt=0;xt<St;++xt)if(ct[xt]!==rt[xt]){me=ct[xt],Ze=rt[xt];break}return me<Ze?-1:Ze<me?1:0};function R(D,C,I,V,J){if(D.length===0)return-1;if(typeof I=="string"?(V=I,I=0):I>2147483647?I=2147483647:I<-2147483648&&(I=-2147483648),I=+I,Re(I)&&(I=J?0:D.length-1),I<0&&(I=D.length+I),I>=D.length){if(J)return-1;I=D.length-1}else if(I<0)if(J)I=0;else return-1;if(typeof C=="string"&&(C=o.from(C,V)),o.isBuffer(C))return C.length===0?-1:N(D,C,I,V,J);if(typeof C=="number")return C=C&255,typeof Uint8Array.prototype.indexOf=="function"?J?Uint8Array.prototype.indexOf.call(D,C,I):Uint8Array.prototype.lastIndexOf.call(D,C,I):N(D,[C],I,V,J);throw new TypeError("val must be string, number or Buffer")}function N(D,C,I,V,J){let fe=1,me=D.length,Ze=C.length;if(V!==void 0&&(V=String(V).toLowerCase(),V==="ucs2"||V==="ucs-2"||V==="utf16le"||V==="utf-16le")){if(D.length<2||C.length<2)return-1;fe=2,me/=2,Ze/=2,I/=2}function St(rt,xt){return fe===1?rt[xt]:rt.readUInt16BE(xt*fe)}let ct;if(J){let rt=-1;for(ct=I;ct<me;ct++)if(St(D,ct)===St(C,rt===-1?0:ct-rt)){if(rt===-1&&(rt=ct),ct-rt+1===Ze)return rt*fe}else rt!==-1&&(ct-=ct-rt),rt=-1}else for(I+Ze>me&&(I=me-Ze),ct=I;ct>=0;ct--){let rt=!0;for(let xt=0;xt<Ze;xt++)if(St(D,ct+xt)!==St(C,xt)){rt=!1;break}if(rt)return ct}return-1}o.prototype.includes=function(C,I,V){return this.indexOf(C,I,V)!==-1},o.prototype.indexOf=function(C,I,V){return R(this,C,I,V,!0)},o.prototype.lastIndexOf=function(C,I,V){return R(this,C,I,V,!1)};function B(D,C,I,V){I=Number(I)||0;const J=D.length-I;V?(V=Number(V),V>J&&(V=J)):V=J;const fe=C.length;V>fe/2&&(V=fe/2);let me;for(me=0;me<V;++me){const Ze=parseInt(C.substr(me*2,2),16);if(Re(Ze))return me;D[I+me]=Ze}return me}function j(D,C,I,V){return Ee(Q(C,D.length-I),D,I,V)}function W(D,C,I,V){return Ee(K(C),D,I,V)}function H(D,C,I,V){return Ee(ke(C),D,I,V)}function z(D,C,I,V){return Ee(se(C,D.length-I),D,I,V)}o.prototype.write=function(C,I,V,J){if(I===void 0)J="utf8",V=this.length,I=0;else if(V===void 0&&typeof I=="string")J=I,V=this.length,I=0;else if(isFinite(I))I=I>>>0,isFinite(V)?(V=V>>>0,J===void 0&&(J="utf8")):(J=V,V=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const fe=this.length-I;if((V===void 0||V>fe)&&(V=fe),C.length>0&&(V<0||I<0)||I>this.length)throw new RangeError("Attempt to write outside buffer bounds");J||(J="utf8");let me=!1;for(;;)switch(J){case"hex":return B(this,C,I,V);case"utf8":case"utf-8":return j(this,C,I,V);case"ascii":case"latin1":case"binary":return W(this,C,I,V);case"base64":return H(this,C,I,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,C,I,V);default:if(me)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),me=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function $(D,C,I){return C===0&&I===D.length?t.fromByteArray(D):t.fromByteArray(D.slice(C,I))}function O(D,C,I){I=Math.min(D.length,I);const V=[];let J=C;for(;J<I;){const fe=D[J];let me=null,Ze=fe>239?4:fe>223?3:fe>191?2:1;if(J+Ze<=I){let St,ct,rt,xt;switch(Ze){case 1:fe<128&&(me=fe);break;case 2:St=D[J+1],(St&192)===128&&(xt=(fe&31)<<6|St&63,xt>127&&(me=xt));break;case 3:St=D[J+1],ct=D[J+2],(St&192)===128&&(ct&192)===128&&(xt=(fe&15)<<12|(St&63)<<6|ct&63,xt>2047&&(xt<55296||xt>57343)&&(me=xt));break;case 4:St=D[J+1],ct=D[J+2],rt=D[J+3],(St&192)===128&&(ct&192)===128&&(rt&192)===128&&(xt=(fe&15)<<18|(St&63)<<12|(ct&63)<<6|rt&63,xt>65535&&xt<1114112&&(me=xt))}}me===null?(me=65533,Ze=1):me>65535&&(me-=65536,V.push(me>>>10&1023|55296),me=56320|me&1023),V.push(me),J+=Ze}return X(V)}const te=4096;function X(D){const C=D.length;if(C<=te)return String.fromCharCode.apply(String,D);let I="",V=0;for(;V<C;)I+=String.fromCharCode.apply(String,D.slice(V,V+=te));return I}function le(D,C,I){let V="";I=Math.min(D.length,I);for(let J=C;J<I;++J)V+=String.fromCharCode(D[J]&127);return V}function de(D,C,I){let V="";I=Math.min(D.length,I);for(let J=C;J<I;++J)V+=String.fromCharCode(D[J]);return V}function ie(D,C,I){const V=D.length;(!C||C<0)&&(C=0),(!I||I<0||I>V)&&(I=V);let J="";for(let fe=C;fe<I;++fe)J+=ze[D[fe]];return J}function pe(D,C,I){const V=D.slice(C,I);let J="";for(let fe=0;fe<V.length-1;fe+=2)J+=String.fromCharCode(V[fe]+V[fe+1]*256);return J}o.prototype.slice=function(C,I){const V=this.length;C=~~C,I=I===void 0?V:~~I,C<0?(C+=V,C<0&&(C=0)):C>V&&(C=V),I<0?(I+=V,I<0&&(I=0)):I>V&&(I=V),I<C&&(I=C);const J=this.subarray(C,I);return Object.setPrototypeOf(J,o.prototype),J};function F(D,C,I){if(D%1!==0||D<0)throw new RangeError("offset is not uint");if(D+C>I)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(C,I,V){C=C>>>0,I=I>>>0,V||F(C,I,this.length);let J=this[C],fe=1,me=0;for(;++me<I&&(fe*=256);)J+=this[C+me]*fe;return J},o.prototype.readUintBE=o.prototype.readUIntBE=function(C,I,V){C=C>>>0,I=I>>>0,V||F(C,I,this.length);let J=this[C+--I],fe=1;for(;I>0&&(fe*=256);)J+=this[C+--I]*fe;return J},o.prototype.readUint8=o.prototype.readUInt8=function(C,I){return C=C>>>0,I||F(C,1,this.length),this[C]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(C,I){return C=C>>>0,I||F(C,2,this.length),this[C]|this[C+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(C,I){return C=C>>>0,I||F(C,2,this.length),this[C]<<8|this[C+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(C,I){return C=C>>>0,I||F(C,4,this.length),(this[C]|this[C+1]<<8|this[C+2]<<16)+this[C+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(C,I){return C=C>>>0,I||F(C,4,this.length),this[C]*16777216+(this[C+1]<<16|this[C+2]<<8|this[C+3])},o.prototype.readBigUInt64LE=Ie(function(C){C=C>>>0,Ct(C,"offset");const I=this[C],V=this[C+7];(I===void 0||V===void 0)&&L(C,this.length-8);const J=I+this[++C]*2**8+this[++C]*2**16+this[++C]*2**24,fe=this[++C]+this[++C]*2**8+this[++C]*2**16+V*2**24;return BigInt(J)+(BigInt(fe)<<BigInt(32))}),o.prototype.readBigUInt64BE=Ie(function(C){C=C>>>0,Ct(C,"offset");const I=this[C],V=this[C+7];(I===void 0||V===void 0)&&L(C,this.length-8);const J=I*2**24+this[++C]*2**16+this[++C]*2**8+this[++C],fe=this[++C]*2**24+this[++C]*2**16+this[++C]*2**8+V;return(BigInt(J)<<BigInt(32))+BigInt(fe)}),o.prototype.readIntLE=function(C,I,V){C=C>>>0,I=I>>>0,V||F(C,I,this.length);let J=this[C],fe=1,me=0;for(;++me<I&&(fe*=256);)J+=this[C+me]*fe;return fe*=128,J>=fe&&(J-=Math.pow(2,8*I)),J},o.prototype.readIntBE=function(C,I,V){C=C>>>0,I=I>>>0,V||F(C,I,this.length);let J=I,fe=1,me=this[C+--J];for(;J>0&&(fe*=256);)me+=this[C+--J]*fe;return fe*=128,me>=fe&&(me-=Math.pow(2,8*I)),me},o.prototype.readInt8=function(C,I){return C=C>>>0,I||F(C,1,this.length),this[C]&128?(255-this[C]+1)*-1:this[C]},o.prototype.readInt16LE=function(C,I){C=C>>>0,I||F(C,2,this.length);const V=this[C]|this[C+1]<<8;return V&32768?V|4294901760:V},o.prototype.readInt16BE=function(C,I){C=C>>>0,I||F(C,2,this.length);const V=this[C+1]|this[C]<<8;return V&32768?V|4294901760:V},o.prototype.readInt32LE=function(C,I){return C=C>>>0,I||F(C,4,this.length),this[C]|this[C+1]<<8|this[C+2]<<16|this[C+3]<<24},o.prototype.readInt32BE=function(C,I){return C=C>>>0,I||F(C,4,this.length),this[C]<<24|this[C+1]<<16|this[C+2]<<8|this[C+3]},o.prototype.readBigInt64LE=Ie(function(C){C=C>>>0,Ct(C,"offset");const I=this[C],V=this[C+7];(I===void 0||V===void 0)&&L(C,this.length-8);const J=this[C+4]+this[C+5]*2**8+this[C+6]*2**16+(V<<24);return(BigInt(J)<<BigInt(32))+BigInt(I+this[++C]*2**8+this[++C]*2**16+this[++C]*2**24)}),o.prototype.readBigInt64BE=Ie(function(C){C=C>>>0,Ct(C,"offset");const I=this[C],V=this[C+7];(I===void 0||V===void 0)&&L(C,this.length-8);const J=(I<<24)+this[++C]*2**16+this[++C]*2**8+this[++C];return(BigInt(J)<<BigInt(32))+BigInt(this[++C]*2**24+this[++C]*2**16+this[++C]*2**8+V)}),o.prototype.readFloatLE=function(C,I){return C=C>>>0,I||F(C,4,this.length),n.read(this,C,!0,23,4)},o.prototype.readFloatBE=function(C,I){return C=C>>>0,I||F(C,4,this.length),n.read(this,C,!1,23,4)},o.prototype.readDoubleLE=function(C,I){return C=C>>>0,I||F(C,8,this.length),n.read(this,C,!0,52,8)},o.prototype.readDoubleBE=function(C,I){return C=C>>>0,I||F(C,8,this.length),n.read(this,C,!1,52,8)};function M(D,C,I,V,J,fe){if(!o.isBuffer(D))throw new TypeError('"buffer" argument must be a Buffer instance');if(C>J||C<fe)throw new RangeError('"value" argument is out of bounds');if(I+V>D.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(C,I,V,J){if(C=+C,I=I>>>0,V=V>>>0,!J){const Ze=Math.pow(2,8*V)-1;M(this,C,I,V,Ze,0)}let fe=1,me=0;for(this[I]=C&255;++me<V&&(fe*=256);)this[I+me]=C/fe&255;return I+V},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(C,I,V,J){if(C=+C,I=I>>>0,V=V>>>0,!J){const Ze=Math.pow(2,8*V)-1;M(this,C,I,V,Ze,0)}let fe=V-1,me=1;for(this[I+fe]=C&255;--fe>=0&&(me*=256);)this[I+fe]=C/me&255;return I+V},o.prototype.writeUint8=o.prototype.writeUInt8=function(C,I,V){return C=+C,I=I>>>0,V||M(this,C,I,1,255,0),this[I]=C&255,I+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(C,I,V){return C=+C,I=I>>>0,V||M(this,C,I,2,65535,0),this[I]=C&255,this[I+1]=C>>>8,I+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(C,I,V){return C=+C,I=I>>>0,V||M(this,C,I,2,65535,0),this[I]=C>>>8,this[I+1]=C&255,I+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(C,I,V){return C=+C,I=I>>>0,V||M(this,C,I,4,4294967295,0),this[I+3]=C>>>24,this[I+2]=C>>>16,this[I+1]=C>>>8,this[I]=C&255,I+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(C,I,V){return C=+C,I=I>>>0,V||M(this,C,I,4,4294967295,0),this[I]=C>>>24,this[I+1]=C>>>16,this[I+2]=C>>>8,this[I+3]=C&255,I+4};function Ce(D,C,I,V,J){bn(C,V,J,D,I,7);let fe=Number(C&BigInt(4294967295));D[I++]=fe,fe=fe>>8,D[I++]=fe,fe=fe>>8,D[I++]=fe,fe=fe>>8,D[I++]=fe;let me=Number(C>>BigInt(32)&BigInt(4294967295));return D[I++]=me,me=me>>8,D[I++]=me,me=me>>8,D[I++]=me,me=me>>8,D[I++]=me,I}function _e(D,C,I,V,J){bn(C,V,J,D,I,7);let fe=Number(C&BigInt(4294967295));D[I+7]=fe,fe=fe>>8,D[I+6]=fe,fe=fe>>8,D[I+5]=fe,fe=fe>>8,D[I+4]=fe;let me=Number(C>>BigInt(32)&BigInt(4294967295));return D[I+3]=me,me=me>>8,D[I+2]=me,me=me>>8,D[I+1]=me,me=me>>8,D[I]=me,I+8}o.prototype.writeBigUInt64LE=Ie(function(C,I=0){return Ce(this,C,I,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=Ie(function(C,I=0){return _e(this,C,I,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(C,I,V,J){if(C=+C,I=I>>>0,!J){const St=Math.pow(2,8*V-1);M(this,C,I,V,St-1,-St)}let fe=0,me=1,Ze=0;for(this[I]=C&255;++fe<V&&(me*=256);)C<0&&Ze===0&&this[I+fe-1]!==0&&(Ze=1),this[I+fe]=(C/me>>0)-Ze&255;return I+V},o.prototype.writeIntBE=function(C,I,V,J){if(C=+C,I=I>>>0,!J){const St=Math.pow(2,8*V-1);M(this,C,I,V,St-1,-St)}let fe=V-1,me=1,Ze=0;for(this[I+fe]=C&255;--fe>=0&&(me*=256);)C<0&&Ze===0&&this[I+fe+1]!==0&&(Ze=1),this[I+fe]=(C/me>>0)-Ze&255;return I+V},o.prototype.writeInt8=function(C,I,V){return C=+C,I=I>>>0,V||M(this,C,I,1,127,-128),C<0&&(C=255+C+1),this[I]=C&255,I+1},o.prototype.writeInt16LE=function(C,I,V){return C=+C,I=I>>>0,V||M(this,C,I,2,32767,-32768),this[I]=C&255,this[I+1]=C>>>8,I+2},o.prototype.writeInt16BE=function(C,I,V){return C=+C,I=I>>>0,V||M(this,C,I,2,32767,-32768),this[I]=C>>>8,this[I+1]=C&255,I+2},o.prototype.writeInt32LE=function(C,I,V){return C=+C,I=I>>>0,V||M(this,C,I,4,2147483647,-2147483648),this[I]=C&255,this[I+1]=C>>>8,this[I+2]=C>>>16,this[I+3]=C>>>24,I+4},o.prototype.writeInt32BE=function(C,I,V){return C=+C,I=I>>>0,V||M(this,C,I,4,2147483647,-2147483648),C<0&&(C=4294967295+C+1),this[I]=C>>>24,this[I+1]=C>>>16,this[I+2]=C>>>8,this[I+3]=C&255,I+4},o.prototype.writeBigInt64LE=Ie(function(C,I=0){return Ce(this,C,I,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=Ie(function(C,I=0){return _e(this,C,I,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Te(D,C,I,V,J,fe){if(I+V>D.length)throw new RangeError("Index out of range");if(I<0)throw new RangeError("Index out of range")}function Qe(D,C,I,V,J){return C=+C,I=I>>>0,J||Te(D,C,I,4),n.write(D,C,I,V,23,4),I+4}o.prototype.writeFloatLE=function(C,I,V){return Qe(this,C,I,!0,V)},o.prototype.writeFloatBE=function(C,I,V){return Qe(this,C,I,!1,V)};function pt(D,C,I,V,J){return C=+C,I=I>>>0,J||Te(D,C,I,8),n.write(D,C,I,V,52,8),I+8}o.prototype.writeDoubleLE=function(C,I,V){return pt(this,C,I,!0,V)},o.prototype.writeDoubleBE=function(C,I,V){return pt(this,C,I,!1,V)},o.prototype.copy=function(C,I,V,J){if(!o.isBuffer(C))throw new TypeError("argument should be a Buffer");if(V||(V=0),!J&&J!==0&&(J=this.length),I>=C.length&&(I=C.length),I||(I=0),J>0&&J<V&&(J=V),J===V||C.length===0||this.length===0)return 0;if(I<0)throw new RangeError("targetStart out of bounds");if(V<0||V>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length),C.length-I<J-V&&(J=C.length-I+V);const fe=J-V;return this===C&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(I,V,J):Uint8Array.prototype.set.call(C,this.subarray(V,J),I),fe},o.prototype.fill=function(C,I,V,J){if(typeof C=="string"){if(typeof I=="string"?(J=I,I=0,V=this.length):typeof V=="string"&&(J=V,V=this.length),J!==void 0&&typeof J!="string")throw new TypeError("encoding must be a string");if(typeof J=="string"&&!o.isEncoding(J))throw new TypeError("Unknown encoding: "+J);if(C.length===1){const me=C.charCodeAt(0);(J==="utf8"&&me<128||J==="latin1")&&(C=me)}}else typeof C=="number"?C=C&255:typeof C=="boolean"&&(C=Number(C));if(I<0||this.length<I||this.length<V)throw new RangeError("Out of range index");if(V<=I)return this;I=I>>>0,V=V===void 0?this.length:V>>>0,C||(C=0);let fe;if(typeof C=="number")for(fe=I;fe<V;++fe)this[fe]=C;else{const me=o.isBuffer(C)?C:o.from(C,J),Ze=me.length;if(Ze===0)throw new TypeError('The value "'+C+'" is invalid for argument "value"');for(fe=0;fe<V-I;++fe)this[fe+I]=me[fe%Ze]}return this};const Je={};function st(D,C,I){Je[D]=class extends I{constructor(){super(),Object.defineProperty(this,"message",{value:C.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${D}]`,this.stack,delete this.name}get code(){return D}set code(J){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:J,writable:!0})}toString(){return`${this.name} [${D}]: ${this.message}`}}}st("ERR_BUFFER_OUT_OF_BOUNDS",function(D){return D?`${D} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),st("ERR_INVALID_ARG_TYPE",function(D,C){return`The "${D}" argument must be of type number. Received type ${typeof C}`},TypeError),st("ERR_OUT_OF_RANGE",function(D,C,I){let V=`The value of "${D}" is out of range.`,J=I;return Number.isInteger(I)&&Math.abs(I)>2**32?J=Et(String(I)):typeof I=="bigint"&&(J=String(I),(I>BigInt(2)**BigInt(32)||I<-(BigInt(2)**BigInt(32)))&&(J=Et(J)),J+="n"),V+=` It must be ${C}. Received ${J}`,V},RangeError);function Et(D){let C="",I=D.length;const V=D[0]==="-"?1:0;for(;I>=V+4;I-=3)C=`_${D.slice(I-3,I)}${C}`;return`${D.slice(0,I)}${C}`}function dt(D,C,I){Ct(C,"offset"),(D[C]===void 0||D[C+I]===void 0)&&L(C,D.length-(I+1))}function bn(D,C,I,V,J,fe){if(D>I||D<C){const me=typeof C=="bigint"?"n":"";let Ze;throw fe>3?C===0||C===BigInt(0)?Ze=`>= 0${me} and < 2${me} ** ${(fe+1)*8}${me}`:Ze=`>= -(2${me} ** ${(fe+1)*8-1}${me}) and < 2 ** ${(fe+1)*8-1}${me}`:Ze=`>= ${C}${me} and <= ${I}${me}`,new Je.ERR_OUT_OF_RANGE("value",Ze,D)}dt(V,J,fe)}function Ct(D,C){if(typeof D!="number")throw new Je.ERR_INVALID_ARG_TYPE(C,"number",D)}function L(D,C,I){throw Math.floor(D)!==D?(Ct(D,I),new Je.ERR_OUT_OF_RANGE(I||"offset","an integer",D)):C<0?new Je.ERR_BUFFER_OUT_OF_BOUNDS:new Je.ERR_OUT_OF_RANGE(I||"offset",`>= ${I?1:0} and <= ${C}`,D)}const xe=/[^+/0-9A-Za-z-_]/g;function ve(D){if(D=D.split("=")[0],D=D.trim().replace(xe,""),D.length<2)return"";for(;D.length%4!==0;)D=D+"=";return D}function Q(D,C){C=C||1/0;let I;const V=D.length;let J=null;const fe=[];for(let me=0;me<V;++me){if(I=D.charCodeAt(me),I>55295&&I<57344){if(!J){if(I>56319){(C-=3)>-1&&fe.push(239,191,189);continue}else if(me+1===V){(C-=3)>-1&&fe.push(239,191,189);continue}J=I;continue}if(I<56320){(C-=3)>-1&&fe.push(239,191,189),J=I;continue}I=(J-55296<<10|I-56320)+65536}else J&&(C-=3)>-1&&fe.push(239,191,189);if(J=null,I<128){if((C-=1)<0)break;fe.push(I)}else if(I<2048){if((C-=2)<0)break;fe.push(I>>6|192,I&63|128)}else if(I<65536){if((C-=3)<0)break;fe.push(I>>12|224,I>>6&63|128,I&63|128)}else if(I<1114112){if((C-=4)<0)break;fe.push(I>>18|240,I>>12&63|128,I>>6&63|128,I&63|128)}else throw new Error("Invalid code point")}return fe}function K(D){const C=[];for(let I=0;I<D.length;++I)C.push(D.charCodeAt(I)&255);return C}function se(D,C){let I,V,J;const fe=[];for(let me=0;me<D.length&&!((C-=2)<0);++me)I=D.charCodeAt(me),V=I>>8,J=I%256,fe.push(J),fe.push(V);return fe}function ke(D){return t.toByteArray(ve(D))}function Ee(D,C,I,V){let J;for(J=0;J<V&&!(J+I>=C.length||J>=D.length);++J)C[J+I]=D[J];return J}function he(D,C){return D instanceof C||D!=null&&D.constructor!=null&&D.constructor.name!=null&&D.constructor.name===C.name}function Re(D){return D!==D}const ze=function(){const D="0123456789abcdef",C=new Array(256);for(let I=0;I<16;++I){const V=I*16;for(let J=0;J<16;++J)C[V+J]=D[I]+D[J]}return C}();function Ie(D){return typeof BigInt>"u"?Ye:D}function Ye(){throw new Error("BigInt not supported")}})(oO);function qI(e,t){if(e.inserted[t.name]===void 0)return e.insert("",t,e.sheet,!0)}function KI(e,t,n){var r=[],i=ZS(e,r,n);return r.length<2?n:i+t(r)}var W7=function(t){var n=WA(t);n.sheet.speedy=function(o){this.isSpeedy=o},n.compat=!0;var r=function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];var h=wu(u,n.registered,void 0);return JS(n,h,!1),n.key+"-"+h.name},i=function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];var h=wu(u,n.registered),p="animation-"+h.name;return qI(n,{name:h.name,styles:"@keyframes "+p+"{"+h.styles+"}"}),p},a=function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];var h=wu(u,n.registered);qI(n,h)},s=function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];return KI(n.registered,r,G7(u))};return{css:r,cx:s,injectGlobal:a,keyframes:i,hydrate:function(l){l.forEach(function(u){n.inserted[u]=!0})},flush:function(){n.registered={},n.inserted={},n.sheet.flush()},sheet:n.sheet,cache:n,getRegisteredStyles:ZS.bind(null,n.registered),merge:KI.bind(null,n.registered,r)}},G7=function e(t){for(var n="",r=0;r<t.length;r++){var i=t[r];if(i!=null){var a=void 0;switch(typeof i){case"boolean":break;case"object":{if(Array.isArray(i))a=e(i);else{a="";for(var s in i)i[s]&&s&&(a&&(a+=" "),a+=s)}break}default:a=i}a&&(n&&(n+=" "),n+=a)}}return n},H7=W7({key:"css"}),uO=H7.cx,q7=function(t,n){var r=arguments;if(n==null||!tf.call(n,"css"))return Y.createElement.apply(void 0,r);var i=r.length,a=new Array(i);a[0]=tE,a[1]=eE(t,n);for(var s=2;s<i;s++)a[s]=r[s];return Y.createElement.apply(null,a)},K7=JA(function(e,t){var n=e.styles,r=wu([n],void 0,Y.useContext(eN)),i=Y.useRef();return B3(function(){var a=t.key+"-global",s=new t.sheet.constructor({key:a,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),o=!1,l=document.querySelector('style[data-emotion="'+a+" "+r.name+'"]');return t.sheet.tags.length&&(s.before=t.sheet.tags[0]),l!==null&&(o=!0,l.setAttribute("data-emotion",a),s.hydrate([l])),i.current=[s,o],function(){s.flush()}},[t]),B3(function(){var a=i.current,s=a[0],o=a[1];if(o){a[1]=!1;return}if(r.next!==void 0&&JS(t,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}t.insert("",r,s,!1)},[t,r.name]),null});function cO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return wu(t)}var jy=function(){var t=cO.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function Wi(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Wu(e){return!!e&&!!e[ei]}function ol(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===nj}(e)||Array.isArray(e)||!!e[n5]||!!(!((t=e.constructor)===null||t===void 0)&&t[n5])||KE(e)||YE(e))}function Eh(e,t,n){n===void 0&&(n=!1),dc(e)===0?(n?Object.keys:eC)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function dc(e){var t=e[ei];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:KE(e)?2:YE(e)?3:0}function Zx(e,t){return dc(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Y7(e,t){return dc(e)===2?e.get(t):e[t]}function dO(e,t,n){var r=dc(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function X7(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function KE(e){return ej&&e instanceof Map}function YE(e){return tj&&e instanceof Set}function Ro(e){return e.o||e.t}function XE(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=rj(e);delete t[ei];for(var n=eC(t),r=0;r<n.length;r++){var i=n[r],a=t[i];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function QE(e,t){return t===void 0&&(t=!1),ZE(e)||Wu(e)||!ol(e)||(dc(e)>1&&(e.set=e.add=e.clear=e.delete=Q7),Object.freeze(e),t&&Eh(e,function(n,r){return QE(r,!0)},!0)),e}function Q7(){Wi(2)}function ZE(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Sa(e){var t=ij[e];return t||Wi(18,e),t}function YI(){return Ch}function Cw(e,t){t&&(Sa("Patches"),e.u=[],e.s=[],e.v=t)}function Qg(e){Jx(e),e.p.forEach(Z7),e.p=null}function Jx(e){e===Ch&&(Ch=e.l)}function XI(e){return Ch={p:[],l:Ch,h:e,m:!0,_:0}}function Z7(e){var t=e[ei];t.i===0||t.i===1?t.j():t.g=!0}function _w(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||Sa("ES5").S(t,e,r),r?(n[ei].P&&(Qg(t),Wi(4)),ol(e)&&(e=Zg(t,e),t.l||Jg(t,e)),t.u&&Sa("Patches").M(n[ei].t,e,t.u,t.s)):e=Zg(t,n,[]),Qg(t),t.u&&t.v(t.u,t.s),e!==hO?e:void 0}function Zg(e,t,n){if(ZE(t))return t;var r=t[ei];if(!r)return Eh(t,function(o,l){return QI(e,r,t,o,l,n)},!0),t;if(r.A!==e)return t;if(!r.P)return Jg(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=XE(r.k):r.o,a=i,s=!1;r.i===3&&(a=new Set(i),i.clear(),s=!0),Eh(a,function(o,l){return QI(e,r,i,o,l,n,s)}),Jg(e,i,!1),n&&e.u&&Sa("Patches").N(r,n,e.u,e.s)}return r.o}function QI(e,t,n,r,i,a,s){if(Wu(i)){var o=Zg(e,i,a&&t&&t.i!==3&&!Zx(t.R,r)?a.concat(r):void 0);if(dO(n,r,o),!Wu(o))return;e.m=!1}else s&&n.add(i);if(ol(i)&&!ZE(i)){if(!e.h.D&&e._<1)return;Zg(e,i),t&&t.A.l||Jg(e,i)}}function Jg(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&QE(t,n)}function Tw(e,t){var n=e[ei];return(n?Ro(n):e)[t]}function ZI(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function e2(e){e.P||(e.P=!0,e.l&&e2(e.l))}function Iw(e){e.o||(e.o=XE(e.t))}function t2(e,t,n){var r=KE(t)?Sa("MapSet").F(t,n):YE(t)?Sa("MapSet").T(t,n):e.O?function(i,a){var s=Array.isArray(i),o={i:s?1:0,A:a?a.A:YI(),P:!1,I:!1,R:{},l:a,t:i,k:null,o:null,j:null,C:!1},l=o,u=n2;s&&(l=[o],u=bd);var c=Proxy.revocable(l,u),h=c.revoke,p=c.proxy;return o.k=p,o.j=h,p}(t,n):Sa("ES5").J(t,n);return(n?n.A:YI()).p.push(r),r}function J7(e){return Wu(e)||Wi(22,e),function t(n){if(!ol(n))return n;var r,i=n[ei],a=dc(n);if(i){if(!i.P&&(i.i<4||!Sa("ES5").K(i)))return i.t;i.I=!0,r=JI(n,a),i.I=!1}else r=JI(n,a);return Eh(r,function(s,o){i&&Y7(i.t,s)===o||dO(r,s,t(o))}),a===3?new Set(r):r}(e)}function JI(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return XE(e)}var e5,Ch,JE=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",ej=typeof Map<"u",tj=typeof Set<"u",t5=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",hO=JE?Symbol.for("immer-nothing"):((e5={})["immer-nothing"]=!0,e5),n5=JE?Symbol.for("immer-draftable"):"__$immer_draftable",ei=JE?Symbol.for("immer-state"):"__$immer_state",nj=""+Object.prototype.constructor,eC=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,rj=Object.getOwnPropertyDescriptors||function(e){var t={};return eC(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},ij={},n2={get:function(e,t){if(t===ei)return e;var n=Ro(e);if(!Zx(n,t))return function(i,a,s){var o,l=ZI(a,s);return l?"value"in l?l.value:(o=l.get)===null||o===void 0?void 0:o.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!ol(r)?r:r===Tw(e.t,t)?(Iw(e),e.o[t]=t2(e.A.h,r,e)):r},has:function(e,t){return t in Ro(e)},ownKeys:function(e){return Reflect.ownKeys(Ro(e))},set:function(e,t,n){var r=ZI(Ro(e),t);if(r?.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Tw(Ro(e),t),a=i?.[ei];if(a&&a.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(X7(n,i)&&(n!==void 0||Zx(e.t,t)))return!0;Iw(e),e2(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return Tw(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,Iw(e),e2(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Ro(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Wi(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Wi(12)}},bd={};Eh(n2,function(e,t){bd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),bd.deleteProperty=function(e,t){return bd.set.call(this,e,t,void 0)},bd.set=function(e,t,n){return n2.set.call(this,e[0],t,n,e[0])};var aj=function(){function e(n){var r=this;this.O=t5,this.D=!0,this.produce=function(i,a,s){if(typeof i=="function"&&typeof a!="function"){var o=a;a=i;var l=r;return function(y){var b=this;y===void 0&&(y=o);for(var v=arguments.length,x=Array(v>1?v-1:0),k=1;k<v;k++)x[k-1]=arguments[k];return l.produce(y,function(T){var P;return(P=a).call.apply(P,[b,T].concat(x))})}}var u;if(typeof a!="function"&&Wi(6),s!==void 0&&typeof s!="function"&&Wi(7),ol(i)){var c=XI(r),h=t2(r,i,void 0),p=!0;try{u=a(h),p=!1}finally{p?Qg(c):Jx(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(y){return Cw(c,s),_w(y,c)},function(y){throw Qg(c),y}):(Cw(c,s),_w(u,c))}if(!i||typeof i!="object"){if((u=a(i))===void 0&&(u=i),u===hO&&(u=void 0),r.D&&QE(u,!0),s){var m=[],g=[];Sa("Patches").M(i,u,m,g),s(m,g)}return u}Wi(21,i)},this.produceWithPatches=function(i,a){if(typeof i=="function")return function(u){for(var c=arguments.length,h=Array(c>1?c-1:0),p=1;p<c;p++)h[p-1]=arguments[p];return r.produceWithPatches(u,function(m){return i.apply(void 0,[m].concat(h))})};var s,o,l=r.produce(i,a,function(u,c){s=u,o=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,s,o]}):[l,s,o]},typeof n?.useProxies=="boolean"&&this.setUseProxies(n.useProxies),typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){ol(n)||Wi(8),Wu(n)&&(n=J7(n));var r=XI(this),i=t2(this,n,void 0);return i[ei].C=!0,Jx(r),i},t.finishDraft=function(n,r){var i=n&&n[ei],a=i.A;return Cw(a,r),_w(void 0,a)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!t5&&Wi(20),this.O=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var a=r[i];if(a.path.length===0&&a.op==="replace"){n=a.value;break}}i>-1&&(r=r.slice(i+1));var s=Sa("Patches").$;return Wu(n)?s(n,r):this.produce(n,function(o){return s(o,r)})},e}(),ti=new aj,sj=ti.produce;ti.produceWithPatches.bind(ti);ti.setAutoFreeze.bind(ti);ti.setUseProxies.bind(ti);ti.applyPatches.bind(ti);ti.createDraft.bind(ti);ti.finishDraft.bind(ti);const oj=sj;var fO="Expected a function",r5=0/0,lj="[object Symbol]",uj=/^\s+|\s+$/g,cj=/^[-+]0x[0-9a-f]+$/i,dj=/^0b[01]+$/i,hj=/^0o[0-7]+$/i,fj=parseInt,pj=typeof Hr=="object"&&Hr&&Hr.Object===Object&&Hr,mj=typeof self=="object"&&self&&self.Object===Object&&self,gj=pj||mj||Function("return this")(),yj=Object.prototype,vj=yj.toString,wj=Math.max,bj=Math.min,Pw=function(){return gj.Date.now()};function xj(e,t,n){var r,i,a,s,o,l,u=0,c=!1,h=!1,p=!0;if(typeof e!="function")throw new TypeError(fO);t=i5(t)||0,e0(n)&&(c=!!n.leading,h="maxWait"in n,a=h?wj(i5(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p);function m(R){var N=r,B=i;return r=i=void 0,u=R,s=e.apply(B,N),s}function g(R){return u=R,o=setTimeout(v,t),c?m(R):s}function y(R){var N=R-l,B=R-u,j=t-N;return h?bj(j,a-B):j}function b(R){var N=R-l,B=R-u;return l===void 0||N>=t||N<0||h&&B>=a}function v(){var R=Pw();if(b(R))return x(R);o=setTimeout(v,y(R))}function x(R){return o=void 0,p&&r?m(R):(r=i=void 0,s)}function k(){o!==void 0&&clearTimeout(o),u=0,r=l=i=o=void 0}function T(){return o===void 0?s:x(Pw())}function P(){var R=Pw(),N=b(R);if(r=arguments,i=this,l=R,N){if(o===void 0)return g(l);if(h)return o=setTimeout(v,t),m(l)}return o===void 0&&(o=setTimeout(v,t)),s}return P.cancel=k,P.flush=T,P}function kj(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(fO);return e0(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),xj(e,t,{leading:r,maxWait:t,trailing:i})}function e0(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Sj(e){return!!e&&typeof e=="object"}function Ej(e){return typeof e=="symbol"||Sj(e)&&vj.call(e)==lj}function i5(e){if(typeof e=="number")return e;if(Ej(e))return r5;if(e0(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=e0(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(uj,"");var n=dj.test(e);return n||hj.test(e)?fj(e.slice(2),n?2:8):cj.test(e)?r5:+e}var Cj=kj;const _j=Zi(Cj);function Tj(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=pO(t))&&(r&&(r+=" "),r+=n);return r}function pO(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=pO(e[r]))&&(n&&(n+=" "),n+=t);return n}var tC="-";function Ij(e){var t=Rj(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,i=r===void 0?{}:r;function a(o){var l=o.split(tC);return l[0]===""&&l.length!==1&&l.shift(),mO(l,t)||Pj(o)}function s(o,l){var u=n[o]||[];return l&&i[o]?[].concat(u,i[o]):u}return{getClassGroupId:a,getConflictingClassGroupIds:s}}function mO(e,t){if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),i=r?mO(e.slice(1),r):void 0;if(i)return i;if(t.validators.length!==0){var a=e.join(tC);return t.validators.find(function(s){var o=s.validator;return o(a)})?.classGroupId}}var a5=/^\[(.+)\]$/;function Pj(e){if(a5.test(e)){var t=a5.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function Rj(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},i=Nj(Object.entries(e.classGroups),n);return i.forEach(function(a){var s=a[0],o=a[1];r2(o,r,s,t)}),r}function r2(e,t,n,r){e.forEach(function(i){if(typeof i=="string"){var a=i===""?t:s5(t,i);a.classGroupId=n;return}if(typeof i=="function"){if(Aj(i)){r2(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(s){var o=s[0],l=s[1];r2(l,s5(t,o),n,r)})})}function s5(e,t){var n=e;return t.split(tC).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function Aj(e){return e.isThemeGetter}function Nj(e,t){return t?e.map(function(n){var r=n[0],i=n[1],a=i.map(function(s){return typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(function(o){var l=o[0],u=o[1];return[t+l,u]})):s});return[r,a]}):e}function Dj(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function i(a,s){n.set(a,s),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(s){var o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set:function(s,o){n.has(s)?n.set(s,o):i(s,o)}}}var gO="!";function Oj(e){var t=e.separator||":",n=t.length===1,r=t[0],i=t.length;return function(s){for(var o=[],l=0,u=0,c,h=0;h<s.length;h++){var p=s[h];if(l===0){if(p===r&&(n||s.slice(h,h+i)===t)){o.push(s.slice(u,h)),u=h+i;continue}if(p==="/"){c=h;continue}}p==="["?l++:p==="]"&&l--}var m=o.length===0?s:s.substring(u),g=m.startsWith(gO),y=g?m.substring(1):m,b=c&&c>u?c-u:void 0;return{modifiers:o,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:b}}}function Mj(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var i=r[0]==="[";i?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function Lj(e){return{cache:Dj(e.cacheSize),splitModifiers:Oj(e),...Ij(e)}}var Fj=/\s+/;function Bj(e,t){var n=t.splitModifiers,r=t.getClassGroupId,i=t.getConflictingClassGroupIds,a=new Set;return e.trim().split(Fj).map(function(s){var o=n(s),l=o.modifiers,u=o.hasImportantModifier,c=o.baseClassName,h=o.maybePostfixModifierPosition,p=r(h?c.substring(0,h):c),m=!!h;if(!p){if(!h)return{isTailwindClass:!1,originalClassName:s};if(p=r(c),!p)return{isTailwindClass:!1,originalClassName:s};m=!1}var g=Mj(l).join(":"),y=u?g+gO:g;return{isTailwindClass:!0,modifierId:y,classGroupId:p,originalClassName:s,hasPostfixModifier:m}}).reverse().filter(function(s){if(!s.isTailwindClass)return!0;var o=s.modifierId,l=s.classGroupId,u=s.hasPostfixModifier,c=o+l;return a.has(c)?!1:(a.add(c),i(l,u).forEach(function(h){return a.add(o+h)}),!0)}).reverse().map(function(s){return s.originalClassName}).join(" ")}function zj(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i,a,s=o;function o(u){var c=t[0],h=t.slice(1),p=h.reduce(function(m,g){return g(m)},c());return r=Lj(p),i=r.cache.get,a=r.cache.set,s=l,l(u)}function l(u){var c=i(u);if(c)return c;var h=Bj(u,r);return a(u,h),h}return function(){return s(Tj.apply(null,arguments))}}function en(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var yO=/^\[(?:([a-z-]+):)?(.+)\]$/i,Uj=/^\d+\/\d+$/,jj=new Set(["px","full","screen"]),$j=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Vj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))/,Wj=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Bi(e){return Uo(e)||jj.has(e)||Uj.test(e)||xs(e)}function xs(e){return fl(e,"length",Xj)}function Gj(e){return fl(e,"size",vO)}function Hj(e){return fl(e,"position",vO)}function qj(e){return fl(e,"url",Qj)}function Up(e){return fl(e,"number",Uo)}function Uo(e){return!Number.isNaN(Number(e))}function Kj(e){return e.endsWith("%")&&Uo(e.slice(0,-1))}function Zc(e){return o5(e)||fl(e,"number",o5)}function kn(e){return yO.test(e)}function Jc(){return!0}function ys(e){return $j.test(e)}function Yj(e){return fl(e,"",Zj)}function fl(e,t,n){var r=yO.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function Xj(e){return Vj.test(e)}function vO(){return!1}function Qj(e){return e.startsWith("url(")}function o5(e){return Number.isInteger(Number(e))}function Zj(e){return Wj.test(e)}function Jj(){var e=en("colors"),t=en("spacing"),n=en("blur"),r=en("brightness"),i=en("borderColor"),a=en("borderRadius"),s=en("borderSpacing"),o=en("borderWidth"),l=en("contrast"),u=en("grayscale"),c=en("hueRotate"),h=en("invert"),p=en("gap"),m=en("gradientColorStops"),g=en("gradientColorStopPositions"),y=en("inset"),b=en("margin"),v=en("opacity"),x=en("padding"),k=en("saturate"),T=en("scale"),P=en("sepia"),R=en("skew"),N=en("space"),B=en("translate"),j=function(){return["auto","contain","none"]},W=function(){return["auto","hidden","clip","visible","scroll"]},H=function(){return["auto",t]},z=function(){return["",Bi]},$=function(){return["auto",Uo,kn]},O=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},te=function(){return["solid","dashed","dotted","double","none"]},X=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},le=function(){return["start","end","center","between","around","evenly","stretch"]},de=function(){return["","0",kn]},ie=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},pe=function(){return[Uo,Up]},F=function(){return[Uo,kn]};return{cacheSize:500,theme:{colors:[Jc],spacing:[Bi],blur:["none","",ys,xs],brightness:pe(),borderColor:[e],borderRadius:["none","","full",ys,xs],borderSpacing:[t],borderWidth:z(),contrast:pe(),grayscale:de(),hueRotate:F(),invert:de(),gap:[t],gradientColorStops:[e],gradientColorStopPositions:[Kj,xs],inset:H(),margin:H(),opacity:pe(),padding:[t],saturate:pe(),scale:pe(),sepia:de(),skew:F(),space:[t],translate:[t]},classGroups:{aspect:[{aspect:["auto","square","video",kn]}],container:["container"],columns:[{columns:[ys]}],"break-after":[{"break-after":ie()}],"break-before":[{"break-before":ie()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(O(),[kn])}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Zc]}],basis:[{basis:[t]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",kn]}],grow:[{grow:de()}],shrink:[{shrink:de()}],order:[{order:["first","last","none",Zc]}],"grid-cols":[{"grid-cols":[Jc]}],"col-start-end":[{col:["auto",{span:[Zc]},kn]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Jc]}],"row-start-end":[{row:["auto",{span:[Zc]},kn]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",kn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",kn]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal"].concat(le())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(le(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(le(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",t]}],"min-w":[{"min-w":["min","max","fit",Bi]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[ys]},ys,xs]}],h:[{h:[t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Bi]}],"max-h":[{"max-h":[t,"min","max","fit"]}],"font-size":[{text:["base",ys,xs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Up]}],"font-family":[{font:[Jc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",xs]}],"line-clamp":[{"line-clamp":["none",Uo,Up]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Bi]}],"list-image":[{"list-image":["none",kn]}],"list-style-type":[{list:["none","disc","decimal",kn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(te(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Bi]}],"underline-offset":[{"underline-offset":["auto",Bi]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:[t]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xs]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",kn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(O(),[Hj])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Gj]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},qj]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[].concat(te(),["hidden"])}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:te()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(te())}],"outline-offset":[{"outline-offset":[Bi]}],"outline-w":[{outline:[Bi]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Bi]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ys,Yj]}],"shadow-color":[{shadow:[Jc]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":X()}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ys,kn]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[h]}],saturate:[{saturate:[k]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",kn]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",kn]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",kn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[Zc,kn]}],"translate-x":[{"translate-x":[B]}],"translate-y":[{"translate-y":[B]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",kn]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",kn]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":[t]}],"scroll-mx":[{"scroll-mx":[t]}],"scroll-my":[{"scroll-my":[t]}],"scroll-ms":[{"scroll-ms":[t]}],"scroll-me":[{"scroll-me":[t]}],"scroll-mt":[{"scroll-mt":[t]}],"scroll-mr":[{"scroll-mr":[t]}],"scroll-mb":[{"scroll-mb":[t]}],"scroll-ml":[{"scroll-ml":[t]}],"scroll-p":[{"scroll-p":[t]}],"scroll-px":[{"scroll-px":[t]}],"scroll-py":[{"scroll-py":[t]}],"scroll-ps":[{"scroll-ps":[t]}],"scroll-pe":[{"scroll-pe":[t]}],"scroll-pt":[{"scroll-pt":[t]}],"scroll-pr":[{"scroll-pr":[t]}],"scroll-pb":[{"scroll-pb":[t]}],"scroll-pl":[{"scroll-pl":[t]}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",kn]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Bi,Up]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var e$=zj(Jj),i2;(e=>{e.create=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const n=Math.random()*16|0;return(t=="x"?n:n&3|8).toString(16)})})(i2||(i2={}));globalThis.ID=i2;globalThis.Buffer=oO.Buffer;globalThis.React=Ve;globalThis.useState=Ve.useState;globalThis.useMemo=Ve.useMemo;globalThis.useCallback=Ve.useCallback;globalThis.useEffect=Ve.useEffect;globalThis.useRef=Ve.useRef;globalThis.useReducer=Ve.useReducer;globalThis.useContext=Ve.useContext;globalThis.useLayoutEffect=Ve.useLayoutEffect;globalThis.useDebugValue=Ve.useDebugValue;globalThis.keys=function(...e){return e.map(t=>`${t}`).join(".")};globalThis.css=cO;globalThis.classes=function(...e){return e$(uO(...e))};globalThis.spy=function(e){return console.log(e),e};globalThis.spyJSON=function(e){return console.log(JSON.stringify(e,null,2)),e};globalThis.doNothing=()=>{};globalThis.clamp=function(e,t,n){return Math.min(Math.max(e,t),n)};globalThis.copy=oj;globalThis.throttle=_j;globalThis.toJSON=function(e){try{return JSON.stringify(e,null,2)}catch{return`{ "message": "Failed to parse JSON: \`${e}\`" }`}};/**
 * @remix-run/router v1.6.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _h(){return _h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_h.apply(this,arguments)}var Fs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Fs||(Fs={}));const l5="popstate";function t$(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:s,hash:o}=r.location;return a2("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:t0(i)}return r$(t,n,null,e)}function Gn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function nC(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function n$(){return Math.random().toString(36).substr(2,8)}function u5(e,t){return{usr:e.state,key:e.key,idx:t}}function a2(e,t,n,r){return n===void 0&&(n=null),_h({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?hc(t):t,{state:n,key:t&&t.key||r||n$()})}function t0(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function hc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function r$(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o=Fs.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(_h({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function h(){o=Fs.Pop;let b=c(),v=b==null?null:b-u;u=b,l&&l({action:o,location:y.location,delta:v})}function p(b,v){o=Fs.Push;let x=a2(y.location,b,v);n&&n(x,b),u=c()+1;let k=u5(x,u),T=y.createHref(x);try{s.pushState(k,"",T)}catch{i.location.assign(T)}a&&l&&l({action:o,location:y.location,delta:1})}function m(b,v){o=Fs.Replace;let x=a2(y.location,b,v);n&&n(x,b),u=c();let k=u5(x,u),T=y.createHref(x);s.replaceState(k,"",T),a&&l&&l({action:o,location:y.location,delta:0})}function g(b){let v=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof b=="string"?b:t0(b);return Gn(v,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,v)}let y={get action(){return o},get location(){return e(i,s)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(l5,h),l=b,()=>{i.removeEventListener(l5,h),l=null}},createHref(b){return t(i,b)},createURL:g,encodeLocation(b){let v=g(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:m,go(b){return s.go(b)}};return y}var c5;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(c5||(c5={}));function i$(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?hc(t):t,i=rC(r.pathname||"/",n);if(i==null)return null;let a=wO(e);a$(a);let s=null;for(let o=0;s==null&&o<a.length;++o)s=p$(a[o],y$(i));return s}function wO(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(Gn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ks([r,l.relativePath]),c=n.concat(l);a.children&&a.children.length>0&&(Gn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),wO(a.children,t,c,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:h$(u,a.index),routesMeta:c})};return e.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of bO(a.path))i(a,s,l)}),t}function bO(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=bO(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function a$(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:f$(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const s$=/^:\w+$/,o$=3,l$=2,u$=1,c$=10,d$=-2,d5=e=>e==="*";function h$(e,t){let n=e.split("/"),r=n.length;return n.some(d5)&&(r+=d$),t&&(r+=l$),n.filter(i=>!d5(i)).reduce((i,a)=>i+(s$.test(a)?o$:a===""?u$:c$),r)}function f$(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function p$(e,t){let{routesMeta:n}=e,r={},i="/",a=[];for(let s=0;s<n.length;++s){let o=n[s],l=s===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=m$({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=o.route;a.push({params:r,pathname:Ks([i,c.pathname]),pathnameBase:x$(Ks([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=Ks([i,c.pathnameBase]))}return a}function m$(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=g$(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,c,h)=>{if(c==="*"){let p=o[h]||"";s=a.slice(0,a.length-p.length).replace(/(.)\/+$/,"$1")}return u[c]=v$(o[h]||"",c),u},{}),pathname:a,pathnameBase:s,pattern:e}}function g$(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),nC(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,o)=>(r.push(o),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function y$(e){try{return decodeURI(e)}catch(t){return nC(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function v$(e,t){try{return decodeURIComponent(e)}catch(n){return nC(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function rC(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function w$(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?hc(e):e;return{pathname:n?n.startsWith("/")?n:b$(n,t):t,search:k$(r),hash:S$(i)}}function b$(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Rw(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xO(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function kO(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=hc(e):(i=_h({},e),Gn(!i.pathname||!i.pathname.includes("?"),Rw("?","pathname","search",i)),Gn(!i.pathname||!i.pathname.includes("#"),Rw("#","pathname","hash",i)),Gn(!i.search||!i.search.includes("#"),Rw("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,o;if(r||s==null)o=n;else{let h=t.length-1;if(s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}o=h>=0?t[h]:"/"}let l=w$(i,o),u=s&&s!=="/"&&s.endsWith("/"),c=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Ks=e=>e.join("/").replace(/\/\/+/g,"/"),x$=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),k$=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,S$=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function E$(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const SO=["post","put","patch","delete"];new Set(SO);const C$=["get",...SO];new Set(C$);/**
 * React Router v6.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function n0(){return n0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n0.apply(this,arguments)}const iC=Y.createContext(null),EO=Y.createContext(null),fc=Y.createContext(null),$y=Y.createContext(null),pc=Y.createContext({outlet:null,matches:[]}),CO=Y.createContext(null);function _$(e,t){let{relative:n}=t===void 0?{}:t;mc()||Gn(!1);let{basename:r,navigator:i}=Y.useContext(fc),{hash:a,pathname:s,search:o}=TO(e,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Ks([r,s])),i.createHref({pathname:l,search:o,hash:a})}function mc(){return Y.useContext($y)!=null}function ro(){return mc()||Gn(!1),Y.useContext($y).location}function _O(e){Y.useContext(fc).static||Y.useLayoutEffect(e)}function aC(){return Y.useContext(iC)!=null?z$():T$()}function T$(){mc()||Gn(!1);let{basename:e,navigator:t}=Y.useContext(fc),{matches:n}=Y.useContext(pc),{pathname:r}=ro(),i=JSON.stringify(xO(n).map(o=>o.pathnameBase)),a=Y.useRef(!1);return _O(()=>{a.current=!0}),Y.useCallback(function(o,l){if(l===void 0&&(l={}),!a.current)return;if(typeof o=="number"){t.go(o);return}let u=kO(o,JSON.parse(i),r,l.relative==="path");e!=="/"&&(u.pathname=u.pathname==="/"?e:Ks([e,u.pathname])),(l.replace?t.replace:t.push)(u,l.state,l)},[e,t,i,r])}function TO(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=Y.useContext(pc),{pathname:i}=ro(),a=JSON.stringify(xO(r).map(s=>s.pathnameBase));return Y.useMemo(()=>kO(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function I$(e,t){return P$(e,t)}function P$(e,t,n){mc()||Gn(!1);let{navigator:r}=Y.useContext(fc),{matches:i}=Y.useContext(pc),a=i[i.length-1],s=a?a.params:{};a&&a.pathname;let o=a?a.pathnameBase:"/";a&&a.route;let l=ro(),u;if(t){var c;let y=typeof t=="string"?hc(t):t;o==="/"||(c=y.pathname)!=null&&c.startsWith(o)||Gn(!1),u=y}else u=l;let h=u.pathname||"/",p=o==="/"?h:h.slice(o.length)||"/",m=i$(e,{pathname:p}),g=O$(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:Ks([o,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?o:Ks([o,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n);return t&&g?Y.createElement($y.Provider,{value:{location:n0({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Fs.Pop}},g):g}function R$(){let e=B$(),t=E$(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},t),n?Y.createElement("pre",{style:i},n):null,a)}const A$=Y.createElement(R$,null);class N$ extends Y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?Y.createElement(pc.Provider,{value:this.props.routeContext},Y.createElement(CO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function D$(e){let{routeContext:t,match:n,children:r}=e,i=Y.useContext(iC);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),Y.createElement(pc.Provider,{value:t},r)}function O$(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let a=e,s=(r=n)==null?void 0:r.errors;if(s!=null){let o=a.findIndex(l=>l.route.id&&s?.[l.route.id]);o>=0||Gn(!1),a=a.slice(0,Math.min(a.length,o+1))}return a.reduceRight((o,l,u)=>{let c=l.route.id?s?.[l.route.id]:null,h=null;n&&(h=l.route.errorElement||A$);let p=t.concat(a.slice(0,u+1)),m=()=>{let g;return c?g=h:l.route.element?g=l.route.element:g=o,Y.createElement(D$,{match:l,routeContext:{outlet:o,matches:p},children:g})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?Y.createElement(N$,{location:n.location,revalidation:n.revalidation,component:h,error:c,children:m(),routeContext:{outlet:null,matches:p}}):m()},null)}var s2;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"})(s2||(s2={}));var Th;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"})(Th||(Th={}));function M$(e){let t=Y.useContext(iC);return t||Gn(!1),t}function L$(e){let t=Y.useContext(EO);return t||Gn(!1),t}function F$(e){let t=Y.useContext(pc);return t||Gn(!1),t}function IO(e){let t=F$(),n=t.matches[t.matches.length-1];return n.route.id||Gn(!1),n.route.id}function B$(){var e;let t=Y.useContext(CO),n=L$(Th.UseRouteError),r=IO(Th.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function z$(){let{router:e}=M$(s2.UseNavigateStable),t=IO(Th.UseNavigateStable),n=Y.useRef(!1);return _O(()=>{n.current=!0}),Y.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,n0({fromRouteId:t},a)))},[e,t])}function U$(e){let{to:t,replace:n,state:r,relative:i}=e;mc()||Gn(!1);let a=Y.useContext(EO),s=aC();return Y.useEffect(()=>{a&&a.navigation.state!=="idle"||s(t,{replace:n,state:r,relative:i})}),null}function j$(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Fs.Pop,navigator:a,static:s=!1}=e;mc()&&Gn(!1);let o=t.replace(/^\/*/,"/"),l=Y.useMemo(()=>({basename:o,navigator:a,static:s}),[o,a,s]);typeof r=="string"&&(r=hc(r));let{pathname:u="/",search:c="",hash:h="",state:p=null,key:m="default"}=r,g=Y.useMemo(()=>{let y=rC(u,o);return y==null?null:{location:{pathname:y,search:c,hash:h,state:p,key:m},navigationType:i}},[o,u,c,h,p,m,i]);return g==null?null:Y.createElement(fc.Provider,{value:l},Y.createElement($y.Provider,{children:n,value:g}))}var h5;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(h5||(h5={}));new Promise(()=>{});/**
 * React Router DOM v6.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function o2(){return o2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o2.apply(this,arguments)}function $$(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function V$(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function W$(e,t){return e.button===0&&(!t||t==="_self")&&!V$(e)}const G$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function H$(e){let{basename:t,children:n,window:r}=e,i=Y.useRef();i.current==null&&(i.current=t$({window:r,v5Compat:!0}));let a=i.current,[s,o]=Y.useState({action:a.action,location:a.location});return Y.useLayoutEffect(()=>a.listen(o),[a]),Y.createElement(j$,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:a})}const q$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",K$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vy=Y.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:c}=t,h=$$(t,G$),{basename:p}=Y.useContext(fc),m,g=!1;if(typeof u=="string"&&K$.test(u)&&(m=u,q$))try{let x=new URL(window.location.href),k=u.startsWith("//")?new URL(x.protocol+u):new URL(u),T=rC(k.pathname,p);k.origin===x.origin&&T!=null?u=T+k.search+k.hash:g=!0}catch{}let y=_$(u,{relative:i}),b=Y$(u,{replace:s,state:o,target:l,preventScrollReset:c,relative:i});function v(x){r&&r(x),x.defaultPrevented||b(x)}return Y.createElement("a",o2({},h,{href:m||y,onClick:g||a?r:v,ref:n,target:l}))});var f5;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(f5||(f5={}));var p5;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(p5||(p5={}));function Y$(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s}=t===void 0?{}:t,o=aC(),l=ro(),u=TO(e,{relative:s});return Y.useCallback(c=>{if(W$(c,n)){c.preventDefault();let h=r!==void 0?r:t0(l)===t0(u);o(e,{replace:h,state:i,preventScrollReset:a,relative:s})}},[l,o,u,r,i,n,e,a,s])}const m5=e=>{let t;const n=new Set,r=(l,u)=>{const c=typeof l=="function"?l(t):l;if(!Object.is(c,t)){const h=t;t=u??typeof c!="object"?c:Object.assign({},t,c),n.forEach(p=>p(t,h))}},i=()=>t,o={setState:r,getState:i,subscribe:l=>(n.add(l),()=>n.delete(l)),destroy:()=>{({VITE_USE_COMFYUI_PLUGIN:"true",VITE_GIT_HASH:"1fd0dce2a885646a25a052f41aa9e5d2456cbd89",BASE_URL:"/stablestudio/",MODE:"preview",DEV:!1,PROD:!0,SSR:!1}&&"preview")!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return t=e(r,i,o),o},PO=e=>e?m5(e):m5;var RO={exports:{}},AO={},NO={exports:{}},DO={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gu=Y;function X$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Q$=typeof Object.is=="function"?Object.is:X$,Z$=Gu.useState,J$=Gu.useEffect,eV=Gu.useLayoutEffect,tV=Gu.useDebugValue;function nV(e,t){var n=t(),r=Z$({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return eV(function(){i.value=n,i.getSnapshot=t,Aw(i)&&a({inst:i})},[e,n,t]),J$(function(){return Aw(i)&&a({inst:i}),e(function(){Aw(i)&&a({inst:i})})},[e]),tV(n),n}function Aw(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Q$(e,n)}catch{return!0}}function rV(e,t){return t()}var iV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?rV:nV;DO.useSyncExternalStore=Gu.useSyncExternalStore!==void 0?Gu.useSyncExternalStore:iV;NO.exports=DO;var OO=NO.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy=Y,aV=OO;function sV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var oV=typeof Object.is=="function"?Object.is:sV,lV=aV.useSyncExternalStore,uV=Wy.useRef,cV=Wy.useEffect,dV=Wy.useMemo,hV=Wy.useDebugValue;AO.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=uV(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=dV(function(){function l(m){if(!u){if(u=!0,c=m,m=r(m),i!==void 0&&s.hasValue){var g=s.value;if(i(g,m))return h=g}return h=m}if(g=h,oV(c,m))return g;var y=r(m);return i!==void 0&&i(g,y)?g:(c=m,h=y)}var u=!1,c,h,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,i]);var o=lV(e,a[0],a[1]);return cV(function(){s.hasValue=!0,s.value=o},[o]),hV(o),o};RO.exports=AO;var fV=RO.exports;const pV=Zi(fV),{useSyncExternalStoreWithSelector:mV}=pV;function sC(e,t=e.getState,n){const r=mV(e.subscribe,e.getState,e.getServerState||e.getState,t,n);return Y.useDebugValue(r),r}const g5=e=>{({VITE_USE_COMFYUI_PLUGIN:"true",VITE_GIT_HASH:"1fd0dce2a885646a25a052f41aa9e5d2456cbd89",BASE_URL:"/stablestudio/",MODE:"preview",DEV:!1,PROD:!0,SSR:!1}&&"preview")!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?PO(e):e,n=(r,i)=>sC(t,r,i);return Object.assign(n,t),n},of=e=>e?g5(e):g5;var gV=e=>(({VITE_USE_COMFYUI_PLUGIN:"true",VITE_GIT_HASH:"1fd0dce2a885646a25a052f41aa9e5d2456cbd89",BASE_URL:"/stablestudio/",MODE:"preview",DEV:!1,PROD:!0,SSR:!1}&&"preview")!=="production"&&console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`."),of(e));const yV=Object.freeze(Object.defineProperty({__proto__:null,create:of,createStore:PO,default:gV,useStore:sC},Symbol.toStringTag,{value:"Module"}));function vV(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}var tt;(e=>{e.create=of,e.shallow=vV,e.useStore=sC})(tt||(tt={}));var wV=Math.PI/180;function bV(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const _u=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},He={_global:_u,version:"8.4.3",isBrowser:bV(),isUnminified:/param/.test(function(e){}.toString()),dblClickWindow:400,getAngle(e){return He.angleDeg?e*wV:e},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return He.DD.isDragging},isDragReady(){return!!He.DD.node},releaseCanvasOnDestroy:!0,document:_u.document,_injectGlobal(e){_u.Konva=e}},gn=e=>{He[e.prototype.getClassName()]=e};He._injectGlobal(He);class qr{constructor(t=[1,0,0,1,0,0]){this.dirty=!1,this.m=t&&t.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new qr(this.m)}copyInto(t){t.m[0]=this.m[0],t.m[1]=this.m[1],t.m[2]=this.m[2],t.m[3]=this.m[3],t.m[4]=this.m[4],t.m[5]=this.m[5]}point(t){var n=this.m;return{x:n[0]*t.x+n[2]*t.y+n[4],y:n[1]*t.x+n[3]*t.y+n[5]}}translate(t,n){return this.m[4]+=this.m[0]*t+this.m[2]*n,this.m[5]+=this.m[1]*t+this.m[3]*n,this}scale(t,n){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=n,this.m[3]*=n,this}rotate(t){var n=Math.cos(t),r=Math.sin(t),i=this.m[0]*n+this.m[2]*r,a=this.m[1]*n+this.m[3]*r,s=this.m[0]*-r+this.m[2]*n,o=this.m[1]*-r+this.m[3]*n;return this.m[0]=i,this.m[1]=a,this.m[2]=s,this.m[3]=o,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(t,n){var r=this.m[0]+this.m[2]*n,i=this.m[1]+this.m[3]*n,a=this.m[2]+this.m[0]*t,s=this.m[3]+this.m[1]*t;return this.m[0]=r,this.m[1]=i,this.m[2]=a,this.m[3]=s,this}multiply(t){var n=this.m[0]*t.m[0]+this.m[2]*t.m[1],r=this.m[1]*t.m[0]+this.m[3]*t.m[1],i=this.m[0]*t.m[2]+this.m[2]*t.m[3],a=this.m[1]*t.m[2]+this.m[3]*t.m[3],s=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],o=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=a,this.m[4]=s,this.m[5]=o,this}invert(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),n=this.m[3]*t,r=-this.m[1]*t,i=-this.m[2]*t,a=this.m[0]*t,s=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),o=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=a,this.m[4]=s,this.m[5]=o,this}getMatrix(){return this.m}decompose(){var t=this.m[0],n=this.m[1],r=this.m[2],i=this.m[3],a=this.m[4],s=this.m[5],o=t*i-n*r;let l={x:a,y:s,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(t!=0||n!=0){var u=Math.sqrt(t*t+n*n);l.rotation=n>0?Math.acos(t/u):-Math.acos(t/u),l.scaleX=u,l.scaleY=o/u,l.skewX=(t*r+n*i)/o,l.skewY=0}else if(r!=0||i!=0){var c=Math.sqrt(r*r+i*i);l.rotation=Math.PI/2-(i>0?Math.acos(-r/c):-Math.acos(r/c)),l.scaleX=o/c,l.scaleY=c,l.skewX=0,l.skewY=(t*r+n*i)/o}return l.rotation=ce._getRotation(l.rotation),l}}var xV="[object Array]",kV="[object Number]",SV="[object String]",EV="[object Boolean]",CV=Math.PI/180,_V=180/Math.PI,Nw="#",TV="",IV="0",PV="Konva warning: ",y5="Konva error: ",RV="rgb(",Dw={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},AV=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,jp=[];const NV=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(e){setTimeout(e,60)},ce={_isElement(e){return!!(e&&e.nodeType==1)},_isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)},_isPlainObject(e){return!!e&&e.constructor===Object},_isArray(e){return Object.prototype.toString.call(e)===xV},_isNumber(e){return Object.prototype.toString.call(e)===kV&&!isNaN(e)&&isFinite(e)},_isString(e){return Object.prototype.toString.call(e)===SV},_isBoolean(e){return Object.prototype.toString.call(e)===EV},isObject(e){return e instanceof Object},isValidSelector(e){if(typeof e!="string")return!1;var t=e[0];return t==="#"||t==="."||t===t.toUpperCase()},_sign(e){return e===0||e>0?1:-1},requestAnimFrame(e){jp.push(e),jp.length===1&&NV(function(){const t=jp;jp=[],t.forEach(function(n){n()})})},createCanvasElement(){var e=document.createElement("canvas");try{e.style=e.style||{}}catch{}return e},createImageElement(){return document.createElement("img")},_isInDocument(e){for(;e=e.parentNode;)if(e==document)return!0;return!1},_urlToImage(e,t){var n=ce.createImageElement();n.onload=function(){t(n)},n.src=e},_rgbToHex(e,t,n){return((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1)},_hexToRgb(e){e=e.replace(Nw,TV);var t=parseInt(e,16);return{r:t>>16&255,g:t>>8&255,b:t&255}},getRandomColor(){for(var e=(Math.random()*16777215<<0).toString(16);e.length<6;)e=IV+e;return Nw+e},getRGB(e){var t;return e in Dw?(t=Dw[e],{r:t[0],g:t[1],b:t[2]}):e[0]===Nw?this._hexToRgb(e.substring(1)):e.substr(0,4)===RV?(t=AV.exec(e.replace(/ /g,"")),{r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10)}):{r:0,g:0,b:0}},colorToRGBA(e){return e=e||"black",ce._namedColorToRBA(e)||ce._hex3ColorToRGBA(e)||ce._hex4ColorToRGBA(e)||ce._hex6ColorToRGBA(e)||ce._hex8ColorToRGBA(e)||ce._rgbColorToRGBA(e)||ce._rgbaColorToRGBA(e)||ce._hslColorToRGBA(e)},_namedColorToRBA(e){var t=Dw[e.toLowerCase()];return t?{r:t[0],g:t[1],b:t[2],a:1}:null},_rgbColorToRGBA(e){if(e.indexOf("rgb(")===0){e=e.match(/rgb\(([^)]+)\)/)[1];var t=e.split(/ *, */).map(Number);return{r:t[0],g:t[1],b:t[2],a:1}}},_rgbaColorToRGBA(e){if(e.indexOf("rgba(")===0){e=e.match(/rgba\(([^)]+)\)/)[1];var t=e.split(/ *, */).map((n,r)=>n.slice(-1)==="%"?r===3?parseInt(n)/100:parseInt(n)/100*255:Number(n));return{r:t[0],g:t[1],b:t[2],a:t[3]}}},_hex8ColorToRGBA(e){if(e[0]==="#"&&e.length===9)return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16),a:parseInt(e.slice(7,9),16)/255}},_hex6ColorToRGBA(e){if(e[0]==="#"&&e.length===7)return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16),a:1}},_hex4ColorToRGBA(e){if(e[0]==="#"&&e.length===5)return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:parseInt(e[4]+e[4],16)/255}},_hex3ColorToRGBA(e){if(e[0]==="#"&&e.length===4)return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:1}},_hslColorToRGBA(e){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(e)){const[t,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e),r=Number(n[0])/360,i=Number(n[1])/100,a=Number(n[2])/100;let s,o,l;if(i===0)return l=a*255,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};a<.5?s=a*(1+i):s=a+i-a*i;const u=2*a-s,c=[0,0,0];for(let h=0;h<3;h++)o=r+1/3*-(h-1),o<0&&o++,o>1&&o--,6*o<1?l=u+(s-u)*6*o:2*o<1?l=s:3*o<2?l=u+(s-u)*(2/3-o)*6:l=u,c[h]=l*255;return{r:Math.round(c[0]),g:Math.round(c[1]),b:Math.round(c[2]),a:1}}},haveIntersection(e,t){return!(t.x>e.x+e.width||t.x+t.width<e.x||t.y>e.y+e.height||t.y+t.height<e.y)},cloneObject(e){var t={};for(var n in e)this._isPlainObject(e[n])?t[n]=this.cloneObject(e[n]):this._isArray(e[n])?t[n]=this.cloneArray(e[n]):t[n]=e[n];return t},cloneArray(e){return e.slice(0)},degToRad(e){return e*CV},radToDeg(e){return e*_V},_degToRad(e){return ce.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),ce.degToRad(e)},_radToDeg(e){return ce.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),ce.radToDeg(e)},_getRotation(e){return He.angleDeg?ce.radToDeg(e):e},_capitalize(e){return e.charAt(0).toUpperCase()+e.slice(1)},throw(e){throw new Error(y5+e)},error(e){console.error(y5+e)},warn(e){He.showWarnings&&console.warn(PV+e)},each(e,t){for(var n in e)t(n,e[n])},_inRange(e,t,n){return t<=e&&e<n},_getProjectionToSegment(e,t,n,r,i,a){var s,o,l,u=(e-n)*(e-n)+(t-r)*(t-r);if(u==0)s=e,o=t,l=(i-n)*(i-n)+(a-r)*(a-r);else{var c=((i-e)*(n-e)+(a-t)*(r-t))/u;c<0?(s=e,o=t,l=(e-i)*(e-i)+(t-a)*(t-a)):c>1?(s=n,o=r,l=(n-i)*(n-i)+(r-a)*(r-a)):(s=e+c*(n-e),o=t+c*(r-t),l=(s-i)*(s-i)+(o-a)*(o-a))}return[s,o,l]},_getProjectionToLine(e,t,n){var r=ce.cloneObject(e),i=Number.MAX_VALUE;return t.forEach(function(a,s){if(!(!n&&s===t.length-1)){var o=t[(s+1)%t.length],l=ce._getProjectionToSegment(a.x,a.y,o.x,o.y,e.x,e.y),u=l[0],c=l[1],h=l[2];h<i&&(r.x=u,r.y=c,i=h)}}),r},_prepareArrayForTween(e,t,n){var r,i=[],a=[];if(e.length>t.length){var s=t;t=e,e=s}for(r=0;r<e.length;r+=2)i.push({x:e[r],y:e[r+1]});for(r=0;r<t.length;r+=2)a.push({x:t[r],y:t[r+1]});var o=[];return a.forEach(function(l){var u=ce._getProjectionToLine(l,i,n);o.push(u.x),o.push(u.y)}),o},_prepareToStringify(e){var t;e.visitedByCircularReferenceRemoval=!0;for(var n in e)if(e.hasOwnProperty(n)&&e[n]&&typeof e[n]=="object"){if(t=Object.getOwnPropertyDescriptor(e,n),e[n].visitedByCircularReferenceRemoval||ce._isElement(e[n]))if(t.configurable)delete e[n];else return null;else if(ce._prepareToStringify(e[n])===null)if(t.configurable)delete e[n];else return null}return delete e.visitedByCircularReferenceRemoval,e},_assign(e,t){for(var n in t)e[n]=t[n];return e},_getFirstPointerId(e){return e.touches?e.changedTouches[0].identifier:e.pointerId||999},releaseCanvas(...e){He.releaseCanvasOnDestroy&&e.forEach(t=>{t.width=0,t.height=0})},drawRoundedRectPath(e,t,n,r){let i=0,a=0,s=0,o=0;typeof r=="number"?i=a=s=o=Math.min(r,t/2,n/2):(i=Math.min(r[0]||0,t/2,n/2),a=Math.min(r[1]||0,t/2,n/2),o=Math.min(r[2]||0,t/2,n/2),s=Math.min(r[3]||0,t/2,n/2)),e.moveTo(i,0),e.lineTo(t-a,0),e.arc(t-a,a,a,Math.PI*3/2,0,!1),e.lineTo(t,n-o),e.arc(t-o,n-o,o,0,Math.PI/2,!1),e.lineTo(s,n),e.arc(s,n-s,s,Math.PI/2,Math.PI,!1),e.lineTo(0,i),e.arc(i,i,i,Math.PI,Math.PI*3/2,!1)}};function io(e){return ce._isString(e)?'"'+e+'"':Object.prototype.toString.call(e)==="[object Number]"||ce._isBoolean(e)?e:Object.prototype.toString.call(e)}function MO(e){return e>255?255:e<0?0:Math.round(e)}function Le(){if(He.isUnminified)return function(e,t){return ce._isNumber(e)||ce.warn(io(e)+' is a not valid value for "'+t+'" attribute. The value should be a number.'),e}}function oC(e){if(He.isUnminified)return function(t,n){let r=ce._isNumber(t),i=ce._isArray(t)&&t.length==e;return!r&&!i&&ce.warn(io(t)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+e+")"),t}}function lC(){if(He.isUnminified)return function(e,t){var n=ce._isNumber(e),r=e==="auto";return n||r||ce.warn(io(e)+' is a not valid value for "'+t+'" attribute. The value should be a number or "auto".'),e}}function gc(){if(He.isUnminified)return function(e,t){return ce._isString(e)||ce.warn(io(e)+' is a not valid value for "'+t+'" attribute. The value should be a string.'),e}}function LO(){if(He.isUnminified)return function(e,t){const n=ce._isString(e),r=Object.prototype.toString.call(e)==="[object CanvasGradient]"||e&&e.addColorStop;return n||r||ce.warn(io(e)+' is a not valid value for "'+t+'" attribute. The value should be a string or a native gradient.'),e}}function DV(){if(He.isUnminified)return function(e,t){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&e instanceof n||(ce._isArray(e)?e.forEach(function(r){ce._isNumber(r)||ce.warn('"'+t+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):ce.warn(io(e)+' is a not valid value for "'+t+'" attribute. The value should be a array of numbers.')),e}}function Ji(){if(He.isUnminified)return function(e,t){var n=e===!0||e===!1;return n||ce.warn(io(e)+' is a not valid value for "'+t+'" attribute. The value should be a boolean.'),e}}function OV(e){if(He.isUnminified)return function(t,n){return t==null||ce.isObject(t)||ce.warn(io(t)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+e),t}}var ed="get",td="set";const Z={addGetterSetter(e,t,n,r,i){Z.addGetter(e,t,n),Z.addSetter(e,t,r,i),Z.addOverloadedGetterSetter(e,t)},addGetter(e,t,n){var r=ed+ce._capitalize(t);e.prototype[r]=e.prototype[r]||function(){var i=this.attrs[t];return i===void 0?n:i}},addSetter(e,t,n,r){var i=td+ce._capitalize(t);e.prototype[i]||Z.overWriteSetter(e,t,n,r)},overWriteSetter(e,t,n,r){var i=td+ce._capitalize(t);e.prototype[i]=function(a){return n&&a!==void 0&&a!==null&&(a=n.call(this,a,t)),this._setAttr(t,a),r&&r.call(this),this}},addComponentsGetterSetter(e,t,n,r,i){var a=n.length,s=ce._capitalize,o=ed+s(t),l=td+s(t),u,c;e.prototype[o]=function(){var p={};for(u=0;u<a;u++)c=n[u],p[c]=this.getAttr(t+s(c));return p};var h=OV(n);e.prototype[l]=function(p){var m=this.attrs[t],g;r&&(p=r.call(this,p)),h&&h.call(this,p,t);for(g in p)p.hasOwnProperty(g)&&this._setAttr(t+s(g),p[g]);return p||n.forEach(y=>{this._setAttr(t+s(y),void 0)}),this._fireChangeEvent(t,m,p),i&&i.call(this),this},Z.addOverloadedGetterSetter(e,t)},addOverloadedGetterSetter(e,t){var n=ce._capitalize(t),r=td+n,i=ed+n;e.prototype[t]=function(){return arguments.length?(this[r](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter(e,t,n,r){ce.error("Adding deprecated "+t);var i=ed+ce._capitalize(t),a=t+" property is deprecated and will be removed soon. Look at Konva change log for more information.";e.prototype[i]=function(){ce.error(a);var s=this.attrs[t];return s===void 0?n:s},Z.addSetter(e,t,r,function(){ce.error(a)}),Z.addOverloadedGetterSetter(e,t)},backCompat(e,t){ce.each(t,function(n,r){var i=e.prototype[r],a=ed+ce._capitalize(n),s=td+ce._capitalize(n);function o(){i.apply(this,arguments),ce.error('"'+n+'" method is deprecated and will be removed soon. Use ""'+r+'" instead.')}e.prototype[n]=o,e.prototype[a]=o,e.prototype[s]=o})},afterSetFilter(){this._filterUpToDate=!1}};function MV(e){var t=[],n=e.length,r=ce,i,a;for(i=0;i<n;i++)a=e[i],r._isNumber(a)?a=Math.round(a*1e3)/1e3:r._isString(a)||(a=a+""),t.push(a);return t}var v5=",",LV="(",FV=")",BV="([",zV="])",UV=";",jV="()",$V="=",w5=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],VV=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const WV=100;class Gy{constructor(t){this.canvas=t,He.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(t){t.fillEnabled()&&this._fill(t)}_fill(t){}strokeShape(t){t.hasStroke()&&this._stroke(t)}_stroke(t){}fillStrokeShape(t){t.attrs.fillAfterStrokeEnabled?(this.strokeShape(t),this.fillShape(t)):(this.fillShape(t),this.strokeShape(t))}getTrace(t,n){var r=this.traceArr,i=r.length,a="",s,o,l,u;for(s=0;s<i;s++)o=r[s],l=o.method,l?(u=o.args,a+=l,t?a+=jV:ce._isArray(u[0])?a+=BV+u.join(v5)+zV:(n&&(u=u.map(c=>typeof c=="number"?Math.floor(c):c)),a+=LV+u.join(v5)+FV)):(a+=o.property,t||(a+=$V+o.val)),a+=UV;return a}clearTrace(){this.traceArr=[]}_trace(t){var n=this.traceArr,r;n.push(t),r=n.length,r>=WV&&n.shift()}reset(){var t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)}getCanvas(){return this.canvas}clear(t){var n=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(t){const n=t.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(t){var n=t.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(t){const n=t.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}setAttr(t,n){this._context[t]=n}arc(t,n,r,i,a,s){this._context.arc(t,n,r,i,a,s)}arcTo(t,n,r,i,a){this._context.arcTo(t,n,r,i,a)}beginPath(){this._context.beginPath()}bezierCurveTo(t,n,r,i,a,s){this._context.bezierCurveTo(t,n,r,i,a,s)}clearRect(t,n,r,i){this._context.clearRect(t,n,r,i)}clip(){this._context.clip()}closePath(){this._context.closePath()}createImageData(t,n){var r=arguments;if(r.length===2)return this._context.createImageData(t,n);if(r.length===1)return this._context.createImageData(t)}createLinearGradient(t,n,r,i){return this._context.createLinearGradient(t,n,r,i)}createPattern(t,n){return this._context.createPattern(t,n)}createRadialGradient(t,n,r,i,a,s){return this._context.createRadialGradient(t,n,r,i,a,s)}drawImage(t,n,r,i,a,s,o,l,u){var c=arguments,h=this._context;c.length===3?h.drawImage(t,n,r):c.length===5?h.drawImage(t,n,r,i,a):c.length===9&&h.drawImage(t,n,r,i,a,s,o,l,u)}ellipse(t,n,r,i,a,s,o,l){this._context.ellipse(t,n,r,i,a,s,o,l)}isPointInPath(t,n,r,i){return r?this._context.isPointInPath(r,t,n,i):this._context.isPointInPath(t,n,i)}fill(t){t?this._context.fill(t):this._context.fill()}fillRect(t,n,r,i){this._context.fillRect(t,n,r,i)}strokeRect(t,n,r,i){this._context.strokeRect(t,n,r,i)}fillText(t,n,r,i){i?this._context.fillText(t,n,r,i):this._context.fillText(t,n,r)}measureText(t){return this._context.measureText(t)}getImageData(t,n,r,i){return this._context.getImageData(t,n,r,i)}lineTo(t,n){this._context.lineTo(t,n)}moveTo(t,n){this._context.moveTo(t,n)}rect(t,n,r,i){this._context.rect(t,n,r,i)}putImageData(t,n,r){this._context.putImageData(t,n,r)}quadraticCurveTo(t,n,r,i){this._context.quadraticCurveTo(t,n,r,i)}restore(){this._context.restore()}rotate(t){this._context.rotate(t)}save(){this._context.save()}scale(t,n){this._context.scale(t,n)}setLineDash(t){this._context.setLineDash?this._context.setLineDash(t):"mozDash"in this._context?this._context.mozDash=t:"webkitLineDash"in this._context&&(this._context.webkitLineDash=t)}getLineDash(){return this._context.getLineDash()}setTransform(t,n,r,i,a,s){this._context.setTransform(t,n,r,i,a,s)}stroke(t){t?this._context.stroke(t):this._context.stroke()}strokeText(t,n,r,i){this._context.strokeText(t,n,r,i)}transform(t,n,r,i,a,s){this._context.transform(t,n,r,i,a,s)}translate(t,n){this._context.translate(t,n)}_enableTrace(){var t=this,n=w5.length,r=this.setAttr,i,a,s=function(o){var l=t[o],u;t[o]=function(){return a=MV(Array.prototype.slice.call(arguments,0)),u=l.apply(t,arguments),t._trace({method:o,args:a}),u}};for(i=0;i<n;i++)s(w5[i]);t.setAttr=function(){r.apply(t,arguments);var o=arguments[0],l=arguments[1];(o==="shadowOffsetX"||o==="shadowOffsetY"||o==="shadowBlur")&&(l=l/this.canvas.getPixelRatio()),t._trace({property:o,val:l})}}_applyGlobalCompositeOperation(t){const n=t.attrs.globalCompositeOperation;var r=!n||n==="source-over";r||this.setAttr("globalCompositeOperation",n)}}VV.forEach(function(e){Object.defineProperty(Gy.prototype,e,{get(){return this._context[e]},set(t){this._context[e]=t}})});class GV extends Gy{constructor(t){super(t),this._context=t._canvas.getContext("2d")}_fillColor(t){var n=t.fill();this.setAttr("fillStyle",n),t._fillFunc(this)}_fillPattern(t){this.setAttr("fillStyle",t._getFillPattern()),t._fillFunc(this)}_fillLinearGradient(t){var n=t._getLinearGradient();n&&(this.setAttr("fillStyle",n),t._fillFunc(this))}_fillRadialGradient(t){const n=t._getRadialGradient();n&&(this.setAttr("fillStyle",n),t._fillFunc(this))}_fill(t){const n=t.fill(),r=t.getFillPriority();if(n&&r==="color"){this._fillColor(t);return}const i=t.getFillPatternImage();if(i&&r==="pattern"){this._fillPattern(t);return}const a=t.getFillLinearGradientColorStops();if(a&&r==="linear-gradient"){this._fillLinearGradient(t);return}const s=t.getFillRadialGradientColorStops();if(s&&r==="radial-gradient"){this._fillRadialGradient(t);return}n?this._fillColor(t):i?this._fillPattern(t):a?this._fillLinearGradient(t):s&&this._fillRadialGradient(t)}_strokeLinearGradient(t){const n=t.getStrokeLinearGradientStartPoint(),r=t.getStrokeLinearGradientEndPoint(),i=t.getStrokeLinearGradientColorStops(),a=this.createLinearGradient(n.x,n.y,r.x,r.y);if(i){for(var s=0;s<i.length;s+=2)a.addColorStop(i[s],i[s+1]);this.setAttr("strokeStyle",a)}}_stroke(t){var n=t.dash(),r=t.getStrokeScaleEnabled();if(t.hasStroke()){if(!r){this.save();var i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(t),n&&t.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var a=t.getStrokeLinearGradientColorStops();a?this._strokeLinearGradient(t):this.setAttr("strokeStyle",t.stroke()),t._strokeFunc(this),r||this.restore()}}_applyShadow(t){var n,r,i,a=(n=t.getShadowRGBA())!==null&&n!==void 0?n:"black",s=(r=t.getShadowBlur())!==null&&r!==void 0?r:5,o=(i=t.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},l=t.getAbsoluteScale(),u=this.canvas.getPixelRatio(),c=l.x*u,h=l.y*u;this.setAttr("shadowColor",a),this.setAttr("shadowBlur",s*Math.min(Math.abs(c),Math.abs(h))),this.setAttr("shadowOffsetX",o.x*c),this.setAttr("shadowOffsetY",o.y*h)}}class HV extends Gy{constructor(t){super(t),this._context=t._canvas.getContext("2d",{willReadFrequently:!0})}_fill(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()}strokeShape(t){t.hasHitStroke()&&this._stroke(t)}_stroke(t){if(t.hasHitStroke()){const a=t.getStrokeScaleEnabled();if(!a){this.save();var n=this.getCanvas().getPixelRatio();this.setTransform(n,0,0,n,0,0)}this._applyLineCap(t);var r=t.hitStrokeWidth(),i=r==="auto"?t.strokeWidth():r;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),a||this.restore()}}}var $p;function qV(){if($p)return $p;var e=ce.createCanvasElement(),t=e.getContext("2d");return $p=function(){var n=He._global.devicePixelRatio||1,r=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return n/r}(),ce.releaseCanvas(e),$p}let Hy=class{constructor(t){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var n=t||{},r=n.pixelRatio||He.pixelRatio||qV();this.pixelRatio=r,this._canvas=ce.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(t){var n=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";var n=this.pixelRatio,r=this.getContext()._context;r.scale(n,n)}setHeight(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";var n=this.pixelRatio,r=this.getContext()._context;r.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(t,n){this.setWidth(t||0),this.setHeight(n||0)}toDataURL(t,n){try{return this._canvas.toDataURL(t,n)}catch{try{return this._canvas.toDataURL()}catch(i){return ce.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};Z.addGetterSetter(Hy,"pixelRatio",void 0,Le());class Tu extends Hy{constructor(t={width:0,height:0}){super(t),this.context=new GV(this),this.setSize(t.width,t.height)}}class uC extends Hy{constructor(t={width:0,height:0}){super(t),this.hitCanvas=!0,this.context=new HV(this),this.setSize(t.width,t.height)}}const At={get isDragging(){var e=!1;return At._dragElements.forEach(t=>{t.dragStatus==="dragging"&&(e=!0)}),e},justDragged:!1,get node(){var e;return At._dragElements.forEach(t=>{e=t.node}),e},_dragElements:new Map,_drag(e){const t=[];At._dragElements.forEach((n,r)=>{const{node:i}=n,a=i.getStage();a.setPointersPositions(e),n.pointerId===void 0&&(n.pointerId=ce._getFirstPointerId(e));const s=a._changedPointerPositions.find(u=>u.id===n.pointerId);if(s){if(n.dragStatus!=="dragging"){var o=i.dragDistance(),l=Math.max(Math.abs(s.x-n.startPointerPos.x),Math.abs(s.y-n.startPointerPos.y));if(l<o||(i.startDrag({evt:e}),!i.isDragging()))return}i._setDragPosition(e,n),t.push(i)}}),t.forEach(n=>{n.fire("dragmove",{type:"dragmove",target:n,evt:e},!0)})},_endDragBefore(e){const t=[];At._dragElements.forEach(n=>{const{node:r}=n,i=r.getStage();if(e&&i.setPointersPositions(e),!i._changedPointerPositions.find(o=>o.id===n.pointerId))return;(n.dragStatus==="dragging"||n.dragStatus==="stopped")&&(At.justDragged=!0,He._mouseListenClick=!1,He._touchListenClick=!1,He._pointerListenClick=!1,n.dragStatus="stopped");const s=n.node.getLayer()||n.node instanceof He.Stage&&n.node;s&&t.indexOf(s)===-1&&t.push(s)}),t.forEach(n=>{n.draw()})},_endDragAfter(e){At._dragElements.forEach((t,n)=>{t.dragStatus==="stopped"&&t.node.fire("dragend",{type:"dragend",target:t.node,evt:e},!0),t.dragStatus!=="dragging"&&At._dragElements.delete(n)})}};He.isBrowser&&(window.addEventListener("mouseup",At._endDragBefore,!0),window.addEventListener("touchend",At._endDragBefore,!0),window.addEventListener("mousemove",At._drag),window.addEventListener("touchmove",At._drag),window.addEventListener("mouseup",At._endDragAfter,!1),window.addEventListener("touchend",At._endDragAfter,!1));var Lm="absoluteOpacity",Vp="allEventListeners",Ua="absoluteTransform",b5="absoluteScale",ko="canvas",KV="Change",YV="children",XV="konva",l2="listening",x5="mouseenter",k5="mouseleave",S5="set",E5="Shape",Fm=" ",C5="stage",ks="transform",QV="Stage",u2="visible",ZV=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(Fm);let JV=1;class Me{constructor(t){this._id=JV++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(t),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(t){(t===ks||t===Ua)&&this._cache.get(t)?this._cache.get(t).dirty=!0:t?this._cache.delete(t):this._cache.clear()}_getCache(t,n){var r=this._cache.get(t),i=t===ks||t===Ua,a=r===void 0||i&&r.dirty===!0;return a&&(r=n.call(this),this._cache.set(t,r)),r}_calculate(t,n,r){if(!this._attachedDepsListeners.get(t)){const i=n.map(a=>a+"Change.konva").join(Fm);this.on(i,()=>{this._clearCache(t)}),this._attachedDepsListeners.set(t,!0)}return this._getCache(t,r)}_getCanvasCache(){return this._cache.get(ko)}_clearSelfAndDescendantCache(t){this._clearCache(t),t===Ua&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(ko)){const{scene:t,filter:n,hit:r}=this._cache.get(ko);ce.releaseCanvas(t,n,r),this._cache.delete(ko)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(t){var n=t||{},r={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var i=Math.ceil(n.width||r.width),a=Math.ceil(n.height||r.height),s=n.pixelRatio,o=n.x===void 0?Math.floor(r.x):n.x,l=n.y===void 0?Math.floor(r.y):n.y,u=n.offset||0,c=n.drawBorder||!1,h=n.hitCanvasPixelRatio||1;if(!i||!a){ce.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}i+=u*2+1,a+=u*2+1,o-=u,l-=u;var p=new Tu({pixelRatio:s,width:i,height:a}),m=new Tu({pixelRatio:s,width:0,height:0}),g=new uC({pixelRatio:h,width:i,height:a}),y=p.getContext(),b=g.getContext();return g.isCache=!0,p.isCache=!0,this._cache.delete(ko),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(p.getContext()._context.imageSmoothingEnabled=!1,m.getContext()._context.imageSmoothingEnabled=!1),y.save(),b.save(),y.translate(-o,-l),b.translate(-o,-l),this._isUnderCache=!0,this._clearSelfAndDescendantCache(Lm),this._clearSelfAndDescendantCache(b5),this.drawScene(p,this),this.drawHit(g,this),this._isUnderCache=!1,y.restore(),b.restore(),c&&(y.save(),y.beginPath(),y.rect(0,0,i,a),y.closePath(),y.setAttr("strokeStyle","red"),y.setAttr("lineWidth",5),y.stroke(),y.restore()),this._cache.set(ko,{scene:p,filter:m,hit:g,x:o,y:l}),this._requestDraw(),this}isCached(){return this._cache.has(ko)}getClientRect(t){throw new Error('abstract "getClientRect" method call')}_transformedRect(t,n){var r=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],i,a,s,o,l=this.getAbsoluteTransform(n);return r.forEach(function(u){var c=l.point(u);i===void 0&&(i=s=c.x,a=o=c.y),i=Math.min(i,c.x),a=Math.min(a,c.y),s=Math.max(s,c.x),o=Math.max(o,c.y)}),{x:i,y:a,width:s-i,height:o-a}}_drawCachedSceneCanvas(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();t.translate(n.x,n.y);var r=this._getCachedSceneCanvas(),i=r.pixelRatio;t.drawImage(r._canvas,0,0,r.width/i,r.height/i),t.restore()}_drawCachedHitCanvas(t){var n=this._getCanvasCache(),r=n.hit;t.save(),t.translate(n.x,n.y),t.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),t.restore()}_getCachedSceneCanvas(){var t=this.filters(),n=this._getCanvasCache(),r=n.scene,i=n.filter,a=i.getContext(),s,o,l,u;if(t){if(!this._filterUpToDate){var c=r.pixelRatio;i.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio);try{for(s=t.length,a.clear(),a.drawImage(r._canvas,0,0,r.getWidth()/c,r.getHeight()/c),o=a.getImageData(0,0,i.getWidth(),i.getHeight()),l=0;l<s;l++){if(u=t[l],typeof u!="function"){ce.error("Filter should be type of function, but got "+typeof u+" instead. Please check correct filters");continue}u.call(this,o),a.putImageData(o,0,0)}}catch(h){ce.error("Unable to apply filter. "+h.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return i}return r}on(t,n){if(this._cache&&this._cache.delete(Vp),arguments.length===3)return this._delegate.apply(this,arguments);var r=t.split(Fm),i=r.length,a,s,o,l,u;for(a=0;a<i;a++)s=r[a],o=s.split("."),l=o[0],u=o[1]||"",this.eventListeners[l]||(this.eventListeners[l]=[]),this.eventListeners[l].push({name:u,handler:n});return this}off(t,n){var r=(t||"").split(Fm),i=r.length,a,s,o,l,u,c;if(this._cache&&this._cache.delete(Vp),!t)for(s in this.eventListeners)this._off(s);for(a=0;a<i;a++)if(o=r[a],l=o.split("."),u=l[0],c=l[1],u)this.eventListeners[u]&&this._off(u,c,n);else for(s in this.eventListeners)this._off(s,c,n);return this}dispatchEvent(t){var n={target:this,type:t.type,evt:t};return this.fire(t.type,n),this}addEventListener(t,n){return this.on(t,function(r){n.call(this,r.evt)}),this}removeEventListener(t){return this.off(t),this}_delegate(t,n,r){var i=this;this.on(t,function(a){for(var s=a.target.findAncestors(n,!0,i),o=0;o<s.length;o++)a=ce.cloneObject(a),a.currentTarget=s[o],r.call(s[o],a)})}remove(){return this.isDragging()&&this.stopDrag(),At._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Ua),this._clearSelfAndDescendantCache(Lm),this._clearSelfAndDescendantCache(b5),this._clearSelfAndDescendantCache(C5),this._clearSelfAndDescendantCache(u2),this._clearSelfAndDescendantCache(l2)}_remove(){this._clearCaches();var t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(t){var n="get"+ce._capitalize(t);return ce._isFunction(this[n])?this[n]():this.attrs[t]}getAncestors(){for(var t=this.getParent(),n=[];t;)n.push(t),t=t.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(t){return this._batchTransformChanges(()=>{var n,r;if(!t)return this;for(n in t)n!==YV&&(r=S5+ce._capitalize(n),ce._isFunction(this[r])?this[r](t[n]):this._setAttr(n,t[n]))}),this}isListening(){return this._getCache(l2,this._isListening)}_isListening(t){if(!this.listening())return!1;const r=this.getParent();return r&&r!==t&&this!==t?r._isListening(t):!0}isVisible(){return this._getCache(u2,this._isVisible)}_isVisible(t){if(!this.visible())return!1;const r=this.getParent();return r&&r!==t&&this!==t?r._isVisible(t):!0}shouldDrawHit(t,n=!1){if(t)return this._isVisible(t)&&this._isListening(t);var r=this.getLayer(),i=!1;At._dragElements.forEach(s=>{s.dragStatus==="dragging"&&(s.node.nodeType==="Stage"||s.node.getLayer()===r)&&(i=!0)});var a=!n&&!He.hitOnDragEnabled&&i;return this.isListening()&&this.isVisible()&&!a}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var t=this.getDepth(),n=this,r=0,i,a,s,o;function l(u){for(i=[],a=u.length,s=0;s<a;s++)o=u[s],r++,o.nodeType!==E5&&(i=i.concat(o.getChildren().slice())),o._id===n._id&&(s=a);i.length>0&&i[0].getDepth()<=t&&l(i)}return n.nodeType!==QV&&l(n.getStage().getChildren()),r}getDepth(){for(var t=0,n=this.parent;n;)t++,n=n.parent;return t}_batchTransformChanges(t){this._batchingTransformChange=!0,t(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(ks),this._clearSelfAndDescendantCache(Ua)),this._needClearTransformCache=!1}setPosition(t){return this._batchTransformChanges(()=>{this.x(t.x),this.y(t.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var t=this.getStage().getPointerPosition();if(!t)return null;var n=this.getAbsoluteTransform().copy();return n.invert(),n.point(t)}getAbsolutePosition(t){let n=!1,r=this.parent;for(;r;){if(r.isCached()){n=!0;break}r=r.parent}n&&!t&&(t=!0);var i=this.getAbsoluteTransform(t).getMatrix(),a=new qr,s=this.offset();return a.m=i.slice(),a.translate(s.x,s.y),a.getTranslation()}setAbsolutePosition(t){var n=this._clearTransform();this.attrs.x=n.x,this.attrs.y=n.y,delete n.x,delete n.y,this._clearCache(ks);var r=this._getAbsoluteTransform().copy();return r.invert(),r.translate(t.x,t.y),t={x:this.attrs.x+r.getTranslation().x,y:this.attrs.y+r.getTranslation().y},this._setTransform(n),this.setPosition({x:t.x,y:t.y}),this._clearCache(ks),this._clearSelfAndDescendantCache(Ua),this}_setTransform(t){var n;for(n in t)this.attrs[n]=t[n]}_clearTransform(){var t={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,t}move(t){var n=t.x,r=t.y,i=this.x(),a=this.y();return n!==void 0&&(i+=n),r!==void 0&&(a+=r),this.setPosition({x:i,y:a}),this}_eachAncestorReverse(t,n){var r=[],i=this.getParent(),a,s;if(!(n&&n._id===this._id)){for(r.unshift(this);i&&(!n||i._id!==n._id);)r.unshift(i),i=i.parent;for(a=r.length,s=0;s<a;s++)t(r[s])}}rotate(t){return this.rotation(this.rotation()+t),this}moveToTop(){if(!this.parent)return ce.warn("Node has no parent. moveToTop function is ignored."),!1;var t=this.index,n=this.parent.getChildren().length;return t<n-1?(this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return ce.warn("Node has no parent. moveUp function is ignored."),!1;var t=this.index,n=this.parent.getChildren().length;return t<n-1?(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return ce.warn("Node has no parent. moveDown function is ignored."),!1;var t=this.index;return t>0?(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return ce.warn("Node has no parent. moveToBottom function is ignored."),!1;var t=this.index;return t>0?(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(t){if(!this.parent)return ce.warn("Node has no parent. zIndex parameter is ignored."),this;(t<0||t>=this.parent.children.length)&&ce.warn("Unexpected value "+t+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(Lm,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var t=this.opacity(),n=this.getParent();return n&&!n._isUnderCache&&(t*=n.getAbsoluteOpacity()),t}moveTo(t){return this.getParent()!==t&&(this._remove(),t.add(this)),this}toObject(){var t={},n=this.getAttrs(),r,i,a,s,o;t.attrs={};for(r in n)i=n[r],o=ce.isObject(i)&&!ce._isPlainObject(i)&&!ce._isArray(i),!o&&(a=typeof this[r]=="function"&&this[r],delete n[r],s=a?a.call(this):null,n[r]=i,s!==i&&(t.attrs[r]=i));return t.className=this.getClassName(),ce._prepareToStringify(t)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(t,n,r){var i=[];n&&this._isMatch(t)&&i.push(this);for(var a=this.parent;a;){if(a===r)return i;a._isMatch(t)&&i.push(a),a=a.parent}return i}isAncestorOf(t){return!1}findAncestor(t,n,r){return this.findAncestors(t,n,r)[0]}_isMatch(t){if(!t)return!1;if(typeof t=="function")return t(this);var n=t.replace(/ /g,"").split(","),r=n.length,i,a;for(i=0;i<r;i++)if(a=n[i],ce.isValidSelector(a)||(ce.warn('Selector "'+a+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),ce.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),ce.warn("Konva is awesome, right?")),a.charAt(0)==="#"){if(this.id()===a.slice(1))return!0}else if(a.charAt(0)==="."){if(this.hasName(a.slice(1)))return!0}else if(this.className===a||this.nodeType===a)return!0;return!1}getLayer(){var t=this.getParent();return t?t.getLayer():null}getStage(){return this._getCache(C5,this._getStage)}_getStage(){var t=this.getParent();if(t)return t.getStage()}fire(t,n={},r){return n.target=n.target||this,r?this._fireAndBubble(t,n):this._fire(t,n),this}getAbsoluteTransform(t){return t?this._getAbsoluteTransform(t):this._getCache(Ua,this._getAbsoluteTransform)}_getAbsoluteTransform(t){var n;if(t)return n=new qr,this._eachAncestorReverse(function(i){var a=i.transformsEnabled();a==="all"?n.multiply(i.getTransform()):a==="position"&&n.translate(i.x()-i.offsetX(),i.y()-i.offsetY())},t),n;n=this._cache.get(Ua)||new qr,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();var r=this.transformsEnabled();if(r==="all")n.multiply(this.getTransform());else if(r==="position"){const i=this.attrs.x||0,a=this.attrs.y||0,s=this.attrs.offsetX||0,o=this.attrs.offsetY||0;n.translate(i-s,a-o)}return n.dirty=!1,n}getAbsoluteScale(t){for(var n=this;n;)n._isUnderCache&&(t=n),n=n.getParent();const i=this.getAbsoluteTransform(t).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(ks,this._getTransform)}_getTransform(){var t,n,r=this._cache.get(ks)||new qr;r.reset();var i=this.x(),a=this.y(),s=He.getAngle(this.rotation()),o=(t=this.attrs.scaleX)!==null&&t!==void 0?t:1,l=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,u=this.attrs.skewX||0,c=this.attrs.skewY||0,h=this.attrs.offsetX||0,p=this.attrs.offsetY||0;return(i!==0||a!==0)&&r.translate(i,a),s!==0&&r.rotate(s),(u!==0||c!==0)&&r.skew(u,c),(o!==1||l!==1)&&r.scale(o,l),(h!==0||p!==0)&&r.translate(-1*h,-1*p),r.dirty=!1,r}clone(t){var n=ce.cloneObject(this.attrs),r,i,a,s,o;for(r in t)n[r]=t[r];var l=new this.constructor(n);for(r in this.eventListeners)for(i=this.eventListeners[r],a=i.length,s=0;s<a;s++)o=i[s],o.name.indexOf(XV)<0&&(l.eventListeners[r]||(l.eventListeners[r]=[]),l.eventListeners[r].push(o));return l}_toKonvaCanvas(t){t=t||{};var n=this.getClientRect(),r=this.getStage(),i=t.x!==void 0?t.x:Math.floor(n.x),a=t.y!==void 0?t.y:Math.floor(n.y),s=t.pixelRatio||1,o=new Tu({width:t.width||Math.ceil(n.width)||(r?r.width():0),height:t.height||Math.ceil(n.height)||(r?r.height():0),pixelRatio:s}),l=o.getContext();return t.imageSmoothingEnabled===!1&&(l._context.imageSmoothingEnabled=!1),l.save(),(i||a)&&l.translate(-1*i,-1*a),this.drawScene(o),l.restore(),o}toCanvas(t){return this._toKonvaCanvas(t)._canvas}toDataURL(t){t=t||{};var n=t.mimeType||null,r=t.quality||null,i=this._toKonvaCanvas(t).toDataURL(n,r);return t.callback&&t.callback(i),i}toImage(t){return new Promise((n,r)=>{try{const i=t?.callback;i&&delete t.callback,ce._urlToImage(this.toDataURL(t),function(a){n(a),i?.(a)})}catch(i){r(i)}})}toBlob(t){return new Promise((n,r)=>{try{const i=t?.callback;i&&delete t.callback,this.toCanvas(t).toBlob(a=>{n(a),i?.(a)})}catch(i){r(i)}})}setSize(t){return this.width(t.width),this.height(t.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():He.dragDistance}_off(t,n,r){var i=this.eventListeners[t],a,s,o;for(a=0;a<i.length;a++)if(s=i[a].name,o=i[a].handler,(s!=="konva"||n==="konva")&&(!n||s===n)&&(!r||r===o)){if(i.splice(a,1),i.length===0){delete this.eventListeners[t];break}a--}}_fireChangeEvent(t,n,r){this._fire(t+KV,{oldVal:n,newVal:r})}addName(t){if(!this.hasName(t)){var n=this.name(),r=n?n+" "+t:t;this.name(r)}return this}hasName(t){if(!t)return!1;const n=this.name();if(!n)return!1;var r=(n||"").split(/\s/g);return r.indexOf(t)!==-1}removeName(t){var n=(this.name()||"").split(/\s/g),r=n.indexOf(t);return r!==-1&&(n.splice(r,1),this.name(n.join(" "))),this}setAttr(t,n){var r=this[S5+ce._capitalize(t)];return ce._isFunction(r)?r.call(this,n):this._setAttr(t,n),this}_requestDraw(){if(He.autoDrawEnabled){const t=this.getLayer()||this.getStage();t?.batchDraw()}}_setAttr(t,n){var r=this.attrs[t];r===n&&!ce.isObject(n)||(n==null?delete this.attrs[t]:this.attrs[t]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(t,r,n),this._requestDraw())}_setComponentAttr(t,n,r){var i;r!==void 0&&(i=this.attrs[t],i||(this.attrs[t]=this.getAttr(t)),this.attrs[t][n]=r,this._fireChangeEvent(t,i,r))}_fireAndBubble(t,n,r){n&&this.nodeType===E5&&(n.target=this);var i=(t===x5||t===k5)&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r);if(!i){this._fire(t,n);var a=(t===x5||t===k5)&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!a&&(r&&r.parent?this._fireAndBubble.call(this.parent,t,n,r):this._fireAndBubble.call(this.parent,t,n))}}_getProtoListeners(t){let n=this._cache.get(Vp);if(!n){n={};let i=Object.getPrototypeOf(this);for(;i;){if(!i.eventListeners){i=Object.getPrototypeOf(i);continue}for(var r in i.eventListeners){const a=i.eventListeners[r],s=n[r]||[];n[r]=a.concat(s)}i=Object.getPrototypeOf(i)}this._cache.set(Vp,n)}return n[t]}_fire(t,n){n=n||{},n.currentTarget=this,n.type=t;const r=this._getProtoListeners(t);if(r)for(var i=0;i<r.length;i++)r[i].handler.call(this,n);const a=this.eventListeners[t];if(a)for(var i=0;i<a.length;i++)a[i].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(t){var n=t?t.pointerId:void 0,r=this.getStage(),i=this.getAbsolutePosition(),a=r._getPointerById(n)||r._changedPointerPositions[0]||i;At._dragElements.set(this._id,{node:this,startPointerPos:a,offset:{x:a.x-i.x,y:a.y-i.y},dragStatus:"ready",pointerId:n})}startDrag(t,n=!0){At._dragElements.has(this._id)||this._createDragElement(t);const r=At._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:t&&t.evt},n)}_setDragPosition(t,n){const r=this.getStage()._getPointerById(n.pointerId);if(r){var i={x:r.x-n.offset.x,y:r.y-n.offset.y},a=this.dragBoundFunc();if(a!==void 0){const s=a.call(this,i,t);s?i=s:ce.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}}stopDrag(t){const n=At._dragElements.get(this._id);n&&(n.dragStatus="stopped"),At._endDragBefore(t),At._endDragAfter(t)}setDraggable(t){this._setAttr("draggable",t),this._dragChange()}isDragging(){const t=At._dragElements.get(this._id);return t?t.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(t){var n=t.evt.button!==void 0,r=!n||He.dragButtons.indexOf(t.evt.button)>=0;if(r&&!this.isDragging()){var i=!1;At._dragElements.forEach(a=>{this.isAncestorOf(a.node)&&(i=!0)}),i||this._createDragElement(t)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var t=this.getStage();if(!t)return;const n=At._dragElements.get(this._id),r=n&&n.dragStatus==="dragging",i=n&&n.dragStatus==="ready";r?this.stopDrag():i&&At._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(t={x:0,y:0}){const n=this.getStage();if(!n)return!1;const r={x:-t.x,y:-t.y,width:n.width()+2*t.x,height:n.height()+2*t.y};return ce.haveIntersection(r,this.getClientRect())}static create(t,n){return ce._isString(t)&&(t=JSON.parse(t)),this._createNode(t,n)}static _createNode(t,n){var r=Me.prototype.getClassName.call(t),i=t.children,a,s,o;n&&(t.attrs.container=n),He[r]||(ce.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");const l=He[r];if(a=new l(t.attrs),i)for(s=i.length,o=0;o<s;o++)a.add(Me._createNode(i[o]));return a}}Me.prototype.nodeType="Node";Me.prototype._attrsAffectingSize=[];Me.prototype.eventListeners={};Me.prototype.on.call(Me.prototype,ZV,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(ks),this._clearSelfAndDescendantCache(Ua)});Me.prototype.on.call(Me.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(u2)});Me.prototype.on.call(Me.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(l2)});Me.prototype.on.call(Me.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(Lm)});const Ht=Z.addGetterSetter;Ht(Me,"zIndex");Ht(Me,"absolutePosition");Ht(Me,"position");Ht(Me,"x",0,Le());Ht(Me,"y",0,Le());Ht(Me,"globalCompositeOperation","source-over",gc());Ht(Me,"opacity",1,Le());Ht(Me,"name","",gc());Ht(Me,"id","",gc());Ht(Me,"rotation",0,Le());Z.addComponentsGetterSetter(Me,"scale",["x","y"]);Ht(Me,"scaleX",1,Le());Ht(Me,"scaleY",1,Le());Z.addComponentsGetterSetter(Me,"skew",["x","y"]);Ht(Me,"skewX",0,Le());Ht(Me,"skewY",0,Le());Z.addComponentsGetterSetter(Me,"offset",["x","y"]);Ht(Me,"offsetX",0,Le());Ht(Me,"offsetY",0,Le());Ht(Me,"dragDistance",null,Le());Ht(Me,"width",0,Le());Ht(Me,"height",0,Le());Ht(Me,"listening",!0,Ji());Ht(Me,"preventDefault",!0,Ji());Ht(Me,"filters",null,function(e){return this._filterUpToDate=!1,e});Ht(Me,"visible",!0,Ji());Ht(Me,"transformsEnabled","all",gc());Ht(Me,"size");Ht(Me,"dragBoundFunc");Ht(Me,"draggable",!1,Ji());Z.backCompat(Me,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class Qr extends Me{constructor(){super(...arguments),this.children=[]}getChildren(t){if(!t)return this.children||[];const n=this.children||[];var r=[];return n.forEach(function(i){t(i)&&r.push(i)}),r}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(t=>{t.parent=null,t.index=0,t.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(t=>{t.parent=null,t.index=0,t.destroy()}),this.children=[],this._requestDraw(),this}add(...t){if(t.length===0)return this;if(t.length>1){for(var n=0;n<t.length;n++)this.add(t[n]);return this}const r=t[0];return r.getParent()?(r.moveTo(this),this):(this._validateAdd(r),r.index=this.getChildren().length,r.parent=this,r._clearCaches(),this.getChildren().push(r),this._fire("add",{child:r}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(t){return this._generalFind(t,!1)}findOne(t){var n=this._generalFind(t,!0);return n.length>0?n[0]:void 0}_generalFind(t,n){var r=[];return this._descendants(i=>{const a=i._isMatch(t);return a&&r.push(i),!!(a&&n)}),r}_descendants(t){let n=!1;const r=this.getChildren();for(const i of r){if(n=t(i),n)return!0;if(i.hasChildren()&&(n=i._descendants(t),n))return!0}return!1}toObject(){var t=Me.prototype.toObject.call(this);return t.children=[],this.getChildren().forEach(n=>{t.children.push(n.toObject())}),t}isAncestorOf(t){for(var n=t.getParent();n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(t){var n=Me.prototype.clone.call(this,t);return this.getChildren().forEach(function(r){n.add(r.clone())}),n}getAllIntersections(t){var n=[];return this.find("Shape").forEach(function(r){r.isVisible()&&r.intersects(t)&&n.push(r)}),n}_clearSelfAndDescendantCache(t){var n;super._clearSelfAndDescendantCache(t),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(r){r._clearSelfAndDescendantCache(t)}))}_setChildrenIndices(){var t;(t=this.children)===null||t===void 0||t.forEach(function(n,r){n.index=r}),this._requestDraw()}drawScene(t,n){var r=this.getLayer(),i=t||r&&r.getCanvas(),a=i&&i.getContext(),s=this._getCanvasCache(),o=s&&s.scene,l=i&&i.isCache;if(!this.isVisible()&&!l)return this;if(o){a.save();var u=this.getAbsoluteTransform(n).getMatrix();a.transform(u[0],u[1],u[2],u[3],u[4],u[5]),this._drawCachedSceneCanvas(a),a.restore()}else this._drawChildren("drawScene",i,n);return this}drawHit(t,n){if(!this.shouldDrawHit(n))return this;var r=this.getLayer(),i=t||r&&r.hitCanvas,a=i&&i.getContext(),s=this._getCanvasCache(),o=s&&s.hit;if(o){a.save();var l=this.getAbsoluteTransform(n).getMatrix();a.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(a),a.restore()}else this._drawChildren("drawHit",i,n);return this}_drawChildren(t,n,r){var i,a=n&&n.getContext(),s=this.clipWidth(),o=this.clipHeight(),l=this.clipFunc(),u=s&&o||l;const c=r===this;if(u){a.save();var h=this.getAbsoluteTransform(r),p=h.getMatrix();if(a.transform(p[0],p[1],p[2],p[3],p[4],p[5]),a.beginPath(),l)l.call(this,a,this);else{var m=this.clipX(),g=this.clipY();a.rect(m,g,s,o)}a.clip(),p=h.copy().invert().getMatrix(),a.transform(p[0],p[1],p[2],p[3],p[4],p[5])}var y=!c&&this.globalCompositeOperation()!=="source-over"&&t==="drawScene";y&&(a.save(),a._applyGlobalCompositeOperation(this)),(i=this.children)===null||i===void 0||i.forEach(function(b){b[t](n,r)}),y&&a.restore(),u&&a.restore()}getClientRect(t){var n;t=t||{};var r=t.skipTransform,i=t.relativeTo,a,s,o,l,u={x:1/0,y:1/0,width:0,height:0},c=this;(n=this.children)===null||n===void 0||n.forEach(function(y){if(y.visible()){var b=y.getClientRect({relativeTo:c,skipShadow:t.skipShadow,skipStroke:t.skipStroke});b.width===0&&b.height===0||(a===void 0?(a=b.x,s=b.y,o=b.x+b.width,l=b.y+b.height):(a=Math.min(a,b.x),s=Math.min(s,b.y),o=Math.max(o,b.x+b.width),l=Math.max(l,b.y+b.height)))}});for(var h=this.find("Shape"),p=!1,m=0;m<h.length;m++){var g=h[m];if(g._isVisible(this)){p=!0;break}}return p&&a!==void 0?u={x:a,y:s,width:o-a,height:l-s}:u={x:0,y:0,width:0,height:0},r?u:this._transformedRect(u,i)}}Z.addComponentsGetterSetter(Qr,"clip",["x","y","width","height"]);Z.addGetterSetter(Qr,"clipX",void 0,Le());Z.addGetterSetter(Qr,"clipY",void 0,Le());Z.addGetterSetter(Qr,"clipWidth",void 0,Le());Z.addGetterSetter(Qr,"clipHeight",void 0,Le());Z.addGetterSetter(Qr,"clipFunc");const Ih=new Map,FO=He._global.PointerEvent!==void 0;function Ow(e){return Ih.get(e)}function cC(e){return{evt:e,pointerId:e.pointerId}}function BO(e,t){return Ih.get(e)===t}function zO(e,t){Fd(e),t.getStage()&&(Ih.set(e,t),FO&&t._fire("gotpointercapture",cC(new PointerEvent("gotpointercapture"))))}function Fd(e,t){const n=Ih.get(e);if(!n)return;const r=n.getStage();r&&r.content,Ih.delete(e),FO&&n._fire("lostpointercapture",cC(new PointerEvent("lostpointercapture")))}var eW="Stage",tW="string",_5="px",nW="mouseout",UO="mouseleave",jO="mouseover",$O="mouseenter",VO="mousemove",WO="mousedown",GO="mouseup",xd="pointermove",kd="pointerdown",du="pointerup",Sd="pointercancel",rW="lostpointercapture",Wp="pointerout",Gp="pointerleave",Hp="pointerover",qp="pointerenter",c2="contextmenu",HO="touchstart",qO="touchend",KO="touchmove",YO="touchcancel",d2="wheel",iW=5,aW=[[$O,"_pointerenter"],[WO,"_pointerdown"],[VO,"_pointermove"],[GO,"_pointerup"],[UO,"_pointerleave"],[HO,"_pointerdown"],[KO,"_pointermove"],[qO,"_pointerup"],[YO,"_pointercancel"],[jO,"_pointerover"],[d2,"_wheel"],[c2,"_contextmenu"],[kd,"_pointerdown"],[xd,"_pointermove"],[du,"_pointerup"],[Sd,"_pointercancel"],[rW,"_lostpointercapture"]];const Mw={mouse:{[Wp]:nW,[Gp]:UO,[Hp]:jO,[qp]:$O,[xd]:VO,[kd]:WO,[du]:GO,[Sd]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[Wp]:"touchout",[Gp]:"touchleave",[Hp]:"touchover",[qp]:"touchenter",[xd]:KO,[kd]:HO,[du]:qO,[Sd]:YO,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[Wp]:Wp,[Gp]:Gp,[Hp]:Hp,[qp]:qp,[xd]:xd,[kd]:kd,[du]:du,[Sd]:Sd,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},Ed=e=>e.indexOf("pointer")>=0?"pointer":e.indexOf("touch")>=0?"touch":"mouse",Ul=e=>{const t=Ed(e);if(t==="pointer")return He.pointerEventsEnabled&&Mw.pointer;if(t==="touch")return Mw.touch;if(t==="mouse")return Mw.mouse};function T5(e={}){return(e.clipFunc||e.clipWidth||e.clipHeight)&&ce.warn("Stage does not support clipping. Please use clip for Layers or Groups."),e}const sW="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",Bm=[];let qy=class extends Qr{constructor(t){super(T5(t)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),Bm.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{T5(this.attrs)}),this._checkVisibility()}_validateAdd(t){const n=t.getType()==="Layer",r=t.getType()==="FastLayer";n||r||ce.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const t=this.visible()?"":"none";this.content.style.display=t}setContainer(t){if(typeof t===tW){if(t.charAt(0)==="."){var n=t.slice(1);t=document.getElementsByClassName(n)[0]}else{var r;t.charAt(0)!=="#"?r=t:r=t.slice(1),t=document.getElementById(r)}if(!t)throw"Can not find container in document with id "+r}return this._setAttr("container",t),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),t.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var t=this.children,n=t.length,r;for(r=0;r<n;r++)t[r].clear();return this}clone(t){return t||(t={}),t.container=typeof document<"u"&&document.createElement("div"),Qr.prototype.clone.call(this,t)}destroy(){super.destroy();var t=this.content;t&&ce._isInDocument(t)&&this.container().removeChild(t);var n=Bm.indexOf(this);return n>-1&&Bm.splice(n,1),ce.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const t=this._pointerPositions[0]||this._changedPointerPositions[0];return t?{x:t.x,y:t.y}:(ce.warn(sW),null)}_getPointerById(t){return this._pointerPositions.find(n=>n.id===t)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(t){t=t||{},t.x=t.x||0,t.y=t.y||0,t.width=t.width||this.width(),t.height=t.height||this.height();var n=new Tu({width:t.width,height:t.height,pixelRatio:t.pixelRatio||1}),r=n.getContext()._context,i=this.children;return(t.x||t.y)&&r.translate(-1*t.x,-1*t.y),i.forEach(function(a){if(a.isVisible()){var s=a._toKonvaCanvas(t);r.drawImage(s._canvas,t.x,t.y,s.getWidth()/s.getPixelRatio(),s.getHeight()/s.getPixelRatio())}}),n}getIntersection(t){if(!t)return null;var n=this.children,r=n.length,i=r-1,a;for(a=i;a>=0;a--){const s=n[a].getIntersection(t);if(s)return s}return null}_resizeDOM(){var t=this.width(),n=this.height();this.content&&(this.content.style.width=t+_5,this.content.style.height=n+_5),this.bufferCanvas.setSize(t,n),this.bufferHitCanvas.setSize(t,n),this.children.forEach(r=>{r.setSize({width:t,height:n}),r.draw()})}add(t,...n){if(arguments.length>1){for(var r=0;r<arguments.length;r++)this.add(arguments[r]);return this}super.add(t);var i=this.children.length;return i>iW&&ce.warn("The stage has "+i+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),t.setSize({width:this.width(),height:this.height()}),t.draw(),He.isBrowser&&this.content.appendChild(t.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(t){return BO(t,this)}setPointerCapture(t){zO(t,this)}releaseCapture(t){Fd(t)}getLayers(){return this.children}_bindContentEvents(){He.isBrowser&&aW.forEach(([t,n])=>{this.content.addEventListener(t,r=>{this[n](r)},{passive:!1})})}_pointerenter(t){this.setPointersPositions(t);const n=Ul(t.type);this._fire(n.pointerenter,{evt:t,target:this,currentTarget:this})}_pointerover(t){this.setPointersPositions(t);const n=Ul(t.type);this._fire(n.pointerover,{evt:t,target:this,currentTarget:this})}_getTargetShape(t){let n=this[t+"targetShape"];return n&&!n.getStage()&&(n=null),n}_pointerleave(t){const n=Ul(t.type),r=Ed(t.type);if(n){this.setPointersPositions(t);var i=this._getTargetShape(r),a=!At.isDragging||He.hitOnDragEnabled;i&&a?(i._fireAndBubble(n.pointerout,{evt:t}),i._fireAndBubble(n.pointerleave,{evt:t}),this._fire(n.pointerleave,{evt:t,target:this,currentTarget:this}),this[r+"targetShape"]=null):a&&(this._fire(n.pointerleave,{evt:t,target:this,currentTarget:this}),this._fire(n.pointerout,{evt:t,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(t){const n=Ul(t.type),r=Ed(t.type);if(n){this.setPointersPositions(t);var i=!1;this._changedPointerPositions.forEach(a=>{var s=this.getIntersection(a);if(At.justDragged=!1,He["_"+r+"ListenClick"]=!0,!(s&&s.isListening()))return;He.capturePointerEventsEnabled&&s.setPointerCapture(a.id),this[r+"ClickStartShape"]=s,s._fireAndBubble(n.pointerdown,{evt:t,pointerId:a.id}),i=!0;const l=t.type.indexOf("touch")>=0;s.preventDefault()&&t.cancelable&&l&&t.preventDefault()}),i||this._fire(n.pointerdown,{evt:t,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(t){const n=Ul(t.type),r=Ed(t.type);if(!n)return;At.isDragging&&At.node.preventDefault()&&t.cancelable&&t.preventDefault(),this.setPointersPositions(t);var i=!At.isDragging||He.hitOnDragEnabled;if(!i)return;var a={};let s=!1;var o=this._getTargetShape(r);this._changedPointerPositions.forEach(l=>{const u=Ow(l.id)||this.getIntersection(l),c=l.id,h={evt:t,pointerId:c};var p=o!==u;if(p&&o&&(o._fireAndBubble(n.pointerout,Object.assign({},h),u),o._fireAndBubble(n.pointerleave,Object.assign({},h),u)),u){if(a[u._id])return;a[u._id]=!0}u&&u.isListening()?(s=!0,p&&(u._fireAndBubble(n.pointerover,Object.assign({},h),o),u._fireAndBubble(n.pointerenter,Object.assign({},h),o),this[r+"targetShape"]=u),u._fireAndBubble(n.pointermove,Object.assign({},h))):o&&(this._fire(n.pointerover,{evt:t,target:this,currentTarget:this,pointerId:c}),this[r+"targetShape"]=null)}),s||this._fire(n.pointermove,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(t){const n=Ul(t.type),r=Ed(t.type);if(!n)return;this.setPointersPositions(t);const i=this[r+"ClickStartShape"],a=this[r+"ClickEndShape"];var s={};let o=!1;this._changedPointerPositions.forEach(l=>{const u=Ow(l.id)||this.getIntersection(l);if(u){if(u.releaseCapture(l.id),s[u._id])return;s[u._id]=!0}const c=l.id,h={evt:t,pointerId:c};let p=!1;He["_"+r+"InDblClickWindow"]?(p=!0,clearTimeout(this[r+"DblTimeout"])):At.justDragged||(He["_"+r+"InDblClickWindow"]=!0,clearTimeout(this[r+"DblTimeout"])),this[r+"DblTimeout"]=setTimeout(function(){He["_"+r+"InDblClickWindow"]=!1},He.dblClickWindow),u&&u.isListening()?(o=!0,this[r+"ClickEndShape"]=u,u._fireAndBubble(n.pointerup,Object.assign({},h)),He["_"+r+"ListenClick"]&&i&&i===u&&(u._fireAndBubble(n.pointerclick,Object.assign({},h)),p&&a&&a===u&&u._fireAndBubble(n.pointerdblclick,Object.assign({},h)))):(this[r+"ClickEndShape"]=null,He["_"+r+"ListenClick"]&&this._fire(n.pointerclick,{evt:t,target:this,currentTarget:this,pointerId:c}),p&&this._fire(n.pointerdblclick,{evt:t,target:this,currentTarget:this,pointerId:c}))}),o||this._fire(n.pointerup,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),He["_"+r+"ListenClick"]=!1,t.cancelable&&r!=="touch"&&t.preventDefault()}_contextmenu(t){this.setPointersPositions(t);var n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(c2,{evt:t}):this._fire(c2,{evt:t,target:this,currentTarget:this})}_wheel(t){this.setPointersPositions(t);var n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(d2,{evt:t}):this._fire(d2,{evt:t,target:this,currentTarget:this})}_pointercancel(t){this.setPointersPositions(t);const n=Ow(t.pointerId)||this.getIntersection(this.getPointerPosition());n&&n._fireAndBubble(du,cC(t)),Fd(t.pointerId)}_lostpointercapture(t){Fd(t.pointerId)}setPointersPositions(t){var n=this._getContentPosition(),r=null,i=null;t=t||window.event,t.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(t.touches,a=>{this._pointerPositions.push({id:a.identifier,x:(a.clientX-n.left)/n.scaleX,y:(a.clientY-n.top)/n.scaleY})}),Array.prototype.forEach.call(t.changedTouches||t.touches,a=>{this._changedPointerPositions.push({id:a.identifier,x:(a.clientX-n.left)/n.scaleX,y:(a.clientY-n.top)/n.scaleY})})):(r=(t.clientX-n.left)/n.scaleX,i=(t.clientY-n.top)/n.scaleY,this.pointerPos={x:r,y:i},this._pointerPositions=[{x:r,y:i,id:ce._getFirstPointerId(t)}],this._changedPointerPositions=[{x:r,y:i,id:ce._getFirstPointerId(t)}])}_setPointerPosition(t){ce.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(t)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var t=this.content.getBoundingClientRect();return{top:t.top,left:t.left,scaleX:t.width/this.content.clientWidth||1,scaleY:t.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new Tu({width:this.width(),height:this.height()}),this.bufferHitCanvas=new uC({pixelRatio:1,width:this.width(),height:this.height()}),!!He.isBrowser){var t=this.container();if(!t)throw"Stage has no container. A container is required.";t.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),t.appendChild(this.content),this._resizeDOM()}}cache(){return ce.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(t){t.batchDraw()}),this}};qy.prototype.nodeType=eW;gn(qy);Z.addGetterSetter(qy,"container");var XO="hasShadow",QO="shadowRGBA",ZO="patternImage",JO="linearGradient",eM="radialGradient";let Kp;function Lw(){return Kp||(Kp=ce.createCanvasElement().getContext("2d"),Kp)}const Bd={};function oW(e){e.fill()}function lW(e){e.stroke()}function uW(e){e.fill()}function cW(e){e.stroke()}function dW(){this._clearCache(XO)}function hW(){this._clearCache(QO)}function fW(){this._clearCache(ZO)}function pW(){this._clearCache(JO)}function mW(){this._clearCache(eM)}let Pe=class extends Me{constructor(t){super(t);let n;for(;n=ce.getRandomColor(),!(n&&!(n in Bd)););this.colorKey=n,Bd[n]=this}getContext(){return ce.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return ce.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(XO,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(ZO,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var t=Lw();const n=t.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(n&&n.setTransform){const r=new qr;r.translate(this.fillPatternX(),this.fillPatternY()),r.rotate(He.getAngle(this.fillPatternRotation())),r.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),r.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const i=r.getMatrix(),a=typeof DOMMatrix>"u"?{a:i[0],b:i[1],c:i[2],d:i[3],e:i[4],f:i[5]}:new DOMMatrix(i);n.setTransform(a)}return n}}_getLinearGradient(){return this._getCache(JO,this.__getLinearGradient)}__getLinearGradient(){var t=this.fillLinearGradientColorStops();if(t){for(var n=Lw(),r=this.fillLinearGradientStartPoint(),i=this.fillLinearGradientEndPoint(),a=n.createLinearGradient(r.x,r.y,i.x,i.y),s=0;s<t.length;s+=2)a.addColorStop(t[s],t[s+1]);return a}}_getRadialGradient(){return this._getCache(eM,this.__getRadialGradient)}__getRadialGradient(){var t=this.fillRadialGradientColorStops();if(t){for(var n=Lw(),r=this.fillRadialGradientStartPoint(),i=this.fillRadialGradientEndPoint(),a=n.createRadialGradient(r.x,r.y,this.fillRadialGradientStartRadius(),i.x,i.y,this.fillRadialGradientEndRadius()),s=0;s<t.length;s+=2)a.addColorStop(t[s],t[s+1]);return a}}getShadowRGBA(){return this._getCache(QO,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var t=ce.colorToRGBA(this.shadowColor());if(t)return"rgba("+t.r+","+t.g+","+t.b+","+t.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const t=this.hitStrokeWidth();return t==="auto"?this.hasStroke():this.strokeEnabled()&&!!t}intersects(t){var n=this.getStage(),r=n.bufferHitCanvas,i;return r.getContext().clear(),this.drawHit(r,null,!0),i=r.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data,i[3]>0}destroy(){return Me.prototype.destroy.call(this),delete Bd[this.colorKey],delete this.colorKey,this}_useBufferCanvas(t){var n;if(!this.getStage()||!((n=this.attrs.perfectDrawEnabled)!==null&&n!==void 0?n:!0))return!1;const i=t||this.hasFill(),a=this.hasStroke(),s=this.getAbsoluteOpacity()!==1;if(i&&a&&s)return!0;const o=this.hasShadow(),l=this.shadowForStrokeEnabled();return!!(i&&a&&o&&l)}setStrokeHitEnabled(t){ce.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),t?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var t=this.size();return{x:this._centroid?-t.width/2:0,y:this._centroid?-t.height/2:0,width:t.width,height:t.height}}getClientRect(t={}){const n=t.skipTransform,r=t.relativeTo,i=this.getSelfRect(),s=!t.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,o=i.width+s,l=i.height+s,u=!t.skipShadow&&this.hasShadow(),c=u?this.shadowOffsetX():0,h=u?this.shadowOffsetY():0,p=o+Math.abs(c),m=l+Math.abs(h),g=u&&this.shadowBlur()||0,y=p+g*2,b=m+g*2,v={width:y,height:b,x:-(s/2+g)+Math.min(c,0)+i.x,y:-(s/2+g)+Math.min(h,0)+i.y};return n?v:this._transformedRect(v,r)}drawScene(t,n){var r=this.getLayer(),i=t||r.getCanvas(),a=i.getContext(),s=this._getCanvasCache(),o=this.getSceneFunc(),l=this.hasShadow(),u,c,h,p=i.isCache,m=n===this;if(!this.isVisible()&&!m)return this;if(s){a.save();var g=this.getAbsoluteTransform(n).getMatrix();return a.transform(g[0],g[1],g[2],g[3],g[4],g[5]),this._drawCachedSceneCanvas(a),a.restore(),this}if(!o)return this;if(a.save(),this._useBufferCanvas()&&!p){u=this.getStage(),c=u.bufferCanvas,h=c.getContext(),h.clear(),h.save(),h._applyLineJoin(this);var y=this.getAbsoluteTransform(n).getMatrix();h.transform(y[0],y[1],y[2],y[3],y[4],y[5]),o.call(this,h,this),h.restore();var b=c.pixelRatio;l&&a._applyShadow(this),a._applyOpacity(this),a._applyGlobalCompositeOperation(this),a.drawImage(c._canvas,0,0,c.width/b,c.height/b)}else{if(a._applyLineJoin(this),!m){var y=this.getAbsoluteTransform(n).getMatrix();a.transform(y[0],y[1],y[2],y[3],y[4],y[5]),a._applyOpacity(this),a._applyGlobalCompositeOperation(this)}l&&a._applyShadow(this),o.call(this,a,this)}return a.restore(),this}drawHit(t,n,r=!1){if(!this.shouldDrawHit(n,r))return this;var i=this.getLayer(),a=t||i.hitCanvas,s=a&&a.getContext(),o=this.hitFunc()||this.sceneFunc(),l=this._getCanvasCache(),u=l&&l.hit;if(this.colorKey||ce.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),u){s.save();var c=this.getAbsoluteTransform(n).getMatrix();return s.transform(c[0],c[1],c[2],c[3],c[4],c[5]),this._drawCachedHitCanvas(s),s.restore(),this}if(!o)return this;if(s.save(),s._applyLineJoin(this),!(this===n)){var p=this.getAbsoluteTransform(n).getMatrix();s.transform(p[0],p[1],p[2],p[3],p[4],p[5])}return o.call(this,s,this),s.restore(),this}drawHitFromCache(t=0){var n=this._getCanvasCache(),r=this._getCachedSceneCanvas(),i=n.hit,a=i.getContext(),s=i.getWidth(),o=i.getHeight(),l,u,c,h,p,m;a.clear(),a.drawImage(r._canvas,0,0,s,o);try{for(l=a.getImageData(0,0,s,o),u=l.data,c=u.length,h=ce._hexToRgb(this.colorKey),p=0;p<c;p+=4)m=u[p+3],m>t?(u[p]=h.r,u[p+1]=h.g,u[p+2]=h.b,u[p+3]=255):u[p+3]=0;a.putImageData(l,0,0)}catch(g){ce.error("Unable to draw hit graph from cached scene canvas. "+g.message)}return this}hasPointerCapture(t){return BO(t,this)}setPointerCapture(t){zO(t,this)}releaseCapture(t){Fd(t)}};Pe.prototype._fillFunc=oW;Pe.prototype._strokeFunc=lW;Pe.prototype._fillFuncHit=uW;Pe.prototype._strokeFuncHit=cW;Pe.prototype._centroid=!1;Pe.prototype.nodeType="Shape";gn(Pe);Pe.prototype.eventListeners={};Pe.prototype.on.call(Pe.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",dW);Pe.prototype.on.call(Pe.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",hW);Pe.prototype.on.call(Pe.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",fW);Pe.prototype.on.call(Pe.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",pW);Pe.prototype.on.call(Pe.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",mW);Z.addGetterSetter(Pe,"stroke",void 0,LO());Z.addGetterSetter(Pe,"strokeWidth",2,Le());Z.addGetterSetter(Pe,"fillAfterStrokeEnabled",!1);Z.addGetterSetter(Pe,"hitStrokeWidth","auto",lC());Z.addGetterSetter(Pe,"strokeHitEnabled",!0,Ji());Z.addGetterSetter(Pe,"perfectDrawEnabled",!0,Ji());Z.addGetterSetter(Pe,"shadowForStrokeEnabled",!0,Ji());Z.addGetterSetter(Pe,"lineJoin");Z.addGetterSetter(Pe,"lineCap");Z.addGetterSetter(Pe,"sceneFunc");Z.addGetterSetter(Pe,"hitFunc");Z.addGetterSetter(Pe,"dash");Z.addGetterSetter(Pe,"dashOffset",0,Le());Z.addGetterSetter(Pe,"shadowColor",void 0,gc());Z.addGetterSetter(Pe,"shadowBlur",0,Le());Z.addGetterSetter(Pe,"shadowOpacity",1,Le());Z.addComponentsGetterSetter(Pe,"shadowOffset",["x","y"]);Z.addGetterSetter(Pe,"shadowOffsetX",0,Le());Z.addGetterSetter(Pe,"shadowOffsetY",0,Le());Z.addGetterSetter(Pe,"fillPatternImage");Z.addGetterSetter(Pe,"fill",void 0,LO());Z.addGetterSetter(Pe,"fillPatternX",0,Le());Z.addGetterSetter(Pe,"fillPatternY",0,Le());Z.addGetterSetter(Pe,"fillLinearGradientColorStops");Z.addGetterSetter(Pe,"strokeLinearGradientColorStops");Z.addGetterSetter(Pe,"fillRadialGradientStartRadius",0);Z.addGetterSetter(Pe,"fillRadialGradientEndRadius",0);Z.addGetterSetter(Pe,"fillRadialGradientColorStops");Z.addGetterSetter(Pe,"fillPatternRepeat","repeat");Z.addGetterSetter(Pe,"fillEnabled",!0);Z.addGetterSetter(Pe,"strokeEnabled",!0);Z.addGetterSetter(Pe,"shadowEnabled",!0);Z.addGetterSetter(Pe,"dashEnabled",!0);Z.addGetterSetter(Pe,"strokeScaleEnabled",!0);Z.addGetterSetter(Pe,"fillPriority","color");Z.addComponentsGetterSetter(Pe,"fillPatternOffset",["x","y"]);Z.addGetterSetter(Pe,"fillPatternOffsetX",0,Le());Z.addGetterSetter(Pe,"fillPatternOffsetY",0,Le());Z.addComponentsGetterSetter(Pe,"fillPatternScale",["x","y"]);Z.addGetterSetter(Pe,"fillPatternScaleX",1,Le());Z.addGetterSetter(Pe,"fillPatternScaleY",1,Le());Z.addComponentsGetterSetter(Pe,"fillLinearGradientStartPoint",["x","y"]);Z.addComponentsGetterSetter(Pe,"strokeLinearGradientStartPoint",["x","y"]);Z.addGetterSetter(Pe,"fillLinearGradientStartPointX",0);Z.addGetterSetter(Pe,"strokeLinearGradientStartPointX",0);Z.addGetterSetter(Pe,"fillLinearGradientStartPointY",0);Z.addGetterSetter(Pe,"strokeLinearGradientStartPointY",0);Z.addComponentsGetterSetter(Pe,"fillLinearGradientEndPoint",["x","y"]);Z.addComponentsGetterSetter(Pe,"strokeLinearGradientEndPoint",["x","y"]);Z.addGetterSetter(Pe,"fillLinearGradientEndPointX",0);Z.addGetterSetter(Pe,"strokeLinearGradientEndPointX",0);Z.addGetterSetter(Pe,"fillLinearGradientEndPointY",0);Z.addGetterSetter(Pe,"strokeLinearGradientEndPointY",0);Z.addComponentsGetterSetter(Pe,"fillRadialGradientStartPoint",["x","y"]);Z.addGetterSetter(Pe,"fillRadialGradientStartPointX",0);Z.addGetterSetter(Pe,"fillRadialGradientStartPointY",0);Z.addComponentsGetterSetter(Pe,"fillRadialGradientEndPoint",["x","y"]);Z.addGetterSetter(Pe,"fillRadialGradientEndPointX",0);Z.addGetterSetter(Pe,"fillRadialGradientEndPointY",0);Z.addGetterSetter(Pe,"fillPatternRotation",0);Z.backCompat(Pe,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});var gW="#",yW="beforeDraw",vW="draw",tM=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],wW=tM.length;let pl=class extends Qr{constructor(t){super(t),this.canvas=new Tu,this.hitCanvas=new uC({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this}setZIndex(t){super.setZIndex(t);var n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),t<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[t+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Me.prototype.moveToTop.call(this);var t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var t=Me.prototype.moveUp.call(this);if(!t)return!1;var n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Me.prototype.moveDown.call(this)){var t=this.getStage();if(t){var n=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Me.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var n=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var t=this.getNativeCanvasElement();return Me.prototype.remove.call(this),t&&t.parentNode&&ce._isInDocument(t)&&t.parentNode.removeChild(t),this}getStage(){return this.parent}setSize({width:t,height:n}){return this.canvas.setSize(t,n),this.hitCanvas.setSize(t,n),this._setSmoothEnabled(),this}_validateAdd(t){var n=t.getType();n!=="Group"&&n!=="Shape"&&ce.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(t){return t=t||{},t.width=t.width||this.getWidth(),t.height=t.height||this.getHeight(),t.x=t.x!==void 0?t.x:this.x(),t.y=t.y!==void 0?t.y:this.y(),Me.prototype._toKonvaCanvas.call(this,t)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){ce.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){ce.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,ce.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(t){if(!this.isListening()||!this.isVisible())return null;for(var n=1,r=!1;;){for(let i=0;i<wW;i++){const a=tM[i],s=this._getIntersection({x:t.x+a.x*n,y:t.y+a.y*n}),o=s.shape;if(o)return o;if(r=!!s.antialiased,!s.antialiased)break}if(r)n+=1;else return null}}_getIntersection(t){const n=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(t.x*n),Math.round(t.y*n),1,1).data,i=r[3];if(i===255){const a=ce._rgbToHex(r[0],r[1],r[2]),s=Bd[gW+a];return s?{shape:s}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(t,n){var r=this.getLayer(),i=t||r&&r.getCanvas();return this._fire(yW,{node:this}),this.clearBeforeDraw()&&i.getContext().clear(),Qr.prototype.drawScene.call(this,i,n),this._fire(vW,{node:this}),this}drawHit(t,n){var r=this.getLayer(),i=t||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),Qr.prototype.drawHit.call(this,i,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(t){ce.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(t)}getHitGraphEnabled(t){return ce.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var t=this.parent,n=!!this.hitCanvas._canvas.parentNode;n?t.content.removeChild(this.hitCanvas._canvas):t.content.appendChild(this.hitCanvas._canvas)}}destroy(){return ce.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};pl.prototype.nodeType="Layer";gn(pl);Z.addGetterSetter(pl,"imageSmoothingEnabled",!0);Z.addGetterSetter(pl,"clearBeforeDraw",!0);Z.addGetterSetter(pl,"hitGraphEnabled",!0,Ji());class dC extends pl{constructor(t){super(t),this.listening(!1),ce.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}dC.prototype.nodeType="FastLayer";gn(dC);let Hu=class extends Qr{_validateAdd(t){var n=t.getType();n!=="Group"&&n!=="Shape"&&ce.throw("You may only add groups and shapes to groups.")}};Hu.prototype.nodeType="Group";gn(Hu);var Fw=function(){return _u.performance&&_u.performance.now?function(){return _u.performance.now()}:function(){return new Date().getTime()}}();class Si{constructor(t,n){this.id=Si.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:Fw(),frameRate:0},this.func=t,this.setLayers(n)}setLayers(t){var n=[];return t?t.length>0?n=t:n=[t]:n=[],this.layers=n,this}getLayers(){return this.layers}addLayer(t){var n=this.layers,r=n.length,i;for(i=0;i<r;i++)if(n[i]._id===t._id)return!1;return this.layers.push(t),!0}isRunning(){var t=Si,n=t.animations,r=n.length,i;for(i=0;i<r;i++)if(n[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=Fw(),Si._addAnimation(this),this}stop(){return Si._removeAnimation(this),this}_updateFrameObject(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(t){this.animations.push(t),this._handleAnimation()}static _removeAnimation(t){var n=t.id,r=this.animations,i=r.length,a;for(a=0;a<i;a++)if(r[a].id===n){this.animations.splice(a,1);break}}static _runFrames(){var t={},n=this.animations,r,i,a,s,o,l,u,c,h;for(s=0;s<n.length;s++)if(r=n[s],i=r.layers,a=r.func,r._updateFrameObject(Fw()),l=i.length,a?h=a.call(r,r.frame)!==!1:h=!0,!!h)for(o=0;o<l;o++)u=i[o],u._id!==void 0&&(t[u._id]=u);for(c in t)t.hasOwnProperty(c)&&t[c].batchDraw()}static _animationLoop(){var t=Si;t.animations.length?(t._runFrames(),ce.requestAnimFrame(t._animationLoop)):t.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,ce.requestAnimFrame(this._animationLoop))}}Si.animations=[];Si.animIdCounter=0;Si.animRunning=!1;var bW={node:1,duration:1,easing:1,onFinish:1,yoyo:1},xW=1,I5=2,P5=3,kW=0,R5=["fill","stroke","shadowColor"];class SW{constructor(t,n,r,i,a,s,o){this.prop=t,this.propFunc=n,this.begin=i,this._pos=i,this.duration=s,this._change=0,this.prevPos=0,this.yoyo=o,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=r,this._change=a-this.begin,this.pause()}fire(t){var n=this[t];n&&n()}setTime(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())}getTime(){return this._time}setPosition(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t}getPosition(t){return t===void 0&&(t=this._time),this.func(t,this.begin,this._change,this.duration)}play(){this.state=I5,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=P5,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var t=this.getTimer()-this._startTime;this.state===I5?this.setTime(t):this.state===P5&&this.setTime(this.duration-t)}pause(){this.state=xW,this.fire("onPause")}getTimer(){return new Date().getTime()}}class Sn{constructor(t){var n=this,r=t.node,i=r._id,a,s=t.easing||zd.Linear,o=!!t.yoyo,l;typeof t.duration>"u"?a=.3:t.duration===0?a=.001:a=t.duration,this.node=r,this._id=kW++;var u=r.getLayer()||(r instanceof He.Stage?r.getLayers():null);u||ce.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Si(function(){n.tween.onEnterFrame()},u),this.tween=new SW(l,function(c){n._tweenFunc(c)},s,0,1,a*1e3,o),this._addListeners(),Sn.attrs[i]||(Sn.attrs[i]={}),Sn.attrs[i][this._id]||(Sn.attrs[i][this._id]={}),Sn.tweens[i]||(Sn.tweens[i]={});for(l in t)bW[l]===void 0&&this._addAttr(l,t[l]);this.reset(),this.onFinish=t.onFinish,this.onReset=t.onReset,this.onUpdate=t.onUpdate}_addAttr(t,n){var r=this.node,i=r._id,a,s,o,l,u,c,h,p;if(o=Sn.tweens[i][t],o&&delete Sn.attrs[i][o][t],a=r.getAttr(t),ce._isArray(n))if(s=[],u=Math.max(n.length,a.length),t==="points"&&n.length!==a.length&&(n.length>a.length?(h=a,a=ce._prepareArrayForTween(a,n,r.closed())):(c=n,n=ce._prepareArrayForTween(n,a,r.closed()))),t.indexOf("fill")===0)for(l=0;l<u;l++)if(l%2===0)s.push(n[l]-a[l]);else{var m=ce.colorToRGBA(a[l]);p=ce.colorToRGBA(n[l]),a[l]=m,s.push({r:p.r-m.r,g:p.g-m.g,b:p.b-m.b,a:p.a-m.a})}else for(l=0;l<u;l++)s.push(n[l]-a[l]);else R5.indexOf(t)!==-1?(a=ce.colorToRGBA(a),p=ce.colorToRGBA(n),s={r:p.r-a.r,g:p.g-a.g,b:p.b-a.b,a:p.a-a.a}):s=n-a;Sn.attrs[i][this._id][t]={start:a,diff:s,end:n,trueEnd:c,trueStart:h},Sn.tweens[i][t]=this._id}_tweenFunc(t){var n=this.node,r=Sn.attrs[n._id][this._id],i,a,s,o,l,u,c,h;for(i in r){if(a=r[i],s=a.start,o=a.diff,h=a.end,ce._isArray(s))if(l=[],c=Math.max(s.length,h.length),i.indexOf("fill")===0)for(u=0;u<c;u++)u%2===0?l.push((s[u]||0)+o[u]*t):l.push("rgba("+Math.round(s[u].r+o[u].r*t)+","+Math.round(s[u].g+o[u].g*t)+","+Math.round(s[u].b+o[u].b*t)+","+(s[u].a+o[u].a*t)+")");else for(u=0;u<c;u++)l.push((s[u]||0)+o[u]*t);else R5.indexOf(i)!==-1?l="rgba("+Math.round(s.r+o.r*t)+","+Math.round(s.g+o.g*t)+","+Math.round(s.b+o.b*t)+","+(s.a+o.a*t)+")":l=s+o*t;n.setAttr(i,l)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var t=this.node,n=Sn.attrs[t._id][this._id];n.points&&n.points.trueEnd&&t.setAttr("points",n.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var t=this.node,n=Sn.attrs[t._id][this._id];n.points&&n.points.trueStart&&t.points(n.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(t){return this.tween.seek(t*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var t=this.node._id,n=this._id,r=Sn.tweens[t],i;this.pause();for(i in r)delete Sn.tweens[t][i];delete Sn.attrs[t][n]}}Sn.attrs={};Sn.tweens={};Me.prototype.to=function(e){var t=e.onFinish;e.node=this,e.onFinish=function(){this.destroy(),t&&t()};var n=new Sn(e);n.play()};const zd={BackEaseIn(e,t,n,r){var i=1.70158;return n*(e/=r)*e*((i+1)*e-i)+t},BackEaseOut(e,t,n,r){var i=1.70158;return n*((e=e/r-1)*e*((i+1)*e+i)+1)+t},BackEaseInOut(e,t,n,r){var i=1.70158;return(e/=r/2)<1?n/2*(e*e*(((i*=1.525)+1)*e-i))+t:n/2*((e-=2)*e*(((i*=1.525)+1)*e+i)+2)+t},ElasticEaseIn(e,t,n,r,i,a){var s=0;return e===0?t:(e/=r)===1?t+n:(a||(a=r*.3),!i||i<Math.abs(n)?(i=n,s=a/4):s=a/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(e-=1))*Math.sin((e*r-s)*(2*Math.PI)/a))+t)},ElasticEaseOut(e,t,n,r,i,a){var s=0;return e===0?t:(e/=r)===1?t+n:(a||(a=r*.3),!i||i<Math.abs(n)?(i=n,s=a/4):s=a/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*e)*Math.sin((e*r-s)*(2*Math.PI)/a)+n+t)},ElasticEaseInOut(e,t,n,r,i,a){var s=0;return e===0?t:(e/=r/2)===2?t+n:(a||(a=r*(.3*1.5)),!i||i<Math.abs(n)?(i=n,s=a/4):s=a/(2*Math.PI)*Math.asin(n/i),e<1?-.5*(i*Math.pow(2,10*(e-=1))*Math.sin((e*r-s)*(2*Math.PI)/a))+t:i*Math.pow(2,-10*(e-=1))*Math.sin((e*r-s)*(2*Math.PI)/a)*.5+n+t)},BounceEaseOut(e,t,n,r){return(e/=r)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},BounceEaseIn(e,t,n,r){return n-zd.BounceEaseOut(r-e,0,n,r)+t},BounceEaseInOut(e,t,n,r){return e<r/2?zd.BounceEaseIn(e*2,0,n,r)*.5+t:zd.BounceEaseOut(e*2-r,0,n,r)*.5+n*.5+t},EaseIn(e,t,n,r){return n*(e/=r)*e+t},EaseOut(e,t,n,r){return-n*(e/=r)*(e-2)+t},EaseInOut(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},StrongEaseIn(e,t,n,r){return n*(e/=r)*e*e*e*e+t},StrongEaseOut(e,t,n,r){return n*((e=e/r-1)*e*e*e*e+1)+t},StrongEaseInOut(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},Linear(e,t,n,r){return n*e/r+t}},ll=ce._assign(He,{Util:ce,Transform:qr,Node:Me,Container:Qr,Stage:qy,stages:Bm,Layer:pl,FastLayer:dC,Group:Hu,DD:At,Shape:Pe,shapes:Bd,Animation:Si,Tween:Sn,Easings:zd,Context:Gy,Canvas:Hy});class ns extends Pe{_sceneFunc(t){var n=He.getAngle(this.angle()),r=this.clockwise();t.beginPath(),t.arc(0,0,this.outerRadius(),0,n,r),t.arc(0,0,this.innerRadius(),n,0,!r),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}getSelfRect(){const t=this.innerRadius(),n=this.outerRadius(),r=this.clockwise(),i=He.getAngle(r?360-this.angle():this.angle()),a=Math.cos(Math.min(i,Math.PI)),s=1,o=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),l=Math.sin(Math.min(i,Math.PI/2)),u=a*(a>0?t:n),c=s*n,h=o*(o>0?t:n),p=l*(l>0?n:t);return{x:u,y:r?-1*p:h,width:c-u,height:p-h}}}ns.prototype._centroid=!0;ns.prototype.className="Arc";ns.prototype._attrsAffectingSize=["innerRadius","outerRadius"];gn(ns);Z.addGetterSetter(ns,"innerRadius",0,Le());Z.addGetterSetter(ns,"outerRadius",0,Le());Z.addGetterSetter(ns,"angle",0,Le());Z.addGetterSetter(ns,"clockwise",!1,Ji());function h2(e,t,n,r,i,a,s){var o=Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2)),l=Math.sqrt(Math.pow(i-n,2)+Math.pow(a-r,2)),u=s*o/(o+l),c=s*l/(o+l),h=n-u*(i-e),p=r-u*(a-t),m=n+c*(i-e),g=r+c*(a-t);return[h,p,m,g]}function A5(e,t){var n=e.length,r=[],i,a;for(i=2;i<n-2;i+=2)a=h2(e[i-2],e[i-1],e[i],e[i+1],e[i+2],e[i+3],t),!isNaN(a[0])&&(r.push(a[0]),r.push(a[1]),r.push(e[i]),r.push(e[i+1]),r.push(a[2]),r.push(a[3]));return r}let rs=class extends Pe{constructor(t){super(t),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(t){var n=this.points(),r=n.length,i=this.tension(),a=this.closed(),s=this.bezier(),o,l,u;if(r){if(t.beginPath(),t.moveTo(n[0],n[1]),i!==0&&r>4){for(o=this.getTensionPoints(),l=o.length,u=a?0:4,a||t.quadraticCurveTo(o[0],o[1],o[2],o[3]);u<l-2;)t.bezierCurveTo(o[u++],o[u++],o[u++],o[u++],o[u++],o[u++]);a||t.quadraticCurveTo(o[l-2],o[l-1],n[r-2],n[r-1])}else if(s)for(u=2;u<r;)t.bezierCurveTo(n[u++],n[u++],n[u++],n[u++],n[u++],n[u++]);else for(u=2;u<r;u+=2)t.lineTo(n[u],n[u+1]);a?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():A5(this.points(),this.tension())}_getTensionPointsClosed(){var t=this.points(),n=t.length,r=this.tension(),i=h2(t[n-2],t[n-1],t[0],t[1],t[2],t[3],r),a=h2(t[n-4],t[n-3],t[n-2],t[n-1],t[0],t[1],r),s=A5(t,r),o=[i[2],i[3]].concat(s).concat([a[0],a[1],t[n-2],t[n-1],a[2],a[3],i[0],i[1],t[0],t[1]]);return o}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var t=this.points();if(t.length<4)return{x:t[0]||0,y:t[1]||0,width:0,height:0};this.tension()!==0?t=[t[0],t[1],...this._getTensionPoints(),t[t.length-2],t[t.length-1]]:t=this.points();for(var n=t[0],r=t[0],i=t[1],a=t[1],s,o,l=0;l<t.length/2;l++)s=t[l*2],o=t[l*2+1],n=Math.min(n,s),r=Math.max(r,s),i=Math.min(i,o),a=Math.max(a,o);return{x:n,y:i,width:r-n,height:a-i}}};rs.prototype.className="Line";rs.prototype._attrsAffectingSize=["points","bezier","tension"];gn(rs);Z.addGetterSetter(rs,"closed",!1);Z.addGetterSetter(rs,"bezier",!1);Z.addGetterSetter(rs,"tension",0,Le());Z.addGetterSetter(rs,"points",[],DV());class Vt extends Pe{constructor(t){super(t),this.dataArray=[],this.pathLength=0,this.dataArray=Vt.parsePathData(this.data()),this.pathLength=0;for(var n=0;n<this.dataArray.length;++n)this.pathLength+=this.dataArray[n].pathLength;this.on("dataChange.konva",function(){this.dataArray=Vt.parsePathData(this.data()),this.pathLength=0;for(var r=0;r<this.dataArray.length;++r)this.pathLength+=this.dataArray[r].pathLength})}_sceneFunc(t){var n=this.dataArray;t.beginPath();for(var r=!1,i=0;i<n.length;i++){var a=n[i].command,s=n[i].points;switch(a){case"L":t.lineTo(s[0],s[1]);break;case"M":t.moveTo(s[0],s[1]);break;case"C":t.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case"Q":t.quadraticCurveTo(s[0],s[1],s[2],s[3]);break;case"A":var o=s[0],l=s[1],u=s[2],c=s[3],h=s[4],p=s[5],m=s[6],g=s[7],y=u>c?u:c,b=u>c?1:u/c,v=u>c?c/u:1;t.translate(o,l),t.rotate(m),t.scale(b,v),t.arc(0,0,y,h,h+p,1-g),t.scale(1/b,1/v),t.rotate(-m),t.translate(-o,-l);break;case"z":r=!0,t.closePath();break}}!r&&!this.hasFill()?t.strokeShape(this):t.fillStrokeShape(this)}getSelfRect(){var t=[];this.dataArray.forEach(function(u){if(u.command==="A"){var c=u.points[4],h=u.points[5],p=u.points[4]+h,m=Math.PI/180;if(Math.abs(c-p)<m&&(m=Math.abs(c-p)),h<0)for(let g=c-m;g>p;g-=m){const y=Vt.getPointOnEllipticalArc(u.points[0],u.points[1],u.points[2],u.points[3],g,0);t.push(y.x,y.y)}else for(let g=c+m;g<p;g+=m){const y=Vt.getPointOnEllipticalArc(u.points[0],u.points[1],u.points[2],u.points[3],g,0);t.push(y.x,y.y)}}else if(u.command==="C")for(let g=0;g<=1;g+=.01){const y=Vt.getPointOnCubicBezier(g,u.start.x,u.start.y,u.points[0],u.points[1],u.points[2],u.points[3],u.points[4],u.points[5]);t.push(y.x,y.y)}else t=t.concat(u.points)});for(var n=t[0],r=t[0],i=t[1],a=t[1],s,o,l=0;l<t.length/2;l++)s=t[l*2],o=t[l*2+1],isNaN(s)||(n=Math.min(n,s),r=Math.max(r,s)),isNaN(o)||(i=Math.min(i,o),a=Math.max(a,o));return{x:n,y:i,width:r-n,height:a-i}}getLength(){return this.pathLength}getPointAtLength(t){var n,r=0,i=this.dataArray.length;if(!i)return null;for(;r<i&&t>this.dataArray[r].pathLength;)t-=this.dataArray[r].pathLength,++r;if(r===i)return n=this.dataArray[r-1].points.slice(-2),{x:n[0],y:n[1]};if(t<.01)return n=this.dataArray[r].points.slice(0,2),{x:n[0],y:n[1]};var a=this.dataArray[r],s=a.points;switch(a.command){case"L":return Vt.getPointOnLine(t,a.start.x,a.start.y,s[0],s[1]);case"C":return Vt.getPointOnCubicBezier(t/a.pathLength,a.start.x,a.start.y,s[0],s[1],s[2],s[3],s[4],s[5]);case"Q":return Vt.getPointOnQuadraticBezier(t/a.pathLength,a.start.x,a.start.y,s[0],s[1],s[2],s[3]);case"A":var o=s[0],l=s[1],u=s[2],c=s[3],h=s[4],p=s[5],m=s[6];return h+=p*t/a.pathLength,Vt.getPointOnEllipticalArc(o,l,u,c,h,m)}return null}static getLineLength(t,n,r,i){return Math.sqrt((r-t)*(r-t)+(i-n)*(i-n))}static getPointOnLine(t,n,r,i,a,s,o){s===void 0&&(s=n),o===void 0&&(o=r);var l=(a-r)/(i-n+1e-8),u=Math.sqrt(t*t/(1+l*l));i<n&&(u*=-1);var c=l*u,h;if(i===n)h={x:s,y:o+c};else if((o-r)/(s-n+1e-8)===l)h={x:s+u,y:o+c};else{var p,m,g=this.getLineLength(n,r,i,a),y=(s-n)*(i-n)+(o-r)*(a-r);y=y/(g*g),p=n+y*(i-n),m=r+y*(a-r);var b=this.getLineLength(s,o,p,m),v=Math.sqrt(t*t-b*b);u=Math.sqrt(v*v/(1+l*l)),i<n&&(u*=-1),c=l*u,h={x:p+u,y:m+c}}return h}static getPointOnCubicBezier(t,n,r,i,a,s,o,l,u){function c(b){return b*b*b}function h(b){return 3*b*b*(1-b)}function p(b){return 3*b*(1-b)*(1-b)}function m(b){return(1-b)*(1-b)*(1-b)}var g=l*c(t)+s*h(t)+i*p(t)+n*m(t),y=u*c(t)+o*h(t)+a*p(t)+r*m(t);return{x:g,y}}static getPointOnQuadraticBezier(t,n,r,i,a,s,o){function l(m){return m*m}function u(m){return 2*m*(1-m)}function c(m){return(1-m)*(1-m)}var h=s*l(t)+i*u(t)+n*c(t),p=o*l(t)+a*u(t)+r*c(t);return{x:h,y:p}}static getPointOnEllipticalArc(t,n,r,i,a,s){var o=Math.cos(s),l=Math.sin(s),u={x:r*Math.cos(a),y:i*Math.sin(a)};return{x:t+(u.x*o-u.y*l),y:n+(u.x*l+u.y*o)}}static parsePathData(t){if(!t)return[];var n=t,r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(var i=0;i<r.length;i++)n=n.replace(new RegExp(r[i],"g"),"|"+r[i]);var a=n.split("|"),s=[],o=[],l=0,u=0,c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,h;for(i=1;i<a.length;i++){var p=a[i],m=p.charAt(0);for(p=p.slice(1),o.length=0;h=c.exec(p);)o.push(h[0]);for(var g=[],y=0,b=o.length;y<b;y++){if(o[y]==="00"){g.push(0,0);continue}var v=parseFloat(o[y]);isNaN(v)?g.push(0):g.push(v)}for(;g.length>0&&!isNaN(g[0]);){var x=null,k=[],T=l,P=u,R,N,B,j,W,H,z,$,O,te;switch(m){case"l":l+=g.shift(),u+=g.shift(),x="L",k.push(l,u);break;case"L":l=g.shift(),u=g.shift(),k.push(l,u);break;case"m":var X=g.shift(),le=g.shift();if(l+=X,u+=le,x="M",s.length>2&&s[s.length-1].command==="z"){for(var de=s.length-2;de>=0;de--)if(s[de].command==="M"){l=s[de].points[0]+X,u=s[de].points[1]+le;break}}k.push(l,u),m="l";break;case"M":l=g.shift(),u=g.shift(),x="M",k.push(l,u),m="L";break;case"h":l+=g.shift(),x="L",k.push(l,u);break;case"H":l=g.shift(),x="L",k.push(l,u);break;case"v":u+=g.shift(),x="L",k.push(l,u);break;case"V":u=g.shift(),x="L",k.push(l,u);break;case"C":k.push(g.shift(),g.shift(),g.shift(),g.shift()),l=g.shift(),u=g.shift(),k.push(l,u);break;case"c":k.push(l+g.shift(),u+g.shift(),l+g.shift(),u+g.shift()),l+=g.shift(),u+=g.shift(),x="C",k.push(l,u);break;case"S":N=l,B=u,R=s[s.length-1],R.command==="C"&&(N=l+(l-R.points[2]),B=u+(u-R.points[3])),k.push(N,B,g.shift(),g.shift()),l=g.shift(),u=g.shift(),x="C",k.push(l,u);break;case"s":N=l,B=u,R=s[s.length-1],R.command==="C"&&(N=l+(l-R.points[2]),B=u+(u-R.points[3])),k.push(N,B,l+g.shift(),u+g.shift()),l+=g.shift(),u+=g.shift(),x="C",k.push(l,u);break;case"Q":k.push(g.shift(),g.shift()),l=g.shift(),u=g.shift(),k.push(l,u);break;case"q":k.push(l+g.shift(),u+g.shift()),l+=g.shift(),u+=g.shift(),x="Q",k.push(l,u);break;case"T":N=l,B=u,R=s[s.length-1],R.command==="Q"&&(N=l+(l-R.points[0]),B=u+(u-R.points[1])),l=g.shift(),u=g.shift(),x="Q",k.push(N,B,l,u);break;case"t":N=l,B=u,R=s[s.length-1],R.command==="Q"&&(N=l+(l-R.points[0]),B=u+(u-R.points[1])),l+=g.shift(),u+=g.shift(),x="Q",k.push(N,B,l,u);break;case"A":j=g.shift(),W=g.shift(),H=g.shift(),z=g.shift(),$=g.shift(),O=l,te=u,l=g.shift(),u=g.shift(),x="A",k=this.convertEndpointToCenterParameterization(O,te,l,u,z,$,j,W,H);break;case"a":j=g.shift(),W=g.shift(),H=g.shift(),z=g.shift(),$=g.shift(),O=l,te=u,l+=g.shift(),u+=g.shift(),x="A",k=this.convertEndpointToCenterParameterization(O,te,l,u,z,$,j,W,H);break}s.push({command:x||m,points:k,start:{x:T,y:P},pathLength:this.calcLength(T,P,x||m,k)})}(m==="z"||m==="Z")&&s.push({command:"z",points:[],start:void 0,pathLength:0})}return s}static calcLength(t,n,r,i){var a,s,o,l,u=Vt;switch(r){case"L":return u.getLineLength(t,n,i[0],i[1]);case"C":for(a=0,s=u.getPointOnCubicBezier(0,t,n,i[0],i[1],i[2],i[3],i[4],i[5]),l=.01;l<=1;l+=.01)o=u.getPointOnCubicBezier(l,t,n,i[0],i[1],i[2],i[3],i[4],i[5]),a+=u.getLineLength(s.x,s.y,o.x,o.y),s=o;return a;case"Q":for(a=0,s=u.getPointOnQuadraticBezier(0,t,n,i[0],i[1],i[2],i[3]),l=.01;l<=1;l+=.01)o=u.getPointOnQuadraticBezier(l,t,n,i[0],i[1],i[2],i[3]),a+=u.getLineLength(s.x,s.y,o.x,o.y),s=o;return a;case"A":a=0;var c=i[4],h=i[5],p=i[4]+h,m=Math.PI/180;if(Math.abs(c-p)<m&&(m=Math.abs(c-p)),s=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],c,0),h<0)for(l=c-m;l>p;l-=m)o=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),a+=u.getLineLength(s.x,s.y,o.x,o.y),s=o;else for(l=c+m;l<p;l+=m)o=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),a+=u.getLineLength(s.x,s.y,o.x,o.y),s=o;return o=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],p,0),a+=u.getLineLength(s.x,s.y,o.x,o.y),a}return 0}static convertEndpointToCenterParameterization(t,n,r,i,a,s,o,l,u){var c=u*(Math.PI/180),h=Math.cos(c)*(t-r)/2+Math.sin(c)*(n-i)/2,p=-1*Math.sin(c)*(t-r)/2+Math.cos(c)*(n-i)/2,m=h*h/(o*o)+p*p/(l*l);m>1&&(o*=Math.sqrt(m),l*=Math.sqrt(m));var g=Math.sqrt((o*o*(l*l)-o*o*(p*p)-l*l*(h*h))/(o*o*(p*p)+l*l*(h*h)));a===s&&(g*=-1),isNaN(g)&&(g=0);var y=g*o*p/l,b=g*-l*h/o,v=(t+r)/2+Math.cos(c)*y-Math.sin(c)*b,x=(n+i)/2+Math.sin(c)*y+Math.cos(c)*b,k=function(W){return Math.sqrt(W[0]*W[0]+W[1]*W[1])},T=function(W,H){return(W[0]*H[0]+W[1]*H[1])/(k(W)*k(H))},P=function(W,H){return(W[0]*H[1]<W[1]*H[0]?-1:1)*Math.acos(T(W,H))},R=P([1,0],[(h-y)/o,(p-b)/l]),N=[(h-y)/o,(p-b)/l],B=[(-1*h-y)/o,(-1*p-b)/l],j=P(N,B);return T(N,B)<=-1&&(j=Math.PI),T(N,B)>=1&&(j=0),s===0&&j>0&&(j=j-2*Math.PI),s===1&&j<0&&(j=j+2*Math.PI),[v,x,o,l,R,j,c,s]}}Vt.prototype.className="Path";Vt.prototype._attrsAffectingSize=["data"];gn(Vt);Z.addGetterSetter(Vt,"data");class ml extends rs{_sceneFunc(t){super._sceneFunc(t);var n=Math.PI*2,r=this.points(),i=r,a=this.tension()!==0&&r.length>4;a&&(i=this.getTensionPoints());var s=this.pointerLength(),o=r.length,l,u;if(a){const p=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],r[o-2],r[o-1]],m=Vt.calcLength(i[i.length-4],i[i.length-3],"C",p),g=Vt.getPointOnQuadraticBezier(Math.min(1,1-s/m),p[0],p[1],p[2],p[3],p[4],p[5]);l=r[o-2]-g.x,u=r[o-1]-g.y}else l=r[o-2]-r[o-4],u=r[o-1]-r[o-3];var c=(Math.atan2(u,l)+n)%n,h=this.pointerWidth();this.pointerAtEnding()&&(t.save(),t.beginPath(),t.translate(r[o-2],r[o-1]),t.rotate(c),t.moveTo(0,0),t.lineTo(-s,h/2),t.lineTo(-s,-h/2),t.closePath(),t.restore(),this.__fillStroke(t)),this.pointerAtBeginning()&&(t.save(),t.beginPath(),t.translate(r[0],r[1]),a?(l=(i[0]+i[2])/2-r[0],u=(i[1]+i[3])/2-r[1]):(l=r[2]-r[0],u=r[3]-r[1]),t.rotate((Math.atan2(-u,-l)+n)%n),t.moveTo(0,0),t.lineTo(-s,h/2),t.lineTo(-s,-h/2),t.closePath(),t.restore(),this.__fillStroke(t))}__fillStroke(t){var n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,t.setLineDash([])),t.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const t=super.getSelfRect(),n=this.pointerWidth()/2;return{x:t.x-n,y:t.y-n,width:t.width+n*2,height:t.height+n*2}}}ml.prototype.className="Arrow";gn(ml);Z.addGetterSetter(ml,"pointerLength",10,Le());Z.addGetterSetter(ml,"pointerWidth",10,Le());Z.addGetterSetter(ml,"pointerAtBeginning",!1);Z.addGetterSetter(ml,"pointerAtEnding",!0);class yc extends Pe{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(t){this.radius()!==t/2&&this.radius(t/2)}setHeight(t){this.radius()!==t/2&&this.radius(t/2)}}yc.prototype._centroid=!0;yc.prototype.className="Circle";yc.prototype._attrsAffectingSize=["radius"];gn(yc);Z.addGetterSetter(yc,"radius",0,Le());class ao extends Pe{_sceneFunc(t){var n=this.radiusX(),r=this.radiusY();t.beginPath(),t.save(),n!==r&&t.scale(1,r/n),t.arc(0,0,n,0,Math.PI*2,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(t){this.radiusX(t/2)}setHeight(t){this.radiusY(t/2)}}ao.prototype.className="Ellipse";ao.prototype._centroid=!0;ao.prototype._attrsAffectingSize=["radiusX","radiusY"];gn(ao);Z.addComponentsGetterSetter(ao,"radius",["x","y"]);Z.addGetterSetter(ao,"radiusX",0,Le());Z.addGetterSetter(ao,"radiusY",0,Le());let Ta=class nM extends Pe{constructor(t){super(t),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const t=this.image();t&&t.complete||t&&t.readyState===4||t&&t.addEventListener&&t.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(t){const n=this.getWidth(),r=this.getHeight(),i=this.cornerRadius(),a=this.attrs.image;let s;if(a){const o=this.attrs.cropWidth,l=this.attrs.cropHeight;o&&l?s=[a,this.cropX(),this.cropY(),o,l,0,0,n,r]:s=[a,0,0,n,r]}(this.hasFill()||this.hasStroke()||i)&&(t.beginPath(),i?ce.drawRoundedRectPath(t,n,r,i):t.rect(0,0,n,r),t.closePath(),t.fillStrokeShape(this)),a&&(i&&t.clip(),t.drawImage.apply(t,s))}_hitFunc(t){var n=this.width(),r=this.height(),i=this.cornerRadius();t.beginPath(),i?ce.drawRoundedRectPath(t,n,r,i):t.rect(0,0,n,r),t.closePath(),t.fillStrokeShape(this)}getWidth(){var t,n;return(t=this.attrs.width)!==null&&t!==void 0?t:(n=this.image())===null||n===void 0?void 0:n.width}getHeight(){var t,n;return(t=this.attrs.height)!==null&&t!==void 0?t:(n=this.image())===null||n===void 0?void 0:n.height}static fromURL(t,n,r=null){var i=ce.createImageElement();i.onload=function(){var a=new nM({image:i});n(a)},i.onerror=r,i.crossOrigin="Anonymous",i.src=t}};Ta.prototype.className="Image";gn(Ta);Z.addGetterSetter(Ta,"cornerRadius",0,oC(4));Z.addGetterSetter(Ta,"image");Z.addComponentsGetterSetter(Ta,"crop",["x","y","width","height"]);Z.addGetterSetter(Ta,"cropX",0,Le());Z.addGetterSetter(Ta,"cropY",0,Le());Z.addGetterSetter(Ta,"cropWidth",0,Le());Z.addGetterSetter(Ta,"cropHeight",0,Le());var rM=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],EW="Change.konva",CW="none",f2="up",p2="right",m2="down",g2="left",_W=rM.length;let hC=class extends Hu{constructor(t){super(t),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(t){var n=this,r,i=function(){n._sync()};for(r=0;r<_W;r++)t.on(rM[r]+EW,i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var t=this.getText(),n=this.getTag(),r,i,a,s,o,l,u;if(t&&n){switch(r=t.width(),i=t.height(),a=n.pointerDirection(),s=n.pointerWidth(),u=n.pointerHeight(),o=0,l=0,a){case f2:o=r/2,l=-1*u;break;case p2:o=r+s,l=i/2;break;case m2:o=r/2,l=i+u;break;case g2:o=-1*s,l=i/2;break}n.setAttrs({x:-1*o,y:-1*l,width:r,height:i}),t.setAttrs({x:-1*o,y:-1*l})}}};hC.prototype.className="Label";gn(hC);let gl=class extends Pe{_sceneFunc(t){var n=this.width(),r=this.height(),i=this.pointerDirection(),a=this.pointerWidth(),s=this.pointerHeight(),o=this.cornerRadius();let l=0,u=0,c=0,h=0;typeof o=="number"?l=u=c=h=Math.min(o,n/2,r/2):(l=Math.min(o[0]||0,n/2,r/2),u=Math.min(o[1]||0,n/2,r/2),h=Math.min(o[2]||0,n/2,r/2),c=Math.min(o[3]||0,n/2,r/2)),t.beginPath(),t.moveTo(l,0),i===f2&&(t.lineTo((n-a)/2,0),t.lineTo(n/2,-1*s),t.lineTo((n+a)/2,0)),t.lineTo(n-u,0),t.arc(n-u,u,u,Math.PI*3/2,0,!1),i===p2&&(t.lineTo(n,(r-s)/2),t.lineTo(n+a,r/2),t.lineTo(n,(r+s)/2)),t.lineTo(n,r-h),t.arc(n-h,r-h,h,0,Math.PI/2,!1),i===m2&&(t.lineTo((n+a)/2,r),t.lineTo(n/2,r+s),t.lineTo((n-a)/2,r)),t.lineTo(c,r),t.arc(c,r-c,c,Math.PI/2,Math.PI,!1),i===g2&&(t.lineTo(0,(r+s)/2),t.lineTo(-1*a,r/2),t.lineTo(0,(r-s)/2)),t.lineTo(0,l),t.arc(l,l,l,Math.PI,Math.PI*3/2,!1),t.closePath(),t.fillStrokeShape(this)}getSelfRect(){var t=0,n=0,r=this.pointerWidth(),i=this.pointerHeight(),a=this.pointerDirection(),s=this.width(),o=this.height();return a===f2?(n-=i,o+=i):a===m2?o+=i:a===g2?(t-=r*1.5,s+=r):a===p2&&(s+=r*1.5),{x:t,y:n,width:s,height:o}}};gl.prototype.className="Tag";gn(gl);Z.addGetterSetter(gl,"pointerDirection",CW);Z.addGetterSetter(gl,"pointerWidth",0,Le());Z.addGetterSetter(gl,"pointerHeight",0,Le());Z.addGetterSetter(gl,"cornerRadius",0,oC(4));let lf=class extends Pe{_sceneFunc(t){var n=this.cornerRadius(),r=this.width(),i=this.height();t.beginPath(),n?ce.drawRoundedRectPath(t,r,i,n):t.rect(0,0,r,i),t.closePath(),t.fillStrokeShape(this)}};lf.prototype.className="Rect";gn(lf);Z.addGetterSetter(lf,"cornerRadius",0,oC(4));class yl extends Pe{_sceneFunc(t){const n=this._getPoints();t.beginPath(),t.moveTo(n[0].x,n[0].y);for(var r=1;r<n.length;r++)t.lineTo(n[r].x,n[r].y);t.closePath(),t.fillStrokeShape(this)}_getPoints(){const t=this.attrs.sides,n=this.attrs.radius||0,r=[];for(var i=0;i<t;i++)r.push({x:n*Math.sin(i*2*Math.PI/t),y:-1*n*Math.cos(i*2*Math.PI/t)});return r}getSelfRect(){const t=this._getPoints();var n=t[0].x,r=t[0].y,i=t[0].x,a=t[0].y;return t.forEach(s=>{n=Math.min(n,s.x),r=Math.max(r,s.x),i=Math.min(i,s.y),a=Math.max(a,s.y)}),{x:n,y:i,width:r-n,height:a-i}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}yl.prototype.className="RegularPolygon";yl.prototype._centroid=!0;yl.prototype._attrsAffectingSize=["radius"];gn(yl);Z.addGetterSetter(yl,"radius",0,Le());Z.addGetterSetter(yl,"sides",0,Le());var N5=Math.PI*2;class vl extends Pe{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.innerRadius(),0,N5,!1),t.moveTo(this.outerRadius(),0),t.arc(0,0,this.outerRadius(),N5,0,!0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}vl.prototype.className="Ring";vl.prototype._centroid=!0;vl.prototype._attrsAffectingSize=["innerRadius","outerRadius"];gn(vl);Z.addGetterSetter(vl,"innerRadius",0,Le());Z.addGetterSetter(vl,"outerRadius",0,Le());class Ia extends Pe{constructor(t){super(t),this._updated=!0,this.anim=new Si(()=>{var n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(t){var n=this.animation(),r=this.frameIndex(),i=r*4,a=this.animations()[n],s=this.frameOffsets(),o=a[i+0],l=a[i+1],u=a[i+2],c=a[i+3],h=this.image();if((this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,u,c),t.closePath(),t.fillStrokeShape(this)),h)if(s){var p=s[n],m=r*2;t.drawImage(h,o,l,u,c,p[m+0],p[m+1],u,c)}else t.drawImage(h,o,l,u,c,0,0,u,c)}_hitFunc(t){var n=this.animation(),r=this.frameIndex(),i=r*4,a=this.animations()[n],s=this.frameOffsets(),o=a[i+2],l=a[i+3];if(t.beginPath(),s){var u=s[n],c=r*2;t.rect(u[c+0],u[c+1],o,l)}else t.rect(0,0,o,l);t.closePath(),t.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var t=this;this.interval=setInterval(function(){t._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var t=this.frameIndex(),n=this.animation(),r=this.animations(),i=r[n],a=i.length/4;t<a-1?this.frameIndex(t+1):this.frameIndex(0)}}Ia.prototype.className="Sprite";gn(Ia);Z.addGetterSetter(Ia,"animation");Z.addGetterSetter(Ia,"animations");Z.addGetterSetter(Ia,"frameOffsets");Z.addGetterSetter(Ia,"image");Z.addGetterSetter(Ia,"frameIndex",0,Le());Z.addGetterSetter(Ia,"frameRate",17,Le());Z.backCompat(Ia,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});let so=class extends Pe{_sceneFunc(t){var n=this.innerRadius(),r=this.outerRadius(),i=this.numPoints();t.beginPath(),t.moveTo(0,0-r);for(var a=1;a<i*2;a++){var s=a%2===0?r:n,o=s*Math.sin(a*Math.PI/i),l=-1*s*Math.cos(a*Math.PI/i);t.lineTo(o,l)}t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}};so.prototype.className="Star";so.prototype._centroid=!0;so.prototype._attrsAffectingSize=["innerRadius","outerRadius"];gn(so);Z.addGetterSetter(so,"numPoints",5,Le());Z.addGetterSetter(so,"innerRadius",0,Le());Z.addGetterSetter(so,"outerRadius",0,Le());function iM(e){return Array.from(e)}var jl="auto",TW="center",nd="justify",IW="Change.konva",PW="2d",D5="-",aM="left",RW="text",AW="Text",NW="top",DW="bottom",O5="middle",sM="normal",OW="px ",Yp=" ",MW="right",LW="word",FW="char",M5="none",Bw="",oM=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],BW=oM.length;function zW(e){return e.split(",").map(t=>{t=t.trim();const n=t.indexOf(" ")>=0,r=t.indexOf('"')>=0||t.indexOf("'")>=0;return n&&!r&&(t=`"${t}"`),t}).join(", ")}var Xp;function zw(){return Xp||(Xp=ce.createCanvasElement().getContext(PW),Xp)}function UW(e){e.fillText(this._partialText,this._partialTextX,this._partialTextY)}function jW(e){e.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function $W(e){return e=e||{},!e.fillLinearGradientColorStops&&!e.fillRadialGradientColorStops&&!e.fillPatternImage&&(e.fill=e.fill||"black"),e}class mn extends Pe{constructor(t){super($W(t)),this._partialTextX=0,this._partialTextY=0;for(var n=0;n<BW;n++)this.on(oM[n]+IW,this._setTextData);this._setTextData()}_sceneFunc(t){var n=this.textArr,r=n.length;if(this.text()){var i=this.padding(),a=this.fontSize(),s=this.lineHeight()*a,o=this.verticalAlign(),l=0,u=this.align(),c=this.getWidth(),h=this.letterSpacing(),p=this.fill(),m=this.textDecoration(),g=m.indexOf("underline")!==-1,y=m.indexOf("line-through")!==-1,b,v=0,v=s/2,x=0,k=0;for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",O5),t.setAttr("textAlign",aM),o===O5?l=(this.getHeight()-r*s-i*2)/2:o===DW&&(l=this.getHeight()-r*s-i*2),t.translate(i,l+i),b=0;b<r;b++){var x=0,k=0,T=n[b],P=T.text,R=T.width,N=T.lastInParagraph,B,j,W;if(t.save(),u===MW?x+=c-R-i*2:u===TW&&(x+=(c-R-i*2)/2),g){t.save(),t.beginPath(),t.moveTo(x,v+k+Math.round(a/2)),B=P.split(" ").length-1,j=B===0,W=u===nd&&!N?c-i*2:R,t.lineTo(x+Math.round(W),v+k+Math.round(a/2)),t.lineWidth=a/15;const X=this._getLinearGradient();t.strokeStyle=X||p,t.stroke(),t.restore()}if(y){t.save(),t.beginPath(),t.moveTo(x,v+k),B=P.split(" ").length-1,j=B===0,W=u===nd&&N&&!j?c-i*2:R,t.lineTo(x+Math.round(W),v+k),t.lineWidth=a/15;const X=this._getLinearGradient();t.strokeStyle=X||p,t.stroke(),t.restore()}if(h!==0||u===nd){B=P.split(" ").length-1;for(var H=iM(P),z=0;z<H.length;z++){var $=H[z];$===" "&&!N&&u===nd&&(x+=(c-i*2-R)/B),this._partialTextX=x,this._partialTextY=v+k,this._partialText=$,t.fillStrokeShape(this),x+=this.measureSize($).width+h}}else this._partialTextX=x,this._partialTextY=v+k,this._partialText=P,t.fillStrokeShape(this);t.restore(),r>1&&(v+=s)}}}_hitFunc(t){var n=this.getWidth(),r=this.getHeight();t.beginPath(),t.rect(0,0,n,r),t.closePath(),t.fillStrokeShape(this)}setText(t){var n=ce._isString(t)?t:t==null?"":t+"";return this._setAttr(RW,n),this}getWidth(){var t=this.attrs.width===jl||this.attrs.width===void 0;return t?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var t=this.attrs.height===jl||this.attrs.height===void 0;return t?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return ce.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(t){var n=zw(),r=this.fontSize(),i;return n.save(),n.font=this._getContextFont(),i=n.measureText(t),n.restore(),{width:i.width,height:r}}_getContextFont(){return this.fontStyle()+Yp+this.fontVariant()+Yp+(this.fontSize()+OW)+zW(this.fontFamily())}_addTextLine(t){this.align()===nd&&(t=t.trim());var r=this._getTextWidth(t);return this.textArr.push({text:t,width:r,lastInParagraph:!1})}_getTextWidth(t){var n=this.letterSpacing(),r=t.length;return zw().measureText(t).width+(r?n*(r-1):0)}_setTextData(){var t=this.text().split(`
`),n=+this.fontSize(),r=0,i=this.lineHeight()*n,a=this.attrs.width,s=this.attrs.height,o=a!==jl&&a!==void 0,l=s!==jl&&s!==void 0,u=this.padding(),c=a-u*2,h=s-u*2,p=0,m=this.wrap(),g=m!==M5,y=m!==FW&&g,b=this.ellipsis();this.textArr=[],zw().font=this._getContextFont();for(var v=b?this._getTextWidth(Bw):0,x=0,k=t.length;x<k;++x){var T=t[x],P=this._getTextWidth(T);if(o&&P>c)for(;T.length>0;){for(var R=0,N=T.length,B="",j=0;R<N;){var W=R+N>>>1,H=T.slice(0,W+1),z=this._getTextWidth(H)+v;z<=c?(R=W+1,B=H,j=z):N=W}if(B){if(y){var $,O=T[B.length],te=O===Yp||O===D5;te&&j<=c?$=B.length:$=Math.max(B.lastIndexOf(Yp),B.lastIndexOf(D5))+1,$>0&&(R=$,B=B.slice(0,R),j=this._getTextWidth(B))}B=B.trimRight(),this._addTextLine(B),r=Math.max(r,j),p+=i;var X=this._shouldHandleEllipsis(p);if(X){this._tryToAddEllipsisToLastLine();break}if(T=T.slice(R),T=T.trimLeft(),T.length>0&&(P=this._getTextWidth(T),P<=c)){this._addTextLine(T),p+=i,r=Math.max(r,P);break}}else break}else this._addTextLine(T),p+=i,r=Math.max(r,P),this._shouldHandleEllipsis(p)&&x<k-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),l&&p+i>h)break}this.textHeight=n,this.textWidth=r}_shouldHandleEllipsis(t){var n=+this.fontSize(),r=this.lineHeight()*n,i=this.attrs.height,a=i!==jl&&i!==void 0,s=this.padding(),o=i-s*2,l=this.wrap(),u=l!==M5;return!u||a&&t+r>o}_tryToAddEllipsisToLastLine(){var t=this.attrs.width,n=t!==jl&&t!==void 0,r=this.padding(),i=t-r*2,a=this.ellipsis(),s=this.textArr[this.textArr.length-1];if(!(!s||!a)){if(n){var o=this._getTextWidth(s.text+Bw)<i;o||(s.text=s.text.slice(0,s.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(s.text+Bw)}}getStrokeScaleEnabled(){return!0}}mn.prototype._fillFunc=UW;mn.prototype._strokeFunc=jW;mn.prototype.className=AW;mn.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];gn(mn);Z.overWriteSetter(mn,"width",lC());Z.overWriteSetter(mn,"height",lC());Z.addGetterSetter(mn,"fontFamily","Arial");Z.addGetterSetter(mn,"fontSize",12,Le());Z.addGetterSetter(mn,"fontStyle",sM);Z.addGetterSetter(mn,"fontVariant",sM);Z.addGetterSetter(mn,"padding",0,Le());Z.addGetterSetter(mn,"align",aM);Z.addGetterSetter(mn,"verticalAlign",NW);Z.addGetterSetter(mn,"lineHeight",1,Le());Z.addGetterSetter(mn,"wrap",LW);Z.addGetterSetter(mn,"ellipsis",!1,Ji());Z.addGetterSetter(mn,"letterSpacing",0,Le());Z.addGetterSetter(mn,"text","",gc());Z.addGetterSetter(mn,"textDecoration","");var VW="",lM="normal";function uM(e){e.fillText(this.partialText,0,0)}function cM(e){e.strokeText(this.partialText,0,0)}class Bn extends Pe{constructor(t){super(t),this.dummyCanvas=ce.createCanvasElement(),this.dataArray=[],this.dataArray=Vt.parsePathData(this.attrs.data),this.on("dataChange.konva",function(){this.dataArray=Vt.parsePathData(this.attrs.data),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_sceneFunc(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.textBaseline()),t.setAttr("textAlign","left"),t.save();var n=this.textDecoration(),r=this.fill(),i=this.fontSize(),a=this.glyphInfo;n==="underline"&&t.beginPath();for(var s=0;s<a.length;s++){t.save();var o=a[s].p0;t.translate(o.x,o.y),t.rotate(a[s].rotation),this.partialText=a[s].text,t.fillStrokeShape(this),n==="underline"&&(s===0&&t.moveTo(0,i/2+1),t.lineTo(i,i/2+1)),t.restore()}n==="underline"&&(t.strokeStyle=r,t.lineWidth=i/20,t.stroke()),t.restore()}_hitFunc(t){t.beginPath();var n=this.glyphInfo;if(n.length>=1){var r=n[0].p0;t.moveTo(r.x,r.y)}for(var i=0;i<n.length;i++){var a=n[i].p1;t.lineTo(a.x,a.y)}t.setAttr("lineWidth",this.fontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return ce.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(t){return mn.prototype.setText.call(this,t)}_getContextFont(){return mn.prototype._getContextFont.call(this)}_getTextSize(t){var n=this.dummyCanvas,r=n.getContext("2d");r.save(),r.font=this._getContextFont();var i=r.measureText(t);return r.restore(),{width:i.width,height:parseInt(this.attrs.fontSize,10)}}_setTextData(){var t=this,n=this._getTextSize(this.attrs.text),r=this.letterSpacing(),i=this.align(),a=this.kerningFunc();this.textWidth=n.width,this.textHeight=n.height;var s=Math.max(this.textWidth+((this.attrs.text||"").length-1)*r,0);this.glyphInfo=[];for(var o=0,l=0;l<t.dataArray.length;l++)t.dataArray[l].pathLength>0&&(o+=t.dataArray[l].pathLength);var u=0;i==="center"&&(u=Math.max(0,o/2-s/2)),i==="right"&&(u=Math.max(0,o-s));for(var c=iM(this.text()),h=this.text().split(" ").length-1,p,m,g,y=-1,b=0,v=function(){b=0;for(var z=t.dataArray,$=y+1;$<z.length;$++){if(z[$].pathLength>0)return y=$,z[$];z[$].command==="M"&&(p={x:z[$].points[0],y:z[$].points[1]})}return{}},x=function(z){var $=t._getTextSize(z).width+r;z===" "&&i==="justify"&&($+=(o-s)/h);var O=0,te=0;for(m=void 0;Math.abs($-O)/$>.01&&te<20;){te++;for(var X=O;g===void 0;)g=v(),g&&X+g.pathLength<$&&(X+=g.pathLength,g=void 0);if(Object.keys(g).length===0||p===void 0)return;var le=!1;switch(g.command){case"L":Vt.getLineLength(p.x,p.y,g.points[0],g.points[1])>$?m=Vt.getPointOnLine($,p.x,p.y,g.points[0],g.points[1],p.x,p.y):g=void 0;break;case"A":var de=g.points[4],ie=g.points[5],pe=g.points[4]+ie;b===0?b=de+1e-8:$>O?b+=Math.PI/180*ie/Math.abs(ie):b-=Math.PI/360*ie/Math.abs(ie),(ie<0&&b<pe||ie>=0&&b>pe)&&(b=pe,le=!0),m=Vt.getPointOnEllipticalArc(g.points[0],g.points[1],g.points[2],g.points[3],b,g.points[6]);break;case"C":b===0?$>g.pathLength?b=1e-8:b=$/g.pathLength:$>O?b+=($-O)/g.pathLength/2:b=Math.max(b-(O-$)/g.pathLength/2,0),b>1&&(b=1,le=!0),m=Vt.getPointOnCubicBezier(b,g.start.x,g.start.y,g.points[0],g.points[1],g.points[2],g.points[3],g.points[4],g.points[5]);break;case"Q":b===0?b=$/g.pathLength:$>O?b+=($-O)/g.pathLength:b-=(O-$)/g.pathLength,b>1&&(b=1,le=!0),m=Vt.getPointOnQuadraticBezier(b,g.start.x,g.start.y,g.points[0],g.points[1],g.points[2],g.points[3]);break}m!==void 0&&(O=Vt.getLineLength(p.x,p.y,m.x,m.y)),le&&(le=!1,g=void 0)}},k="C",T=t._getTextSize(k).width+r,P=u/T-1,R=0;R<P&&(x(k),!(p===void 0||m===void 0));R++)p=m;for(var N=0;N<c.length&&(x(c[N]),!(p===void 0||m===void 0));N++){var B=Vt.getLineLength(p.x,p.y,m.x,m.y),j=0;if(a)try{j=a(c[N-1],c[N])*this.fontSize()}catch{j=0}p.x+=j,m.x+=j,this.textWidth+=j;var W=Vt.getPointOnLine(j+B/2,p.x,p.y,m.x,m.y),H=Math.atan2(m.y-p.y,m.x-p.x);this.glyphInfo.push({transposeX:W.x,transposeY:W.y,text:c[N],rotation:H,p0:p,p1:m}),p=m}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var t=[];this.glyphInfo.forEach(function(c){t.push(c.p0.x),t.push(c.p0.y),t.push(c.p1.x),t.push(c.p1.y)});for(var n=t[0]||0,r=t[0]||0,i=t[1]||0,a=t[1]||0,s,o,l=0;l<t.length/2;l++)s=t[l*2],o=t[l*2+1],n=Math.min(n,s),r=Math.max(r,s),i=Math.min(i,o),a=Math.max(a,o);var u=this.fontSize();return{x:n-u/2,y:i-u/2,width:r-n+u,height:a-i+u}}destroy(){return ce.releaseCanvas(this.dummyCanvas),super.destroy()}}Bn.prototype._fillFunc=uM;Bn.prototype._strokeFunc=cM;Bn.prototype._fillFuncHit=uM;Bn.prototype._strokeFuncHit=cM;Bn.prototype.className="TextPath";Bn.prototype._attrsAffectingSize=["text","fontSize","data"];gn(Bn);Z.addGetterSetter(Bn,"data");Z.addGetterSetter(Bn,"fontFamily","Arial");Z.addGetterSetter(Bn,"fontSize",12,Le());Z.addGetterSetter(Bn,"fontStyle",lM);Z.addGetterSetter(Bn,"align","left");Z.addGetterSetter(Bn,"letterSpacing",0,Le());Z.addGetterSetter(Bn,"textBaseline","middle");Z.addGetterSetter(Bn,"fontVariant",lM);Z.addGetterSetter(Bn,"text",VW);Z.addGetterSetter(Bn,"textDecoration",null);Z.addGetterSetter(Bn,"kerningFunc",null);var dM="tr-konva",WW=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map(e=>e+`.${dM}`).join(" "),L5="nodesRect",GW=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],HW={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const qW="ontouchstart"in He._global;function KW(e,t){if(e==="rotater")return"crosshair";t+=ce.degToRad(HW[e]||0);var n=(ce.radToDeg(t)%360+360)%360;return ce._inRange(n,315+22.5,360)||ce._inRange(n,0,22.5)?"ns-resize":ce._inRange(n,45-22.5,45+22.5)?"nesw-resize":ce._inRange(n,90-22.5,90+22.5)?"ew-resize":ce._inRange(n,135-22.5,135+22.5)?"nwse-resize":ce._inRange(n,180-22.5,180+22.5)?"ns-resize":ce._inRange(n,225-22.5,225+22.5)?"nesw-resize":ce._inRange(n,270-22.5,270+22.5)?"ew-resize":ce._inRange(n,315-22.5,315+22.5)?"nwse-resize":(ce.error("Transformer has unknown angle for cursor detection: "+n),"pointer")}var r0=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],F5=1e8;function YW(e){return{x:e.x+e.width/2*Math.cos(e.rotation)+e.height/2*Math.sin(-e.rotation),y:e.y+e.height/2*Math.cos(e.rotation)+e.width/2*Math.sin(e.rotation)}}function hM(e,t,n){const r=n.x+(e.x-n.x)*Math.cos(t)-(e.y-n.y)*Math.sin(t),i=n.y+(e.x-n.x)*Math.sin(t)+(e.y-n.y)*Math.cos(t);return Object.assign(Object.assign({},e),{rotation:e.rotation+t,x:r,y:i})}function XW(e,t){const n=YW(e);return hM(e,t,n)}function QW(e,t,n){let r=t;for(let i=0;i<e.length;i++){const a=He.getAngle(e[i]),s=Math.abs(a-t)%(Math.PI*2);Math.min(s,Math.PI*2-s)<n&&(r=a)}return r}let Mt=class extends Hu{constructor(t){super(t),this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(WW,this.update),this.getNode()&&this.update()}attachTo(t){return this.setNode(t),this}setNode(t){return ce.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([t])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return dM+this._id}setNodes(t=[]){this._nodes&&this._nodes.length&&this.detach();const n=t.filter(i=>i.isAncestorOf(this)?(ce.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);this._nodes=t=n,t.length===1&&this.useSingleNodeRotation()?this.rotation(t[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(i=>{const a=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},s=i._attrsAffectingSize.map(o=>o+"Change."+this._getEventNamespace()).join(" ");i.on(s,a),i.on(GW.map(o=>o+`.${this._getEventNamespace()}`).join(" "),a),i.on(`absoluteTransformChange.${this._getEventNamespace()}`,a),this._proxyDrag(i)}),this._resetTransformCache();var r=!!this.findOne(".top-left");return r&&this.update(),this}_proxyDrag(t){let n;t.on(`dragstart.${this._getEventNamespace()}`,r=>{n=t.getAbsolutePosition(),!this.isDragging()&&t!==this.findOne(".back")&&this.startDrag(r,!1)}),t.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!n)return;const i=t.getAbsolutePosition(),a=i.x-n.x,s=i.y-n.y;this.nodes().forEach(o=>{if(o===t||o.isDragging())return;const l=o.getAbsolutePosition();o.setAbsolutePosition({x:l.x+a,y:l.y+s}),o.startDrag(r)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(t=>{t.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(L5),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(L5,this.__getNodeRect)}__getNodeShape(t,n=this.rotation(),r){var i=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),a=t.getAbsoluteScale(r),s=t.getAbsolutePosition(r),o=i.x*a.x-t.offsetX()*a.x,l=i.y*a.y-t.offsetY()*a.y;const u=(He.getAngle(t.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),c={x:s.x+o*Math.cos(u)+l*Math.sin(-u),y:s.y+l*Math.cos(u)+o*Math.sin(u),width:i.width*a.x,height:i.height*a.y,rotation:u};return hM(c,-He.getAngle(n),{x:0,y:0})}__getNodeRect(){var t=this.getNode();if(!t)return{x:-F5,y:-F5,width:0,height:0,rotation:0};const n=[];this.nodes().map(u=>{const c=u.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var h=[{x:c.x,y:c.y},{x:c.x+c.width,y:c.y},{x:c.x+c.width,y:c.y+c.height},{x:c.x,y:c.y+c.height}],p=u.getAbsoluteTransform();h.forEach(function(m){var g=p.point(m);n.push(g)})});const r=new qr;r.rotate(-He.getAngle(this.rotation()));var i,a,s,o;n.forEach(function(u){var c=r.point(u);i===void 0&&(i=s=c.x,a=o=c.y),i=Math.min(i,c.x),a=Math.min(a,c.y),s=Math.max(s,c.x),o=Math.max(o,c.y)}),r.invert();const l=r.point({x:i,y:a});return{x:l.x,y:l.y,width:s-i,height:o-a,rotation:He.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),r0.forEach(function(t){this._createAnchor(t)}.bind(this)),this._createAnchor("rotater")}_createAnchor(t){var n=new lf({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:t+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:qW?10:"auto"}),r=this;n.on("mousedown touchstart",function(i){r._handleMouseDown(i)}),n.on("dragstart",i=>{n.stopDrag(),i.cancelBubble=!0}),n.on("dragend",i=>{i.cancelBubble=!0}),n.on("mouseenter",()=>{var i=He.getAngle(this.rotation()),a=KW(t,i);n.getStage().content&&(n.getStage().content.style.cursor=a),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){var t=new Pe({name:"back",width:0,height:0,draggable:!0,sceneFunc(n){var r=this.getParent(),i=r.padding();n.beginPath(),n.rect(-i,-i,this.width()+i*2,this.height()+i*2),n.moveTo(this.width()/2,-i),r.rotateEnabled()&&n.lineTo(this.width()/2,-r.rotateAnchorOffset()*ce._sign(this.height())-i),n.fillStrokeShape(this)},hitFunc:(n,r)=>{if(this.shouldOverdrawWholeArea()){var i=this.padding();n.beginPath(),n.rect(-i,-i,r.width()+i*2,r.height()+i*2),n.fillStrokeShape(r)}}});this.add(t),this._proxyDrag(t),t.on("dragstart",n=>{n.cancelBubble=!0}),t.on("dragmove",n=>{n.cancelBubble=!0}),t.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(t){this._movingAnchorName=t.target.name().split(" ")[0];var n=this._getNodeRect(),r=n.width,i=n.height,a=Math.sqrt(Math.pow(r,2)+Math.pow(i,2));this.sin=Math.abs(i/a),this.cos=Math.abs(r/a),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var s=t.target.getAbsolutePosition(),o=t.target.getStage().getPointerPosition();this._anchorDragOffset={x:o.x-s.x,y:o.y-s.y},this._fire("transformstart",{evt:t.evt,target:this.getNode()}),this._nodes.forEach(l=>{l._fire("transformstart",{evt:t.evt,target:l})})}_handleMouseMove(t){var n,r,i,a=this.findOne("."+this._movingAnchorName),s=a.getStage();s.setPointersPositions(t);const o=s.getPointerPosition();let l={x:o.x-this._anchorDragOffset.x,y:o.y-this._anchorDragOffset.y};const u=a.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(u,l,t)),a.setAbsolutePosition(l);const c=a.getAbsolutePosition();if(!(u.x===c.x&&u.y===c.y)){if(this._movingAnchorName==="rotater"){var h=this._getNodeRect();n=a.x()-h.width/2,r=-a.y()+h.height/2;let z=Math.atan2(-r,n)+Math.PI/2;h.height<0&&(z-=Math.PI);var p=He.getAngle(this.rotation());const $=p+z,O=He.getAngle(this.rotationSnapTolerance()),X=QW(this.rotationSnaps(),$,O)-h.rotation,le=XW(h,X);this._fitNodesInto(le,t);return}var m=this.keepRatio()||t.shiftKey,x=this.centeredScaling()||t.altKey;if(this._movingAnchorName==="top-left"){if(m){var g=x?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(g.x-a.x(),2)+Math.pow(g.y-a.y(),2));var y=this.findOne(".top-left").x()>g.x?-1:1,b=this.findOne(".top-left").y()>g.y?-1:1;n=i*this.cos*y,r=i*this.sin*b,this.findOne(".top-left").x(g.x-n),this.findOne(".top-left").y(g.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(a.y());else if(this._movingAnchorName==="top-right"){if(m){var g=x?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(a.x()-g.x,2)+Math.pow(g.y-a.y(),2));var y=this.findOne(".top-right").x()<g.x?-1:1,b=this.findOne(".top-right").y()>g.y?-1:1;n=i*this.cos*y,r=i*this.sin*b,this.findOne(".top-right").x(g.x+n),this.findOne(".top-right").y(g.y-r)}var v=a.position();this.findOne(".top-left").y(v.y),this.findOne(".bottom-right").x(v.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(a.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(a.x());else if(this._movingAnchorName==="bottom-left"){if(m){var g=x?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(g.x-a.x(),2)+Math.pow(a.y()-g.y,2));var y=g.x<a.x()?-1:1,b=a.y()<g.y?-1:1;n=i*this.cos*y,r=i*this.sin*b,a.x(g.x-n),a.y(g.y+r)}v=a.position(),this.findOne(".top-left").x(v.x),this.findOne(".bottom-right").y(v.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(a.y());else if(this._movingAnchorName==="bottom-right"){if(m){var g=x?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(a.x()-g.x,2)+Math.pow(a.y()-g.y,2));var y=this.findOne(".bottom-right").x()<g.x?-1:1,b=this.findOne(".bottom-right").y()<g.y?-1:1;n=i*this.cos*y,r=i*this.sin*b,this.findOne(".bottom-right").x(g.x+n),this.findOne(".bottom-right").y(g.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var x=this.centeredScaling()||t.altKey;if(x){var k=this.findOne(".top-left"),T=this.findOne(".bottom-right"),P=k.x(),R=k.y(),N=this.getWidth()-T.x(),B=this.getHeight()-T.y();T.move({x:-P,y:-R}),k.move({x:N,y:B})}var j=this.findOne(".top-left").getAbsolutePosition();n=j.x,r=j.y;var W=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),H=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:r,width:W,height:H,rotation:He.getAngle(this.rotation())},t)}}_handleMouseUp(t){this._removeEvents(t)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(t){if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var n=this.getNode();this._fire("transformend",{evt:t,target:n}),n&&this._nodes.forEach(r=>{r._fire("transformend",{evt:t,target:r})}),this._movingAnchorName=null}}_fitNodesInto(t,n){var r=this._getNodeRect();const i=1;if(ce._inRange(t.width,-this.padding()*2-i,i)){this.update();return}if(ce._inRange(t.height,-this.padding()*2-i,i)){this.update();return}const a=this.flipEnabled();var s=new qr;if(s.rotate(He.getAngle(this.rotation())),this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("left")>=0){const h=s.point({x:-this.padding()*2,y:0});if(t.x+=h.x,t.y+=h.y,t.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=h.x,this._anchorDragOffset.y-=h.y,!a){this.update();return}}else if(this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("right")>=0){const h=s.point({x:this.padding()*2,y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=h.x,this._anchorDragOffset.y-=h.y,t.width+=this.padding()*2,!a){this.update();return}}if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("top")>=0){const h=s.point({x:0,y:-this.padding()*2});if(t.x+=h.x,t.y+=h.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=h.x,this._anchorDragOffset.y-=h.y,t.height+=this.padding()*2,!a){this.update();return}}else if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const h=s.point({x:0,y:this.padding()*2});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=h.x,this._anchorDragOffset.y-=h.y,t.height+=this.padding()*2,!a){this.update();return}}if(this.boundBoxFunc()){const h=this.boundBoxFunc()(r,t);h?t=h:ce.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const o=1e7,l=new qr;l.translate(r.x,r.y),l.rotate(r.rotation),l.scale(r.width/o,r.height/o);const u=new qr;u.translate(t.x,t.y),u.rotate(t.rotation),u.scale(t.width/o,t.height/o);const c=u.multiply(l.invert());this._nodes.forEach(h=>{var p;const m=h.getParent().getAbsoluteTransform(),g=h.getTransform().copy();g.translate(h.offsetX(),h.offsetY());const y=new qr;y.multiply(m.copy().invert()).multiply(c).multiply(m).multiply(g);const b=y.decompose();h.setAttrs(b),this._fire("transform",{evt:n,target:h}),h._fire("transform",{evt:n,target:h}),(p=h.getLayer())===null||p===void 0||p.batchDraw()}),this.rotation(ce._getRotation(t.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(t,n){this.findOne(t).setAttrs(n)}update(){var t,n=this._getNodeRect();this.rotation(ce._getRotation(n.rotation));var r=n.width,i=n.height,a=this.enabledAnchors(),s=this.resizeEnabled(),o=this.padding(),l=this.anchorSize();this.find("._anchor").forEach(u=>{u.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+o,offsetY:l/2+o,visible:s&&a.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:l/2+o,visible:s&&a.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:l/2-o,offsetY:l/2+o,visible:s&&a.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:l/2+o,visible:s&&a.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:i/2,offsetX:l/2-o,visible:s&&a.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:l/2+o,offsetY:l/2-o,visible:s&&a.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:i,offsetY:l/2-o,visible:s&&a.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:i,offsetX:l/2-o,offsetY:l/2-o,visible:s&&a.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*ce._sign(i)-o,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0}),(t=this.getLayer())===null||t===void 0||t.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var t=this.findOne("."+this._movingAnchorName);t&&t.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Hu.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return Me.prototype.toObject.call(this)}clone(t){var n=Me.prototype.clone.call(this,t);return n}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};function ZW(e){return e instanceof Array||ce.warn("enabledAnchors value should be an array"),e instanceof Array&&e.forEach(function(t){r0.indexOf(t)===-1&&ce.warn("Unknown anchor name: "+t+". Available names are: "+r0.join(", "))}),e||[]}Mt.prototype.className="Transformer";gn(Mt);Z.addGetterSetter(Mt,"enabledAnchors",r0,ZW);Z.addGetterSetter(Mt,"flipEnabled",!0,Ji());Z.addGetterSetter(Mt,"resizeEnabled",!0);Z.addGetterSetter(Mt,"anchorSize",10,Le());Z.addGetterSetter(Mt,"rotateEnabled",!0);Z.addGetterSetter(Mt,"rotationSnaps",[]);Z.addGetterSetter(Mt,"rotateAnchorOffset",50,Le());Z.addGetterSetter(Mt,"rotationSnapTolerance",5,Le());Z.addGetterSetter(Mt,"borderEnabled",!0);Z.addGetterSetter(Mt,"anchorStroke","rgb(0, 161, 255)");Z.addGetterSetter(Mt,"anchorStrokeWidth",1,Le());Z.addGetterSetter(Mt,"anchorFill","white");Z.addGetterSetter(Mt,"anchorCornerRadius",0,Le());Z.addGetterSetter(Mt,"borderStroke","rgb(0, 161, 255)");Z.addGetterSetter(Mt,"borderStrokeWidth",1,Le());Z.addGetterSetter(Mt,"borderDash");Z.addGetterSetter(Mt,"keepRatio",!0);Z.addGetterSetter(Mt,"centeredScaling",!1);Z.addGetterSetter(Mt,"ignoreStroke",!1);Z.addGetterSetter(Mt,"padding",0,Le());Z.addGetterSetter(Mt,"node");Z.addGetterSetter(Mt,"nodes");Z.addGetterSetter(Mt,"boundBoxFunc");Z.addGetterSetter(Mt,"anchorDragBoundFunc");Z.addGetterSetter(Mt,"shouldOverdrawWholeArea",!1);Z.addGetterSetter(Mt,"useSingleNodeRotation",!0);Z.backCompat(Mt,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class is extends Pe{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.radius(),0,He.getAngle(this.angle()),this.clockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}is.prototype.className="Wedge";is.prototype._centroid=!0;is.prototype._attrsAffectingSize=["radius"];gn(is);Z.addGetterSetter(is,"radius",0,Le());Z.addGetterSetter(is,"angle",0,Le());Z.addGetterSetter(is,"clockwise",!1);Z.backCompat(is,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function B5(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var JW=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],eG=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function tG(e,t){var n=e.data,r=e.width,i=e.height,a,s,o,l,u,c,h,p,m,g,y,b,v,x,k,T,P,R,N,B,j,W,H,z,$=t+t+1,O=r-1,te=i-1,X=t+1,le=X*(X+1)/2,de=new B5,ie=null,pe=de,F=null,M=null,Ce=JW[t],_e=eG[t];for(o=1;o<$;o++)pe=pe.next=new B5,o===X&&(ie=pe);for(pe.next=de,h=c=0,s=0;s<i;s++){for(T=P=R=N=p=m=g=y=0,b=X*(B=n[c]),v=X*(j=n[c+1]),x=X*(W=n[c+2]),k=X*(H=n[c+3]),p+=le*B,m+=le*j,g+=le*W,y+=le*H,pe=de,o=0;o<X;o++)pe.r=B,pe.g=j,pe.b=W,pe.a=H,pe=pe.next;for(o=1;o<X;o++)l=c+((O<o?O:o)<<2),p+=(pe.r=B=n[l])*(z=X-o),m+=(pe.g=j=n[l+1])*z,g+=(pe.b=W=n[l+2])*z,y+=(pe.a=H=n[l+3])*z,T+=B,P+=j,R+=W,N+=H,pe=pe.next;for(F=de,M=ie,a=0;a<r;a++)n[c+3]=H=y*Ce>>_e,H!==0?(H=255/H,n[c]=(p*Ce>>_e)*H,n[c+1]=(m*Ce>>_e)*H,n[c+2]=(g*Ce>>_e)*H):n[c]=n[c+1]=n[c+2]=0,p-=b,m-=v,g-=x,y-=k,b-=F.r,v-=F.g,x-=F.b,k-=F.a,l=h+((l=a+t+1)<O?l:O)<<2,T+=F.r=n[l],P+=F.g=n[l+1],R+=F.b=n[l+2],N+=F.a=n[l+3],p+=T,m+=P,g+=R,y+=N,F=F.next,b+=B=M.r,v+=j=M.g,x+=W=M.b,k+=H=M.a,T-=B,P-=j,R-=W,N-=H,M=M.next,c+=4;h+=r}for(a=0;a<r;a++){for(P=R=N=T=m=g=y=p=0,c=a<<2,b=X*(B=n[c]),v=X*(j=n[c+1]),x=X*(W=n[c+2]),k=X*(H=n[c+3]),p+=le*B,m+=le*j,g+=le*W,y+=le*H,pe=de,o=0;o<X;o++)pe.r=B,pe.g=j,pe.b=W,pe.a=H,pe=pe.next;for(u=r,o=1;o<=t;o++)c=u+a<<2,p+=(pe.r=B=n[c])*(z=X-o),m+=(pe.g=j=n[c+1])*z,g+=(pe.b=W=n[c+2])*z,y+=(pe.a=H=n[c+3])*z,T+=B,P+=j,R+=W,N+=H,pe=pe.next,o<te&&(u+=r);for(c=a,F=de,M=ie,s=0;s<i;s++)l=c<<2,n[l+3]=H=y*Ce>>_e,H>0?(H=255/H,n[l]=(p*Ce>>_e)*H,n[l+1]=(m*Ce>>_e)*H,n[l+2]=(g*Ce>>_e)*H):n[l]=n[l+1]=n[l+2]=0,p-=b,m-=v,g-=x,y-=k,b-=F.r,v-=F.g,x-=F.b,k-=F.a,l=a+((l=s+X)<te?l:te)*r<<2,p+=T+=F.r=n[l],m+=P+=F.g=n[l+1],g+=R+=F.b=n[l+2],y+=N+=F.a=n[l+3],F=F.next,b+=B=M.r,v+=j=M.g,x+=W=M.b,k+=H=M.a,T-=B,P-=j,R-=W,N-=H,M=M.next,c+=r}}const nG=function(t){var n=Math.round(this.blurRadius());n>0&&tG(t,n)};Z.addGetterSetter(Me,"blurRadius",0,Le(),Z.afterSetFilter);const rG=function(e){var t=this.brightness()*255,n=e.data,r=n.length,i;for(i=0;i<r;i+=4)n[i]+=t,n[i+1]+=t,n[i+2]+=t};Z.addGetterSetter(Me,"brightness",0,Le(),Z.afterSetFilter);const iG=function(e){var t=Math.pow((this.contrast()+100)/100,2),n=e.data,r=n.length,i=150,a=150,s=150,o;for(o=0;o<r;o+=4)i=n[o],a=n[o+1],s=n[o+2],i/=255,i-=.5,i*=t,i+=.5,i*=255,a/=255,a-=.5,a*=t,a+=.5,a*=255,s/=255,s-=.5,s*=t,s+=.5,s*=255,i=i<0?0:i>255?255:i,a=a<0?0:a>255?255:a,s=s<0?0:s>255?255:s,n[o]=i,n[o+1]=a,n[o+2]=s};Z.addGetterSetter(Me,"contrast",0,Le(),Z.afterSetFilter);const aG=function(e){var t=this.embossStrength()*10,n=this.embossWhiteLevel()*255,r=this.embossDirection(),i=this.embossBlend(),a=0,s=0,o=e.data,l=e.width,u=e.height,c=l*4,h=u;switch(r){case"top-left":a=-1,s=-1;break;case"top":a=-1,s=0;break;case"top-right":a=-1,s=1;break;case"right":a=0,s=1;break;case"bottom-right":a=1,s=1;break;case"bottom":a=1,s=0;break;case"bottom-left":a=1,s=-1;break;case"left":a=0,s=-1;break;default:ce.error("Unknown emboss direction: "+r)}do{var p=(h-1)*c,m=a;h+m<1&&(m=0),h+m>u&&(m=0);var g=(h-1+m)*l*4,y=l;do{var b=p+(y-1)*4,v=s;y+v<1&&(v=0),y+v>l&&(v=0);var x=g+(y-1+v)*4,k=o[b]-o[x],T=o[b+1]-o[x+1],P=o[b+2]-o[x+2],R=k,N=R>0?R:-R,B=T>0?T:-T,j=P>0?P:-P;if(B>N&&(R=T),j>N&&(R=P),R*=t,i){var W=o[b]+R,H=o[b+1]+R,z=o[b+2]+R;o[b]=W>255?255:W<0?0:W,o[b+1]=H>255?255:H<0?0:H,o[b+2]=z>255?255:z<0?0:z}else{var $=n-R;$<0?$=0:$>255&&($=255),o[b]=o[b+1]=o[b+2]=$}}while(--y)}while(--h)};Z.addGetterSetter(Me,"embossStrength",.5,Le(),Z.afterSetFilter);Z.addGetterSetter(Me,"embossWhiteLevel",.5,Le(),Z.afterSetFilter);Z.addGetterSetter(Me,"embossDirection","top-left",null,Z.afterSetFilter);Z.addGetterSetter(Me,"embossBlend",!1,null,Z.afterSetFilter);function Uw(e,t,n,r,i){var a=n-t,s=i-r,o;return a===0?r+s/2:s===0?r:(o=(e-t)/a,o=s*o+r,o)}const sG=function(e){var t=e.data,n=t.length,r=t[0],i=r,a,s=t[1],o=s,l,u=t[2],c=u,h,p,m=this.enhance();if(m!==0){for(p=0;p<n;p+=4)a=t[p+0],a<r?r=a:a>i&&(i=a),l=t[p+1],l<s?s=l:l>o&&(o=l),h=t[p+2],h<u?u=h:h>c&&(c=h);i===r&&(i=255,r=0),o===s&&(o=255,s=0),c===u&&(c=255,u=0);var g,y,b,v,x,k,T,P,R;for(m>0?(y=i+m*(255-i),b=r-m*(r-0),x=o+m*(255-o),k=s-m*(s-0),P=c+m*(255-c),R=u-m*(u-0)):(g=(i+r)*.5,y=i+m*(i-g),b=r+m*(r-g),v=(o+s)*.5,x=o+m*(o-v),k=s+m*(s-v),T=(c+u)*.5,P=c+m*(c-T),R=u+m*(u-T)),p=0;p<n;p+=4)t[p+0]=Uw(t[p+0],r,i,b,y),t[p+1]=Uw(t[p+1],s,o,k,x),t[p+2]=Uw(t[p+2],u,c,R,P)}};Z.addGetterSetter(Me,"enhance",0,Le(),Z.afterSetFilter);const oG=function(e){var t=e.data,n=t.length,r,i;for(r=0;r<n;r+=4)i=.34*t[r]+.5*t[r+1]+.16*t[r+2],t[r]=i,t[r+1]=i,t[r+2]=i};Z.addGetterSetter(Me,"hue",0,Le(),Z.afterSetFilter);Z.addGetterSetter(Me,"saturation",0,Le(),Z.afterSetFilter);Z.addGetterSetter(Me,"luminance",0,Le(),Z.afterSetFilter);const lG=function(e){var t=e.data,n=t.length,r=1,i=Math.pow(2,this.saturation()),a=Math.abs(this.hue()+360)%360,s=this.luminance()*127,o,l=r*i*Math.cos(a*Math.PI/180),u=r*i*Math.sin(a*Math.PI/180),c=.299*r+.701*l+.167*u,h=.587*r-.587*l+.33*u,p=.114*r-.114*l-.497*u,m=.299*r-.299*l-.328*u,g=.587*r+.413*l+.035*u,y=.114*r-.114*l+.293*u,b=.299*r-.3*l+1.25*u,v=.587*r-.586*l-1.05*u,x=.114*r+.886*l-.2*u,k,T,P,R;for(o=0;o<n;o+=4)k=t[o+0],T=t[o+1],P=t[o+2],R=t[o+3],t[o+0]=c*k+h*T+p*P+s,t[o+1]=m*k+g*T+y*P+s,t[o+2]=b*k+v*T+x*P+s,t[o+3]=R},uG=function(e){var t=e.data,n=t.length,r=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),a=Math.abs(this.hue()+360)%360,s,o=r*i*Math.cos(a*Math.PI/180),l=r*i*Math.sin(a*Math.PI/180),u=.299*r+.701*o+.167*l,c=.587*r-.587*o+.33*l,h=.114*r-.114*o-.497*l,p=.299*r-.299*o-.328*l,m=.587*r+.413*o+.035*l,g=.114*r-.114*o+.293*l,y=.299*r-.3*o+1.25*l,b=.587*r-.586*o-1.05*l,v=.114*r+.886*o-.2*l,x,k,T,P;for(s=0;s<n;s+=4)x=t[s+0],k=t[s+1],T=t[s+2],P=t[s+3],t[s+0]=u*x+c*k+h*T,t[s+1]=p*x+m*k+g*T,t[s+2]=y*x+b*k+v*T,t[s+3]=P};Z.addGetterSetter(Me,"hue",0,Le(),Z.afterSetFilter);Z.addGetterSetter(Me,"saturation",0,Le(),Z.afterSetFilter);Z.addGetterSetter(Me,"value",0,Le(),Z.afterSetFilter);const cG=function(e){var t=e.data,n=t.length,r;for(r=0;r<n;r+=4)t[r]=255-t[r],t[r+1]=255-t[r+1],t[r+2]=255-t[r+2]};var dG=function(e,t,n){var r=e.data,i=t.data,a=e.width,s=e.height,o=n.polarCenterX||a/2,l=n.polarCenterY||s/2,u,c,h,p=0,m=0,g=0,y=0,b,v=Math.sqrt(o*o+l*l);c=a-o,h=s-l,b=Math.sqrt(c*c+h*h),v=b>v?b:v;var x=s,k=a,T,P,R=360/k*Math.PI/180,N,B;for(P=0;P<k;P+=1)for(N=Math.sin(P*R),B=Math.cos(P*R),T=0;T<x;T+=1)c=Math.floor(o+v*T/x*B),h=Math.floor(l+v*T/x*N),u=(h*a+c)*4,p=r[u+0],m=r[u+1],g=r[u+2],y=r[u+3],u=(P+T*a)*4,i[u+0]=p,i[u+1]=m,i[u+2]=g,i[u+3]=y},hG=function(e,t,n){var r=e.data,i=t.data,a=e.width,s=e.height,o=n.polarCenterX||a/2,l=n.polarCenterY||s/2,u,c,h,p,m,g=0,y=0,b=0,v=0,x,k=Math.sqrt(o*o+l*l);c=a-o,h=s-l,x=Math.sqrt(c*c+h*h),k=x>k?x:k;var T=s,P=a,R,N,B=n.polarRotation||0,j,W;for(c=0;c<a;c+=1)for(h=0;h<s;h+=1)p=c-o,m=h-l,R=Math.sqrt(p*p+m*m)*T/k,N=(Math.atan2(m,p)*180/Math.PI+360+B)%360,N=N*P/360,j=Math.floor(N),W=Math.floor(R),u=(W*a+j)*4,g=r[u+0],y=r[u+1],b=r[u+2],v=r[u+3],u=(h*a+c)*4,i[u+0]=g,i[u+1]=y,i[u+2]=b,i[u+3]=v};const fG=function(e){var t=e.width,n=e.height,r,i,a,s,o,l,u,c,h,p,m=Math.round(this.kaleidoscopePower()),g=Math.round(this.kaleidoscopeAngle()),y=Math.floor(t*(g%360)/360);if(!(m<1)){var b=ce.createCanvasElement();b.width=t,b.height=n;var v=b.getContext("2d").getImageData(0,0,t,n);ce.releaseCanvas(b),dG(e,v,{polarCenterX:t/2,polarCenterY:n/2});for(var x=t/Math.pow(2,m);x<=8;)x=x*2,m-=1;x=Math.ceil(x);var k=x,T=0,P=k,R=1;for(y+x>t&&(T=k,P=0,R=-1),i=0;i<n;i+=1)for(r=T;r!==P;r+=R)a=Math.round(r+y)%t,h=(t*i+a)*4,o=v.data[h+0],l=v.data[h+1],u=v.data[h+2],c=v.data[h+3],p=(t*i+r)*4,v.data[p+0]=o,v.data[p+1]=l,v.data[p+2]=u,v.data[p+3]=c;for(i=0;i<n;i+=1)for(k=Math.floor(x),s=0;s<m;s+=1){for(r=0;r<k+1;r+=1)h=(t*i+r)*4,o=v.data[h+0],l=v.data[h+1],u=v.data[h+2],c=v.data[h+3],p=(t*i+k*2-r-1)*4,v.data[p+0]=o,v.data[p+1]=l,v.data[p+2]=u,v.data[p+3]=c;k*=2}hG(v,e,{polarRotation:0})}};Z.addGetterSetter(Me,"kaleidoscopePower",2,Le(),Z.afterSetFilter);Z.addGetterSetter(Me,"kaleidoscopeAngle",0,Le(),Z.afterSetFilter);function Qp(e,t,n){var r=(n*e.width+t)*4,i=[];return i.push(e.data[r++],e.data[r++],e.data[r++],e.data[r++]),i}function rd(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2))}function pG(e){for(var t=[0,0,0],n=0;n<e.length;n++)t[0]+=e[n][0],t[1]+=e[n][1],t[2]+=e[n][2];return t[0]/=e.length,t[1]/=e.length,t[2]/=e.length,t}function mG(e,t){var n=Qp(e,0,0),r=Qp(e,e.width-1,0),i=Qp(e,0,e.height-1),a=Qp(e,e.width-1,e.height-1),s=t||10;if(rd(n,r)<s&&rd(r,a)<s&&rd(a,i)<s&&rd(i,n)<s){for(var o=pG([r,n,a,i]),l=[],u=0;u<e.width*e.height;u++){var c=rd(o,[e.data[u*4],e.data[u*4+1],e.data[u*4+2]]);l[u]=c<s?0:255}return l}}function gG(e,t){for(var n=0;n<e.width*e.height;n++)e.data[4*n+3]=t[n]}function yG(e,t,n){for(var r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),a=Math.floor(i/2),s=[],o=0;o<n;o++)for(var l=0;l<t;l++){for(var u=o*t+l,c=0,h=0;h<i;h++)for(var p=0;p<i;p++){var m=o+h-a,g=l+p-a;if(m>=0&&m<n&&g>=0&&g<t){var y=m*t+g,b=r[h*i+p];c+=e[y]*b}}s[u]=c===255*8?255:0}return s}function vG(e,t,n){for(var r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),a=Math.floor(i/2),s=[],o=0;o<n;o++)for(var l=0;l<t;l++){for(var u=o*t+l,c=0,h=0;h<i;h++)for(var p=0;p<i;p++){var m=o+h-a,g=l+p-a;if(m>=0&&m<n&&g>=0&&g<t){var y=m*t+g,b=r[h*i+p];c+=e[y]*b}}s[u]=c>=255*4?255:0}return s}function wG(e,t,n){for(var r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(r.length)),a=Math.floor(i/2),s=[],o=0;o<n;o++)for(var l=0;l<t;l++){for(var u=o*t+l,c=0,h=0;h<i;h++)for(var p=0;p<i;p++){var m=o+h-a,g=l+p-a;if(m>=0&&m<n&&g>=0&&g<t){var y=m*t+g,b=r[h*i+p];c+=e[y]*b}}s[u]=c}return s}const bG=function(e){var t=this.threshold(),n=mG(e,t);return n&&(n=yG(n,e.width,e.height),n=vG(n,e.width,e.height),n=wG(n,e.width,e.height),gG(e,n)),e};Z.addGetterSetter(Me,"threshold",0,Le(),Z.afterSetFilter);const xG=function(e){var t=this.noise()*255,n=e.data,r=n.length,i=t/2,a;for(a=0;a<r;a+=4)n[a+0]+=i-2*i*Math.random(),n[a+1]+=i-2*i*Math.random(),n[a+2]+=i-2*i*Math.random()};Z.addGetterSetter(Me,"noise",.2,Le(),Z.afterSetFilter);const kG=function(e){var t=Math.ceil(this.pixelSize()),n=e.width,r=e.height,i,a,s,o,l,u,c,h=Math.ceil(n/t),p=Math.ceil(r/t),m,g,y,b,v,x,k,T=e.data;if(t<=0){ce.error("pixelSize value can not be <= 0");return}for(v=0;v<h;v+=1)for(x=0;x<p;x+=1){for(o=0,l=0,u=0,c=0,m=v*t,g=m+t,y=x*t,b=y+t,k=0,i=m;i<g;i+=1)if(!(i>=n))for(a=y;a<b;a+=1)a>=r||(s=(n*a+i)*4,o+=T[s+0],l+=T[s+1],u+=T[s+2],c+=T[s+3],k+=1);for(o=o/k,l=l/k,u=u/k,c=c/k,i=m;i<g;i+=1)if(!(i>=n))for(a=y;a<b;a+=1)a>=r||(s=(n*a+i)*4,T[s+0]=o,T[s+1]=l,T[s+2]=u,T[s+3]=c)}};Z.addGetterSetter(Me,"pixelSize",8,Le(),Z.afterSetFilter);const SG=function(e){var t=Math.round(this.levels()*254)+1,n=e.data,r=n.length,i=255/t,a;for(a=0;a<r;a+=1)n[a]=Math.floor(n[a]/i)*i};Z.addGetterSetter(Me,"levels",.5,Le(),Z.afterSetFilter);const EG=function(e){var t=e.data,n=t.length,r=this.red(),i=this.green(),a=this.blue(),s,o;for(s=0;s<n;s+=4)o=(.34*t[s]+.5*t[s+1]+.16*t[s+2])/255,t[s]=o*r,t[s+1]=o*i,t[s+2]=o*a,t[s+3]=t[s+3]};Z.addGetterSetter(Me,"red",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)});Z.addGetterSetter(Me,"green",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)});Z.addGetterSetter(Me,"blue",0,MO,Z.afterSetFilter);const CG=function(e){var t=e.data,n=t.length,r=this.red(),i=this.green(),a=this.blue(),s=this.alpha(),o,l;for(o=0;o<n;o+=4)l=1-s,t[o]=r*s+t[o]*l,t[o+1]=i*s+t[o+1]*l,t[o+2]=a*s+t[o+2]*l};Z.addGetterSetter(Me,"red",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)});Z.addGetterSetter(Me,"green",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)});Z.addGetterSetter(Me,"blue",0,MO,Z.afterSetFilter);Z.addGetterSetter(Me,"alpha",1,function(e){return this._filterUpToDate=!1,e>1?1:e<0?0:e});const _G=function(e){var t=e.data,n=t.length,r,i,a,s;for(r=0;r<n;r+=4)i=t[r+0],a=t[r+1],s=t[r+2],t[r+0]=Math.min(255,i*.393+a*.769+s*.189),t[r+1]=Math.min(255,i*.349+a*.686+s*.168),t[r+2]=Math.min(255,i*.272+a*.534+s*.131)},TG=function(e){var t=e.data,n=e.width,r=e.height,i=n*4,a=r;do{var s=(a-1)*i,o=n;do{var l=s+(o-1)*4,u=t[l],c=t[l+1],h=t[l+2];u>127&&(u=255-u),c>127&&(c=255-c),h>127&&(h=255-h),t[l]=u,t[l+1]=c,t[l+2]=h}while(--o)}while(--a)},IG=function(e){var t=this.threshold()*255,n=e.data,r=n.length,i;for(i=0;i<r;i+=1)n[i]=n[i]<t?0:255};Z.addGetterSetter(Me,"threshold",.5,Le(),Z.afterSetFilter);ll.Util._assign(ll,{Arc:ns,Arrow:ml,Circle:yc,Ellipse:ao,Image:Ta,Label:hC,Tag:gl,Line:rs,Path:Vt,Rect:lf,RegularPolygon:yl,Ring:vl,Sprite:Ia,Star:so,Text:mn,TextPath:Bn,Transformer:Mt,Wedge:is,Filters:{Blur:nG,Brighten:rG,Contrast:iG,Emboss:aG,Enhance:sG,Grayscale:oG,HSL:lG,HSV:uG,Invert:cG,Kaleidoscope:fG,Mask:bG,Noise:xG,Pixelate:kG,Posterize:SG,RGB:EG,RGBA:CG,Sepia:_G,Solarize:TG,Threshold:IG}});var fM={exports:{}};/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PG=function(t){var n={},r=Y,i=Td,a=Object.assign;function s(d){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+d,w=1;w<arguments.length;w++)f+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),g=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),P=Symbol.iterator;function R(d){return d===null||typeof d!="object"?null:(d=P&&d[P]||d["@@iterator"],typeof d=="function"?d:null)}function N(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case c:return"Fragment";case u:return"Portal";case p:return"Profiler";case h:return"StrictMode";case b:return"Suspense";case v:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case g:return(d.displayName||"Context")+".Consumer";case m:return(d._context.displayName||"Context")+".Provider";case y:var f=d.render;return d=d.displayName,d||(d=f.displayName||f.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case x:return f=d.displayName||null,f!==null?f:N(d.type)||"Memo";case k:f=d._payload,d=d._init;try{return N(d(f))}catch{}}return null}function B(d){var f=d.type;switch(d.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=f.render,d=d.displayName||d.name||"",f.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return N(f);case 8:return f===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function j(d){var f=d,w=d;if(d.alternate)for(;f.return;)f=f.return;else{d=f;do f=d,f.flags&4098&&(w=f.return),d=f.return;while(d)}return f.tag===3?w:null}function W(d){if(j(d)!==d)throw Error(s(188))}function H(d){var f=d.alternate;if(!f){if(f=j(d),f===null)throw Error(s(188));return f!==d?null:d}for(var w=d,S=f;;){var _=w.return;if(_===null)break;var A=_.alternate;if(A===null){if(S=_.return,S!==null){w=S;continue}break}if(_.child===A.child){for(A=_.child;A;){if(A===w)return W(_),d;if(A===S)return W(_),f;A=A.sibling}throw Error(s(188))}if(w.return!==S.return)w=_,S=A;else{for(var G=!1,ae=_.child;ae;){if(ae===w){G=!0,w=_,S=A;break}if(ae===S){G=!0,S=_,w=A;break}ae=ae.sibling}if(!G){for(ae=A.child;ae;){if(ae===w){G=!0,w=A,S=_;break}if(ae===S){G=!0,S=A,w=_;break}ae=ae.sibling}if(!G)throw Error(s(189))}}if(w.alternate!==S)throw Error(s(190))}if(w.tag!==3)throw Error(s(188));return w.stateNode.current===w?d:f}function z(d){return d=H(d),d!==null?$(d):null}function $(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var f=$(d);if(f!==null)return f;d=d.sibling}return null}function O(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){if(d.tag!==4){var f=O(d);if(f!==null)return f}d=d.sibling}return null}var te=Array.isArray,X=t.getPublicInstance,le=t.getRootHostContext,de=t.getChildHostContext,ie=t.prepareForCommit,pe=t.resetAfterCommit,F=t.createInstance,M=t.appendInitialChild,Ce=t.finalizeInitialChildren,_e=t.prepareUpdate,Te=t.shouldSetTextContent,Qe=t.createTextInstance,pt=t.scheduleTimeout,Je=t.cancelTimeout,st=t.noTimeout,Et=t.isPrimaryRenderer,dt=t.supportsMutation,bn=t.supportsPersistence,Ct=t.supportsHydration,L=t.getInstanceFromNode,xe=t.preparePortalMount,ve=t.getCurrentEventPriority,Q=t.detachDeletedInstance,K=t.supportsMicrotasks,se=t.scheduleMicrotask,ke=t.supportsTestSelectors,Ee=t.findFiberRoot,he=t.getBoundingRect,Re=t.getTextContent,ze=t.isHiddenSubtree,Ie=t.matchAccessibilityRole,Ye=t.setFocusIfFocusable,D=t.setupIntersectionObserver,C=t.appendChild,I=t.appendChildToContainer,V=t.commitTextUpdate,J=t.commitMount,fe=t.commitUpdate,me=t.insertBefore,Ze=t.insertInContainerBefore,St=t.removeChild,ct=t.removeChildFromContainer,rt=t.resetTextContent,xt=t.hideInstance,jr=t.hideTextInstance,Mv=t.unhideInstance,Pf=t.unhideTextInstance,uo=t.clearContainer,Sl=t.cloneInstance,z_=t.createContainerChildSet,U_=t.appendChildToContainerChildSet,rB=t.finalizeContainerChildren,Lv=t.replaceContainerChildren,j_=t.cloneHiddenInstance,$_=t.cloneHiddenTextInstance,iB=t.canHydrateInstance,aB=t.canHydrateTextInstance,sB=t.canHydrateSuspenseInstance,V_=t.isSuspenseInstancePending,Fv=t.isSuspenseInstanceFallback,oB=t.getSuspenseInstanceFallbackErrorDetails,lB=t.registerSuspenseInstanceRetry,Rf=t.getNextHydratableSibling,uB=t.getFirstHydratableChild,cB=t.getFirstHydratableChildWithinContainer,dB=t.getFirstHydratableChildWithinSuspenseInstance,hB=t.hydrateInstance,fB=t.hydrateTextInstance,pB=t.hydrateSuspenseInstance,mB=t.getNextHydratableInstanceAfterSuspenseInstance,gB=t.commitHydratedContainer,yB=t.commitHydratedSuspenseInstance,vB=t.clearSuspenseBoundary,wB=t.clearSuspenseBoundaryFromContainer,bB=t.shouldDeleteUnhydratedTailInstances,xB=t.didNotMatchHydratedContainerTextInstance,kB=t.didNotMatchHydratedTextInstance,Bv;function Sc(d){if(Bv===void 0)try{throw Error()}catch(w){var f=w.stack.trim().match(/\n( *(at )?)/);Bv=f&&f[1]||""}return`
`+Bv+d}var zv=!1;function Uv(d,f){if(!d||zv)return"";zv=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Oe){var S=Oe}Reflect.construct(d,[],f)}else{try{f.call()}catch(Oe){S=Oe}d.call(f.prototype)}else{try{throw Error()}catch(Oe){S=Oe}d()}}catch(Oe){if(Oe&&S&&typeof Oe.stack=="string"){for(var _=Oe.stack.split(`
`),A=S.stack.split(`
`),G=_.length-1,ae=A.length-1;1<=G&&0<=ae&&_[G]!==A[ae];)ae--;for(;1<=G&&0<=ae;G--,ae--)if(_[G]!==A[ae]){if(G!==1||ae!==1)do if(G--,ae--,0>ae||_[G]!==A[ae]){var ye=`
`+_[G].replace(" at new "," at ");return d.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",d.displayName)),ye}while(1<=G&&0<=ae);break}}}finally{zv=!1,Error.prepareStackTrace=w}return(d=d?d.displayName||d.name:"")?Sc(d):""}var SB=Object.prototype.hasOwnProperty,jv=[],El=-1;function ss(d){return{current:d}}function Zt(d){0>El||(d.current=jv[El],jv[El]=null,El--)}function qt(d,f){El++,jv[El]=d.current,d.current=f}var os={},er=ss(os),Er=ss(!1),co=os;function Cl(d,f){var w=d.type.contextTypes;if(!w)return os;var S=d.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===f)return S.__reactInternalMemoizedMaskedChildContext;var _={},A;for(A in w)_[A]=f[A];return S&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=f,d.__reactInternalMemoizedMaskedChildContext=_),_}function Cr(d){return d=d.childContextTypes,d!=null}function Af(){Zt(Er),Zt(er)}function W_(d,f,w){if(er.current!==os)throw Error(s(168));qt(er,f),qt(Er,w)}function G_(d,f,w){var S=d.stateNode;if(f=f.childContextTypes,typeof S.getChildContext!="function")return w;S=S.getChildContext();for(var _ in S)if(!(_ in f))throw Error(s(108,B(d)||"Unknown",_));return a({},w,S)}function Nf(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||os,co=er.current,qt(er,d),qt(Er,Er.current),!0}function H_(d,f,w){var S=d.stateNode;if(!S)throw Error(s(169));w?(d=G_(d,f,co),S.__reactInternalMemoizedMergedChildContext=d,Zt(Er),Zt(er),qt(er,d)):Zt(Er),qt(Er,w)}var Ai=Math.clz32?Math.clz32:_B,EB=Math.log,CB=Math.LN2;function _B(d){return d>>>=0,d===0?32:31-(EB(d)/CB|0)|0}var Df=64,Of=4194304;function Ec(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function Mf(d,f){var w=d.pendingLanes;if(w===0)return 0;var S=0,_=d.suspendedLanes,A=d.pingedLanes,G=w&268435455;if(G!==0){var ae=G&~_;ae!==0?S=Ec(ae):(A&=G,A!==0&&(S=Ec(A)))}else G=w&~_,G!==0?S=Ec(G):A!==0&&(S=Ec(A));if(S===0)return 0;if(f!==0&&f!==S&&!(f&_)&&(_=S&-S,A=f&-f,_>=A||_===16&&(A&4194240)!==0))return f;if(S&4&&(S|=w&16),f=d.entangledLanes,f!==0)for(d=d.entanglements,f&=S;0<f;)w=31-Ai(f),_=1<<w,S|=d[w],f&=~_;return S}function TB(d,f){switch(d){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IB(d,f){for(var w=d.suspendedLanes,S=d.pingedLanes,_=d.expirationTimes,A=d.pendingLanes;0<A;){var G=31-Ai(A),ae=1<<G,ye=_[G];ye===-1?(!(ae&w)||ae&S)&&(_[G]=TB(ae,f)):ye<=f&&(d.expiredLanes|=ae),A&=~ae}}function $v(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function q_(){var d=Df;return Df<<=1,!(Df&4194240)&&(Df=64),d}function Vv(d){for(var f=[],w=0;31>w;w++)f.push(d);return f}function Cc(d,f,w){d.pendingLanes|=f,f!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,f=31-Ai(f),d[f]=w}function PB(d,f){var w=d.pendingLanes&~f;d.pendingLanes=f,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=f,d.mutableReadLanes&=f,d.entangledLanes&=f,f=d.entanglements;var S=d.eventTimes;for(d=d.expirationTimes;0<w;){var _=31-Ai(w),A=1<<_;f[_]=0,S[_]=-1,d[_]=-1,w&=~A}}function Wv(d,f){var w=d.entangledLanes|=f;for(d=d.entanglements;w;){var S=31-Ai(w),_=1<<S;_&f|d[S]&f&&(d[S]|=f),w&=~_}}var It=0;function K_(d){return d&=-d,1<d?4<d?d&268435455?16:536870912:4:1}var Gv=i.unstable_scheduleCallback,Y_=i.unstable_cancelCallback,RB=i.unstable_shouldYield,AB=i.unstable_requestPaint,zn=i.unstable_now,Hv=i.unstable_ImmediatePriority,NB=i.unstable_UserBlockingPriority,qv=i.unstable_NormalPriority,DB=i.unstable_IdlePriority,Lf=null,ta=null;function OB(d){if(ta&&typeof ta.onCommitFiberRoot=="function")try{ta.onCommitFiberRoot(Lf,d,void 0,(d.current.flags&128)===128)}catch{}}function MB(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var Ni=typeof Object.is=="function"?Object.is:MB,Ra=null,Ff=!1,Kv=!1;function X_(d){Ra===null?Ra=[d]:Ra.push(d)}function LB(d){Ff=!0,X_(d)}function na(){if(!Kv&&Ra!==null){Kv=!0;var d=0,f=It;try{var w=Ra;for(It=1;d<w.length;d++){var S=w[d];do S=S(!0);while(S!==null)}Ra=null,Ff=!1}catch(_){throw Ra!==null&&(Ra=Ra.slice(d+1)),Gv(Hv,na),_}finally{It=f,Kv=!1}}return null}var _l=[],Tl=0,Bf=null,zf=0,si=[],oi=0,ho=null,Aa=1,Na="";function fo(d,f){_l[Tl++]=zf,_l[Tl++]=Bf,Bf=d,zf=f}function Q_(d,f,w){si[oi++]=Aa,si[oi++]=Na,si[oi++]=ho,ho=d;var S=Aa;d=Na;var _=32-Ai(S)-1;S&=~(1<<_),w+=1;var A=32-Ai(f)+_;if(30<A){var G=_-_%5;A=(S&(1<<G)-1).toString(32),S>>=G,_-=G,Aa=1<<32-Ai(f)+_|w<<_|S,Na=A+d}else Aa=1<<A|w<<_|S,Na=d}function Yv(d){d.return!==null&&(fo(d,1),Q_(d,1,0))}function Xv(d){for(;d===Bf;)Bf=_l[--Tl],_l[Tl]=null,zf=_l[--Tl],_l[Tl]=null;for(;d===ho;)ho=si[--oi],si[oi]=null,Na=si[--oi],si[oi]=null,Aa=si[--oi],si[oi]=null}var $r=null,li=null,an=!1,_c=!1,Di=null;function Z_(d,f){var w=fi(5,null,null,0);w.elementType="DELETED",w.stateNode=f,w.return=d,f=d.deletions,f===null?(d.deletions=[w],d.flags|=16):f.push(w)}function J_(d,f){switch(d.tag){case 5:return f=iB(f,d.type,d.pendingProps),f!==null?(d.stateNode=f,$r=d,li=uB(f),!0):!1;case 6:return f=aB(f,d.pendingProps),f!==null?(d.stateNode=f,$r=d,li=null,!0):!1;case 13:if(f=sB(f),f!==null){var w=ho!==null?{id:Aa,overflow:Na}:null;return d.memoizedState={dehydrated:f,treeContext:w,retryLane:1073741824},w=fi(18,null,null,0),w.stateNode=f,w.return=d,d.child=w,$r=d,li=null,!0}return!1;default:return!1}}function Qv(d){return(d.mode&1)!==0&&(d.flags&128)===0}function Zv(d){if(an){var f=li;if(f){var w=f;if(!J_(d,f)){if(Qv(d))throw Error(s(418));f=Rf(w);var S=$r;f&&J_(d,f)?Z_(S,w):(d.flags=d.flags&-4097|2,an=!1,$r=d)}}else{if(Qv(d))throw Error(s(418));d.flags=d.flags&-4097|2,an=!1,$r=d}}}function eT(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;$r=d}function Uf(d){if(!Ct||d!==$r)return!1;if(!an)return eT(d),an=!0,!1;if(d.tag!==3&&(d.tag!==5||bB(d.type)&&!Te(d.type,d.memoizedProps))){var f=li;if(f){if(Qv(d))throw tT(),Error(s(418));for(;f;)Z_(d,f),f=Rf(f)}}if(eT(d),d.tag===13){if(!Ct)throw Error(s(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));li=mB(d)}else li=$r?Rf(d.stateNode):null;return!0}function tT(){for(var d=li;d;)d=Rf(d)}function Il(){Ct&&(li=$r=null,_c=an=!1)}function Jv(d){Di===null?Di=[d]:Di.push(d)}var FB=o.ReactCurrentBatchConfig;function jf(d,f){if(Ni(d,f))return!0;if(typeof d!="object"||d===null||typeof f!="object"||f===null)return!1;var w=Object.keys(d),S=Object.keys(f);if(w.length!==S.length)return!1;for(S=0;S<w.length;S++){var _=w[S];if(!SB.call(f,_)||!Ni(d[_],f[_]))return!1}return!0}function BB(d){switch(d.tag){case 5:return Sc(d.type);case 16:return Sc("Lazy");case 13:return Sc("Suspense");case 19:return Sc("SuspenseList");case 0:case 2:case 15:return d=Uv(d.type,!1),d;case 11:return d=Uv(d.type.render,!1),d;case 1:return d=Uv(d.type,!0),d;default:return""}}function Oi(d,f){if(d&&d.defaultProps){f=a({},f),d=d.defaultProps;for(var w in d)f[w]===void 0&&(f[w]=d[w]);return f}return f}var $f=ss(null),Vf=null,Pl=null,e1=null;function t1(){e1=Pl=Vf=null}function nT(d,f,w){Et?(qt($f,f._currentValue),f._currentValue=w):(qt($f,f._currentValue2),f._currentValue2=w)}function n1(d){var f=$f.current;Zt($f),Et?d._currentValue=f:d._currentValue2=f}function r1(d,f,w){for(;d!==null;){var S=d.alternate;if((d.childLanes&f)!==f?(d.childLanes|=f,S!==null&&(S.childLanes|=f)):S!==null&&(S.childLanes&f)!==f&&(S.childLanes|=f),d===w)break;d=d.return}}function Rl(d,f){Vf=d,e1=Pl=null,d=d.dependencies,d!==null&&d.firstContext!==null&&(d.lanes&f&&(_r=!0),d.firstContext=null)}function ui(d){var f=Et?d._currentValue:d._currentValue2;if(e1!==d)if(d={context:d,memoizedValue:f,next:null},Pl===null){if(Vf===null)throw Error(s(308));Pl=d,Vf.dependencies={lanes:0,firstContext:d}}else Pl=Pl.next=d;return f}var po=null;function i1(d){po===null?po=[d]:po.push(d)}function rT(d,f,w,S){var _=f.interleaved;return _===null?(w.next=w,i1(f)):(w.next=_.next,_.next=w),f.interleaved=w,ra(d,S)}function ra(d,f){d.lanes|=f;var w=d.alternate;for(w!==null&&(w.lanes|=f),w=d,d=d.return;d!==null;)d.childLanes|=f,w=d.alternate,w!==null&&(w.childLanes|=f),w=d,d=d.return;return w.tag===3?w.stateNode:null}var ls=!1;function a1(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iT(d,f){d=d.updateQueue,f.updateQueue===d&&(f.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Da(d,f){return{eventTime:d,lane:f,tag:0,payload:null,callback:null,next:null}}function us(d,f,w){var S=d.updateQueue;if(S===null)return null;if(S=S.shared,mt&2){var _=S.pending;return _===null?f.next=f:(f.next=_.next,_.next=f),S.pending=f,ra(d,w)}return _=S.interleaved,_===null?(f.next=f,i1(S)):(f.next=_.next,_.next=f),S.interleaved=f,ra(d,w)}function Wf(d,f,w){if(f=f.updateQueue,f!==null&&(f=f.shared,(w&4194240)!==0)){var S=f.lanes;S&=d.pendingLanes,w|=S,f.lanes=w,Wv(d,w)}}function aT(d,f){var w=d.updateQueue,S=d.alternate;if(S!==null&&(S=S.updateQueue,w===S)){var _=null,A=null;if(w=w.firstBaseUpdate,w!==null){do{var G={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};A===null?_=A=G:A=A.next=G,w=w.next}while(w!==null);A===null?_=A=f:A=A.next=f}else _=A=f;w={baseState:S.baseState,firstBaseUpdate:_,lastBaseUpdate:A,shared:S.shared,effects:S.effects},d.updateQueue=w;return}d=w.lastBaseUpdate,d===null?w.firstBaseUpdate=f:d.next=f,w.lastBaseUpdate=f}function Gf(d,f,w,S){var _=d.updateQueue;ls=!1;var A=_.firstBaseUpdate,G=_.lastBaseUpdate,ae=_.shared.pending;if(ae!==null){_.shared.pending=null;var ye=ae,Oe=ye.next;ye.next=null,G===null?A=Oe:G.next=Oe,G=ye;var qe=d.alternate;qe!==null&&(qe=qe.updateQueue,ae=qe.lastBaseUpdate,ae!==G&&(ae===null?qe.firstBaseUpdate=Oe:ae.next=Oe,qe.lastBaseUpdate=ye))}if(A!==null){var lt=_.baseState;G=0,qe=Oe=ye=null,ae=A;do{var je=ae.lane,Jt=ae.eventTime;if((S&je)===je){qe!==null&&(qe=qe.next={eventTime:Jt,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var Gt=d,Pr=ae;switch(je=f,Jt=w,Pr.tag){case 1:if(Gt=Pr.payload,typeof Gt=="function"){lt=Gt.call(Jt,lt,je);break e}lt=Gt;break e;case 3:Gt.flags=Gt.flags&-65537|128;case 0:if(Gt=Pr.payload,je=typeof Gt=="function"?Gt.call(Jt,lt,je):Gt,je==null)break e;lt=a({},lt,je);break e;case 2:ls=!0}}ae.callback!==null&&ae.lane!==0&&(d.flags|=64,je=_.effects,je===null?_.effects=[ae]:je.push(ae))}else Jt={eventTime:Jt,lane:je,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},qe===null?(Oe=qe=Jt,ye=lt):qe=qe.next=Jt,G|=je;if(ae=ae.next,ae===null){if(ae=_.shared.pending,ae===null)break;je=ae,ae=je.next,je.next=null,_.lastBaseUpdate=je,_.shared.pending=null}}while(1);if(qe===null&&(ye=lt),_.baseState=ye,_.firstBaseUpdate=Oe,_.lastBaseUpdate=qe,f=_.shared.interleaved,f!==null){_=f;do G|=_.lane,_=_.next;while(_!==f)}else A===null&&(_.shared.lanes=0);go|=G,d.lanes=G,d.memoizedState=lt}}function sT(d,f,w){if(d=f.effects,f.effects=null,d!==null)for(f=0;f<d.length;f++){var S=d[f],_=S.callback;if(_!==null){if(S.callback=null,S=w,typeof _!="function")throw Error(s(191,_));_.call(S)}}}var oT=new r.Component().refs;function s1(d,f,w,S){f=d.memoizedState,w=w(S,f),w=w==null?f:a({},f,w),d.memoizedState=w,d.lanes===0&&(d.updateQueue.baseState=w)}var Hf={isMounted:function(d){return(d=d._reactInternals)?j(d)===d:!1},enqueueSetState:function(d,f,w){d=d._reactInternals;var S=ir(),_=hs(d),A=Da(S,_);A.payload=f,w!=null&&(A.callback=w),f=us(d,A,_),f!==null&&(hi(f,d,_,S),Wf(f,d,_))},enqueueReplaceState:function(d,f,w){d=d._reactInternals;var S=ir(),_=hs(d),A=Da(S,_);A.tag=1,A.payload=f,w!=null&&(A.callback=w),f=us(d,A,_),f!==null&&(hi(f,d,_,S),Wf(f,d,_))},enqueueForceUpdate:function(d,f){d=d._reactInternals;var w=ir(),S=hs(d),_=Da(w,S);_.tag=2,f!=null&&(_.callback=f),f=us(d,_,S),f!==null&&(hi(f,d,S,w),Wf(f,d,S))}};function lT(d,f,w,S,_,A,G){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(S,A,G):f.prototype&&f.prototype.isPureReactComponent?!jf(w,S)||!jf(_,A):!0}function uT(d,f,w){var S=!1,_=os,A=f.contextType;return typeof A=="object"&&A!==null?A=ui(A):(_=Cr(f)?co:er.current,S=f.contextTypes,A=(S=S!=null)?Cl(d,_):os),f=new f(w,A),d.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Hf,d.stateNode=f,f._reactInternals=d,S&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=_,d.__reactInternalMemoizedMaskedChildContext=A),f}function cT(d,f,w,S){d=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(w,S),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(w,S),f.state!==d&&Hf.enqueueReplaceState(f,f.state,null)}function o1(d,f,w,S){var _=d.stateNode;_.props=w,_.state=d.memoizedState,_.refs=oT,a1(d);var A=f.contextType;typeof A=="object"&&A!==null?_.context=ui(A):(A=Cr(f)?co:er.current,_.context=Cl(d,A)),_.state=d.memoizedState,A=f.getDerivedStateFromProps,typeof A=="function"&&(s1(d,f,A,w),_.state=d.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(f=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),f!==_.state&&Hf.enqueueReplaceState(_,_.state,null),Gf(d,w,_,S),_.state=d.memoizedState),typeof _.componentDidMount=="function"&&(d.flags|=4194308)}function Tc(d,f,w){if(d=w.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(s(309));var S=w.stateNode}if(!S)throw Error(s(147,d));var _=S,A=""+d;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===A?f.ref:(f=function(G){var ae=_.refs;ae===oT&&(ae=_.refs={}),G===null?delete ae[A]:ae[A]=G},f._stringRef=A,f)}if(typeof d!="string")throw Error(s(284));if(!w._owner)throw Error(s(290,d))}return d}function qf(d,f){throw d=Object.prototype.toString.call(f),Error(s(31,d==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":d))}function dT(d){var f=d._init;return f(d._payload)}function hT(d){function f(ge,ue){if(d){var be=ge.deletions;be===null?(ge.deletions=[ue],ge.flags|=16):be.push(ue)}}function w(ge,ue){if(!d)return null;for(;ue!==null;)f(ge,ue),ue=ue.sibling;return null}function S(ge,ue){for(ge=new Map;ue!==null;)ue.key!==null?ge.set(ue.key,ue):ge.set(ue.index,ue),ue=ue.sibling;return ge}function _(ge,ue){return ge=ps(ge,ue),ge.index=0,ge.sibling=null,ge}function A(ge,ue,be){return ge.index=be,d?(be=ge.alternate,be!==null?(be=be.index,be<ue?(ge.flags|=2,ue):be):(ge.flags|=2,ue)):(ge.flags|=1048576,ue)}function G(ge){return d&&ge.alternate===null&&(ge.flags|=2),ge}function ae(ge,ue,be,$e){return ue===null||ue.tag!==6?(ue=K1(be,ge.mode,$e),ue.return=ge,ue):(ue=_(ue,be),ue.return=ge,ue)}function ye(ge,ue,be,$e){var et=be.type;return et===c?qe(ge,ue,be.props.children,$e,be.key):ue!==null&&(ue.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===k&&dT(et)===ue.type)?($e=_(ue,be.props),$e.ref=Tc(ge,ue,be),$e.return=ge,$e):($e=wp(be.type,be.key,be.props,null,ge.mode,$e),$e.ref=Tc(ge,ue,be),$e.return=ge,$e)}function Oe(ge,ue,be,$e){return ue===null||ue.tag!==4||ue.stateNode.containerInfo!==be.containerInfo||ue.stateNode.implementation!==be.implementation?(ue=Y1(be,ge.mode,$e),ue.return=ge,ue):(ue=_(ue,be.children||[]),ue.return=ge,ue)}function qe(ge,ue,be,$e,et){return ue===null||ue.tag!==7?(ue=bo(be,ge.mode,$e,et),ue.return=ge,ue):(ue=_(ue,be),ue.return=ge,ue)}function lt(ge,ue,be){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return ue=K1(""+ue,ge.mode,be),ue.return=ge,ue;if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case l:return be=wp(ue.type,ue.key,ue.props,null,ge.mode,be),be.ref=Tc(ge,null,ue),be.return=ge,be;case u:return ue=Y1(ue,ge.mode,be),ue.return=ge,ue;case k:var $e=ue._init;return lt(ge,$e(ue._payload),be)}if(te(ue)||R(ue))return ue=bo(ue,ge.mode,be,null),ue.return=ge,ue;qf(ge,ue)}return null}function je(ge,ue,be,$e){var et=ue!==null?ue.key:null;if(typeof be=="string"&&be!==""||typeof be=="number")return et!==null?null:ae(ge,ue,""+be,$e);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case l:return be.key===et?ye(ge,ue,be,$e):null;case u:return be.key===et?Oe(ge,ue,be,$e):null;case k:return et=be._init,je(ge,ue,et(be._payload),$e)}if(te(be)||R(be))return et!==null?null:qe(ge,ue,be,$e,null);qf(ge,be)}return null}function Jt(ge,ue,be,$e,et){if(typeof $e=="string"&&$e!==""||typeof $e=="number")return ge=ge.get(be)||null,ae(ue,ge,""+$e,et);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case l:return ge=ge.get($e.key===null?be:$e.key)||null,ye(ue,ge,$e,et);case u:return ge=ge.get($e.key===null?be:$e.key)||null,Oe(ue,ge,$e,et);case k:var ht=$e._init;return Jt(ge,ue,be,ht($e._payload),et)}if(te($e)||R($e))return ge=ge.get(be)||null,qe(ue,ge,$e,et,null);qf(ue,$e)}return null}function Gt(ge,ue,be,$e){for(var et=null,ht=null,ut=ue,Pt=ue=0,$n=null;ut!==null&&Pt<be.length;Pt++){ut.index>Pt?($n=ut,ut=null):$n=ut.sibling;var Rt=je(ge,ut,be[Pt],$e);if(Rt===null){ut===null&&(ut=$n);break}d&&ut&&Rt.alternate===null&&f(ge,ut),ue=A(Rt,ue,Pt),ht===null?et=Rt:ht.sibling=Rt,ht=Rt,ut=$n}if(Pt===be.length)return w(ge,ut),an&&fo(ge,Pt),et;if(ut===null){for(;Pt<be.length;Pt++)ut=lt(ge,be[Pt],$e),ut!==null&&(ue=A(ut,ue,Pt),ht===null?et=ut:ht.sibling=ut,ht=ut);return an&&fo(ge,Pt),et}for(ut=S(ge,ut);Pt<be.length;Pt++)$n=Jt(ut,ge,Pt,be[Pt],$e),$n!==null&&(d&&$n.alternate!==null&&ut.delete($n.key===null?Pt:$n.key),ue=A($n,ue,Pt),ht===null?et=$n:ht.sibling=$n,ht=$n);return d&&ut.forEach(function(ms){return f(ge,ms)}),an&&fo(ge,Pt),et}function Pr(ge,ue,be,$e){var et=R(be);if(typeof et!="function")throw Error(s(150));if(be=et.call(be),be==null)throw Error(s(151));for(var ht=et=null,ut=ue,Pt=ue=0,$n=null,Rt=be.next();ut!==null&&!Rt.done;Pt++,Rt=be.next()){ut.index>Pt?($n=ut,ut=null):$n=ut.sibling;var ms=je(ge,ut,Rt.value,$e);if(ms===null){ut===null&&(ut=$n);break}d&&ut&&ms.alternate===null&&f(ge,ut),ue=A(ms,ue,Pt),ht===null?et=ms:ht.sibling=ms,ht=ms,ut=$n}if(Rt.done)return w(ge,ut),an&&fo(ge,Pt),et;if(ut===null){for(;!Rt.done;Pt++,Rt=be.next())Rt=lt(ge,Rt.value,$e),Rt!==null&&(ue=A(Rt,ue,Pt),ht===null?et=Rt:ht.sibling=Rt,ht=Rt);return an&&fo(ge,Pt),et}for(ut=S(ge,ut);!Rt.done;Pt++,Rt=be.next())Rt=Jt(ut,ge,Pt,Rt.value,$e),Rt!==null&&(d&&Rt.alternate!==null&&ut.delete(Rt.key===null?Pt:Rt.key),ue=A(Rt,ue,Pt),ht===null?et=Rt:ht.sibling=Rt,ht=Rt);return d&&ut.forEach(function(pz){return f(ge,pz)}),an&&fo(ge,Pt),et}function La(ge,ue,be,$e){if(typeof be=="object"&&be!==null&&be.type===c&&be.key===null&&(be=be.props.children),typeof be=="object"&&be!==null){switch(be.$$typeof){case l:e:{for(var et=be.key,ht=ue;ht!==null;){if(ht.key===et){if(et=be.type,et===c){if(ht.tag===7){w(ge,ht.sibling),ue=_(ht,be.props.children),ue.return=ge,ge=ue;break e}}else if(ht.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===k&&dT(et)===ht.type){w(ge,ht.sibling),ue=_(ht,be.props),ue.ref=Tc(ge,ht,be),ue.return=ge,ge=ue;break e}w(ge,ht);break}else f(ge,ht);ht=ht.sibling}be.type===c?(ue=bo(be.props.children,ge.mode,$e,be.key),ue.return=ge,ge=ue):($e=wp(be.type,be.key,be.props,null,ge.mode,$e),$e.ref=Tc(ge,ue,be),$e.return=ge,ge=$e)}return G(ge);case u:e:{for(ht=be.key;ue!==null;){if(ue.key===ht)if(ue.tag===4&&ue.stateNode.containerInfo===be.containerInfo&&ue.stateNode.implementation===be.implementation){w(ge,ue.sibling),ue=_(ue,be.children||[]),ue.return=ge,ge=ue;break e}else{w(ge,ue);break}else f(ge,ue);ue=ue.sibling}ue=Y1(be,ge.mode,$e),ue.return=ge,ge=ue}return G(ge);case k:return ht=be._init,La(ge,ue,ht(be._payload),$e)}if(te(be))return Gt(ge,ue,be,$e);if(R(be))return Pr(ge,ue,be,$e);qf(ge,be)}return typeof be=="string"&&be!==""||typeof be=="number"?(be=""+be,ue!==null&&ue.tag===6?(w(ge,ue.sibling),ue=_(ue,be),ue.return=ge,ge=ue):(w(ge,ue),ue=K1(be,ge.mode,$e),ue.return=ge,ge=ue),G(ge)):w(ge,ue)}return La}var Al=hT(!0),fT=hT(!1),Ic={},ci=ss(Ic),Pc=ss(Ic),Nl=ss(Ic);function ia(d){if(d===Ic)throw Error(s(174));return d}function l1(d,f){qt(Nl,f),qt(Pc,d),qt(ci,Ic),d=le(f),Zt(ci),qt(ci,d)}function Dl(){Zt(ci),Zt(Pc),Zt(Nl)}function pT(d){var f=ia(Nl.current),w=ia(ci.current);f=de(w,d.type,f),w!==f&&(qt(Pc,d),qt(ci,f))}function u1(d){Pc.current===d&&(Zt(ci),Zt(Pc))}var cn=ss(0);function Kf(d){for(var f=d;f!==null;){if(f.tag===13){var w=f.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||V_(w)||Fv(w)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break;for(;f.sibling===null;){if(f.return===null||f.return===d)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var c1=[];function d1(){for(var d=0;d<c1.length;d++){var f=c1[d];Et?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}c1.length=0}var Yf=o.ReactCurrentDispatcher,h1=o.ReactCurrentBatchConfig,mo=0,dn=null,Nn=null,Un=null,Xf=!1,Rc=!1,Ac=0,zB=0;function tr(){throw Error(s(321))}function f1(d,f){if(f===null)return!1;for(var w=0;w<f.length&&w<d.length;w++)if(!Ni(d[w],f[w]))return!1;return!0}function p1(d,f,w,S,_,A){if(mo=A,dn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Yf.current=d===null||d.memoizedState===null?VB:WB,d=w(S,_),Rc){A=0;do{if(Rc=!1,Ac=0,25<=A)throw Error(s(301));A+=1,Un=Nn=null,f.updateQueue=null,Yf.current=GB,d=w(S,_)}while(Rc)}if(Yf.current=Jf,f=Nn!==null&&Nn.next!==null,mo=0,Un=Nn=dn=null,Xf=!1,f)throw Error(s(300));return d}function m1(){var d=Ac!==0;return Ac=0,d}function aa(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?dn.memoizedState=Un=d:Un=Un.next=d,Un}function di(){if(Nn===null){var d=dn.alternate;d=d!==null?d.memoizedState:null}else d=Nn.next;var f=Un===null?dn.memoizedState:Un.next;if(f!==null)Un=f,Nn=d;else{if(d===null)throw Error(s(310));Nn=d,d={memoizedState:Nn.memoizedState,baseState:Nn.baseState,baseQueue:Nn.baseQueue,queue:Nn.queue,next:null},Un===null?dn.memoizedState=Un=d:Un=Un.next=d}return Un}function Nc(d,f){return typeof f=="function"?f(d):f}function g1(d){var f=di(),w=f.queue;if(w===null)throw Error(s(311));w.lastRenderedReducer=d;var S=Nn,_=S.baseQueue,A=w.pending;if(A!==null){if(_!==null){var G=_.next;_.next=A.next,A.next=G}S.baseQueue=_=A,w.pending=null}if(_!==null){A=_.next,S=S.baseState;var ae=G=null,ye=null,Oe=A;do{var qe=Oe.lane;if((mo&qe)===qe)ye!==null&&(ye=ye.next={lane:0,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),S=Oe.hasEagerState?Oe.eagerState:d(S,Oe.action);else{var lt={lane:qe,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null};ye===null?(ae=ye=lt,G=S):ye=ye.next=lt,dn.lanes|=qe,go|=qe}Oe=Oe.next}while(Oe!==null&&Oe!==A);ye===null?G=S:ye.next=ae,Ni(S,f.memoizedState)||(_r=!0),f.memoizedState=S,f.baseState=G,f.baseQueue=ye,w.lastRenderedState=S}if(d=w.interleaved,d!==null){_=d;do A=_.lane,dn.lanes|=A,go|=A,_=_.next;while(_!==d)}else _===null&&(w.lanes=0);return[f.memoizedState,w.dispatch]}function y1(d){var f=di(),w=f.queue;if(w===null)throw Error(s(311));w.lastRenderedReducer=d;var S=w.dispatch,_=w.pending,A=f.memoizedState;if(_!==null){w.pending=null;var G=_=_.next;do A=d(A,G.action),G=G.next;while(G!==_);Ni(A,f.memoizedState)||(_r=!0),f.memoizedState=A,f.baseQueue===null&&(f.baseState=A),w.lastRenderedState=A}return[A,S]}function mT(){}function gT(d,f){var w=dn,S=di(),_=f(),A=!Ni(S.memoizedState,_);if(A&&(S.memoizedState=_,_r=!0),S=S.queue,v1(wT.bind(null,w,S,d),[d]),S.getSnapshot!==f||A||Un!==null&&Un.memoizedState.tag&1){if(w.flags|=2048,Dc(9,vT.bind(null,w,S,_,f),void 0,null),jn===null)throw Error(s(349));mo&30||yT(w,f,_)}return _}function yT(d,f,w){d.flags|=16384,d={getSnapshot:f,value:w},f=dn.updateQueue,f===null?(f={lastEffect:null,stores:null},dn.updateQueue=f,f.stores=[d]):(w=f.stores,w===null?f.stores=[d]:w.push(d))}function vT(d,f,w,S){f.value=w,f.getSnapshot=S,bT(f)&&xT(d)}function wT(d,f,w){return w(function(){bT(f)&&xT(d)})}function bT(d){var f=d.getSnapshot;d=d.value;try{var w=f();return!Ni(d,w)}catch{return!0}}function xT(d){var f=ra(d,1);f!==null&&hi(f,d,1,-1)}function kT(d){var f=aa();return typeof d=="function"&&(d=d()),f.memoizedState=f.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nc,lastRenderedState:d},f.queue=d,d=d.dispatch=$B.bind(null,dn,d),[f.memoizedState,d]}function Dc(d,f,w,S){return d={tag:d,create:f,destroy:w,deps:S,next:null},f=dn.updateQueue,f===null?(f={lastEffect:null,stores:null},dn.updateQueue=f,f.lastEffect=d.next=d):(w=f.lastEffect,w===null?f.lastEffect=d.next=d:(S=w.next,w.next=d,d.next=S,f.lastEffect=d)),d}function ST(){return di().memoizedState}function Qf(d,f,w,S){var _=aa();dn.flags|=d,_.memoizedState=Dc(1|f,w,void 0,S===void 0?null:S)}function Zf(d,f,w,S){var _=di();S=S===void 0?null:S;var A=void 0;if(Nn!==null){var G=Nn.memoizedState;if(A=G.destroy,S!==null&&f1(S,G.deps)){_.memoizedState=Dc(f,w,A,S);return}}dn.flags|=d,_.memoizedState=Dc(1|f,w,A,S)}function ET(d,f){return Qf(8390656,8,d,f)}function v1(d,f){return Zf(2048,8,d,f)}function CT(d,f){return Zf(4,2,d,f)}function _T(d,f){return Zf(4,4,d,f)}function TT(d,f){if(typeof f=="function")return d=d(),f(d),function(){f(null)};if(f!=null)return d=d(),f.current=d,function(){f.current=null}}function IT(d,f,w){return w=w!=null?w.concat([d]):null,Zf(4,4,TT.bind(null,f,d),w)}function w1(){}function PT(d,f){var w=di();f=f===void 0?null:f;var S=w.memoizedState;return S!==null&&f!==null&&f1(f,S[1])?S[0]:(w.memoizedState=[d,f],d)}function RT(d,f){var w=di();f=f===void 0?null:f;var S=w.memoizedState;return S!==null&&f!==null&&f1(f,S[1])?S[0]:(d=d(),w.memoizedState=[d,f],d)}function AT(d,f,w){return mo&21?(Ni(w,f)||(w=q_(),dn.lanes|=w,go|=w,d.baseState=!0),f):(d.baseState&&(d.baseState=!1,_r=!0),d.memoizedState=w)}function UB(d,f){var w=It;It=w!==0&&4>w?w:4,d(!0);var S=h1.transition;h1.transition={};try{d(!1),f()}finally{It=w,h1.transition=S}}function NT(){return di().memoizedState}function jB(d,f,w){var S=hs(d);if(w={lane:S,action:w,hasEagerState:!1,eagerState:null,next:null},DT(d))OT(f,w);else if(w=rT(d,f,w,S),w!==null){var _=ir();hi(w,d,S,_),MT(w,f,S)}}function $B(d,f,w){var S=hs(d),_={lane:S,action:w,hasEagerState:!1,eagerState:null,next:null};if(DT(d))OT(f,_);else{var A=d.alternate;if(d.lanes===0&&(A===null||A.lanes===0)&&(A=f.lastRenderedReducer,A!==null))try{var G=f.lastRenderedState,ae=A(G,w);if(_.hasEagerState=!0,_.eagerState=ae,Ni(ae,G)){var ye=f.interleaved;ye===null?(_.next=_,i1(f)):(_.next=ye.next,ye.next=_),f.interleaved=_;return}}catch{}finally{}w=rT(d,f,_,S),w!==null&&(_=ir(),hi(w,d,S,_),MT(w,f,S))}}function DT(d){var f=d.alternate;return d===dn||f!==null&&f===dn}function OT(d,f){Rc=Xf=!0;var w=d.pending;w===null?f.next=f:(f.next=w.next,w.next=f),d.pending=f}function MT(d,f,w){if(w&4194240){var S=f.lanes;S&=d.pendingLanes,w|=S,f.lanes=w,Wv(d,w)}}var Jf={readContext:ui,useCallback:tr,useContext:tr,useEffect:tr,useImperativeHandle:tr,useInsertionEffect:tr,useLayoutEffect:tr,useMemo:tr,useReducer:tr,useRef:tr,useState:tr,useDebugValue:tr,useDeferredValue:tr,useTransition:tr,useMutableSource:tr,useSyncExternalStore:tr,useId:tr,unstable_isNewReconciler:!1},VB={readContext:ui,useCallback:function(d,f){return aa().memoizedState=[d,f===void 0?null:f],d},useContext:ui,useEffect:ET,useImperativeHandle:function(d,f,w){return w=w!=null?w.concat([d]):null,Qf(4194308,4,TT.bind(null,f,d),w)},useLayoutEffect:function(d,f){return Qf(4194308,4,d,f)},useInsertionEffect:function(d,f){return Qf(4,2,d,f)},useMemo:function(d,f){var w=aa();return f=f===void 0?null:f,d=d(),w.memoizedState=[d,f],d},useReducer:function(d,f,w){var S=aa();return f=w!==void 0?w(f):f,S.memoizedState=S.baseState=f,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:f},S.queue=d,d=d.dispatch=jB.bind(null,dn,d),[S.memoizedState,d]},useRef:function(d){var f=aa();return d={current:d},f.memoizedState=d},useState:kT,useDebugValue:w1,useDeferredValue:function(d){return aa().memoizedState=d},useTransition:function(){var d=kT(!1),f=d[0];return d=UB.bind(null,d[1]),aa().memoizedState=d,[f,d]},useMutableSource:function(){},useSyncExternalStore:function(d,f,w){var S=dn,_=aa();if(an){if(w===void 0)throw Error(s(407));w=w()}else{if(w=f(),jn===null)throw Error(s(349));mo&30||yT(S,f,w)}_.memoizedState=w;var A={value:w,getSnapshot:f};return _.queue=A,ET(wT.bind(null,S,A,d),[d]),S.flags|=2048,Dc(9,vT.bind(null,S,A,w,f),void 0,null),w},useId:function(){var d=aa(),f=jn.identifierPrefix;if(an){var w=Na,S=Aa;w=(S&~(1<<32-Ai(S)-1)).toString(32)+w,f=":"+f+"R"+w,w=Ac++,0<w&&(f+="H"+w.toString(32)),f+=":"}else w=zB++,f=":"+f+"r"+w.toString(32)+":";return d.memoizedState=f},unstable_isNewReconciler:!1},WB={readContext:ui,useCallback:PT,useContext:ui,useEffect:v1,useImperativeHandle:IT,useInsertionEffect:CT,useLayoutEffect:_T,useMemo:RT,useReducer:g1,useRef:ST,useState:function(){return g1(Nc)},useDebugValue:w1,useDeferredValue:function(d){var f=di();return AT(f,Nn.memoizedState,d)},useTransition:function(){var d=g1(Nc)[0],f=di().memoizedState;return[d,f]},useMutableSource:mT,useSyncExternalStore:gT,useId:NT,unstable_isNewReconciler:!1},GB={readContext:ui,useCallback:PT,useContext:ui,useEffect:v1,useImperativeHandle:IT,useInsertionEffect:CT,useLayoutEffect:_T,useMemo:RT,useReducer:y1,useRef:ST,useState:function(){return y1(Nc)},useDebugValue:w1,useDeferredValue:function(d){var f=di();return Nn===null?f.memoizedState=d:AT(f,Nn.memoizedState,d)},useTransition:function(){var d=y1(Nc)[0],f=di().memoizedState;return[d,f]},useMutableSource:mT,useSyncExternalStore:gT,useId:NT,unstable_isNewReconciler:!1};function Ol(d,f){try{var w="",S=f;do w+=BB(S),S=S.return;while(S);var _=w}catch(A){_=`
Error generating stack: `+A.message+`
`+A.stack}return{value:d,source:f,stack:_,digest:null}}function b1(d,f,w){return{value:d,source:null,stack:w??null,digest:f??null}}function x1(d,f){try{console.error(f.value)}catch(w){setTimeout(function(){throw w})}}var HB=typeof WeakMap=="function"?WeakMap:Map;function LT(d,f,w){w=Da(-1,w),w.tag=3,w.payload={element:null};var S=f.value;return w.callback=function(){fp||(fp=!0,j1=S),x1(d,f)},w}function FT(d,f,w){w=Da(-1,w),w.tag=3;var S=d.type.getDerivedStateFromError;if(typeof S=="function"){var _=f.value;w.payload=function(){return S(_)},w.callback=function(){x1(d,f)}}var A=d.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(w.callback=function(){x1(d,f),typeof S!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var G=f.stack;this.componentDidCatch(f.value,{componentStack:G!==null?G:""})}),w}function BT(d,f,w){var S=d.pingCache;if(S===null){S=d.pingCache=new HB;var _=new Set;S.set(f,_)}else _=S.get(f),_===void 0&&(_=new Set,S.set(f,_));_.has(w)||(_.add(w),d=sz.bind(null,d,f,w),f.then(d,d))}function zT(d){do{var f;if((f=d.tag===13)&&(f=d.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return d;d=d.return}while(d!==null);return null}function UT(d,f,w,S,_){return d.mode&1?(d.flags|=65536,d.lanes=_,d):(d===f?d.flags|=65536:(d.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(f=Da(-1,1),f.tag=2,us(w,f,1))),w.lanes|=1),d)}var qB=o.ReactCurrentOwner,_r=!1;function gr(d,f,w,S){f.child=d===null?fT(f,null,w,S):Al(f,d.child,w,S)}function jT(d,f,w,S,_){w=w.render;var A=f.ref;return Rl(f,_),S=p1(d,f,w,S,A,_),w=m1(),d!==null&&!_r?(f.updateQueue=d.updateQueue,f.flags&=-2053,d.lanes&=~_,Oa(d,f,_)):(an&&w&&Yv(f),f.flags|=1,gr(d,f,S,_),f.child)}function $T(d,f,w,S,_){if(d===null){var A=w.type;return typeof A=="function"&&!q1(A)&&A.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(f.tag=15,f.type=A,VT(d,f,A,S,_)):(d=wp(w.type,null,S,f,f.mode,_),d.ref=f.ref,d.return=f,f.child=d)}if(A=d.child,!(d.lanes&_)){var G=A.memoizedProps;if(w=w.compare,w=w!==null?w:jf,w(G,S)&&d.ref===f.ref)return Oa(d,f,_)}return f.flags|=1,d=ps(A,S),d.ref=f.ref,d.return=f,f.child=d}function VT(d,f,w,S,_){if(d!==null){var A=d.memoizedProps;if(jf(A,S)&&d.ref===f.ref)if(_r=!1,f.pendingProps=S=A,(d.lanes&_)!==0)d.flags&131072&&(_r=!0);else return f.lanes=d.lanes,Oa(d,f,_)}return k1(d,f,w,S,_)}function WT(d,f,w){var S=f.pendingProps,_=S.children,A=d!==null?d.memoizedState:null;if(S.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null,transitions:null},qt(Ll,Vr),Vr|=w;else{if(!(w&1073741824))return d=A!==null?A.baseLanes|w:w,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:d,cachePool:null,transitions:null},f.updateQueue=null,qt(Ll,Vr),Vr|=d,null;f.memoizedState={baseLanes:0,cachePool:null,transitions:null},S=A!==null?A.baseLanes:w,qt(Ll,Vr),Vr|=S}else A!==null?(S=A.baseLanes|w,f.memoizedState=null):S=w,qt(Ll,Vr),Vr|=S;return gr(d,f,_,w),f.child}function GT(d,f){var w=f.ref;(d===null&&w!==null||d!==null&&d.ref!==w)&&(f.flags|=512,f.flags|=2097152)}function k1(d,f,w,S,_){var A=Cr(w)?co:er.current;return A=Cl(f,A),Rl(f,_),w=p1(d,f,w,S,A,_),S=m1(),d!==null&&!_r?(f.updateQueue=d.updateQueue,f.flags&=-2053,d.lanes&=~_,Oa(d,f,_)):(an&&S&&Yv(f),f.flags|=1,gr(d,f,w,_),f.child)}function HT(d,f,w,S,_){if(Cr(w)){var A=!0;Nf(f)}else A=!1;if(Rl(f,_),f.stateNode===null)tp(d,f),uT(f,w,S),o1(f,w,S,_),S=!0;else if(d===null){var G=f.stateNode,ae=f.memoizedProps;G.props=ae;var ye=G.context,Oe=w.contextType;typeof Oe=="object"&&Oe!==null?Oe=ui(Oe):(Oe=Cr(w)?co:er.current,Oe=Cl(f,Oe));var qe=w.getDerivedStateFromProps,lt=typeof qe=="function"||typeof G.getSnapshotBeforeUpdate=="function";lt||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ae!==S||ye!==Oe)&&cT(f,G,S,Oe),ls=!1;var je=f.memoizedState;G.state=je,Gf(f,S,G,_),ye=f.memoizedState,ae!==S||je!==ye||Er.current||ls?(typeof qe=="function"&&(s1(f,w,qe,S),ye=f.memoizedState),(ae=ls||lT(f,w,ae,S,je,ye,Oe))?(lt||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(f.flags|=4194308)):(typeof G.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=S,f.memoizedState=ye),G.props=S,G.state=ye,G.context=Oe,S=ae):(typeof G.componentDidMount=="function"&&(f.flags|=4194308),S=!1)}else{G=f.stateNode,iT(d,f),ae=f.memoizedProps,Oe=f.type===f.elementType?ae:Oi(f.type,ae),G.props=Oe,lt=f.pendingProps,je=G.context,ye=w.contextType,typeof ye=="object"&&ye!==null?ye=ui(ye):(ye=Cr(w)?co:er.current,ye=Cl(f,ye));var Jt=w.getDerivedStateFromProps;(qe=typeof Jt=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ae!==lt||je!==ye)&&cT(f,G,S,ye),ls=!1,je=f.memoizedState,G.state=je,Gf(f,S,G,_);var Gt=f.memoizedState;ae!==lt||je!==Gt||Er.current||ls?(typeof Jt=="function"&&(s1(f,w,Jt,S),Gt=f.memoizedState),(Oe=ls||lT(f,w,Oe,S,je,Gt,ye)||!1)?(qe||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(S,Gt,ye),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(S,Gt,ye)),typeof G.componentDidUpdate=="function"&&(f.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof G.componentDidUpdate!="function"||ae===d.memoizedProps&&je===d.memoizedState||(f.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ae===d.memoizedProps&&je===d.memoizedState||(f.flags|=1024),f.memoizedProps=S,f.memoizedState=Gt),G.props=S,G.state=Gt,G.context=ye,S=Oe):(typeof G.componentDidUpdate!="function"||ae===d.memoizedProps&&je===d.memoizedState||(f.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ae===d.memoizedProps&&je===d.memoizedState||(f.flags|=1024),S=!1)}return S1(d,f,w,S,A,_)}function S1(d,f,w,S,_,A){GT(d,f);var G=(f.flags&128)!==0;if(!S&&!G)return _&&H_(f,w,!1),Oa(d,f,A);S=f.stateNode,qB.current=f;var ae=G&&typeof w.getDerivedStateFromError!="function"?null:S.render();return f.flags|=1,d!==null&&G?(f.child=Al(f,d.child,null,A),f.child=Al(f,null,ae,A)):gr(d,f,ae,A),f.memoizedState=S.state,_&&H_(f,w,!0),f.child}function qT(d){var f=d.stateNode;f.pendingContext?W_(d,f.pendingContext,f.pendingContext!==f.context):f.context&&W_(d,f.context,!1),l1(d,f.containerInfo)}function KT(d,f,w,S,_){return Il(),Jv(_),f.flags|=256,gr(d,f,w,S),f.child}var E1={dehydrated:null,treeContext:null,retryLane:0};function C1(d){return{baseLanes:d,cachePool:null,transitions:null}}function YT(d,f,w){var S=f.pendingProps,_=cn.current,A=!1,G=(f.flags&128)!==0,ae;if((ae=G)||(ae=d!==null&&d.memoizedState===null?!1:(_&2)!==0),ae?(A=!0,f.flags&=-129):(d===null||d.memoizedState!==null)&&(_|=1),qt(cn,_&1),d===null)return Zv(f),d=f.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?(f.mode&1?Fv(d)?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(G=S.children,d=S.fallback,A?(S=f.mode,A=f.child,G={mode:"hidden",children:G},!(S&1)&&A!==null?(A.childLanes=0,A.pendingProps=G):A=bp(G,S,0,null),d=bo(d,S,w,null),A.return=f,d.return=f,A.sibling=d,f.child=A,f.child.memoizedState=C1(w),f.memoizedState=E1,d):_1(f,G));if(_=d.memoizedState,_!==null&&(ae=_.dehydrated,ae!==null))return KB(d,f,G,S,ae,_,w);if(A){A=S.fallback,G=f.mode,_=d.child,ae=_.sibling;var ye={mode:"hidden",children:S.children};return!(G&1)&&f.child!==_?(S=f.child,S.childLanes=0,S.pendingProps=ye,f.deletions=null):(S=ps(_,ye),S.subtreeFlags=_.subtreeFlags&14680064),ae!==null?A=ps(ae,A):(A=bo(A,G,w,null),A.flags|=2),A.return=f,S.return=f,S.sibling=A,f.child=S,S=A,A=f.child,G=d.child.memoizedState,G=G===null?C1(w):{baseLanes:G.baseLanes|w,cachePool:null,transitions:G.transitions},A.memoizedState=G,A.childLanes=d.childLanes&~w,f.memoizedState=E1,S}return A=d.child,d=A.sibling,S=ps(A,{mode:"visible",children:S.children}),!(f.mode&1)&&(S.lanes=w),S.return=f,S.sibling=null,d!==null&&(w=f.deletions,w===null?(f.deletions=[d],f.flags|=16):w.push(d)),f.child=S,f.memoizedState=null,S}function _1(d,f){return f=bp({mode:"visible",children:f},d.mode,0,null),f.return=d,d.child=f}function ep(d,f,w,S){return S!==null&&Jv(S),Al(f,d.child,null,w),d=_1(f,f.pendingProps.children),d.flags|=2,f.memoizedState=null,d}function KB(d,f,w,S,_,A,G){if(w)return f.flags&256?(f.flags&=-257,S=b1(Error(s(422))),ep(d,f,G,S)):f.memoizedState!==null?(f.child=d.child,f.flags|=128,null):(A=S.fallback,_=f.mode,S=bp({mode:"visible",children:S.children},_,0,null),A=bo(A,_,G,null),A.flags|=2,S.return=f,A.return=f,S.sibling=A,f.child=S,f.mode&1&&Al(f,d.child,null,G),f.child.memoizedState=C1(G),f.memoizedState=E1,A);if(!(f.mode&1))return ep(d,f,G,null);if(Fv(_))return S=oB(_).digest,A=Error(s(419)),S=b1(A,S,void 0),ep(d,f,G,S);if(w=(G&d.childLanes)!==0,_r||w){if(S=jn,S!==null){switch(G&-G){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=_&(S.suspendedLanes|G)?0:_,_!==0&&_!==A.retryLane&&(A.retryLane=_,ra(d,_),hi(S,d,_,-1))}return H1(),S=b1(Error(s(421))),ep(d,f,G,S)}return V_(_)?(f.flags|=128,f.child=d.child,f=oz.bind(null,d),lB(_,f),null):(d=A.treeContext,Ct&&(li=dB(_),$r=f,an=!0,Di=null,_c=!1,d!==null&&(si[oi++]=Aa,si[oi++]=Na,si[oi++]=ho,Aa=d.id,Na=d.overflow,ho=f)),f=_1(f,S.children),f.flags|=4096,f)}function XT(d,f,w){d.lanes|=f;var S=d.alternate;S!==null&&(S.lanes|=f),r1(d.return,f,w)}function T1(d,f,w,S,_){var A=d.memoizedState;A===null?d.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:S,tail:w,tailMode:_}:(A.isBackwards=f,A.rendering=null,A.renderingStartTime=0,A.last=S,A.tail=w,A.tailMode=_)}function QT(d,f,w){var S=f.pendingProps,_=S.revealOrder,A=S.tail;if(gr(d,f,S.children,w),S=cn.current,S&2)S=S&1|2,f.flags|=128;else{if(d!==null&&d.flags&128)e:for(d=f.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&XT(d,w,f);else if(d.tag===19)XT(d,w,f);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break e;for(;d.sibling===null;){if(d.return===null||d.return===f)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}S&=1}if(qt(cn,S),!(f.mode&1))f.memoizedState=null;else switch(_){case"forwards":for(w=f.child,_=null;w!==null;)d=w.alternate,d!==null&&Kf(d)===null&&(_=w),w=w.sibling;w=_,w===null?(_=f.child,f.child=null):(_=w.sibling,w.sibling=null),T1(f,!1,_,w,A);break;case"backwards":for(w=null,_=f.child,f.child=null;_!==null;){if(d=_.alternate,d!==null&&Kf(d)===null){f.child=_;break}d=_.sibling,_.sibling=w,w=_,_=d}T1(f,!0,w,null,A);break;case"together":T1(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function tp(d,f){!(f.mode&1)&&d!==null&&(d.alternate=null,f.alternate=null,f.flags|=2)}function Oa(d,f,w){if(d!==null&&(f.dependencies=d.dependencies),go|=f.lanes,!(w&f.childLanes))return null;if(d!==null&&f.child!==d.child)throw Error(s(153));if(f.child!==null){for(d=f.child,w=ps(d,d.pendingProps),f.child=w,w.return=f;d.sibling!==null;)d=d.sibling,w=w.sibling=ps(d,d.pendingProps),w.return=f;w.sibling=null}return f.child}function YB(d,f,w){switch(f.tag){case 3:qT(f),Il();break;case 5:pT(f);break;case 1:Cr(f.type)&&Nf(f);break;case 4:l1(f,f.stateNode.containerInfo);break;case 10:nT(f,f.type._context,f.memoizedProps.value);break;case 13:var S=f.memoizedState;if(S!==null)return S.dehydrated!==null?(qt(cn,cn.current&1),f.flags|=128,null):w&f.child.childLanes?YT(d,f,w):(qt(cn,cn.current&1),d=Oa(d,f,w),d!==null?d.sibling:null);qt(cn,cn.current&1);break;case 19:if(S=(w&f.childLanes)!==0,d.flags&128){if(S)return QT(d,f,w);f.flags|=128}var _=f.memoizedState;if(_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),qt(cn,cn.current),S)break;return null;case 22:case 23:return f.lanes=0,WT(d,f,w)}return Oa(d,f,w)}function sa(d){d.flags|=4}function ZT(d,f){if(d!==null&&d.child===f.child)return!0;if(f.flags&16)return!1;for(d=f.child;d!==null;){if(d.flags&12854||d.subtreeFlags&12854)return!1;d=d.sibling}return!0}var Oc,Mc,np,rp;if(dt)Oc=function(d,f){for(var w=f.child;w!==null;){if(w.tag===5||w.tag===6)M(d,w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===f)break;for(;w.sibling===null;){if(w.return===null||w.return===f)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},Mc=function(){},np=function(d,f,w,S,_){if(d=d.memoizedProps,d!==S){var A=f.stateNode,G=ia(ci.current);w=_e(A,w,d,S,_,G),(f.updateQueue=w)&&sa(f)}},rp=function(d,f,w,S){w!==S&&sa(f)};else if(bn){Oc=function(d,f,w,S){for(var _=f.child;_!==null;){if(_.tag===5){var A=_.stateNode;w&&S&&(A=j_(A,_.type,_.memoizedProps,_)),M(d,A)}else if(_.tag===6)A=_.stateNode,w&&S&&(A=$_(A,_.memoizedProps,_)),M(d,A);else if(_.tag!==4){if(_.tag===22&&_.memoizedState!==null)A=_.child,A!==null&&(A.return=_),Oc(d,_,!0,!0);else if(_.child!==null){_.child.return=_,_=_.child;continue}}if(_===f)break;for(;_.sibling===null;){if(_.return===null||_.return===f)return;_=_.return}_.sibling.return=_.return,_=_.sibling}};var JT=function(d,f,w,S){for(var _=f.child;_!==null;){if(_.tag===5){var A=_.stateNode;w&&S&&(A=j_(A,_.type,_.memoizedProps,_)),U_(d,A)}else if(_.tag===6)A=_.stateNode,w&&S&&(A=$_(A,_.memoizedProps,_)),U_(d,A);else if(_.tag!==4){if(_.tag===22&&_.memoizedState!==null)A=_.child,A!==null&&(A.return=_),JT(d,_,!0,!0);else if(_.child!==null){_.child.return=_,_=_.child;continue}}if(_===f)break;for(;_.sibling===null;){if(_.return===null||_.return===f)return;_=_.return}_.sibling.return=_.return,_=_.sibling}};Mc=function(d,f){var w=f.stateNode;if(!ZT(d,f)){d=w.containerInfo;var S=z_(d);JT(S,f,!1,!1),w.pendingChildren=S,sa(f),rB(d,S)}},np=function(d,f,w,S,_){var A=d.stateNode,G=d.memoizedProps;if((d=ZT(d,f))&&G===S)f.stateNode=A;else{var ae=f.stateNode,ye=ia(ci.current),Oe=null;G!==S&&(Oe=_e(ae,w,G,S,_,ye)),d&&Oe===null?f.stateNode=A:(A=Sl(A,Oe,w,G,S,f,d,ae),Ce(A,w,S,_,ye)&&sa(f),f.stateNode=A,d?sa(f):Oc(A,f,!1,!1))}},rp=function(d,f,w,S){w!==S?(d=ia(Nl.current),w=ia(ci.current),f.stateNode=Qe(S,d,w,f),sa(f)):f.stateNode=d.stateNode}}else Mc=function(){},np=function(){},rp=function(){};function Lc(d,f){if(!an)switch(d.tailMode){case"hidden":f=d.tail;for(var w=null;f!==null;)f.alternate!==null&&(w=f),f=f.sibling;w===null?d.tail=null:w.sibling=null;break;case"collapsed":w=d.tail;for(var S=null;w!==null;)w.alternate!==null&&(S=w),w=w.sibling;S===null?f||d.tail===null?d.tail=null:d.tail.sibling=null:S.sibling=null}}function nr(d){var f=d.alternate!==null&&d.alternate.child===d.child,w=0,S=0;if(f)for(var _=d.child;_!==null;)w|=_.lanes|_.childLanes,S|=_.subtreeFlags&14680064,S|=_.flags&14680064,_.return=d,_=_.sibling;else for(_=d.child;_!==null;)w|=_.lanes|_.childLanes,S|=_.subtreeFlags,S|=_.flags,_.return=d,_=_.sibling;return d.subtreeFlags|=S,d.childLanes=w,f}function XB(d,f,w){var S=f.pendingProps;switch(Xv(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nr(f),null;case 1:return Cr(f.type)&&Af(),nr(f),null;case 3:return w=f.stateNode,Dl(),Zt(Er),Zt(er),d1(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(d===null||d.child===null)&&(Uf(f)?sa(f):d===null||d.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,Di!==null&&(W1(Di),Di=null))),Mc(d,f),nr(f),null;case 5:u1(f),w=ia(Nl.current);var _=f.type;if(d!==null&&f.stateNode!=null)np(d,f,_,S,w),d.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!S){if(f.stateNode===null)throw Error(s(166));return nr(f),null}if(d=ia(ci.current),Uf(f)){if(!Ct)throw Error(s(175));d=hB(f.stateNode,f.type,f.memoizedProps,w,d,f,!_c),f.updateQueue=d,d!==null&&sa(f)}else{var A=F(_,S,w,d,f);Oc(A,f,!1,!1),f.stateNode=A,Ce(A,_,S,w,d)&&sa(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return nr(f),null;case 6:if(d&&f.stateNode!=null)rp(d,f,d.memoizedProps,S);else{if(typeof S!="string"&&f.stateNode===null)throw Error(s(166));if(d=ia(Nl.current),w=ia(ci.current),Uf(f)){if(!Ct)throw Error(s(176));if(d=f.stateNode,w=f.memoizedProps,(S=fB(d,w,f,!_c))&&(_=$r,_!==null))switch(_.tag){case 3:xB(_.stateNode.containerInfo,d,w,(_.mode&1)!==0);break;case 5:kB(_.type,_.memoizedProps,_.stateNode,d,w,(_.mode&1)!==0)}S&&sa(f)}else f.stateNode=Qe(S,d,w,f)}return nr(f),null;case 13:if(Zt(cn),S=f.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(an&&li!==null&&f.mode&1&&!(f.flags&128))tT(),Il(),f.flags|=98560,_=!1;else if(_=Uf(f),S!==null&&S.dehydrated!==null){if(d===null){if(!_)throw Error(s(318));if(!Ct)throw Error(s(344));if(_=f.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(s(317));pB(_,f)}else Il(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;nr(f),_=!1}else Di!==null&&(W1(Di),Di=null),_=!0;if(!_)return f.flags&65536?f:null}return f.flags&128?(f.lanes=w,f):(w=S!==null,w!==(d!==null&&d.memoizedState!==null)&&w&&(f.child.flags|=8192,f.mode&1&&(d===null||cn.current&1?Dn===0&&(Dn=3):H1())),f.updateQueue!==null&&(f.flags|=4),nr(f),null);case 4:return Dl(),Mc(d,f),d===null&&xe(f.stateNode.containerInfo),nr(f),null;case 10:return n1(f.type._context),nr(f),null;case 17:return Cr(f.type)&&Af(),nr(f),null;case 19:if(Zt(cn),_=f.memoizedState,_===null)return nr(f),null;if(S=(f.flags&128)!==0,A=_.rendering,A===null)if(S)Lc(_,!1);else{if(Dn!==0||d!==null&&d.flags&128)for(d=f.child;d!==null;){if(A=Kf(d),A!==null){for(f.flags|=128,Lc(_,!1),d=A.updateQueue,d!==null&&(f.updateQueue=d,f.flags|=4),f.subtreeFlags=0,d=w,w=f.child;w!==null;)S=w,_=d,S.flags&=14680066,A=S.alternate,A===null?(S.childLanes=0,S.lanes=_,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=A.childLanes,S.lanes=A.lanes,S.child=A.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=A.memoizedProps,S.memoizedState=A.memoizedState,S.updateQueue=A.updateQueue,S.type=A.type,_=A.dependencies,S.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext}),w=w.sibling;return qt(cn,cn.current&1|2),f.child}d=d.sibling}_.tail!==null&&zn()>U1&&(f.flags|=128,S=!0,Lc(_,!1),f.lanes=4194304)}else{if(!S)if(d=Kf(A),d!==null){if(f.flags|=128,S=!0,d=d.updateQueue,d!==null&&(f.updateQueue=d,f.flags|=4),Lc(_,!0),_.tail===null&&_.tailMode==="hidden"&&!A.alternate&&!an)return nr(f),null}else 2*zn()-_.renderingStartTime>U1&&w!==1073741824&&(f.flags|=128,S=!0,Lc(_,!1),f.lanes=4194304);_.isBackwards?(A.sibling=f.child,f.child=A):(d=_.last,d!==null?d.sibling=A:f.child=A,_.last=A)}return _.tail!==null?(f=_.tail,_.rendering=f,_.tail=f.sibling,_.renderingStartTime=zn(),f.sibling=null,d=cn.current,qt(cn,S?d&1|2:d&1),f):(nr(f),null);case 22:case 23:return G1(),w=f.memoizedState!==null,d!==null&&d.memoizedState!==null!==w&&(f.flags|=8192),w&&f.mode&1?Vr&1073741824&&(nr(f),dt&&f.subtreeFlags&6&&(f.flags|=8192)):nr(f),null;case 24:return null;case 25:return null}throw Error(s(156,f.tag))}function QB(d,f){switch(Xv(f),f.tag){case 1:return Cr(f.type)&&Af(),d=f.flags,d&65536?(f.flags=d&-65537|128,f):null;case 3:return Dl(),Zt(Er),Zt(er),d1(),d=f.flags,d&65536&&!(d&128)?(f.flags=d&-65537|128,f):null;case 5:return u1(f),null;case 13:if(Zt(cn),d=f.memoizedState,d!==null&&d.dehydrated!==null){if(f.alternate===null)throw Error(s(340));Il()}return d=f.flags,d&65536?(f.flags=d&-65537|128,f):null;case 19:return Zt(cn),null;case 4:return Dl(),null;case 10:return n1(f.type._context),null;case 22:case 23:return G1(),null;case 24:return null;default:return null}}var ip=!1,rr=!1,ZB=typeof WeakSet=="function"?WeakSet:Set,We=null;function Ml(d,f){var w=d.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(S){sn(d,f,S)}else w.current=null}function I1(d,f,w){try{w()}catch(S){sn(d,f,S)}}var e3=!1;function JB(d,f){for(ie(d.containerInfo),We=f;We!==null;)if(d=We,f=d.child,(d.subtreeFlags&1028)!==0&&f!==null)f.return=d,We=f;else for(;We!==null;){d=We;try{var w=d.alternate;if(d.flags&1024)switch(d.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var S=w.memoizedProps,_=w.memoizedState,A=d.stateNode,G=A.getSnapshotBeforeUpdate(d.elementType===d.type?S:Oi(d.type,S),_);A.__reactInternalSnapshotBeforeUpdate=G}break;case 3:dt&&uo(d.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(ae){sn(d,d.return,ae)}if(f=d.sibling,f!==null){f.return=d.return,We=f;break}We=d.return}return w=e3,e3=!1,w}function Fc(d,f,w){var S=f.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var _=S=S.next;do{if((_.tag&d)===d){var A=_.destroy;_.destroy=void 0,A!==void 0&&I1(f,w,A)}_=_.next}while(_!==S)}}function ap(d,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var w=f=f.next;do{if((w.tag&d)===d){var S=w.create;w.destroy=S()}w=w.next}while(w!==f)}}function P1(d){var f=d.ref;if(f!==null){var w=d.stateNode;switch(d.tag){case 5:d=X(w);break;default:d=w}typeof f=="function"?f(d):f.current=d}}function t3(d){var f=d.alternate;f!==null&&(d.alternate=null,t3(f)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(f=d.stateNode,f!==null&&Q(f)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function n3(d){return d.tag===5||d.tag===3||d.tag===4}function r3(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||n3(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function R1(d,f,w){var S=d.tag;if(S===5||S===6)d=d.stateNode,f?Ze(w,d,f):I(w,d);else if(S!==4&&(d=d.child,d!==null))for(R1(d,f,w),d=d.sibling;d!==null;)R1(d,f,w),d=d.sibling}function A1(d,f,w){var S=d.tag;if(S===5||S===6)d=d.stateNode,f?me(w,d,f):C(w,d);else if(S!==4&&(d=d.child,d!==null))for(A1(d,f,w),d=d.sibling;d!==null;)A1(d,f,w),d=d.sibling}var qn=null,Mi=!1;function oa(d,f,w){for(w=w.child;w!==null;)N1(d,f,w),w=w.sibling}function N1(d,f,w){if(ta&&typeof ta.onCommitFiberUnmount=="function")try{ta.onCommitFiberUnmount(Lf,w)}catch{}switch(w.tag){case 5:rr||Ml(w,f);case 6:if(dt){var S=qn,_=Mi;qn=null,oa(d,f,w),qn=S,Mi=_,qn!==null&&(Mi?ct(qn,w.stateNode):St(qn,w.stateNode))}else oa(d,f,w);break;case 18:dt&&qn!==null&&(Mi?wB(qn,w.stateNode):vB(qn,w.stateNode));break;case 4:dt?(S=qn,_=Mi,qn=w.stateNode.containerInfo,Mi=!0,oa(d,f,w),qn=S,Mi=_):(bn&&(S=w.stateNode.containerInfo,_=z_(S),Lv(S,_)),oa(d,f,w));break;case 0:case 11:case 14:case 15:if(!rr&&(S=w.updateQueue,S!==null&&(S=S.lastEffect,S!==null))){_=S=S.next;do{var A=_,G=A.destroy;A=A.tag,G!==void 0&&(A&2||A&4)&&I1(w,f,G),_=_.next}while(_!==S)}oa(d,f,w);break;case 1:if(!rr&&(Ml(w,f),S=w.stateNode,typeof S.componentWillUnmount=="function"))try{S.props=w.memoizedProps,S.state=w.memoizedState,S.componentWillUnmount()}catch(ae){sn(w,f,ae)}oa(d,f,w);break;case 21:oa(d,f,w);break;case 22:w.mode&1?(rr=(S=rr)||w.memoizedState!==null,oa(d,f,w),rr=S):oa(d,f,w);break;default:oa(d,f,w)}}function i3(d){var f=d.updateQueue;if(f!==null){d.updateQueue=null;var w=d.stateNode;w===null&&(w=d.stateNode=new ZB),f.forEach(function(S){var _=lz.bind(null,d,S);w.has(S)||(w.add(S),S.then(_,_))})}}function Li(d,f){var w=f.deletions;if(w!==null)for(var S=0;S<w.length;S++){var _=w[S];try{var A=d,G=f;if(dt){var ae=G;e:for(;ae!==null;){switch(ae.tag){case 5:qn=ae.stateNode,Mi=!1;break e;case 3:qn=ae.stateNode.containerInfo,Mi=!0;break e;case 4:qn=ae.stateNode.containerInfo,Mi=!0;break e}ae=ae.return}if(qn===null)throw Error(s(160));N1(A,G,_),qn=null,Mi=!1}else N1(A,G,_);var ye=_.alternate;ye!==null&&(ye.return=null),_.return=null}catch(Oe){sn(_,f,Oe)}}if(f.subtreeFlags&12854)for(f=f.child;f!==null;)a3(f,d),f=f.sibling}function a3(d,f){var w=d.alternate,S=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(Li(f,d),la(d),S&4){try{Fc(3,d,d.return),ap(3,d)}catch(je){sn(d,d.return,je)}try{Fc(5,d,d.return)}catch(je){sn(d,d.return,je)}}break;case 1:Li(f,d),la(d),S&512&&w!==null&&Ml(w,w.return);break;case 5:if(Li(f,d),la(d),S&512&&w!==null&&Ml(w,w.return),dt){if(d.flags&32){var _=d.stateNode;try{rt(_)}catch(je){sn(d,d.return,je)}}if(S&4&&(_=d.stateNode,_!=null)){var A=d.memoizedProps;if(w=w!==null?w.memoizedProps:A,S=d.type,f=d.updateQueue,d.updateQueue=null,f!==null)try{fe(_,f,S,w,A,d)}catch(je){sn(d,d.return,je)}}}break;case 6:if(Li(f,d),la(d),S&4&&dt){if(d.stateNode===null)throw Error(s(162));_=d.stateNode,A=d.memoizedProps,w=w!==null?w.memoizedProps:A;try{V(_,w,A)}catch(je){sn(d,d.return,je)}}break;case 3:if(Li(f,d),la(d),S&4){if(dt&&Ct&&w!==null&&w.memoizedState.isDehydrated)try{gB(f.containerInfo)}catch(je){sn(d,d.return,je)}if(bn){_=f.containerInfo,A=f.pendingChildren;try{Lv(_,A)}catch(je){sn(d,d.return,je)}}}break;case 4:if(Li(f,d),la(d),S&4&&bn){A=d.stateNode,_=A.containerInfo,A=A.pendingChildren;try{Lv(_,A)}catch(je){sn(d,d.return,je)}}break;case 13:Li(f,d),la(d),_=d.child,_.flags&8192&&(A=_.memoizedState!==null,_.stateNode.isHidden=A,!A||_.alternate!==null&&_.alternate.memoizedState!==null||(z1=zn())),S&4&&i3(d);break;case 22:var G=w!==null&&w.memoizedState!==null;if(d.mode&1?(rr=(w=rr)||G,Li(f,d),rr=w):Li(f,d),la(d),S&8192){if(w=d.memoizedState!==null,(d.stateNode.isHidden=w)&&!G&&d.mode&1)for(We=d,S=d.child;S!==null;){for(f=We=S;We!==null;){G=We;var ae=G.child;switch(G.tag){case 0:case 11:case 14:case 15:Fc(4,G,G.return);break;case 1:Ml(G,G.return);var ye=G.stateNode;if(typeof ye.componentWillUnmount=="function"){var Oe=G,qe=G.return;try{var lt=Oe;ye.props=lt.memoizedProps,ye.state=lt.memoizedState,ye.componentWillUnmount()}catch(je){sn(Oe,qe,je)}}break;case 5:Ml(G,G.return);break;case 22:if(G.memoizedState!==null){l3(f);continue}}ae!==null?(ae.return=G,We=ae):l3(f)}S=S.sibling}if(dt){e:if(S=null,dt)for(f=d;;){if(f.tag===5){if(S===null){S=f;try{_=f.stateNode,w?xt(_):Mv(f.stateNode,f.memoizedProps)}catch(je){sn(d,d.return,je)}}}else if(f.tag===6){if(S===null)try{A=f.stateNode,w?jr(A):Pf(A,f.memoizedProps)}catch(je){sn(d,d.return,je)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===d)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break e;for(;f.sibling===null;){if(f.return===null||f.return===d)break e;S===f&&(S=null),f=f.return}S===f&&(S=null),f.sibling.return=f.return,f=f.sibling}}}break;case 19:Li(f,d),la(d),S&4&&i3(d);break;case 21:break;default:Li(f,d),la(d)}}function la(d){var f=d.flags;if(f&2){try{if(dt){e:{for(var w=d.return;w!==null;){if(n3(w)){var S=w;break e}w=w.return}throw Error(s(160))}switch(S.tag){case 5:var _=S.stateNode;S.flags&32&&(rt(_),S.flags&=-33);var A=r3(d);A1(d,A,_);break;case 3:case 4:var G=S.stateNode.containerInfo,ae=r3(d);R1(d,ae,G);break;default:throw Error(s(161))}}}catch(ye){sn(d,d.return,ye)}d.flags&=-3}f&4096&&(d.flags&=-4097)}function ez(d,f,w){We=d,s3(d)}function s3(d,f,w){for(var S=(d.mode&1)!==0;We!==null;){var _=We,A=_.child;if(_.tag===22&&S){var G=_.memoizedState!==null||ip;if(!G){var ae=_.alternate,ye=ae!==null&&ae.memoizedState!==null||rr;ae=ip;var Oe=rr;if(ip=G,(rr=ye)&&!Oe)for(We=_;We!==null;)G=We,ye=G.child,G.tag===22&&G.memoizedState!==null?u3(_):ye!==null?(ye.return=G,We=ye):u3(_);for(;A!==null;)We=A,s3(A),A=A.sibling;We=_,ip=ae,rr=Oe}o3(d)}else _.subtreeFlags&8772&&A!==null?(A.return=_,We=A):o3(d)}}function o3(d){for(;We!==null;){var f=We;if(f.flags&8772){var w=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:rr||ap(5,f);break;case 1:var S=f.stateNode;if(f.flags&4&&!rr)if(w===null)S.componentDidMount();else{var _=f.elementType===f.type?w.memoizedProps:Oi(f.type,w.memoizedProps);S.componentDidUpdate(_,w.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var A=f.updateQueue;A!==null&&sT(f,A,S);break;case 3:var G=f.updateQueue;if(G!==null){if(w=null,f.child!==null)switch(f.child.tag){case 5:w=X(f.child.stateNode);break;case 1:w=f.child.stateNode}sT(f,G,w)}break;case 5:var ae=f.stateNode;w===null&&f.flags&4&&J(ae,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(Ct&&f.memoizedState===null){var ye=f.alternate;if(ye!==null){var Oe=ye.memoizedState;if(Oe!==null){var qe=Oe.dehydrated;qe!==null&&yB(qe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}rr||f.flags&512&&P1(f)}catch(lt){sn(f,f.return,lt)}}if(f===d){We=null;break}if(w=f.sibling,w!==null){w.return=f.return,We=w;break}We=f.return}}function l3(d){for(;We!==null;){var f=We;if(f===d){We=null;break}var w=f.sibling;if(w!==null){w.return=f.return,We=w;break}We=f.return}}function u3(d){for(;We!==null;){var f=We;try{switch(f.tag){case 0:case 11:case 15:var w=f.return;try{ap(4,f)}catch(ye){sn(f,w,ye)}break;case 1:var S=f.stateNode;if(typeof S.componentDidMount=="function"){var _=f.return;try{S.componentDidMount()}catch(ye){sn(f,_,ye)}}var A=f.return;try{P1(f)}catch(ye){sn(f,A,ye)}break;case 5:var G=f.return;try{P1(f)}catch(ye){sn(f,G,ye)}}}catch(ye){sn(f,f.return,ye)}if(f===d){We=null;break}var ae=f.sibling;if(ae!==null){ae.return=f.return,We=ae;break}We=f.return}}var sp=0,op=1,lp=2,up=3,cp=4;if(typeof Symbol=="function"&&Symbol.for){var Bc=Symbol.for;sp=Bc("selector.component"),op=Bc("selector.has_pseudo_class"),lp=Bc("selector.role"),up=Bc("selector.test_id"),cp=Bc("selector.text")}function D1(d){var f=L(d);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(s(364));return f}if(d=Ee(d),d===null)throw Error(s(362));return d.stateNode.current}function O1(d,f){switch(f.$$typeof){case sp:if(d.type===f.value)return!0;break;case op:e:{f=f.value,d=[d,0];for(var w=0;w<d.length;){var S=d[w++],_=d[w++],A=f[_];if(S.tag!==5||!ze(S)){for(;A!=null&&O1(S,A);)_++,A=f[_];if(_===f.length){f=!0;break e}else for(S=S.child;S!==null;)d.push(S,_),S=S.sibling}}f=!1}return f;case lp:if(d.tag===5&&Ie(d.stateNode,f.value))return!0;break;case cp:if((d.tag===5||d.tag===6)&&(d=Re(d),d!==null&&0<=d.indexOf(f.value)))return!0;break;case up:if(d.tag===5&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function M1(d){switch(d.$$typeof){case sp:return"<"+(N(d.value)||"Unknown")+">";case op:return":has("+(M1(d)||"")+")";case lp:return'[role="'+d.value+'"]';case cp:return'"'+d.value+'"';case up:return'[data-testname="'+d.value+'"]';default:throw Error(s(365))}}function c3(d,f){var w=[];d=[d,0];for(var S=0;S<d.length;){var _=d[S++],A=d[S++],G=f[A];if(_.tag!==5||!ze(_)){for(;G!=null&&O1(_,G);)A++,G=f[A];if(A===f.length)w.push(_);else for(_=_.child;_!==null;)d.push(_,A),_=_.sibling}}return w}function L1(d,f){if(!ke)throw Error(s(363));d=D1(d),d=c3(d,f),f=[],d=Array.from(d);for(var w=0;w<d.length;){var S=d[w++];if(S.tag===5)ze(S)||f.push(S.stateNode);else for(S=S.child;S!==null;)d.push(S),S=S.sibling}return f}var tz=Math.ceil,dp=o.ReactCurrentDispatcher,F1=o.ReactCurrentOwner,xn=o.ReactCurrentBatchConfig,mt=0,jn=null,Cn=null,Kn=0,Vr=0,Ll=ss(0),Dn=0,zc=null,go=0,hp=0,B1=0,Uc=null,Tr=null,z1=0,U1=1/0,Ma=null;function Fl(){U1=zn()+500}var fp=!1,j1=null,cs=null,pp=!1,ds=null,mp=0,jc=0,$1=null,gp=-1,yp=0;function ir(){return mt&6?zn():gp!==-1?gp:gp=zn()}function hs(d){return d.mode&1?mt&2&&Kn!==0?Kn&-Kn:FB.transition!==null?(yp===0&&(yp=q_()),yp):(d=It,d!==0?d:ve()):1}function hi(d,f,w,S){if(50<jc)throw jc=0,$1=null,Error(s(185));Cc(d,w,S),(!(mt&2)||d!==jn)&&(d===jn&&(!(mt&2)&&(hp|=w),Dn===4&&fs(d,Kn)),Ir(d,S),w===1&&mt===0&&!(f.mode&1)&&(Fl(),Ff&&na()))}function Ir(d,f){var w=d.callbackNode;IB(d,f);var S=Mf(d,d===jn?Kn:0);if(S===0)w!==null&&Y_(w),d.callbackNode=null,d.callbackPriority=0;else if(f=S&-S,d.callbackPriority!==f){if(w!=null&&Y_(w),f===1)d.tag===0?LB(h3.bind(null,d)):X_(h3.bind(null,d)),K?se(function(){!(mt&6)&&na()}):Gv(Hv,na),w=null;else{switch(K_(S)){case 1:w=Hv;break;case 4:w=NB;break;case 16:w=qv;break;case 536870912:w=DB;break;default:w=qv}w=x3(w,d3.bind(null,d))}d.callbackPriority=f,d.callbackNode=w}}function d3(d,f){if(gp=-1,yp=0,mt&6)throw Error(s(327));var w=d.callbackNode;if(wo()&&d.callbackNode!==w)return null;var S=Mf(d,d===jn?Kn:0);if(S===0)return null;if(S&30||S&d.expiredLanes||f)f=vp(d,S);else{f=S;var _=mt;mt|=2;var A=m3();(jn!==d||Kn!==f)&&(Ma=null,Fl(),yo(d,f));do try{iz();break}catch(ae){p3(d,ae)}while(1);t1(),dp.current=A,mt=_,Cn!==null?f=0:(jn=null,Kn=0,f=Dn)}if(f!==0){if(f===2&&(_=$v(d),_!==0&&(S=_,f=V1(d,_))),f===1)throw w=zc,yo(d,0),fs(d,S),Ir(d,zn()),w;if(f===6)fs(d,S);else{if(_=d.current.alternate,!(S&30)&&!nz(_)&&(f=vp(d,S),f===2&&(A=$v(d),A!==0&&(S=A,f=V1(d,A))),f===1))throw w=zc,yo(d,0),fs(d,S),Ir(d,zn()),w;switch(d.finishedWork=_,d.finishedLanes=S,f){case 0:case 1:throw Error(s(345));case 2:vo(d,Tr,Ma);break;case 3:if(fs(d,S),(S&130023424)===S&&(f=z1+500-zn(),10<f)){if(Mf(d,0)!==0)break;if(_=d.suspendedLanes,(_&S)!==S){ir(),d.pingedLanes|=d.suspendedLanes&_;break}d.timeoutHandle=pt(vo.bind(null,d,Tr,Ma),f);break}vo(d,Tr,Ma);break;case 4:if(fs(d,S),(S&4194240)===S)break;for(f=d.eventTimes,_=-1;0<S;){var G=31-Ai(S);A=1<<G,G=f[G],G>_&&(_=G),S&=~A}if(S=_,S=zn()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*tz(S/1960))-S,10<S){d.timeoutHandle=pt(vo.bind(null,d,Tr,Ma),S);break}vo(d,Tr,Ma);break;case 5:vo(d,Tr,Ma);break;default:throw Error(s(329))}}}return Ir(d,zn()),d.callbackNode===w?d3.bind(null,d):null}function V1(d,f){var w=Uc;return d.current.memoizedState.isDehydrated&&(yo(d,f).flags|=256),d=vp(d,f),d!==2&&(f=Tr,Tr=w,f!==null&&W1(f)),d}function W1(d){Tr===null?Tr=d:Tr.push.apply(Tr,d)}function nz(d){for(var f=d;;){if(f.flags&16384){var w=f.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var S=0;S<w.length;S++){var _=w[S],A=_.getSnapshot;_=_.value;try{if(!Ni(A(),_))return!1}catch{return!1}}}if(w=f.child,f.subtreeFlags&16384&&w!==null)w.return=f,f=w;else{if(f===d)break;for(;f.sibling===null;){if(f.return===null||f.return===d)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function fs(d,f){for(f&=~B1,f&=~hp,d.suspendedLanes|=f,d.pingedLanes&=~f,d=d.expirationTimes;0<f;){var w=31-Ai(f),S=1<<w;d[w]=-1,f&=~S}}function h3(d){if(mt&6)throw Error(s(327));wo();var f=Mf(d,0);if(!(f&1))return Ir(d,zn()),null;var w=vp(d,f);if(d.tag!==0&&w===2){var S=$v(d);S!==0&&(f=S,w=V1(d,S))}if(w===1)throw w=zc,yo(d,0),fs(d,f),Ir(d,zn()),w;if(w===6)throw Error(s(345));return d.finishedWork=d.current.alternate,d.finishedLanes=f,vo(d,Tr,Ma),Ir(d,zn()),null}function f3(d){ds!==null&&ds.tag===0&&!(mt&6)&&wo();var f=mt;mt|=1;var w=xn.transition,S=It;try{if(xn.transition=null,It=1,d)return d()}finally{It=S,xn.transition=w,mt=f,!(mt&6)&&na()}}function G1(){Vr=Ll.current,Zt(Ll)}function yo(d,f){d.finishedWork=null,d.finishedLanes=0;var w=d.timeoutHandle;if(w!==st&&(d.timeoutHandle=st,Je(w)),Cn!==null)for(w=Cn.return;w!==null;){var S=w;switch(Xv(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&Af();break;case 3:Dl(),Zt(Er),Zt(er),d1();break;case 5:u1(S);break;case 4:Dl();break;case 13:Zt(cn);break;case 19:Zt(cn);break;case 10:n1(S.type._context);break;case 22:case 23:G1()}w=w.return}if(jn=d,Cn=d=ps(d.current,null),Kn=Vr=f,Dn=0,zc=null,B1=hp=go=0,Tr=Uc=null,po!==null){for(f=0;f<po.length;f++)if(w=po[f],S=w.interleaved,S!==null){w.interleaved=null;var _=S.next,A=w.pending;if(A!==null){var G=A.next;A.next=_,S.next=G}w.pending=S}po=null}return d}function p3(d,f){do{var w=Cn;try{if(t1(),Yf.current=Jf,Xf){for(var S=dn.memoizedState;S!==null;){var _=S.queue;_!==null&&(_.pending=null),S=S.next}Xf=!1}if(mo=0,Un=Nn=dn=null,Rc=!1,Ac=0,F1.current=null,w===null||w.return===null){Dn=1,zc=f,Cn=null;break}e:{var A=d,G=w.return,ae=w,ye=f;if(f=Kn,ae.flags|=32768,ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var Oe=ye,qe=ae,lt=qe.tag;if(!(qe.mode&1)&&(lt===0||lt===11||lt===15)){var je=qe.alternate;je?(qe.updateQueue=je.updateQueue,qe.memoizedState=je.memoizedState,qe.lanes=je.lanes):(qe.updateQueue=null,qe.memoizedState=null)}var Jt=zT(G);if(Jt!==null){Jt.flags&=-257,UT(Jt,G,ae,A,f),Jt.mode&1&&BT(A,Oe,f),f=Jt,ye=Oe;var Gt=f.updateQueue;if(Gt===null){var Pr=new Set;Pr.add(ye),f.updateQueue=Pr}else Gt.add(ye);break e}else{if(!(f&1)){BT(A,Oe,f),H1();break e}ye=Error(s(426))}}else if(an&&ae.mode&1){var La=zT(G);if(La!==null){!(La.flags&65536)&&(La.flags|=256),UT(La,G,ae,A,f),Jv(Ol(ye,ae));break e}}A=ye=Ol(ye,ae),Dn!==4&&(Dn=2),Uc===null?Uc=[A]:Uc.push(A),A=G;do{switch(A.tag){case 3:A.flags|=65536,f&=-f,A.lanes|=f;var ge=LT(A,ye,f);aT(A,ge);break e;case 1:ae=ye;var ue=A.type,be=A.stateNode;if(!(A.flags&128)&&(typeof ue.getDerivedStateFromError=="function"||be!==null&&typeof be.componentDidCatch=="function"&&(cs===null||!cs.has(be)))){A.flags|=65536,f&=-f,A.lanes|=f;var $e=FT(A,ae,f);aT(A,$e);break e}}A=A.return}while(A!==null)}y3(w)}catch(et){f=et,Cn===w&&w!==null&&(Cn=w=w.return);continue}break}while(1)}function m3(){var d=dp.current;return dp.current=Jf,d===null?Jf:d}function H1(){(Dn===0||Dn===3||Dn===2)&&(Dn=4),jn===null||!(go&268435455)&&!(hp&268435455)||fs(jn,Kn)}function vp(d,f){var w=mt;mt|=2;var S=m3();(jn!==d||Kn!==f)&&(Ma=null,yo(d,f));do try{rz();break}catch(_){p3(d,_)}while(1);if(t1(),mt=w,dp.current=S,Cn!==null)throw Error(s(261));return jn=null,Kn=0,Dn}function rz(){for(;Cn!==null;)g3(Cn)}function iz(){for(;Cn!==null&&!RB();)g3(Cn)}function g3(d){var f=b3(d.alternate,d,Vr);d.memoizedProps=d.pendingProps,f===null?y3(d):Cn=f,F1.current=null}function y3(d){var f=d;do{var w=f.alternate;if(d=f.return,f.flags&32768){if(w=QB(w,f),w!==null){w.flags&=32767,Cn=w;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{Dn=6,Cn=null;return}}else if(w=XB(w,f,Vr),w!==null){Cn=w;return}if(f=f.sibling,f!==null){Cn=f;return}Cn=f=d}while(f!==null);Dn===0&&(Dn=5)}function vo(d,f,w){var S=It,_=xn.transition;try{xn.transition=null,It=1,az(d,f,w,S)}finally{xn.transition=_,It=S}return null}function az(d,f,w,S){do wo();while(ds!==null);if(mt&6)throw Error(s(327));w=d.finishedWork;var _=d.finishedLanes;if(w===null)return null;if(d.finishedWork=null,d.finishedLanes=0,w===d.current)throw Error(s(177));d.callbackNode=null,d.callbackPriority=0;var A=w.lanes|w.childLanes;if(PB(d,A),d===jn&&(Cn=jn=null,Kn=0),!(w.subtreeFlags&2064)&&!(w.flags&2064)||pp||(pp=!0,x3(qv,function(){return wo(),null})),A=(w.flags&15990)!==0,w.subtreeFlags&15990||A){A=xn.transition,xn.transition=null;var G=It;It=1;var ae=mt;mt|=4,F1.current=null,JB(d,w),a3(w,d),pe(d.containerInfo),d.current=w,ez(w),AB(),mt=ae,It=G,xn.transition=A}else d.current=w;if(pp&&(pp=!1,ds=d,mp=_),A=d.pendingLanes,A===0&&(cs=null),OB(w.stateNode),Ir(d,zn()),f!==null)for(S=d.onRecoverableError,w=0;w<f.length;w++)_=f[w],S(_.value,{componentStack:_.stack,digest:_.digest});if(fp)throw fp=!1,d=j1,j1=null,d;return mp&1&&d.tag!==0&&wo(),A=d.pendingLanes,A&1?d===$1?jc++:(jc=0,$1=d):jc=0,na(),null}function wo(){if(ds!==null){var d=K_(mp),f=xn.transition,w=It;try{if(xn.transition=null,It=16>d?16:d,ds===null)var S=!1;else{if(d=ds,ds=null,mp=0,mt&6)throw Error(s(331));var _=mt;for(mt|=4,We=d.current;We!==null;){var A=We,G=A.child;if(We.flags&16){var ae=A.deletions;if(ae!==null){for(var ye=0;ye<ae.length;ye++){var Oe=ae[ye];for(We=Oe;We!==null;){var qe=We;switch(qe.tag){case 0:case 11:case 15:Fc(8,qe,A)}var lt=qe.child;if(lt!==null)lt.return=qe,We=lt;else for(;We!==null;){qe=We;var je=qe.sibling,Jt=qe.return;if(t3(qe),qe===Oe){We=null;break}if(je!==null){je.return=Jt,We=je;break}We=Jt}}}var Gt=A.alternate;if(Gt!==null){var Pr=Gt.child;if(Pr!==null){Gt.child=null;do{var La=Pr.sibling;Pr.sibling=null,Pr=La}while(Pr!==null)}}We=A}}if(A.subtreeFlags&2064&&G!==null)G.return=A,We=G;else e:for(;We!==null;){if(A=We,A.flags&2048)switch(A.tag){case 0:case 11:case 15:Fc(9,A,A.return)}var ge=A.sibling;if(ge!==null){ge.return=A.return,We=ge;break e}We=A.return}}var ue=d.current;for(We=ue;We!==null;){G=We;var be=G.child;if(G.subtreeFlags&2064&&be!==null)be.return=G,We=be;else e:for(G=ue;We!==null;){if(ae=We,ae.flags&2048)try{switch(ae.tag){case 0:case 11:case 15:ap(9,ae)}}catch(et){sn(ae,ae.return,et)}if(ae===G){We=null;break e}var $e=ae.sibling;if($e!==null){$e.return=ae.return,We=$e;break e}We=ae.return}}if(mt=_,na(),ta&&typeof ta.onPostCommitFiberRoot=="function")try{ta.onPostCommitFiberRoot(Lf,d)}catch{}S=!0}return S}finally{It=w,xn.transition=f}}return!1}function v3(d,f,w){f=Ol(w,f),f=LT(d,f,1),d=us(d,f,1),f=ir(),d!==null&&(Cc(d,1,f),Ir(d,f))}function sn(d,f,w){if(d.tag===3)v3(d,d,w);else for(;f!==null;){if(f.tag===3){v3(f,d,w);break}else if(f.tag===1){var S=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(cs===null||!cs.has(S))){d=Ol(w,d),d=FT(f,d,1),f=us(f,d,1),d=ir(),f!==null&&(Cc(f,1,d),Ir(f,d));break}}f=f.return}}function sz(d,f,w){var S=d.pingCache;S!==null&&S.delete(f),f=ir(),d.pingedLanes|=d.suspendedLanes&w,jn===d&&(Kn&w)===w&&(Dn===4||Dn===3&&(Kn&130023424)===Kn&&500>zn()-z1?yo(d,0):B1|=w),Ir(d,f)}function w3(d,f){f===0&&(d.mode&1?(f=Of,Of<<=1,!(Of&130023424)&&(Of=4194304)):f=1);var w=ir();d=ra(d,f),d!==null&&(Cc(d,f,w),Ir(d,w))}function oz(d){var f=d.memoizedState,w=0;f!==null&&(w=f.retryLane),w3(d,w)}function lz(d,f){var w=0;switch(d.tag){case 13:var S=d.stateNode,_=d.memoizedState;_!==null&&(w=_.retryLane);break;case 19:S=d.stateNode;break;default:throw Error(s(314))}S!==null&&S.delete(f),w3(d,w)}var b3;b3=function(d,f,w){if(d!==null)if(d.memoizedProps!==f.pendingProps||Er.current)_r=!0;else{if(!(d.lanes&w)&&!(f.flags&128))return _r=!1,YB(d,f,w);_r=!!(d.flags&131072)}else _r=!1,an&&f.flags&1048576&&Q_(f,zf,f.index);switch(f.lanes=0,f.tag){case 2:var S=f.type;tp(d,f),d=f.pendingProps;var _=Cl(f,er.current);Rl(f,w),_=p1(null,f,S,d,_,w);var A=m1();return f.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,Cr(S)?(A=!0,Nf(f)):A=!1,f.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,a1(f),_.updater=Hf,f.stateNode=_,_._reactInternals=f,o1(f,S,d,w),f=S1(null,f,S,!0,A,w)):(f.tag=0,an&&A&&Yv(f),gr(null,f,_,w),f=f.child),f;case 16:S=f.elementType;e:{switch(tp(d,f),d=f.pendingProps,_=S._init,S=_(S._payload),f.type=S,_=f.tag=cz(S),d=Oi(S,d),_){case 0:f=k1(null,f,S,d,w);break e;case 1:f=HT(null,f,S,d,w);break e;case 11:f=jT(null,f,S,d,w);break e;case 14:f=$T(null,f,S,Oi(S.type,d),w);break e}throw Error(s(306,S,""))}return f;case 0:return S=f.type,_=f.pendingProps,_=f.elementType===S?_:Oi(S,_),k1(d,f,S,_,w);case 1:return S=f.type,_=f.pendingProps,_=f.elementType===S?_:Oi(S,_),HT(d,f,S,_,w);case 3:e:{if(qT(f),d===null)throw Error(s(387));S=f.pendingProps,A=f.memoizedState,_=A.element,iT(d,f),Gf(f,S,null,w);var G=f.memoizedState;if(S=G.element,Ct&&A.isDehydrated)if(A={element:S,isDehydrated:!1,cache:G.cache,pendingSuspenseBoundaries:G.pendingSuspenseBoundaries,transitions:G.transitions},f.updateQueue.baseState=A,f.memoizedState=A,f.flags&256){_=Ol(Error(s(423)),f),f=KT(d,f,S,w,_);break e}else if(S!==_){_=Ol(Error(s(424)),f),f=KT(d,f,S,w,_);break e}else for(Ct&&(li=cB(f.stateNode.containerInfo),$r=f,an=!0,Di=null,_c=!1),w=fT(f,null,S,w),f.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(Il(),S===_){f=Oa(d,f,w);break e}gr(d,f,S,w)}f=f.child}return f;case 5:return pT(f),d===null&&Zv(f),S=f.type,_=f.pendingProps,A=d!==null?d.memoizedProps:null,G=_.children,Te(S,_)?G=null:A!==null&&Te(S,A)&&(f.flags|=32),GT(d,f),gr(d,f,G,w),f.child;case 6:return d===null&&Zv(f),null;case 13:return YT(d,f,w);case 4:return l1(f,f.stateNode.containerInfo),S=f.pendingProps,d===null?f.child=Al(f,null,S,w):gr(d,f,S,w),f.child;case 11:return S=f.type,_=f.pendingProps,_=f.elementType===S?_:Oi(S,_),jT(d,f,S,_,w);case 7:return gr(d,f,f.pendingProps,w),f.child;case 8:return gr(d,f,f.pendingProps.children,w),f.child;case 12:return gr(d,f,f.pendingProps.children,w),f.child;case 10:e:{if(S=f.type._context,_=f.pendingProps,A=f.memoizedProps,G=_.value,nT(f,S,G),A!==null)if(Ni(A.value,G)){if(A.children===_.children&&!Er.current){f=Oa(d,f,w);break e}}else for(A=f.child,A!==null&&(A.return=f);A!==null;){var ae=A.dependencies;if(ae!==null){G=A.child;for(var ye=ae.firstContext;ye!==null;){if(ye.context===S){if(A.tag===1){ye=Da(-1,w&-w),ye.tag=2;var Oe=A.updateQueue;if(Oe!==null){Oe=Oe.shared;var qe=Oe.pending;qe===null?ye.next=ye:(ye.next=qe.next,qe.next=ye),Oe.pending=ye}}A.lanes|=w,ye=A.alternate,ye!==null&&(ye.lanes|=w),r1(A.return,w,f),ae.lanes|=w;break}ye=ye.next}}else if(A.tag===10)G=A.type===f.type?null:A.child;else if(A.tag===18){if(G=A.return,G===null)throw Error(s(341));G.lanes|=w,ae=G.alternate,ae!==null&&(ae.lanes|=w),r1(G,w,f),G=A.sibling}else G=A.child;if(G!==null)G.return=A;else for(G=A;G!==null;){if(G===f){G=null;break}if(A=G.sibling,A!==null){A.return=G.return,G=A;break}G=G.return}A=G}gr(d,f,_.children,w),f=f.child}return f;case 9:return _=f.type,S=f.pendingProps.children,Rl(f,w),_=ui(_),S=S(_),f.flags|=1,gr(d,f,S,w),f.child;case 14:return S=f.type,_=Oi(S,f.pendingProps),_=Oi(S.type,_),$T(d,f,S,_,w);case 15:return VT(d,f,f.type,f.pendingProps,w);case 17:return S=f.type,_=f.pendingProps,_=f.elementType===S?_:Oi(S,_),tp(d,f),f.tag=1,Cr(S)?(d=!0,Nf(f)):d=!1,Rl(f,w),uT(f,S,_),o1(f,S,_,w),S1(null,f,S,!0,d,w);case 19:return QT(d,f,w);case 22:return WT(d,f,w)}throw Error(s(156,f.tag))};function x3(d,f){return Gv(d,f)}function uz(d,f,w,S){this.tag=d,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fi(d,f,w,S){return new uz(d,f,w,S)}function q1(d){return d=d.prototype,!(!d||!d.isReactComponent)}function cz(d){if(typeof d=="function")return q1(d)?1:0;if(d!=null){if(d=d.$$typeof,d===y)return 11;if(d===x)return 14}return 2}function ps(d,f){var w=d.alternate;return w===null?(w=fi(d.tag,f,d.key,d.mode),w.elementType=d.elementType,w.type=d.type,w.stateNode=d.stateNode,w.alternate=d,d.alternate=w):(w.pendingProps=f,w.type=d.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=d.flags&14680064,w.childLanes=d.childLanes,w.lanes=d.lanes,w.child=d.child,w.memoizedProps=d.memoizedProps,w.memoizedState=d.memoizedState,w.updateQueue=d.updateQueue,f=d.dependencies,w.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},w.sibling=d.sibling,w.index=d.index,w.ref=d.ref,w}function wp(d,f,w,S,_,A){var G=2;if(S=d,typeof d=="function")q1(d)&&(G=1);else if(typeof d=="string")G=5;else e:switch(d){case c:return bo(w.children,_,A,f);case h:G=8,_|=8;break;case p:return d=fi(12,w,f,_|2),d.elementType=p,d.lanes=A,d;case b:return d=fi(13,w,f,_),d.elementType=b,d.lanes=A,d;case v:return d=fi(19,w,f,_),d.elementType=v,d.lanes=A,d;case T:return bp(w,_,A,f);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case m:G=10;break e;case g:G=9;break e;case y:G=11;break e;case x:G=14;break e;case k:G=16,S=null;break e}throw Error(s(130,d==null?d:typeof d,""))}return f=fi(G,w,f,_),f.elementType=d,f.type=S,f.lanes=A,f}function bo(d,f,w,S){return d=fi(7,d,S,f),d.lanes=w,d}function bp(d,f,w,S){return d=fi(22,d,S,f),d.elementType=T,d.lanes=w,d.stateNode={isHidden:!1},d}function K1(d,f,w){return d=fi(6,d,null,f),d.lanes=w,d}function Y1(d,f,w){return f=fi(4,d.children!==null?d.children:[],d.key,f),f.lanes=w,f.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},f}function dz(d,f,w,S,_){this.tag=f,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=st,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vv(0),this.expirationTimes=Vv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vv(0),this.identifierPrefix=S,this.onRecoverableError=_,Ct&&(this.mutableSourceEagerHydrationData=null)}function k3(d,f,w,S,_,A,G,ae,ye){return d=new dz(d,f,w,ae,ye),f===1?(f=1,A===!0&&(f|=8)):f=0,A=fi(3,null,null,f),d.current=A,A.stateNode=d,A.memoizedState={element:S,isDehydrated:w,cache:null,transitions:null,pendingSuspenseBoundaries:null},a1(A),d}function S3(d){if(!d)return os;d=d._reactInternals;e:{if(j(d)!==d||d.tag!==1)throw Error(s(170));var f=d;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(Cr(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(s(171))}if(d.tag===1){var w=d.type;if(Cr(w))return G_(d,w,f)}return f}function E3(d){var f=d._reactInternals;if(f===void 0)throw typeof d.render=="function"?Error(s(188)):(d=Object.keys(d).join(","),Error(s(268,d)));return d=z(f),d===null?null:d.stateNode}function C3(d,f){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var w=d.retryLane;d.retryLane=w!==0&&w<f?w:f}}function xp(d,f){C3(d,f),(d=d.alternate)&&C3(d,f)}function hz(d){return d=z(d),d===null?null:d.stateNode}function fz(){return null}return n.attemptContinuousHydration=function(d){if(d.tag===13){var f=ra(d,134217728);if(f!==null){var w=ir();hi(f,d,134217728,w)}xp(d,134217728)}},n.attemptDiscreteHydration=function(d){if(d.tag===13){var f=ra(d,1);if(f!==null){var w=ir();hi(f,d,1,w)}xp(d,1)}},n.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13){var f=hs(d),w=ra(d,f);if(w!==null){var S=ir();hi(w,d,f,S)}xp(d,f)}},n.attemptSynchronousHydration=function(d){switch(d.tag){case 3:var f=d.stateNode;if(f.current.memoizedState.isDehydrated){var w=Ec(f.pendingLanes);w!==0&&(Wv(f,w|1),Ir(f,zn()),!(mt&6)&&(Fl(),na()))}break;case 13:f3(function(){var S=ra(d,1);if(S!==null){var _=ir();hi(S,d,1,_)}}),xp(d,1)}},n.batchedUpdates=function(d,f){var w=mt;mt|=1;try{return d(f)}finally{mt=w,mt===0&&(Fl(),Ff&&na())}},n.createComponentSelector=function(d){return{$$typeof:sp,value:d}},n.createContainer=function(d,f,w,S,_,A,G){return k3(d,f,!1,null,w,S,_,A,G)},n.createHasPseudoClassSelector=function(d){return{$$typeof:op,value:d}},n.createHydrationContainer=function(d,f,w,S,_,A,G,ae,ye){return d=k3(w,S,!0,d,_,A,G,ae,ye),d.context=S3(null),w=d.current,S=ir(),_=hs(w),A=Da(S,_),A.callback=f??null,us(w,A,_),d.current.lanes=_,Cc(d,_,S),Ir(d,S),d},n.createPortal=function(d,f,w){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:S==null?null:""+S,children:d,containerInfo:f,implementation:w}},n.createRoleSelector=function(d){return{$$typeof:lp,value:d}},n.createTestNameSelector=function(d){return{$$typeof:up,value:d}},n.createTextSelector=function(d){return{$$typeof:cp,value:d}},n.deferredUpdates=function(d){var f=It,w=xn.transition;try{return xn.transition=null,It=16,d()}finally{It=f,xn.transition=w}},n.discreteUpdates=function(d,f,w,S,_){var A=It,G=xn.transition;try{return xn.transition=null,It=1,d(f,w,S,_)}finally{It=A,xn.transition=G,mt===0&&Fl()}},n.findAllNodes=L1,n.findBoundingRects=function(d,f){if(!ke)throw Error(s(363));f=L1(d,f),d=[];for(var w=0;w<f.length;w++)d.push(he(f[w]));for(f=d.length-1;0<f;f--){w=d[f];for(var S=w.x,_=S+w.width,A=w.y,G=A+w.height,ae=f-1;0<=ae;ae--)if(f!==ae){var ye=d[ae],Oe=ye.x,qe=Oe+ye.width,lt=ye.y,je=lt+ye.height;if(S>=Oe&&A>=lt&&_<=qe&&G<=je){d.splice(f,1);break}else if(S!==Oe||w.width!==ye.width||je<A||lt>G){if(!(A!==lt||w.height!==ye.height||qe<S||Oe>_)){Oe>S&&(ye.width+=Oe-S,ye.x=S),qe<_&&(ye.width=_-Oe),d.splice(f,1);break}}else{lt>A&&(ye.height+=lt-A,ye.y=A),je<G&&(ye.height=G-lt),d.splice(f,1);break}}}return d},n.findHostInstance=E3,n.findHostInstanceWithNoPortals=function(d){return d=H(d),d=d!==null?O(d):null,d===null?null:d.stateNode},n.findHostInstanceWithWarning=function(d){return E3(d)},n.flushControlled=function(d){var f=mt;mt|=1;var w=xn.transition,S=It;try{xn.transition=null,It=1,d()}finally{It=S,xn.transition=w,mt=f,mt===0&&(Fl(),na())}},n.flushPassiveEffects=wo,n.flushSync=f3,n.focusWithin=function(d,f){if(!ke)throw Error(s(363));for(d=D1(d),f=c3(d,f),f=Array.from(f),d=0;d<f.length;){var w=f[d++];if(!ze(w)){if(w.tag===5&&Ye(w.stateNode))return!0;for(w=w.child;w!==null;)f.push(w),w=w.sibling}}return!1},n.getCurrentUpdatePriority=function(){return It},n.getFindAllNodesFailureDescription=function(d,f){if(!ke)throw Error(s(363));var w=0,S=[];d=[D1(d),0];for(var _=0;_<d.length;){var A=d[_++],G=d[_++],ae=f[G];if((A.tag!==5||!ze(A))&&(O1(A,ae)&&(S.push(M1(ae)),G++,G>w&&(w=G)),G<f.length))for(A=A.child;A!==null;)d.push(A,G),A=A.sibling}if(w<f.length){for(d=[];w<f.length;w++)d.push(M1(f[w]));return`findAllNodes was able to match part of the selector:
  `+(S.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},n.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return X(d.child.stateNode);default:return d.child.stateNode}},n.injectIntoDevTools=function(d){if(d={bundleType:d.bundleType,version:d.version,rendererPackageName:d.rendererPackageName,rendererConfig:d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:hz,findFiberByHostInstance:d.findFiberByHostInstance||fz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)d=!0;else{try{Lf=f.inject(d),ta=f}catch{}d=!!f.checkDCE}}return d},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(d,f,w,S){if(!ke)throw Error(s(363));d=L1(d,f);var _=D(d,w,S).disconnect;return{disconnect:function(){_()}}},n.registerMutableSourceForHydration=function(d,f){var w=f._getVersion;w=w(f._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[f,w]:d.mutableSourceEagerHydrationData.push(f,w)},n.runWithPriority=function(d,f){var w=It;try{return It=d,f()}finally{It=w}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(d,f,w,S){var _=f.current,A=ir(),G=hs(_);return w=S3(w),f.context===null?f.context=w:f.pendingContext=w,f=Da(A,G),f.payload={element:d},S=S===void 0?null:S,S!==null&&(f.callback=S),d=us(_,f,G),d!==null&&(hi(d,_,G,A),Wf(d,_,G)),G},n};fM.exports=PG;var RG=fM.exports;const AG=Zi(RG);var pM={exports:{}},wl={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */wl.ConcurrentRoot=1;wl.ContinuousEventPriority=4;wl.DefaultEventPriority=16;wl.DiscreteEventPriority=1;wl.IdleEventPriority=536870912;wl.LegacyRoot=0;pM.exports=wl;var mM=pM.exports;const z5={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let U5=!1,j5=!1;const fC=".react-konva-event",NG=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,DG=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,OG={};function Ky(e,t,n=OG){if(!U5&&"zIndex"in t&&(console.warn(DG),U5=!0),!j5&&t.draggable){var r=t.x!==void 0||t.y!==void 0,i=t.onDragEnd||t.onDragMove;r&&!i&&(console.warn(NG),j5=!0)}for(var a in n)if(!z5[a]){var s=a.slice(0,2)==="on",o=n[a]!==t[a];if(s&&o){var l=a.substr(2).toLowerCase();l.substr(0,7)==="content"&&(l="content"+l.substr(7,1).toUpperCase()+l.substr(8)),e.off(l,n[a])}var u=!t.hasOwnProperty(a);u&&e.setAttr(a,void 0)}var c=t._useStrictMode,h={},p=!1;const m={};for(var a in t)if(!z5[a]){var s=a.slice(0,2)==="on",g=n[a]!==t[a];if(s&&g){var l=a.substr(2).toLowerCase();l.substr(0,7)==="content"&&(l="content"+l.substr(7,1).toUpperCase()+l.substr(8)),t[a]&&(m[l]=t[a])}!s&&(t[a]!==n[a]||c&&t[a]!==e.getAttr(a))&&(p=!0,h[a]=t[a])}p&&(e.setAttrs(h),oo(e));for(var l in m)e.on(l+fC,m[l])}function oo(e){if(!He.autoDrawEnabled){var t=e.getLayer()||e.getStage();t&&t.batchDraw()}}const gM={},MG={};ll.Node.prototype._applyProps=Ky;function LG(e,t){if(typeof t=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${t}`);return}e.add(t),oo(e)}function FG(e,t,n){let r=ll[e];r||(console.error(`Konva has no node with the type ${e}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${e}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),r=ll.Group);const i={},a={};for(var s in t){var o=s.slice(0,2)==="on";o?a[s]=t[s]:i[s]=t[s]}const l=new r(i);return Ky(l,a),l}function BG(e,t,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${e}"`)}function zG(e,t,n){return!1}function UG(e){return e}function jG(){return null}function $G(){return null}function VG(e,t,n,r){return MG}function WG(){}function GG(e){}function HG(e,t){return!1}function qG(){return gM}function KG(){return gM}const YG=setTimeout,XG=clearTimeout,QG=-1;function ZG(e,t){return!1}const JG=!1,eH=!0,tH=!0;function nH(e,t){t.parent===e?t.moveToTop():e.add(t),oo(e)}function rH(e,t){t.parent===e?t.moveToTop():e.add(t),oo(e)}function yM(e,t,n){t._remove(),e.add(t),t.setZIndex(n.getZIndex()),oo(e)}function iH(e,t,n){yM(e,t,n)}function aH(e,t){t.destroy(),t.off(fC),oo(e)}function sH(e,t){t.destroy(),t.off(fC),oo(e)}function oH(e,t,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function lH(e,t,n){}function uH(e,t,n,r,i){Ky(e,i,r)}function cH(e){e.hide(),oo(e)}function dH(e){}function hH(e,t){(t.visible==null||t.visible)&&e.show()}function fH(e,t){}function pH(e){}function mH(){}const gH=()=>mM.DefaultEventPriority,yH=Object.freeze(Object.defineProperty({__proto__:null,appendChild:nH,appendChildToContainer:rH,appendInitialChild:LG,cancelTimeout:XG,clearContainer:pH,commitMount:lH,commitTextUpdate:oH,commitUpdate:uH,createInstance:FG,createTextInstance:BG,detachDeletedInstance:mH,finalizeInitialChildren:zG,getChildHostContext:KG,getCurrentEventPriority:gH,getPublicInstance:UG,getRootHostContext:qG,hideInstance:cH,hideTextInstance:dH,idlePriority:Td.unstable_IdlePriority,insertBefore:yM,insertInContainerBefore:iH,isPrimaryRenderer:JG,noTimeout:QG,now:Td.unstable_now,prepareForCommit:jG,preparePortalMount:$G,prepareUpdate:VG,removeChild:aH,removeChildFromContainer:sH,resetAfterCommit:WG,resetTextContent:GG,run:Td.unstable_runWithPriority,scheduleTimeout:YG,shouldDeprioritizeSubtree:HG,shouldSetTextContent:ZG,supportsMutation:tH,unhideInstance:hH,unhideTextInstance:fH,warnsIfNotActing:eH},Symbol.toStringTag,{value:"Module"}));var vH=Object.defineProperty,wH=Object.defineProperties,bH=Object.getOwnPropertyDescriptors,$5=Object.getOwnPropertySymbols,xH=Object.prototype.hasOwnProperty,kH=Object.prototype.propertyIsEnumerable,V5=(e,t,n)=>t in e?vH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,W5=(e,t)=>{for(var n in t||(t={}))xH.call(t,n)&&V5(e,n,t[n]);if($5)for(var n of $5(t))kH.call(t,n)&&V5(e,n,t[n]);return e},SH=(e,t)=>wH(e,bH(t));function vM(e,t,n){if(!e)return;if(n(e)===!0)return e;let r=t?e.return:e.child;for(;r;){const i=vM(r,t,n);if(i)return i;r=t?null:r.sibling}}function wM(e){try{return Object.defineProperties(e,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return e}}const pC=wM(Y.createContext(null));class bM extends Y.Component{render(){return Y.createElement(pC.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:G5,ReactCurrentDispatcher:H5}=Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function EH(){const e=Y.useContext(pC);if(e===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=Y.useId();return Y.useMemo(()=>{for(const r of[G5?.current,e,e?.alternate]){if(!r)continue;const i=vM(r,!1,a=>{let s=a.memoizedState;for(;s;){if(s.memoizedState===t)return!0;s=s.next}});if(i)return i}},[e,t])}function CH(){var e,t;const n=EH(),[r]=Y.useState(()=>new Map);r.clear();let i=n;for(;i;){const a=(e=i.type)==null?void 0:e._context;a&&a!==pC&&!r.has(a)&&r.set(a,(t=H5?.current)==null?void 0:t.readContext(wM(a))),i=i.return}return r}function _H(){const e=CH();return Y.useMemo(()=>Array.from(e.keys()).reduce((t,n)=>r=>Y.createElement(t,null,Y.createElement(n.Provider,SH(W5({},r),{value:e.get(n)}))),t=>Y.createElement(bM,W5({},t))),[e])}function TH(e){const t=Ve.useRef();return Ve.useLayoutEffect(()=>{t.current=e}),t.current}const IH=e=>{const t=Ve.useRef(),n=Ve.useRef(),r=Ve.useRef(),i=TH(e),a=_H(),s=o=>{const{forwardedRef:l}=e;l&&(typeof l=="function"?l(o):l.current=o)};return Ve.useLayoutEffect(()=>(n.current=new ll.Stage({width:e.width,height:e.height,container:t.current}),s(n.current),r.current=Cd.createContainer(n.current,mM.LegacyRoot,!1,null),Cd.updateContainer(Ve.createElement(a,{},e.children),r.current),()=>{ll.isBrowser&&(s(null),Cd.updateContainer(null,r.current,null),n.current.destroy())}),[]),Ve.useLayoutEffect(()=>{s(n.current),Ky(n.current,e,i),Cd.updateContainer(Ve.createElement(a,{},e.children),r.current,null)}),Ve.createElement("div",{ref:t,accessKey:e.accessKey,className:e.className,role:e.role,style:e.style,tabIndex:e.tabIndex,title:e.title})},i0="Layer",PH="Group",a0="Rect",q5="Line",RH="Image",AH="Shape",NH="Transformer",Cd=AG(yH);Cd.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:Ve.version,rendererPackageName:"react-konva"});const DH=Ve.forwardRef((e,t)=>Ve.createElement(bM,{},Ve.createElement(IH,{...e,forwardedRef:t})));function xM(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function kM(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var jw=typeof window<"u",OH=["mousedown","touchstart"],MH=function(e,t,n){n===void 0&&(n=OH);var r=Y.useRef(t);Y.useEffect(function(){r.current=t},[t]),Y.useEffect(function(){for(var i=function(l){var u=e.current;u&&!u.contains(l.target)&&r.current(l)},a=0,s=n;a<s.length;a++){var o=s[a];xM(document,o,i)}return function(){for(var l=0,u=n;l<u.length;l++){var c=u[l];kM(document,c,i)}}},[n,e])};const Yy=MH;function LH(e,t){t===void 0&&(t=0);var n=Y.useRef(!1),r=Y.useRef(),i=Y.useRef(e),a=Y.useCallback(function(){return n.current},[]),s=Y.useCallback(function(){n.current=!1,r.current&&clearTimeout(r.current),r.current=setTimeout(function(){n.current=!0,i.current()},t)},[t]),o=Y.useCallback(function(){n.current=null,r.current&&clearTimeout(r.current)},[]);return Y.useEffect(function(){i.current=e},[e]),Y.useEffect(function(){return s(),o},[t]),[a,o,s]}function Ph(e,t,n){t===void 0&&(t=0),n===void 0&&(n=[]);var r=LH(e,t),i=r[0],a=r[1],s=r[2];return Y.useEffect(s,n),[i,a]}var FH=function(e){Y.useEffect(e,[])};const BH=FH;var zH=function(e){var t=Y.useRef(e);t.current=e,BH(function(){return function(){return t.current()}})};const UH=zH;var jH=function(e){var t=Y.useRef(0),n=Y.useState(e),r=n[0],i=n[1],a=Y.useCallback(function(s){cancelAnimationFrame(t.current),t.current=requestAnimationFrame(function(){i(s)})},[]);return UH(function(){cancelAnimationFrame(t.current)}),[r,a]};const $H=jH;var VH=function(e,t){e===void 0&&(e=1/0),t===void 0&&(t=1/0);var n=$H({width:jw?window.innerWidth:e,height:jw?window.innerHeight:t}),r=n[0],i=n[1];return Y.useEffect(function(){if(jw){var a=function(){i({width:window.innerWidth,height:window.innerHeight})};return xM(window,"resize",a),function(){kM(window,"resize",a)}}},[]),r};const SM=VH;function WH({variant:e,size:t=q.Common.Size.preset(),color:n=q.Common.Color.preset(),className:r,children:i}){const a=useMemo(()=>classes(n==="brand"&&"bg-brand-800",n==="zinc"&&(e==="outline"?"border border-zinc-700 bg-none":"bg-zinc-700")),[e,n]);return E("span",{className:classes("rounded",a,t==="sm"&&"py-0.25 rounded px-1.5 text-xs",t==="md"&&"px-2 py-0.5 text-sm",t==="lg"&&"px-2 py-0.5 text-sm",r),children:i})}function Ds(e){const t=useRef(null);useEffect(()=>{e.autoFocus&&t.current?.focus()},[e.autoFocus]);const n=Ds.useStates(e),r=Ds.useSizing(e),i=Ds.useColors(e),a=Ds.useIcons(e),s=Ds.useBadges(e),o=ne("button",{ref:t,style:e.style,onClick:e.disabled||e.loading?void 0:e.onClick,onDoubleClick:e.onDoubleClick,className:classes("group relative flex h-fit select-none flex-row items-center justify-center gap-1 whitespace-nowrap rounded align-middle font-light shadow-md duration-150",r,i,n,e.active&&"hover group-hover",e.className),children:[a.left,e.children,s.right,a.right]});return e.label?E(q.Tooltip,{content:e.label,placement:e.labelPlacement,children:o}):o}(e=>{e.useStates=({loading:t,disabled:n})=>useMemo(()=>t||n?"cursor-not-allowed opacity-50":"cursor-pointer opacity-100",[t,n]),e.useSizing=({size:t=q.Common.Size.preset(),fullWidth:n,children:r})=>useMemo(()=>classes("w-fit",n&&"w-full",t==="sm"&&classes("px-2.5 py-1 text-sm",!r&&"px-1"),t==="md"&&classes("px-3 py-1 text-base",!r&&"px-1"),(t==="lg"||t==="xl")&&classes("px-4 py-2 text-base",!r&&"px-2")),[n,t,r]),e.useColors=({color:t=q.Common.Color.preset(),outline:n,transparent:r,translucent:i})=>useMemo(()=>classes({brand:"bg-brand-500 shadow-brand-500-md dark:shadow-none dark:bg-brand-600 dark:hover:bg-brand-500 border-brand-500 dark:border-brand-600",indigo:"text-white bg-brand-500 shadow-brand-500-md dark:shadow-none dark:bg-brand-600",red:"bg-red-600 hover:bg-red-700 active:bg-red-800",green:"bg-green-600 hover:bg-green-700 active:bg-green-800",yellow:"bg-yellow-600 hover:bg-yellow-700 active:bg-yellow-800",zinc:"shadow-black/5 bg-zinc-200 dark:shadow-none dark:text-white/80 dark:hover:text-white dark:bg-zinc-800 dark:hover:bg-zinc-700 border-zinc-800 dark:border-zinc-700",darkerZinc:"bg-zinc-900 border border-zinc-700 hover:border-zinc-300 duration-100 transition text-white",outline:"shadow-none dark:text-white text-black border border-transparent hover:border-zinc-700 focus:border-brand-500 active:bg-brand-500 active:text-white active:border-brand-500"}[n?"outline":t],n&&"dark:hover:bg-zinc-700",r&&"bg-transparent hover:bg-transparent dark:bg-transparent dark:hover:bg-transparent shadow-none",i&&"dark:bg-opacity-60 dark:hover:bg-opacity-80"),[t,n,r,i]),e.useIcons=({icon:t,iconLeft:n=t,iconRight:r,size:i=q.Common.Size.preset(),loading:a,children:s})=>useMemo(()=>{const o=(l,u)=>{const c=classes("opacity-75 duration-100 group-hover:opacity-100 shrink",i==="sm"&&"h-5 w-5",i==="md"&&"h-6 w-6 p-px origin-center",i==="lg"&&"h-6 w-6",u==="left"&&"mr-1 -ml-1",u==="right"&&"ml-1 -mr-1",s?"p-0.5":"mx-0");return a?E(q.Loading.Spinner,{className:c}):l?typeof l=="function"?l({className:c,strokeWidth:2.2}):typeof l!="object"||React.isValidElement(l)?l:null:null};return{left:(a||n)&&o(n,"left"),right:r&&o(r,"right")}},[n,r,i,a,s]),e.useBadges=({badgeRight:t,size:n,fullWidth:r})=>useMemo(()=>{const a=((s,o)=>{const l=classes(o==="right"&&!r&&"ml-1 -mr-1");return s?typeof s=="function"?s({size:n,className:l}):typeof s!="object"||React.isValidElement(s)?s:null:null})(t,"right");return{right:a&&!r?a:E("div",{className:"absolute right-2 top-0 bottom-0 flex items-center justify-center",children:a})}},[t,n,r])})(Ds||(Ds={}));function GH(e){const t=E(it,{children:e.label&&E("div",{className:classes("text-muted-white select-none text-base",e.size==="sm"&&"text-sm",e.size==="lg"&&"text-lg",e.labelClassName),children:e.label})});return ne("div",{onClick:()=>e.onChange(!e.value),className:classes("flex w-fit cursor-pointer items-center gap-2",e.left&&"flex-row",e.right&&"flex-row-reverse",e.disabled&&"cursor-not-allowed",!e.left&&!e.right&&"flex-row",e.className),children:[e.labelLeft&&t,E("div",{tabIndex:0,onKeyUp:n=>{n.key===" "&&n.target===n.currentTarget&&e.onChange(!e.value)},className:classes("flex shrink-0 items-center justify-center rounded border-none border-black/5 dark:border",(!e.variant||e.variant==="indigo")&&e.value&&"bg-brand-500 dark:bg-brand-600",e.variant==="red"&&e.value&&"bg-red-600",e.variant==="green"&&e.value&&"bg-green-600",e.variant==="yellow"&&e.value&&"bg-yellow-600",e.variant==="gray"&&e.value&&"bg-zinc-600",!e.value&&"bg-black/10 dark:bg-zinc-700",e.size==="sm"?"h-4 w-4":e.size==="lg"?"h-6 w-6":"h-5 w-5"),children:e.value&&E(q.Icon.Check,{color:"white",size:e.size==="sm"?12:e.size==="md"?16:20})}),!e.labelLeft&&t]})}const EM=e=>`/stablestudio/${e.startsWith("/")?e.slice(1):e}`;function HH({size:e=q.Common.Size.preset(),className:t}){return E("div",{style:{backgroundImage:`url('${EM("/Checkers.png")}')`,...e==="sm"&&{backgroundSize:"6px 6px"}},className:classes("absolute left-0 top-0 h-full w-full bg-black bg-local bg-center bg-repeat",t),children:E("div",{className:"h-full w-full bg-zinc-800/90"})})}var y2;(e=>{(t=>{t.preset=()=>"md"})(e.Size||(e.Size={})),(t=>{t.preset=()=>"zinc"})(e.Color||(e.Color={}))})(y2||(y2={}));function v2({variant:e="horizontal",children:t,className:n,lineClassName:r}){const i=E("div",{className:classes("bg-muted-white-extra grow",e==="horizontal"&&"h-[1px]",e==="vertical"&&"w-[1px]",r)});return ne("div",{className:classes("flex select-none items-center justify-center",e==="horizontal"&&"w-full flex-row",e==="vertical"&&"min-h-full flex-col",!!t&&"-mb-2",n),children:[i,t&&E("div",{className:"text-muted-white mx-2 flex items-center justify-center",children:t}),t&&i]})}(e=>{function t(){return E("span",{className:"text-muted-white",children:"/"})}e.Inline=t})(v2||(v2={}));function qH({value:e,onChange:t,title:n,placeholder:r="Select Option...",size:i=q.Common.Size.preset(),transparent:a,fullWidth:s,className:o,...l}){const u=useMemo(()=>classes(i==="sm"&&"px-2.5 py-1 text-sm",i==="md"&&"px-2 py-1.5 text-base",i==="lg"&&"px-4 py-1 text-lg"),[i]),[c,h]=useState(!1),p=useRef(null),m=useRef(null);return useLayoutEffect(()=>{m.current&&p.current&&!s&&(m.current.style.width=`${p.current.getBoundingClientRect().width+16}px`)},[s]),Yy(m,()=>h(!1)),ne("div",{ref:m,className:classes("group relative cursor-pointer rounded duration-150",s&&"w-[calc(100% + 0.5rem)] -mx-2",o),children:[E("div",{className:classes("pointer-events-none absolute inset-0 rounded border duration-150",a?"border-transparent bg-transparent":c?"border-transparent bg-zinc-700/50":"border-zinc-800 group-hover:border-zinc-700")}),ne("select",{ref:p,className:classes("inline-block w-full cursor-pointer appearance-none rounded bg-zinc-900 focus:outline-none",a&&"bg-transparent",u,l.innerClassName),value:e,onChange:g=>{const y=l.options?.find(b=>b.value===g.target.value);y&&t?.(y),h(!1)},onMouseDown:()=>h(!c),disabled:l.disabled,placeholder:r,children:[n&&E("option",{value:"",disabled:!0,children:n}),l.options?.map(g=>E("option",{value:g.value,disabled:g.disabled,children:g.label},g.value))]}),E("div",{className:"pointer-events-none absolute top-0 right-1 inline-block h-full",children:E("div",{className:"flex h-full w-full items-center justify-center",children:c?E(q.Icon.ChevronUp,{className:"h-6 w-6"}):E(q.Icon.ChevronDown,{className:"h-6 w-6"})})})]})}var KH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const YH=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ke=(e,t)=>{const n=Y.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,children:s,...o},l)=>Y.createElement("svg",{ref:l,...KH,width:i,height:i,stroke:r,strokeWidth:a,className:`lucide lucide-${YH(e)}`,...o},[...t.map(([u,c])=>Y.createElement(u,c)),...(Array.isArray(s)?s:[s])||[]]));return n.displayName=`${e}`,n},XH=Ke("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",y1:"8",x2:"12",y2:"12",key:"1grbh0"}],["line",{x1:"12",y1:"16",x2:"12.01",y2:"16",key:"1w440g"}]]),QH=Ke("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["line",{x1:"12",y1:"9",x2:"12",y2:"13",key:"mb7vjk"}],["line",{x1:"12",y1:"17",x2:"12.01",y2:"17",key:"kdstpg"}]]),ZH=Ke("ArrowLeftCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 8 8 12 12 16",key:"bz1698"}],["line",{x1:"16",y1:"12",x2:"8",y2:"12",key:"i2qu8k"}]]),JH=Ke("Brush",[["path",{d:"m9.06 11.9 8.07-8.06a2.85 2.85 0 1 1 4.03 4.03l-8.06 8.08",key:"1styjt"}],["path",{d:"M7.07 14.94c-1.66 0-3 1.35-3 3.02 0 1.33-2.5 1.52-2 2.02 1.08 1.1 2.49 2.02 4 2.02 2.2 0 4-1.8 4-4.04a3.01 3.01 0 0 0-3-3.02z",key:"z0l1mu"}]]),eq=Ke("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),tq=Ke("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),nq=Ke("ChevronDown",[["polyline",{points:"6 9 12 15 18 9",key:"1do0m2"}]]),rq=Ke("ChevronLeft",[["polyline",{points:"15 18 9 12 15 6",key:"kvxz59"}]]),iq=Ke("ChevronRight",[["polyline",{points:"9 18 15 12 9 6",key:"1rtp27"}]]),aq=Ke("ChevronUp",[["polyline",{points:"18 15 12 9 6 15",key:"1uugdp"}]]),sq=Ke("ChevronsDownUp",[["path",{d:"m7 20 5-5 5 5",key:"13a0gw"}],["path",{d:"m7 4 5 5 5-5",key:"1kwcof"}]]),oq=Ke("ChevronsLeftRight",[["path",{d:"m9 7-5 5 5 5",key:"j5w590"}],["path",{d:"m15 7 5 5-5 5",key:"1bl6da"}]]),lq=Ke("Clapperboard",[["path",{d:"M4 11v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8H4Z",key:"1hxvyx"}],["path",{d:"m4 11-.88-2.87a2 2 0 0 1 1.33-2.5l11.48-3.5a2 2 0 0 1 2.5 1.32l.87 2.87L4 11.01Z",key:"1vz1k2"}],["path",{d:"m6.6 4.99 3.38 4.2",key:"192ida"}],["path",{d:"m11.86 3.38 3.38 4.2",key:"hhucvz"}]]),uq=Ke("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]),cq=Ke("Copy",[["rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2",key:"1ma1o8"}],["path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1",key:"pklvoz"}]]),dq=Ke("Dices",[["rect",{x:"2",y:"10",width:"12",height:"12",rx:"2",ry:"2",key:"73wp2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]]),K5=Ke("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",y1:"15",x2:"12",y2:"3",key:"nqo27w"}]]),hq=Ke("Edit",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z",key:"1cs3r3"}]]),fq=Ke("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]),pq=Ke("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",y1:"14",x2:"21",y2:"3",key:"19d9un"}]]),mq=Ke("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",y1:"2",x2:"22",y2:"22",key:"1w4vcy"}]]),gq=Ke("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),yq=Ke("Focus",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]),vq=Ke("Folders",[["path",{d:"M8 17h12a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3.93a2 2 0 0 1-1.66-.9l-.82-1.2a2 2 0 0 0-1.66-.9H8a2 2 0 0 0-2 2v9c0 1.1.9 2 2 2Z",key:"1aska4"}],["path",{d:"M2 8v11c0 1.1.9 2 2 2h14",key:"n13cji"}]]),wq=Ke("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v0",key:"aigmz7"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v2",key:"1n6bmn"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v8",key:"a9iiix"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]),bq=Ke("History",[["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3.05 13A9 9 0 1 0 6 5.3L3 8",key:"1xoms2"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),xq=Ke("ImagePlus",[["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7",key:"31hg93"}],["line",{x1:"16",y1:"5",x2:"22",y2:"5",key:"c5ve4s"}],["line",{x1:"19",y1:"2",x2:"19",y2:"8",key:"12oc9j"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),kq=Ke("Image",[["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2",key:"maln0c"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Sq=Ke("Import",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m8 11 4 4 4-4",key:"1dohi6"}],["path",{d:"M8 5H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-4",key:"1ywtjm"}]]),Eq=Ke("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",y1:"16",x2:"12",y2:"12",key:"dkqlv3"}],["line",{x1:"12",y1:"8",x2:"12.01",y2:"8",key:"1kl4hv"}]]),Cq=Ke("Keyboard",[["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",ry:"2",key:"xgg3gf"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]),_q=Ke("Layers",[["polygon",{points:"12 2 2 7 12 12 22 7 12 2",key:"1b0ttc"}],["polyline",{points:"2 17 12 22 22 17",key:"imjtdl"}],["polyline",{points:"2 12 12 17 22 12",key:"5dexcv"}]]),Tq=Ke("LocateFixed",[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Iq=Ke("Locate",[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}]]),Pq=Ke("Lock",[["rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2",key:"biyj2e"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Rq=Ke("Minus",[["line",{x1:"5",y1:"12",x2:"19",y2:"12",key:"1smlys"}]]),Aq=Ke("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),Nq=Ke("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),Dq=Ke("MousePointer2",[["path",{d:"m4 4 7.07 17 2.51-7.39L21 11.07z",key:"1vqm48"}]]),Oq=Ke("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),Mq=Ke("Pencil",[["line",{x1:"18",y1:"2",x2:"22",y2:"6",key:"1k5sg2"}],["path",{d:"M7.5 20.5 19 9l-4-4L3.5 16.5 2 22z",key:"12iwkt"}]]),Lq=Ke("Plus",[["line",{x1:"12",y1:"5",x2:"12",y2:"19",key:"myz83a"}],["line",{x1:"5",y1:"12",x2:"19",y2:"12",key:"1smlys"}]]),Fq=Ke("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]),Bq=Ke("RefreshCw",[["path",{d:"M21 2v6h-6",key:"1lwg0q"}],["path",{d:"M3 12a9 9 0 0 1 15-6.7L21 8",key:"vaktt2"}],["path",{d:"M3 22v-6h6",key:"6llvyv"}],["path",{d:"M21 12a9 9 0 0 1-15 6.7L3 16",key:"i52hsp"}]]),zq=Ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65",key:"1p50m8"}]]),Uq=Ke("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),jq=Ke("SidebarClose",[["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2",key:"maln0c"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]),$q=Ke("SidebarOpen",[["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2",key:"maln0c"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]]),Vq=Ke("Sidebar",[["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2",key:"maln0c"}],["line",{x1:"9",y1:"3",x2:"9",y2:"21",key:"nvcl17"}]]),Wq=Ke("Slash",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"4.93",y1:"4.93",x2:"19.07",y2:"19.07",key:"bqqkff"}]]),Gq=Ke("Sliders",[["line",{x1:"4",y1:"21",x2:"4",y2:"14",key:"2cpl65"}],["line",{x1:"4",y1:"10",x2:"4",y2:"3",key:"1b26kg"}],["line",{x1:"12",y1:"21",x2:"12",y2:"12",key:"fxobwr"}],["line",{x1:"12",y1:"8",x2:"12",y2:"3",key:"bkspcw"}],["line",{x1:"20",y1:"21",x2:"20",y2:"16",key:"b7lt1r"}],["line",{x1:"20",y1:"12",x2:"20",y2:"3",key:"inamez"}],["line",{x1:"2",y1:"14",x2:"6",y2:"14",key:"tezuxb"}],["line",{x1:"10",y1:"8",x2:"14",y2:"8",key:"1w8tme"}],["line",{x1:"18",y1:"16",x2:"22",y2:"16",key:"1gnq8h"}]]),Hq=Ke("Sprout",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]]),qq=Ke("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Kq=Ke("TimerReset",[["path",{d:"M10 2h4",key:"n1abiw"}],["path",{d:"M12 14v-4",key:"1evpnu"}],["path",{d:"M4 13a8 8 0 0 1 8-7 8 8 0 1 1-5.3 14L4 17.6",key:"1ts96g"}],["path",{d:"M9 17H4v5",key:"8t5av"}]]),Yq=Ke("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),Xq=Ke("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]),Qq=Ke("Unlock",[["rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2",key:"biyj2e"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),Zq=Ke("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",y1:"3",x2:"12",y2:"15",key:"wktxj0"}]]),Jq=Ke("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),eK=Ke("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),tK=Ke("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),nK=Ke("X",[["line",{x1:"18",y1:"6",x2:"6",y2:"18",key:"1o5bob"}],["line",{x1:"6",y1:"6",x2:"18",y2:"18",key:"z4dcbv"}]]),rK=Ke("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65",key:"1p50m8"}],["line",{x1:"11",y1:"8",x2:"11",y2:"14",key:"jw7mvq"}],["line",{x1:"8",y1:"11",x2:"14",y2:"11",key:"1nivud"}]]),iK=Ke("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65",key:"1p50m8"}],["line",{x1:"8",y1:"11",x2:"14",y2:"11",key:"1nivud"}]]);function aK(e){return mr(e)(({width:t,height:n,color:r,...i})=>E("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:t,height:n,fill:r,...i,children:E("path",{d:"M 8 3 C 5.239 3 3 5.239 3 8 L 3 16 C 3 18.761 5.239 21 8 21 L 16 21 C 18.761 21 21 18.761 21 16 L 21 8 C 21 5.239 18.761 3 16 3 L 8 3 z M 18 5 C 18.552 5 19 5.448 19 6 C 19 6.552 18.552 7 18 7 C 17.448 7 17 6.552 17 6 C 17 5.448 17.448 5 18 5 z M 12 7 C 14.761 7 17 9.239 17 12 C 17 14.761 14.761 17 12 17 C 9.239 17 7 14.761 7 12 C 7 9.239 9.239 7 12 7 z M 12 9 A 3 3 0 0 0 9 12 A 3 3 0 0 0 12 15 A 3 3 0 0 0 15 12 A 3 3 0 0 0 12 9 z"})}))}function sK(e){return mr(e)(({width:t,height:n,color:r,...i})=>E("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:t,height:n,fill:r,...i,children:E("path",{d:"M22,3.999c-0.78,0.463-2.345,1.094-3.265,1.276c-0.027,0.007-0.049,0.016-0.075,0.023c-0.813-0.802-1.927-1.299-3.16-1.299 c-2.485,0-4.5,2.015-4.5,4.5c0,0.131-0.011,0.372,0,0.5c-3.353,0-5.905-1.756-7.735-4c-0.199,0.5-0.286,1.29-0.286,2.032 c0,1.401,1.095,2.777,2.8,3.63c-0.314,0.081-0.66,0.139-1.02,0.139c-0.581,0-1.196-0.153-1.759-0.617c0,0.017,0,0.033,0,0.051 c0,1.958,2.078,3.291,3.926,3.662c-0.375,0.221-1.131,0.243-1.5,0.243c-0.26,0-1.18-0.119-1.426-0.165 c0.514,1.605,2.368,2.507,4.135,2.539c-1.382,1.084-2.341,1.486-5.171,1.486H2C3.788,19.145,6.065,20,8.347,20 C15.777,20,20,14.337,20,8.999c0-0.086-0.002-0.266-0.005-0.447C19.995,8.534,20,8.517,20,8.499c0-0.027-0.008-0.053-0.008-0.08 c-0.003-0.136-0.006-0.263-0.009-0.329c0.79-0.57,1.475-1.281,2.017-2.091c-0.725,0.322-1.503,0.538-2.32,0.636 C20.514,6.135,21.699,4.943,22,3.999z"})}))}function oK(e){return mr(e)(({width:t,height:n,color:r,...i})=>E("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:t,height:n,fill:r,...i,children:E("path",{d:"M19.952,5.672c-1.904-1.531-4.916-1.79-5.044-1.801c-0.201-0.017-0.392,0.097-0.474,0.281 c-0.006,0.012-0.072,0.163-0.145,0.398c1.259,0.212,2.806,0.64,4.206,1.509c0.224,0.139,0.293,0.434,0.154,0.659 c-0.09,0.146-0.247,0.226-0.407,0.226c-0.086,0-0.173-0.023-0.252-0.072C15.584,5.38,12.578,5.305,12,5.305S8.415,5.38,6.011,6.872 c-0.225,0.14-0.519,0.07-0.659-0.154c-0.14-0.225-0.07-0.519,0.154-0.659c1.4-0.868,2.946-1.297,4.206-1.509 c-0.074-0.236-0.14-0.386-0.145-0.398C9.484,3.968,9.294,3.852,9.092,3.872c-0.127,0.01-3.139,0.269-5.069,1.822 C3.015,6.625,1,12.073,1,16.783c0,0.083,0.022,0.165,0.063,0.237c1.391,2.443,5.185,3.083,6.05,3.111c0.005,0,0.01,0,0.015,0 c0.153,0,0.297-0.073,0.387-0.197l0.875-1.202c-2.359-0.61-3.564-1.645-3.634-1.706c-0.198-0.175-0.217-0.477-0.042-0.675 c0.175-0.198,0.476-0.217,0.674-0.043c0.029,0.026,2.248,1.909,6.612,1.909c4.372,0,6.591-1.891,6.613-1.91 c0.198-0.172,0.5-0.154,0.674,0.045c0.174,0.198,0.155,0.499-0.042,0.673c-0.07,0.062-1.275,1.096-3.634,1.706l0.875,1.202 c0.09,0.124,0.234,0.197,0.387,0.197c0.005,0,0.01,0,0.015,0c0.865-0.027,4.659-0.667,6.05-3.111 C22.978,16.947,23,16.866,23,16.783C23,12.073,20.985,6.625,19.952,5.672z M8.891,14.87c-0.924,0-1.674-0.857-1.674-1.913 s0.749-1.913,1.674-1.913s1.674,0.857,1.674,1.913S9.816,14.87,8.891,14.87z M15.109,14.87c-0.924,0-1.674-0.857-1.674-1.913 s0.749-1.913,1.674-1.913c0.924,0,1.674,0.857,1.674,1.913S16.033,14.87,15.109,14.87z"})}))}function lK(e){return mr(e)(({width:t,height:n,color:r,...i})=>E("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 225.000000 225.000000",width:t,height:n,...i,children:E("g",{transform:"translate(0.000000,225.000000) scale(0.100000,-0.100000)",fill:"none",stroke:"none",children:E("path",{fill:r,d:"M0 1125 l0 -1125 1125 0 1125 0 0 1125 0 1125 -1125 0 -1125 0 0 -1125z m994 316 c61 -30 85 -78 86 -168 l0 -63 -105 0 -105 0 0 25 c0 15 -10 31 -26 42 -23 14 -53 17 -198 18 -196 0 -217 -6 -235 -72 -14 -51 -13 -209 2 -253 18 -53 57 -62 260 -58 163 3 169 4 188 27 10 13 19 36 19 52 l0 30 108 -3 107 -3 -2 -78 c-2 -97 -21 -133 -85 -165 -61 -31 -248 -43 -496 -32 -162 7 -188 11 -230 32 -28 14 -54 36 -66 56 -32 56 -42 308 -20 490 4 28 16 55 35 77 56 63 125 74 464 72 242 -2 252 -3 299 -26z m940 14 c121 -21 159 -60 172 -172 l7 -63 -102 0 c-55 0 -104 -1 -108 -2 -5 -2 -9 9 -11 25 -5 45 -30 51 -237 51 -214 1 -247 -6 -264 -56 -14 -41 -14 -236 0 -277 6 -17 19 -36 29 -41 11 -6 112 -10 231 -10 238 0 249 3 249 67 l0 33 -145 0 -145 0 0 70 0 70 250 0 250 0 -1 -92 c-2 -198 -18 -244 -101 -286 -41 -20 -69 -24 -215 -32 -92 -4 -239 -4 -326 0 -235 12 -276 38 -298 196 -13 93 -6 343 12 394 41 119 100 137 464 138 141 1 236 -3 289 -13z"})})}))}function uK(e){return mr(e)(({width:t,height:n,color:r,...i})=>E("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:t,height:n,...i,children:E("path",{fill:r,d:"M2.141 34l3.771 6.519.001.001C6.656 41.991 8.18 43 9.94 43l.003 0 0 0h25.03l-5.194-9H2.141zM45.859 34.341c0-.872-.257-1.683-.697-2.364L30.977 7.319C30.245 5.94 28.794 5 27.124 5h-7.496l21.91 37.962 3.454-5.982C45.673 35.835 45.859 35.328 45.859 34.341zM25.838 28L16.045 11.038 6.252 28z"})}))}function cK({width:e,height:t,color:n,...r}){return ne("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:e,height:t,fill:n,...r,children:[E("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),E("path",{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"})]})}function dK(e){return mr(e)(({width:t,height:n,color:r,...i})=>E("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:t,height:n,fill:r,...i,children:E("path",{d:"M13.5 1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5zm-8.5 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm11 5.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z"})}))}function hK(e){return mr(e)(({width:t,height:n,color:r,...i})=>ne("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:t,height:n,fill:r,...i,children:[E("path",{d:"M0 3.5A1.5 1.5 0 0 1 1.5 2h13A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 12.5v-9zM1.5 3a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-13z"}),E("path",{d:"M2 4.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1H3v2.5a.5.5 0 0 1-1 0v-3zm12 7a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1 0-1H13V8.5a.5.5 0 0 1 1 0v3z"})]}))}function fK(e){return mr(e)(({width:t,height:n,color:r,...i})=>ne("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:t,height:n,fill:r,...i,children:[E("path",{d:"M6 12.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5ZM3 8.062C3 6.76 4.235 5.765 5.53 5.886a26.58 26.58 0 0 0 4.94 0C11.765 5.765 13 6.76 13 8.062v1.157a.933.933 0 0 1-.765.935c-.845.147-2.34.346-4.235.346-1.895 0-3.39-.2-4.235-.346A.933.933 0 0 1 3 9.219V8.062Zm4.542-.827a.25.25 0 0 0-.217.068l-.92.9a24.767 24.767 0 0 1-1.871-.183.25.25 0 0 0-.068.495c.55.076 1.232.149 2.02.193a.25.25 0 0 0 .189-.071l.754-.736.847 1.71a.25.25 0 0 0 .404.062l.932-.97a25.286 25.286 0 0 0 1.922-.188.25.25 0 0 0-.068-.495c-.538.074-1.207.145-1.98.189a.25.25 0 0 0-.166.076l-.754.785-.842-1.7a.25.25 0 0 0-.182-.135Z"}),E("path",{d:"M8.5 1.866a1 1 0 1 0-1 0V3h-2A4.5 4.5 0 0 0 1 7.5V8a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1v1a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-1a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1v-.5A4.5 4.5 0 0 0 10.5 3h-2V1.866ZM14 7.5V13a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7.5A3.5 3.5 0 0 1 5.5 4h5A3.5 3.5 0 0 1 14 7.5Z"})]}))}function pK(e){return mr(e)(({width:t,height:n,color:r,...i})=>E("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:t,height:n,fill:r,...i,children:E("path",{fillRule:"evenodd",d:"M10.5 1a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V4H1.5a.5.5 0 0 1 0-1H10V1.5a.5.5 0 0 1 .5-.5ZM12 3.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5Zm-6.5 2A.5.5 0 0 1 6 6v1.5h8.5a.5.5 0 0 1 0 1H6V10a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5ZM1 8a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2A.5.5 0 0 1 1 8Zm9.5 2a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V13H1.5a.5.5 0 0 1 0-1H10v-1.5a.5.5 0 0 1 .5-.5Zm1.5 2.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5Z"})}))}function mK(e){return mr(e)(({width:t,height:n,color:r,...i})=>ne("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"6 6 20 20",width:t,height:n,fill:r,...i,children:[E("rect",{x:"9",y:"9",width:"3",height:"3",fill:r}),E("rect",{opacity:"0.6",x:"20",y:"9",width:"3",height:"3",fill:r}),E("rect",{opacity:"0.8",x:"14.5",y:"9",width:"3",height:"3",fill:r}),E("rect",{opacity:"0.8",x:"9",y:"14.5",width:"3",height:"3",fill:r}),E("rect",{opacity:"0.4",x:"20",y:"14.5",width:"3",height:"3",fill:r}),E("rect",{opacity:"0.6",x:"14.5",y:"14.5",width:"3",height:"3",fill:r}),E("rect",{opacity:"0.6",x:"9",y:"20",width:"3",height:"3",fill:r}),E("rect",{opacity:"0.2",x:"20",y:"20",width:"3",height:"3",fill:r}),E("rect",{opacity:"0.4",x:"14.5",y:"20",width:"3",height:"3",fill:r})]}))}function gK(e){return mr(e)(({width:t,height:n,color:r,...i})=>ne("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"6 6 20 20",fill:"none",width:t,height:n,...i,children:[E("g",{clipPath:"url(#clip0_214_14526)",children:E("path",{d:"M9 23.9999V18.9999H14V13.9999L19 13.9997V8.99988H24",stroke:r,strokeLinejoin:"round"})}),E("defs",{children:E("clipPath",{id:"clip0_214_14526",children:E("rect",{width:"16",height:"16",fill:"white",transform:"translate(8 8)"})})})]}))}function yK(e){return mr(e)(({width:t,height:n,color:r="#3F3F46",...i})=>ne("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",width:t,height:n,...i,children:[E("path",{d:"M3.33333 19L20.6667 19C21.403 19 22 18.3036 22 17.4444L22 6.55556C22 5.69645 21.403 5 20.6667 5L3.33333 5C2.59695 5 2 5.69645 2 6.55556L2 17.4444C2 18.3036 2.59695 19 3.33333 19Z",stroke:r,strokeLinecap:"round",strokeLinejoin:"round"}),E("rect",{x:"19",y:"16",width:"14",height:"8",transform:"rotate(180 19 16)",stroke:r,strokeLinejoin:"round"}),E("rect",{x:"16",y:"16",width:"8",height:"8",transform:"rotate(180 16 16)",fill:r}),E("rect",{x:"17",y:"17",width:"10",height:"10",transform:"rotate(180 17 17)",fill:"#18181B"}),E("rect",{x:"20",y:"14",width:"16",height:"4",transform:"rotate(180 20 14)",fill:"#18181B"})]}))}function vK(e){return mr(e)(({width:t,height:n,color:r,...i})=>E("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 10",width:t,height:n,...i,children:E("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0.5C0 0.223858 0.223858 0 0.5 0H3.5C3.77614 0 4 0.223858 4 0.5V3.5C4 3.77614 3.77614 4 3.5 4H0.5C0.223858 4 0 3.77614 0 3.5V0.5ZM1 1V3H3V1H1ZM5 0.5C5 0.223858 5.22386 0 5.5 0H8.5C8.77614 0 9 0.223858 9 0.5V3.5C9 3.77614 8.77614 4 8.5 4H5.5C5.22386 4 5 3.77614 5 3.5V0.5ZM6 1V3H8V1H6ZM10.5 0C10.2239 0 10 0.223858 10 0.5V3.5C10 3.77614 10.2239 4 10.5 4H13.5C13.7761 4 14 3.77614 14 3.5V0.5C14 0.223858 13.7761 0 13.5 0H10.5ZM11 3V1H13V3H11ZM0 6.5C0 6.22386 0.223858 6 0.5 6H3.5C3.77614 6 4 6.22386 4 6.5V9.5C4 9.77614 3.77614 10 3.5 10H0.5C0.223858 10 0 9.77614 0 9.5V6.5ZM1 7V9H3V7H1ZM5.5 6C5.22386 6 5 6.22386 5 6.5V9.5C5 9.77614 5.22386 10 5.5 10H8.5C8.77614 10 9 9.77614 9 9.5V6.5C9 6.22386 8.77614 6 8.5 6H5.5ZM6 9V7H8V9H6Z",fill:r})}))}function wK(e){return mr(e)(({width:t,height:n,...r})=>ne("svg",{width:t,height:n,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r,children:[E("path",{d:"M3.67183 13.5269L3.67184 11.1072C3.67184 10.0026 4.56727 9.10722 5.67184 9.10722L9.86719 9.10722C10.9718 9.10722 11.8672 8.21179 11.8672 7.10722L11.8672 2.25825",stroke:"#F9FAFB",strokeLinecap:"round",strokeLinejoin:"round"}),E("path",{d:"M14.3262 3.94141L11.9116 1.52683L9.49701 3.94141",stroke:"#F9FAFB",strokeLinecap:"round",strokeLinejoin:"round"}),E("path",{d:"M3.67188 13.5269L3.67188 4.30708",stroke:"#F9FAFB",strokeLinecap:"round"})]}))}function bK(e){return mr(e)(({width:t,height:n,color:r,...i})=>ne("svg",{width:t,height:n,viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...i,children:[E("path",{d:"M16.493 15.2672L17.0352 15.7854C17.2547 15.5558 17.3057 15.2127 17.1625 14.9292C17.0193 14.6456 16.713 14.483 16.3978 14.5233L16.493 15.2672ZM8.45711 10.5889L7.74713 10.8306L8.45711 10.5889ZM10.839 2.77376L11.3209 3.34843C11.5636 3.1449 11.6523 2.81085 11.5425 2.51375C11.4327 2.21665 11.1481 2.02056 10.8314 2.0238L10.839 2.77376ZM16.3978 14.5233C13.1713 14.9362 10.1445 13.2178 9.16709 10.3472L7.74713 10.8306C8.98441 14.4646 12.7513 16.5022 16.5882 16.0112L16.3978 14.5233ZM9.16709 10.3472C8.31741 7.85159 9.22305 5.10774 11.3209 3.34843L10.3571 2.19909C7.84641 4.30457 6.6731 7.67608 7.74713 10.8306L9.16709 10.3472ZM8.92273 3.78798C9.56847 3.61558 10.2143 3.53017 10.8467 3.52372L10.8314 2.0238C10.0741 2.03153 9.30342 2.13381 8.53581 2.33875L8.92273 3.78798ZM3.65923 12.1797C2.70919 8.62126 5.00941 4.83278 8.92273 3.78798L8.53581 2.33875C3.91162 3.57333 1.02312 8.12111 2.21 12.5666L3.65923 12.1797ZM12.405 16.8311C8.49171 17.8759 4.60927 15.7381 3.65923 12.1797L2.21 12.5666C3.39687 17.0121 8.16777 19.5149 12.792 18.2804L12.405 16.8311ZM15.9509 14.7491C15.0314 15.7111 13.8217 16.4529 12.405 16.8311L12.792 18.2804C14.4774 17.8304 15.9276 16.9444 17.0352 15.7854L15.9509 14.7491Z",fill:r}),E("path",{d:"M15.0371 7.24414V9.65901",stroke:r,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),E("path",{d:"M16.2449 8.45166H13.8301",stroke:r,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),E("path",{d:"M18.6055 3V4.20744",stroke:r,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),E("path",{d:"M19.2074 3.60352H18",stroke:r,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}))}function xK(e){return mr(e)(({width:t,height:n,color:r,...i})=>ne("svg",{width:t,height:n,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",strokeWidth:"0.9",...i,children:[E("path",{d:"M14 2L6 10",stroke:r,strokeLinecap:"round",strokeLinejoin:"round"}),E("path",{d:"M8 2H2V14H14V8",stroke:r,strokeLinecap:"round",strokeLinejoin:"round"}),E("path",{d:"M10.667 2H14.0003V5.33333",stroke:r,strokeLinecap:"round",strokeLinejoin:"round"}),E("path",{d:"M9.33333 9.99996H6V6.66663",stroke:r,strokeLinecap:"round",strokeLinejoin:"round"})]}))}const mr=e=>t=>t({...e,color:e.color??"currentColor"});var w2;(e=>{function t(r){return i=>E(r,{...i,strokeWidth:1.5})}e.AlertCircle=t(XH),e.AlertTriangle=t(QH),e.Brush=t(JH),e.Camera=t(eq),e.Check=t(tq),e.ChevronDown=t(nq),e.ChevronUp=t(aq),e.ChevronsDownUp=t(sq),e.ChevronLeft=t(rq),e.Users=t(Jq),e.Clapperboard=t(lq),e.ChevronRight=t(iq),e.Copy=t(cq),e.Dices=t(dq),e.Download=t(K5),e.Image=t(kq),e.Eye=t(gq),e.Folders=t(vq),e.Download=t(K5),e.EyeOff=t(mq),e.Edit=t(hq),e.ExternalLink=t(pq),e.Slash=t(Wq),e.Hand=t(wq),e.History=t(bq),e.Import=t(Sq),e.Info=t(Eq),e.Layers=t(_q),e.Palette=t(Oq),e.Locate=t(Iq),e.LocateFixed=t(Tq),e.Minus=t(Rq),e.MoreVertical=t(Nq),e.MoreHorizontal=t(Aq),e.Plus=t(Lq),e.Select=t(Dq),e.Settings=t(Uq),e.Sliders=t(Gq),e.Trash=t(Yq),e.Wand=t(eK),e.Undo=t(Xq),e.Redo=t(Fq),e.Upload=t(Zq),e.Wrench=t(tK),e.X=t(nK),e.ArtStation=t(uK),e.Instagram=t(aK),e.Twitter=t(sK),e.Discord=t(oK),e.Generate=t(vK),e.CGSociety=t(lK),e.RefreshClockwise=t(Bq),e.InfoIcon=t(cK),e.ShareIcon=t(dK),e.Search=t(zq),e.AspectRatio=t(hK),e.ModelIcon=t(fK),e.SlidersIcon=t(pK),e.Sprout=t(Hq),e.Star=t(qq),e.TimerReset=t(Kq),e.ZoomIn=t(rK),e.ZoomOut=t(iK),e.Focus=t(yq),e.Sidebar=t(Vq),e.SidebarOpen=t($q),e.SidebarClose=t(jq),e.Steps=t(gK),e.Scale=t(mK),e.Coins=t(uq),e.Eraser=t(fq),e.Lock=t(Pq),e.Unlock=t(Qq),e.Rectangle=t(yK),e.ArrowLeftCircle=t(ZH),e.ImagePlus=t(xq),e.Variation=t(wK),e.Pencil=t(Mq),e.Dream=t(bK),e.Upscale=t(xK),e.Keyboard=t(Cq),e.ChevronsLeftRight=t(oq);function n(r){return E(e.Check,{...r,css:css`
          & {
            opacity: 0;
          }
        `})}e.Invisible=n})(w2||(w2={}));function mC(e){return e.autoSize?E(kK,{...e}):E(SK,{...e})}function kK({size:e=q.Common.Size.preset(),autoFocus:t=!1,value:n,onChange:r,...i}){const a=useRef(null),[,s]=useState(0);return useEffect(()=>{if(a.current){const o=window.getComputedStyle(a.current);a.current.style.height="auto";const l=a.current.scrollHeight+parseInt(o.paddingTop)+parseInt(o.paddingBottom);if(l===0){s(u=>u+1);return}a.current.style.height=l+"px"}},[n]),useEffect(()=>{!a.current||!t||(a.current.blur(),a.current.focus())},[t]),E("textarea",{ref:a,className:classes("dark:placeholder:text-muted-white w-full resize-none overflow-y-clip rounded text-black shadow-sm focus:border-transparent focus:outline-none dark:border-transparent dark:text-white",e==="sm"?"h-8 px-2 py-1 text-sm":e==="lg"?"h-12 px-3 py-1 text-lg":"h-10 px-2 py-1 text-base",i.disabled&&`cursor-not-allowed ${!i.transparent&&"bg-black/10"}`,i.transparent?"bg-transparent":"dark:bg-white/5",i.className),onFocus:i.onFocus,onBlur:i.onBlur,placeholder:i.placeholder,disabled:i.disabled,value:n,onChange:useCallback(o=>r(o.target.value),[r]),onKeyDown:i.onKeyDown})}function SK({loading:e,icon:t,iconLeft:n=t,iconRight:r,autoFocus:i=!1,transparent:a=!1,size:s=q.Common.Size.preset(),fullWidth:o=!0,className:l,value:u,onChange:c,...h}){const p=useRef(null);useEffect(()=>{!p.current||!i||(p.current.blur(),p.current.focus())},[i]);const m=useMemo(()=>({sm:classes("px-2.5 py-2 text-sm",a?"px-0":""),md:classes("px-3 py-2 text-base",a?"px-0":""),lg:classes("px-4 py-2 text-lg",a?"px-0":"")})[s==="xl"?"lg":s],[a,s]),g=useMemo(()=>{const y=(b,v)=>{const x=classes("opacity-60 h-5 w-5 text-black dark:text-white",v==="left"&&"mr-1 -ml-1",v==="right"&&"ml-1 -mr-1");return e&&v==="left"?E(q.Loading.Spinner,{className:x}):b?typeof b=="function"?b({className:x}):typeof b!="object"||React.isValidElement(b)?b:null:null};return{left:n&&y(n,"left"),right:r&&y(r,"right")}},[e,n,r]);return ne("div",{className:classes("relative",o&&"w-full",l),children:[g.left&&E("div",{className:"pointer-events-none absolute bottom-0 left-0 top-0 flex items-center justify-center pl-3",children:g.left}),E("input",{ref:p,className:classes("dark:placeholder:text-muted-white h-full w-full rounded bg-zinc-100/75 text-black shadow-sm focus:border-transparent focus:outline-none dark:border-none dark:bg-white/5 dark:text-white",m,h.disabled&&"cursor-not-allowed bg-black/10",a&&"bg-transparent dark:bg-transparent",!!n&&"pl-9",!!r&&"pr-9"),placeholder:h.placeholder,disabled:h.disabled,onFocus:h.onFocus,onBlur:h.onBlur,value:u,onChange:useCallback(y=>c(y.target.value),[c]),onKeyDown:h.onKeyDown,type:h.type||"text"}),g.right&&E("div",{className:"pointer-events-none absolute bottom-0 right-0 top-0 flex items-center justify-center pr-3",children:g.right})]})}function EK({children:e,className:t}){return E("h2",{className:classes("opacity-muted ml-2.5 -mb-1 select-none text-sm font-light",t),children:e})}function CK({showing:e=!0,variant:t="spiral",className:n}){const r=useRef(null);useEffect(()=>{r.current&&(r.current.style.animationName="none",r.current.style.animationName=Y5.name)},[r,e]);const i=useMemo(()=>Math.random()*10,[]);return E("div",{className:classes("duration-1500 absolute top-0 left-0 right-0 bottom-0 overflow-hidden opacity-20 blur-2xl",!e&&"opacity-0",n),children:t==="linear"?E("div",{}):E("div",{ref:r,className:"h-full w-full",css:css`
            animation-name: ${Y5};
            animation-duration: 7s;
            animation-iteration-count: infinite;
            animation-timing-function: ease-in-out;
            animation-direction: alternate;
          `,children:E("div",{className:"h-full w-full",css:css`
              background-image: url("/RainbowSpiral.jpg");
              background-size: cover;
              background-repeat: repeat;
              background-position: center;

              animation-name: ${_K};
              animation-duration: 3s;
              animation-iteration-count: infinite;
              animation-timing-function: linear;
            `,style:{animationDelay:`-${i}s`}})})})}const _K=jy`
  0% {
    transform: scale(${Math.sqrt(2)}) rotate(0deg);
  }

  100% {
    transform: scale(${Math.sqrt(2)}) rotate(360deg);
  }
`,Y5=jy`
  0% {
    transform: scale(7);
  }

  100% {
    transform: scale(3);
  }
`;function TK({className:e}){return E("svg",{width:"38",height:"38",viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:"#fff",className:e,children:E("g",{fill:"none",fillRule:"evenodd",children:ne("g",{transform:"translate(1 1)",strokeWidth:"2",children:[E("circle",{strokeOpacity:".5",cx:"18",cy:"18",r:"18"}),E("path",{d:"M36 18c0-9.94-8.06-18-18-18",children:E("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})})]})})})}var b2;(e=>{e.Spinner=TK,e.Rainbow=CK})(b2||(b2={}));function IK(){return ne("div",{className:"flex items-center gap-1.5",children:[E(gC,{}),ne("div",{className:"flex flex-col",children:[E("span",{className:"text-lg font-medium",children:"StableStudio"}),ne("span",{className:"-mt-1 text-xs font-light",children:[E("span",{className:"text-white/75",children:"by "}),"stability.ai"]})]})]})}function gC(e){return E("img",{src:EM("/logo.png"),alt:"Logo",...e})}gC.Next=IK;const yC=Y.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Xy=Y.createContext({});function PK(){return Y.useContext(Xy).visualElement}const uf=Y.createContext(null),Qy=typeof document<"u",s0=Qy?Y.useLayoutEffect:Y.useEffect,CM=Y.createContext({strict:!1});function RK(e,t,n,r){const i=PK(),a=Y.useContext(CM),s=Y.useContext(uf),o=Y.useContext(yC).reducedMotion,l=Y.useRef();r=r||a.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceId:s?s.id:void 0,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:o}));const u=l.current;return s0(()=>{u&&u.render()}),(window.HandoffAppearAnimations?s0:Y.useEffect)(()=>{u&&u.animationState&&u.animationState.animateChanges()}),u}function hu(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function AK(e,t,n){return Y.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):hu(n)&&(n.current=r))},[t])}function Rh(e){return typeof e=="string"||Array.isArray(e)}function Zy(e){return typeof e=="object"&&typeof e.start=="function"}const NK=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function Jy(e){return Zy(e.animate)||NK.some(t=>Rh(e[t]))}function _M(e){return!!(Jy(e)||e.variants)}function DK(e,t){if(Jy(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Rh(n)?n:void 0,animate:Rh(r)?r:void 0}}return e.inherit!==!1?t:{}}function OK(e){const{initial:t,animate:n}=DK(e,Y.useContext(Xy));return Y.useMemo(()=>({initial:t,animate:n}),[X5(t),X5(n)])}function X5(e){return Array.isArray(e)?e.join(" "):e}const Fa=e=>({isEnabled:t=>e.some(n=>!!t[n])}),Ah={measureLayout:Fa(["layout","layoutId","drag"]),animation:Fa(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:Fa(["exit"]),drag:Fa(["drag","dragControls"]),focus:Fa(["whileFocus"]),hover:Fa(["whileHover","onHoverStart","onHoverEnd"]),tap:Fa(["whileTap","onTap","onTapStart","onTapCancel"]),pan:Fa(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:Fa(["whileInView","onViewportEnter","onViewportLeave"])};function MK(e){for(const t in e)t==="projectionNodeConstructor"?Ah.projectionNodeConstructor=e[t]:Ah[t].Component=e[t]}function ev(e){const t=Y.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ud={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let LK=1;function FK(){return ev(()=>{if(Ud.hasEverUpdated)return LK++})}const vC=Y.createContext({});class BK extends Ve.Component{getSnapshotBeforeUpdate(){const{visualElement:t,props:n}=this.props;return t&&t.setProps(n),null}componentDidUpdate(){}render(){return this.props.children}}const TM=Y.createContext({}),zK=Symbol.for("motionComponentSymbol");function UK({preloadedFeatures:e,createVisualElement:t,projectionNodeConstructor:n,useRender:r,useVisualState:i,Component:a}){e&&MK(e);function s(l,u){const c={...Y.useContext(yC),...l,layoutId:jK(l)},{isStatic:h}=c;let p=null;const m=OK(l),g=h?void 0:FK(),y=i(l,h);if(!h&&Qy){m.visualElement=RK(a,y,c,t);const b=Y.useContext(CM).strict,v=Y.useContext(TM);m.visualElement&&(p=m.visualElement.loadFeatures(c,b,e,g,n||Ah.projectionNodeConstructor,v))}return Y.createElement(BK,{visualElement:m.visualElement,props:c},p,Y.createElement(Xy.Provider,{value:m},r(a,l,g,AK(y,m.visualElement,u),y,h,m.visualElement)))}const o=Y.forwardRef(s);return o[zK]=a,o}function jK({layoutId:e}){const t=Y.useContext(vC).id;return t&&e!==void 0?t+"-"+e:e}function $K(e){function t(r,i={}){return UK(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const VK=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function wC(e){return typeof e!="string"||e.includes("-")?!1:!!(VK.indexOf(e)>-1||/[A-Z]/.test(e))}const o0={};function WK(e){Object.assign(o0,e)}const l0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vc=new Set(l0);function IM(e,{layout:t,layoutId:n}){return vc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!o0[e]||e==="opacity")}const Ur=e=>!!e?.getVelocity,GK={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},HK=(e,t)=>l0.indexOf(e)-l0.indexOf(t);function qK({transform:e,transformKeys:t},{enableHardwareAcceleration:n=!0,allowTransformNone:r=!0},i,a){let s="";t.sort(HK);for(const o of t)s+=`${GK[o]||o}(${e[o]}) `;return n&&!e.z&&(s+="translateZ(0)"),s=s.trim(),a?s=a(e,i?"":s):r&&i&&(s="none"),s}function PM(e){return e.startsWith("--")}const KK=(e,t)=>t&&typeof e=="number"?t.transform(e):e,qu=(e,t,n)=>Math.min(Math.max(n,e),t),bl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},jd={...bl,transform:e=>qu(0,1,e)},Zp={...bl,default:1},$d=e=>Math.round(e*1e5)/1e5,Nh=/(-)?([\d]*\.?[\d])+/g,x2=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,YK=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function cf(e){return typeof e=="string"}const df=e=>({test:t=>cf(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ss=df("deg"),Ea=df("%"),at=df("px"),XK=df("vh"),QK=df("vw"),Q5={...Ea,parse:e=>Ea.parse(e)/100,transform:e=>Ea.transform(e*100)},Z5={...bl,transform:Math.round},RM={borderWidth:at,borderTopWidth:at,borderRightWidth:at,borderBottomWidth:at,borderLeftWidth:at,borderRadius:at,radius:at,borderTopLeftRadius:at,borderTopRightRadius:at,borderBottomRightRadius:at,borderBottomLeftRadius:at,width:at,maxWidth:at,height:at,maxHeight:at,size:at,top:at,right:at,bottom:at,left:at,padding:at,paddingTop:at,paddingRight:at,paddingBottom:at,paddingLeft:at,margin:at,marginTop:at,marginRight:at,marginBottom:at,marginLeft:at,rotate:Ss,rotateX:Ss,rotateY:Ss,rotateZ:Ss,scale:Zp,scaleX:Zp,scaleY:Zp,scaleZ:Zp,skew:Ss,skewX:Ss,skewY:Ss,distance:at,translateX:at,translateY:at,translateZ:at,x:at,y:at,z:at,perspective:at,transformPerspective:at,opacity:jd,originX:Q5,originY:Q5,originZ:at,zIndex:Z5,fillOpacity:jd,strokeOpacity:jd,numOctaves:Z5};function bC(e,t,n,r){const{style:i,vars:a,transform:s,transformKeys:o,transformOrigin:l}=e;o.length=0;let u=!1,c=!1,h=!0;for(const p in t){const m=t[p];if(PM(p)){a[p]=m;continue}const g=RM[p],y=KK(m,g);if(vc.has(p)){if(u=!0,s[p]=y,o.push(p),!h)continue;m!==(g.default||0)&&(h=!1)}else p.startsWith("origin")?(c=!0,l[p]=y):i[p]=y}if(t.transform||(u||r?i.transform=qK(e,n,h,r):i.transform&&(i.transform="none")),c){const{originX:p="50%",originY:m="50%",originZ:g=0}=l;i.transformOrigin=`${p} ${m} ${g}`}}const xC=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}});function AM(e,t,n){for(const r in t)!Ur(t[r])&&!IM(r,n)&&(e[r]=t[r])}function ZK({transformTemplate:e},t,n){return Y.useMemo(()=>{const r=xC();return bC(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function JK(e,t,n){const r=e.style||{},i={};return AM(i,r,e),Object.assign(i,ZK(e,t,n)),e.transformValues?e.transformValues(i):i}function eY(e,t,n){const r={},i=JK(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),r.style=i,r}const tY=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","viewport"]);function u0(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||tY.has(e)}let NM=e=>!u0(e);function nY(e){e&&(NM=t=>t.startsWith("on")?!u0(t):e(t))}try{nY(require("@emotion/is-prop-valid").default)}catch{}function rY(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(NM(i)||n===!0&&u0(i)||!t&&!u0(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function J5(e,t,n){return typeof e=="string"?e:at.transform(t+n*e)}function iY(e,t,n){const r=J5(t,e.x,e.width),i=J5(n,e.y,e.height);return`${r} ${i}`}const aY={offset:"stroke-dashoffset",array:"stroke-dasharray"},sY={offset:"strokeDashoffset",array:"strokeDasharray"};function oY(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?aY:sY;e[a.offset]=at.transform(-r);const s=at.transform(t),o=at.transform(n);e[a.array]=`${s} ${o}`}function kC(e,{attrX:t,attrY:n,originX:r,originY:i,pathLength:a,pathSpacing:s=1,pathOffset:o=0,...l},u,c,h){if(bC(e,l,u,h),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:m,dimensions:g}=e;p.transform&&(g&&(m.transform=p.transform),delete p.transform),g&&(r!==void 0||i!==void 0||m.transform)&&(m.transformOrigin=iY(g,r!==void 0?r:.5,i!==void 0?i:.5)),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),a!==void 0&&oY(p,a,s,o,!1)}const DM=()=>({...xC(),attrs:{}}),SC=e=>typeof e=="string"&&e.toLowerCase()==="svg";function lY(e,t,n,r){const i=Y.useMemo(()=>{const a=DM();return kC(a,t,{enableHardwareAcceleration:!1},SC(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};AM(a,e.style,e),i.style={...a,...i.style}}return i}function uY(e=!1){return(n,r,i,a,{latestValues:s},o)=>{const u=(wC(n)?lY:eY)(r,s,o,n),h={...rY(r,typeof n=="string",e),...u,ref:a},{children:p}=r,m=Y.useMemo(()=>Ur(p)?p.get():p,[p]);return i&&(h["data-projection-id"]=i),Y.createElement(n,{...h,children:m})}}const EC=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function OM(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const MM=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function LM(e,t,n,r){OM(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(MM.has(i)?i:EC(i),t.attrs[i])}function CC(e,t){const{style:n}=e,r={};for(const i in n)(Ur(n[i])||t.style&&Ur(t.style[i])||IM(i,e))&&(r[i]=n[i]);return r}function FM(e,t){const n=CC(e,t);for(const r in e)if(Ur(e[r])||Ur(t[r])){const i=r==="x"||r==="y"?"attr"+r.toUpperCase():r;n[i]=e[r]}return n}function _C(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}const c0=e=>Array.isArray(e),cY=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),dY=e=>c0(e)?e[e.length-1]||0:e;function zm(e){const t=Ur(e)?e.get():e;return cY(t)?t.toValue():t}function hY({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,a){const s={latestValues:fY(r,i,a,e),renderState:t()};return n&&(s.mount=o=>n(r,o,s)),s}const BM=e=>(t,n)=>{const r=Y.useContext(Xy),i=Y.useContext(uf),a=()=>hY(e,t,r,i);return n?a():ev(a)};function fY(e,t,n,r){const i={},a=r(e,{});for(const p in a)i[p]=zm(a[p]);let{initial:s,animate:o}=e;const l=Jy(e),u=_M(e);t&&u&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let c=n?n.initial===!1:!1;c=c||s===!1;const h=c?o:s;return h&&typeof h!="boolean"&&!Zy(h)&&(Array.isArray(h)?h:[h]).forEach(m=>{const g=_C(e,m);if(!g)return;const{transitionEnd:y,transition:b,...v}=g;for(const x in v){let k=v[x];if(Array.isArray(k)){const T=c?k.length-1:0;k=k[T]}k!==null&&(i[x]=k)}for(const x in y)i[x]=y[x]}),i}const pY={useVisualState:BM({scrapeMotionValuesFromProps:FM,createRenderState:DM,onMount:(e,t,{renderState:n,latestValues:r})=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}kC(n,r,{enableHardwareAcceleration:!1},SC(t.tagName),e.transformTemplate),LM(t,n)}})},mY={useVisualState:BM({scrapeMotionValuesFromProps:CC,createRenderState:xC})};function gY(e,{forwardMotionProps:t=!1},n,r,i){return{...wC(e)?pY:mY,preloadedFeatures:n,useRender:uY(t),createVisualElement:r,projectionNodeConstructor:i,Component:e}}var Yt;(function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"})(Yt||(Yt={}));function tv(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function k2(e,t,n,r){Y.useEffect(()=>{const i=e.current;if(n&&i)return tv(i,t,n,r)},[e,t,n,r])}function yY({whileFocus:e,visualElement:t}){const{animationState:n}=t,r=Y.useCallback(()=>{n&&n.setActive(Yt.Focus,!0)},[n]),i=Y.useCallback(()=>{n&&n.setActive(Yt.Focus,!1)},[n]);k2(t,"focus",e?r:void 0),k2(t,"blur",e?i:void 0)}const zM=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function TC(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const UM=e=>t=>zM(t)&&e(t,TC(t));function Iu(e,t,n,r){return tv(e,t,UM(n),r)}function d0(e,t,n,r){return k2(e,t,n&&UM(n),r)}function jM(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const e4=jM("dragHorizontal"),t4=jM("dragVertical");function $M(e){let t=!1;if(e==="y")t=t4();else if(e==="x")t=e4();else{const n=e4(),r=t4();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function VM(){const e=$M(!0);return e?(e(),!1):!0}function n4(e,t,n,r){return(i,a)=>{i.type==="touch"||VM()||(n&&e.animationState&&e.animationState.setActive(Yt.Hover,t),r&&r(i,a))}}function vY({onHoverStart:e,onHoverEnd:t,whileHover:n,visualElement:r}){d0(r,"pointerenter",Y.useMemo(()=>e||n?n4(r,!0,!!n,e):void 0,[e,!!n,r]),{passive:!e}),d0(r,"pointerleave",Y.useMemo(()=>t||n?n4(r,!1,!!n,t):void 0,[e,!!n,r]),{passive:!t})}const WM=(e,t)=>t?e===t?!0:WM(e,t.parentElement):!1;function IC(e){return Y.useEffect(()=>()=>e(),[])}const wY=(e,t)=>n=>t(e(n)),nv=(...e)=>e.reduce(wY);function bY({onTap:e,onTapStart:t,onTapCancel:n,whileTap:r,visualElement:i,...a}){const s=e||t||n||r,o=Y.useRef(!1),l=Y.useRef(null),u={passive:!(t||e||n||a.onPointerDown)};function c(){l.current&&l.current(),l.current=null}function h(){return c(),o.current=!1,i.getProps().whileTap&&i.animationState&&i.animationState.setActive(Yt.Tap,!1),!VM()}function p(y,b){var v,x,k,T;h()&&(WM(i.current,y.target)?(T=(k=i.getProps()).onTap)===null||T===void 0||T.call(k,y,b):(x=(v=i.getProps()).onTapCancel)===null||x===void 0||x.call(v,y,b))}function m(y,b){var v,x;h()&&((x=(v=i.getProps()).onTapCancel)===null||x===void 0||x.call(v,y,b))}const g=Y.useCallback((y,b)=>{var v;if(c(),o.current)return;o.current=!0,l.current=nv(Iu(window,"pointerup",p,u),Iu(window,"pointercancel",m,u));const x=i.getProps();x.whileTap&&i.animationState&&i.animationState.setActive(Yt.Tap,!0),(v=x.onTapStart)===null||v===void 0||v.call(x,y,b)},[!!t,i]);d0(i,"pointerdown",s?g:void 0,u),IC(c)}const S2=new WeakMap,$w=new WeakMap,xY=e=>{const t=S2.get(e.target);t&&t(e)},kY=e=>{e.forEach(xY)};function SY({root:e,...t}){const n=e||document;$w.has(n)||$w.set(n,{});const r=$w.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(kY,{root:e,...t})),r[i]}function EY(e,t,n){const r=SY(t);return S2.set(e,n),r.observe(e),()=>{S2.delete(e),r.unobserve(e)}}function CY({visualElement:e,whileInView:t,onViewportEnter:n,onViewportLeave:r,viewport:i={}}){const a=Y.useRef({hasEnteredView:!1,isInView:!1});let s=!!(t||n||r);i.once&&a.current.hasEnteredView&&(s=!1),(typeof IntersectionObserver>"u"?IY:TY)(s,a.current,e,i)}const _Y={some:0,all:1};function TY(e,t,n,{root:r,margin:i,amount:a="some",once:s}){Y.useEffect(()=>{if(!e||!n.current)return;const o={root:r?.current,rootMargin:i,threshold:typeof a=="number"?a:_Y[a]},l=u=>{const{isIntersecting:c}=u;if(t.isInView===c||(t.isInView=c,s&&!c&&t.hasEnteredView))return;c&&(t.hasEnteredView=!0),n.animationState&&n.animationState.setActive(Yt.InView,c);const h=n.getProps(),p=c?h.onViewportEnter:h.onViewportLeave;p&&p(u)};return EY(n.current,o,l)},[e,r,i,a])}function IY(e,t,n,{fallback:r=!0}){Y.useEffect(()=>{!e||!r||requestAnimationFrame(()=>{t.hasEnteredView=!0;const{onViewportEnter:i}=n.getProps();i&&i(null),n.animationState&&n.animationState.setActive(Yt.InView,!0)})},[e])}const Bs=e=>t=>(e(t),null),PY={inView:Bs(CY),tap:Bs(bY),focus:Bs(yY),hover:Bs(vY)};function GM(){const e=Y.useContext(uf);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=Y.useId();return Y.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}function HM(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const RY=e=>/^\-?\d*\.?\d+$/.test(e),AY=e=>/^0[^.\s]+$/.test(e),Ka={delta:0,timestamp:0},qM=1/60*1e3,NY=typeof performance<"u"?()=>performance.now():()=>Date.now(),KM=typeof window<"u"?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(NY()),qM);function DY(e){let t=[],n=[],r=0,i=!1,a=!1;const s=new WeakSet,o={schedule:(l,u=!1,c=!1)=>{const h=c&&i,p=h?t:n;return u&&s.add(l),p.indexOf(l)===-1&&(p.push(l),h&&i&&(r=t.length)),l},cancel:l=>{const u=n.indexOf(l);u!==-1&&n.splice(u,1),s.delete(l)},process:l=>{if(i){a=!0;return}if(i=!0,[t,n]=[n,t],n.length=0,r=t.length,r)for(let u=0;u<r;u++){const c=t[u];c(l),s.has(c)&&(o.schedule(c),e())}i=!1,a&&(a=!1,o.process(l))}};return o}const OY=40;let E2=!0,Dh=!1,C2=!1;const hf=["read","update","preRender","render","postRender"],rv=hf.reduce((e,t)=>(e[t]=DY(()=>Dh=!0),e),{}),fr=hf.reduce((e,t)=>{const n=rv[t];return e[t]=(r,i=!1,a=!1)=>(Dh||LY(),n.schedule(r,i,a)),e},{}),Zs=hf.reduce((e,t)=>(e[t]=rv[t].cancel,e),{}),Vw=hf.reduce((e,t)=>(e[t]=()=>rv[t].process(Ka),e),{}),MY=e=>rv[e].process(Ka),YM=e=>{Dh=!1,Ka.delta=E2?qM:Math.max(Math.min(e-Ka.timestamp,OY),1),Ka.timestamp=e,C2=!0,hf.forEach(MY),C2=!1,Dh&&(E2=!1,KM(YM))},LY=()=>{Dh=!0,E2=!0,C2||KM(YM)};function PC(e,t){e.indexOf(t)===-1&&e.push(t)}function RC(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class AC{constructor(){this.subscriptions=[]}add(t){return PC(this.subscriptions,t),()=>RC(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function NC(e,t){return t?e*(1e3/t):0}const FY=e=>!isNaN(parseFloat(e));class BY{constructor(t,n={}){this.version="8.5.5",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:s}=Ka;this.lastUpdated!==s&&(this.timeDelta=a,this.lastUpdated=s,fr.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>fr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=FY(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new AC);const r=this.events[t].add(n);return t==="change"?()=>{r(),fr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?NC(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n)||null,this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){this.animation=null}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ku(e,t){return new BY(e,t)}const DC=(e,t)=>n=>!!(cf(n)&&YK.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),XM=(e,t,n)=>r=>{if(!cf(r))return r;const[i,a,s,o]=r.match(Nh);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},zY=e=>qu(0,255,e),Ww={...bl,transform:e=>Math.round(zY(e))},jo={test:DC("rgb","red"),parse:XM("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Ww.transform(e)+", "+Ww.transform(t)+", "+Ww.transform(n)+", "+$d(jd.transform(r))+")"};function UY(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const _2={test:DC("#"),parse:UY,transform:jo.transform},fu={test:DC("hsl","hue"),parse:XM("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Ea.transform($d(t))+", "+Ea.transform($d(n))+", "+$d(jd.transform(r))+")"},yr={test:e=>jo.test(e)||_2.test(e)||fu.test(e),parse:e=>jo.test(e)?jo.parse(e):fu.test(e)?fu.parse(e):_2.parse(e),transform:e=>cf(e)?e:e.hasOwnProperty("red")?jo.transform(e):fu.transform(e)},QM="${c}",ZM="${n}";function jY(e){var t,n;return isNaN(e)&&cf(e)&&(((t=e.match(Nh))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(x2))===null||n===void 0?void 0:n.length)||0)>0}function h0(e){typeof e=="number"&&(e=`${e}`);const t=[];let n=0,r=0;const i=e.match(x2);i&&(n=i.length,e=e.replace(x2,QM),t.push(...i.map(yr.parse)));const a=e.match(Nh);return a&&(r=a.length,e=e.replace(Nh,ZM),t.push(...a.map(bl.parse))),{values:t,numColors:n,numNumbers:r,tokenised:e}}function JM(e){return h0(e).values}function eL(e){const{values:t,numColors:n,tokenised:r}=h0(e),i=t.length;return a=>{let s=r;for(let o=0;o<i;o++)s=s.replace(o<n?QM:ZM,o<n?yr.transform(a[o]):$d(a[o]));return s}}const $Y=e=>typeof e=="number"?0:e;function VY(e){const t=JM(e);return eL(e)(t.map($Y))}const Js={test:jY,parse:JM,createTransformer:eL,getAnimatableNone:VY},WY=new Set(["brightness","contrast","saturate","opacity"]);function GY(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Nh)||[];if(!r)return e;const i=n.replace(r,"");let a=WY.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const HY=/([a-z-]*)\(.*?\)/g,T2={...Js,getAnimatableNone:e=>{const t=e.match(HY);return t?t.map(GY).join(" "):e}},qY={...RM,color:yr,backgroundColor:yr,outlineColor:yr,fill:yr,stroke:yr,borderColor:yr,borderTopColor:yr,borderRightColor:yr,borderBottomColor:yr,borderLeftColor:yr,filter:T2,WebkitFilter:T2},OC=e=>qY[e];function MC(e,t){var n;let r=OC(e);return r!==T2&&(r=Js),(n=r.getAnimatableNone)===null||n===void 0?void 0:n.call(r,t)}const tL=e=>t=>t.test(e),KY={test:e=>e==="auto",parse:e=>e},nL=[bl,at,Ea,Ss,QK,XK,KY],id=e=>nL.find(tL(e)),YY=[...nL,yr,Js],XY=e=>YY.find(tL(e));function QY(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function ZY(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function iv(e,t,n){const r=e.getProps();return _C(r,t,n!==void 0?n:r.custom,QY(e),ZY(e))}function JY(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ku(n))}function eX(e,t){const n=iv(e,t);let{transitionEnd:r={},transition:i={},...a}=n?e.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const s in a){const o=dY(a[s]);JY(e,s,o)}}function tX(e,t,n){var r,i;const a=Object.keys(t).filter(o=>!e.hasValue(o)),s=a.length;if(s)for(let o=0;o<s;o++){const l=a[o],u=t[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(i=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&i!==void 0?i:t[l]),c!=null&&(typeof c=="string"&&(RY(c)||AY(c))?c=parseFloat(c):!XY(c)&&Js.test(u)&&(c=MC(l,u)),e.addValue(l,Ku(c,{owner:e})),n[l]===void 0&&(n[l]=c),c!==null&&e.setBaseTarget(l,c))}}function nX(e,t){return t?(t[e]||t.default||t).from:void 0}function rX(e,t,n){var r;const i={};for(const a in e){const s=nX(a,t);i[a]=s!==void 0?s:(r=n.getValue(a))===null||r===void 0?void 0:r.get()}return i}function f0(e){return!!(Ur(e)&&e.add)}const iX="framerAppearId",aX="data-"+EC(iX);var sX=function(){},p0=function(){};const Um=e=>e*1e3,oX={current:!1},LC=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,FC=e=>t=>1-e(1-t),BC=e=>e*e,lX=FC(BC),zC=LC(BC),wn=(e,t,n)=>-n*e+n*t+e;function Gw(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function uX({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,s=0;if(!t)i=a=s=n;else{const o=n<.5?n*(1+t):n+t-n*t,l=2*n-o;i=Gw(l,o,e+1/3),a=Gw(l,o,e),s=Gw(l,o,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}const Hw=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},cX=[_2,jo,fu],dX=e=>cX.find(t=>t.test(e));function r4(e){const t=dX(e);let n=t.parse(e);return t===fu&&(n=uX(n)),n}const rL=(e,t)=>{const n=r4(e),r=r4(t),i={...n};return a=>(i.red=Hw(n.red,r.red,a),i.green=Hw(n.green,r.green,a),i.blue=Hw(n.blue,r.blue,a),i.alpha=wn(n.alpha,r.alpha,a),jo.transform(i))};function iL(e,t){return typeof e=="number"?n=>wn(e,t,n):yr.test(e)?rL(e,t):sL(e,t)}const aL=(e,t)=>{const n=[...e],r=n.length,i=e.map((a,s)=>iL(a,t[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}},hX=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=iL(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}},sL=(e,t)=>{const n=Js.createTransformer(t),r=h0(e),i=h0(t);return r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?nv(aL(r.values,i.values),n):s=>`${s>0?t:e}`},m0=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},i4=(e,t)=>n=>wn(e,t,n);function fX(e){return typeof e=="number"?i4:typeof e=="string"?yr.test(e)?rL:sL:Array.isArray(e)?aL:typeof e=="object"?hX:i4}function pX(e,t,n){const r=[],i=n||fX(e[0]),a=e.length-1;for(let s=0;s<a;s++){let o=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]:t;o=nv(l,o)}r.push(o)}return r}function oL(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;p0(a===t.length),p0(!r||!Array.isArray(r)||r.length===a-1),e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=pX(t,r,i),o=s.length,l=u=>{let c=0;if(o>1)for(;c<e.length-2&&!(u<e[c+1]);c++);const h=m0(e[c],e[c+1],u);return s[c](h)};return n?u=>l(qu(e[0],e[a-1],u)):l}const UC=e=>e,lL=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,mX=1e-7,gX=12;function yX(e,t,n,r,i){let a,s,o=0;do s=t+(n-t)/2,a=lL(s,r,i)-e,a>0?n=s:t=s;while(Math.abs(a)>mX&&++o<gX);return s}function uL(e,t,n,r){if(e===t&&n===r)return UC;const i=a=>yX(a,0,1,e,n);return a=>a===0||a===1?a:lL(i(a),t,r)}const cL=e=>1-Math.sin(Math.acos(e)),jC=FC(cL),vX=LC(jC),dL=uL(.33,1.53,.69,.99),$C=FC(dL),wX=LC($C),bX=e=>(e*=2)<1?.5*$C(e):.5*(2-Math.pow(2,-10*(e-1))),xX={linear:UC,easeIn:BC,easeInOut:zC,easeOut:lX,circIn:cL,circInOut:vX,circOut:jC,backIn:$C,backInOut:wX,backOut:dL,anticipate:bX},a4=e=>{if(Array.isArray(e)){p0(e.length===4);const[t,n,r,i]=e;return uL(t,n,r,i)}else if(typeof e=="string")return xX[e];return e},kX=e=>Array.isArray(e)&&typeof e[0]!="number";function SX(e,t){return e.map(()=>t||zC).splice(0,e.length-1)}function EX(e){const t=e.length;return e.map((n,r)=>r!==0?r/(t-1):0)}function CX(e,t){return e.map(n=>n*t)}function I2({keyframes:e,ease:t=zC,times:n,duration:r=300}){e=[...e];const i=kX(t)?t.map(a4):a4(t),a={done:!1,value:e[0]},s=CX(n&&n.length===e.length?n:EX(e),r);function o(){return oL(s,e,{ease:Array.isArray(i)?i:SX(e,i)})}let l=o();return{next:u=>(a.value=l(u),a.done=u>=r,a),flipTarget:()=>{e.reverse(),l=o()}}}const qw=.001,_X=.01,s4=10,TX=.05,IX=1;function PX({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,a;sX(e<=s4*1e3);let s=1-t;s=qu(TX,IX,s),e=qu(_X,s4,e/1e3),s<1?(i=u=>{const c=u*s,h=c*e,p=c-n,m=P2(u,s),g=Math.exp(-h);return qw-p/m*g},a=u=>{const h=u*s*e,p=h*n+n,m=Math.pow(s,2)*Math.pow(u,2)*e,g=Math.exp(-h),y=P2(Math.pow(u,2),s);return(-i(u)+qw>0?-1:1)*((p-m)*g)/y}):(i=u=>{const c=Math.exp(-u*e),h=(u-n)*e+1;return-qw+c*h},a=u=>{const c=Math.exp(-u*e),h=(n-u)*(e*e);return c*h});const o=5/e,l=AX(i,a,o);if(e=e*1e3,isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:e}}}const RX=12;function AX(e,t,n){let r=n;for(let i=1;i<RX;i++)r=r-e(r)/t(r);return r}function P2(e,t){return e*Math.sqrt(1-t*t)}const NX=["duration","bounce"],DX=["stiffness","damping","mass"];function o4(e,t){return t.some(n=>e[n]!==void 0)}function OX(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!o4(e,DX)&&o4(e,NX)){const n=PX(e);t={...t,...n,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}const MX=5;function hL({keyframes:e,restDelta:t,restSpeed:n,...r}){let i=e[0],a=e[e.length-1];const s={done:!1,value:i},{stiffness:o,damping:l,mass:u,velocity:c,duration:h,isResolvedFromDuration:p}=OX(r);let m=LX,g=c?-(c/1e3):0;const y=l/(2*Math.sqrt(o*u));function b(){const v=a-i,x=Math.sqrt(o/u)/1e3,k=Math.abs(v)<5;if(n||(n=k?.01:2),t||(t=k?.005:.5),y<1){const T=P2(x,y);m=P=>{const R=Math.exp(-y*x*P);return a-R*((g+y*x*v)/T*Math.sin(T*P)+v*Math.cos(T*P))}}else if(y===1)m=T=>a-Math.exp(-x*T)*(v+(g+x*v)*T);else{const T=x*Math.sqrt(y*y-1);m=P=>{const R=Math.exp(-y*x*P),N=Math.min(T*P,300);return a-R*((g+y*x*v)*Math.sinh(N)+T*v*Math.cosh(N))/T}}}return b(),{next:v=>{const x=m(v);if(p)s.done=v>=h;else{let k=g;if(v!==0)if(y<1){const R=Math.max(0,v-MX);k=NC(x-m(R),v-R)}else k=0;const T=Math.abs(k)<=n,P=Math.abs(a-x)<=t;s.done=T&&P}return s.value=s.done?a:x,s},flipTarget:()=>{g=-g,[i,a]=[a,i],b()}}}hL.needsInterpolation=(e,t)=>typeof e=="string"||typeof t=="string";const LX=e=>0;function FX({keyframes:e=[0],velocity:t=0,power:n=.8,timeConstant:r=350,restDelta:i=.5,modifyTarget:a}){const s=e[0],o={done:!1,value:s};let l=n*t;const u=s+l,c=a===void 0?u:a(u);return c!==u&&(l=c-s),{next:h=>{const p=-l*Math.exp(-h/r);return o.done=!(p>i||p<-i),o.value=o.done?c:c+p,o},flipTarget:()=>{}}}const BX={decay:FX,keyframes:I2,tween:I2,spring:hL};function fL(e,t,n=0){return e-t-n}function zX(e,t=0,n=0,r=!0){return r?fL(t+-e,t,n):t-(e-t)+n}function UX(e,t,n,r){return r?e>=t+n:e<=-n}const jX=e=>{const t=({delta:n})=>e(n);return{start:()=>fr.update(t,!0),stop:()=>Zs.update(t)}};function g0({duration:e,driver:t=jX,elapsed:n=0,repeat:r=0,repeatType:i="loop",repeatDelay:a=0,keyframes:s,autoplay:o=!0,onPlay:l,onStop:u,onComplete:c,onRepeat:h,onUpdate:p,type:m="keyframes",...g}){var y,b;const v=n;let x,k=0,T=e,P=!1,R=!0,N;const B=BX[s.length>2?"keyframes":m]||I2,j=s[0],W=s[s.length-1];let H={done:!1,value:j};!((b=(y=B).needsInterpolation)===null||b===void 0)&&b.call(y,j,W)&&(N=oL([0,100],[j,W],{clamp:!1}),s=[0,100]);const z=B({...g,duration:e,keyframes:s});function $(){k++,i==="reverse"?(R=k%2===0,n=zX(n,T,a,R)):(n=fL(n,T,a),i==="mirror"&&z.flipTarget()),P=!1,h&&h()}function O(){x&&x.stop(),c&&c()}function te(le){R||(le=-le),n+=le,P||(H=z.next(Math.max(0,n)),N&&(H.value=N(H.value)),P=R?H.done:n<=0),p&&p(H.value),P&&(k===0&&(T=T!==void 0?T:n),k<r?UX(n,T,a,R)&&$():O())}function X(){l&&l(),x=t(te),x.start()}return o&&X(),{stop:()=>{u&&u(),x&&x.stop()},set currentTime(le){n=v,te(le)},sample:le=>{n=v;const de=e&&typeof e=="number"?Math.max(e*.5,50):50;let ie=0;for(te(0);ie<=le;){const pe=le-ie;te(Math.min(pe,de)),ie+=de}return H}}}function $X(e){return!e||Array.isArray(e)||typeof e=="string"&&pL[e]}const _d=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,pL={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_d([0,.65,.55,1]),circOut:_d([.55,0,1,.45]),backIn:_d([.31,.01,.66,-.59]),backOut:_d([.33,1.53,.69,.99])};function VX(e){if(e)return Array.isArray(e)?_d(e):pL[e]}function WX(e,t,n,{delay:r=0,duration:i,repeat:a=0,repeatType:s="loop",ease:o,times:l}={}){return e.animate({[t]:n,offset:l},{delay:r,duration:i,easing:VX(o),fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"})}const l4={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},Kw={},mL={};for(const e in l4)mL[e]=()=>(Kw[e]===void 0&&(Kw[e]=l4[e]()),Kw[e]);function GX(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const HX=new Set(["opacity"]),Jp=10;function qX(e,t,{onUpdate:n,onComplete:r,...i}){if(!(mL.waapi()&&HX.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0))return!1;let{keyframes:s,duration:o=300,elapsed:l=0,ease:u}=i;if(i.type==="spring"||!$X(i.ease)){if(i.repeat===1/0)return;const h=g0({...i,elapsed:0});let p={done:!1,value:s[0]};const m=[];let g=0;for(;!p.done&&g<2e4;)p=h.sample(g),m.push(p.value),g+=Jp;s=m,o=g-Jp,u="linear"}const c=WX(e.owner.current,t,s,{...i,delay:-l,duration:o,ease:u});return c.onfinish=()=>{e.set(GX(s,i)),fr.update(()=>c.cancel()),r&&r()},{get currentTime(){return c.currentTime||0},set currentTime(h){c.currentTime=h},stop:()=>{const{currentTime:h}=c;if(h){const p=g0({...i,autoplay:!1});e.setWithVelocity(p.sample(h-Jp).value,p.sample(h).value,Jp)}fr.update(()=>c.cancel())}}}function gL(e,t){const n=performance.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(Zs.read(r),e(a-t))};return fr.read(r,!0),()=>Zs.read(r)}function KX({keyframes:e,elapsed:t,onUpdate:n,onComplete:r}){const i=()=>{n&&n(e[e.length-1]),r&&r()};return t?{stop:gL(i,-t)}:i()}function YX({keyframes:e,velocity:t=0,min:n,max:r,power:i=.8,timeConstant:a=750,bounceStiffness:s=500,bounceDamping:o=10,restDelta:l=1,modifyTarget:u,driver:c,onUpdate:h,onComplete:p,onStop:m}){const g=e[0];let y;function b(T){return n!==void 0&&T<n||r!==void 0&&T>r}function v(T){return n===void 0?r:r===void 0||Math.abs(n-T)<Math.abs(r-T)?n:r}function x(T){y?.stop(),y=g0({keyframes:[0,1],velocity:0,...T,driver:c,onUpdate:P=>{var R;h?.(P),(R=T.onUpdate)===null||R===void 0||R.call(T,P)},onComplete:p,onStop:m})}function k(T){x({type:"spring",stiffness:s,damping:o,restDelta:l,...T})}if(b(g))k({velocity:t,keyframes:[g,v(g)]});else{let T=i*t+g;typeof u<"u"&&(T=u(T));const P=v(T),R=P===n?-1:1;let N,B;const j=W=>{N=B,B=W,t=NC(W-N,Ka.delta),(R===1&&W>P||R===-1&&W<P)&&k({keyframes:[W,P],velocity:t})};x({type:"decay",keyframes:[g,0],velocity:t,timeConstant:a,power:i,restDelta:l,modifyTarget:u,onUpdate:b(T)?j:void 0})}return{stop:()=>y?.stop()}}const So=()=>({type:"spring",stiffness:500,damping:25,restSpeed:10}),em=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Yw=()=>({type:"keyframes",ease:"linear",duration:.3}),XX={type:"keyframes",duration:.8},u4={x:So,y:So,z:So,rotate:So,rotateX:So,rotateY:So,rotateZ:So,scaleX:em,scaleY:em,scale:em,opacity:Yw,backgroundColor:Yw,color:Yw,default:em},QX=(e,{keyframes:t})=>t.length>2?XX:(u4[e]||u4.default)(t[1]),R2=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&Js.test(t)&&!t.startsWith("url("));function ZX({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function c4(e){return e===0||typeof e=="string"&&parseFloat(e)===0&&e.indexOf(" ")===-1}function d4(e){return typeof e=="number"?0:MC("",e)}function yL(e,t){return e[t]||e.default||e}function JX(e,t,n,r){const i=R2(t,n);let a=r.from!==void 0?r.from:e.get();return a==="none"&&i&&typeof n=="string"?a=MC(t,n):c4(a)&&typeof n=="string"?a=d4(n):!Array.isArray(n)&&c4(n)&&typeof a=="string"&&(n=d4(a)),Array.isArray(n)?(n[0]===null&&(n[0]=a),n):[a,n]}const VC=(e,t,n,r={})=>i=>{const a=yL(r,e)||{},s=a.delay||r.delay||0;let{elapsed:o=0}=r;o=o-Um(s);const l=JX(t,e,n,a),u=l[0],c=l[l.length-1],h=R2(e,u),p=R2(e,c);let m={keyframes:l,velocity:t.getVelocity(),...a,elapsed:o,onUpdate:b=>{t.set(b),a.onUpdate&&a.onUpdate(b)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(!h||!p||oX.current||a.type===!1)return KX(m);if(a.type==="inertia")return YX(m);ZX(a)||(m={...m,...QX(e,m)}),m.duration&&(m.duration=Um(m.duration)),m.repeatDelay&&(m.repeatDelay=Um(m.repeatDelay));const g=t.owner,y=g&&g.current;if(g&&y instanceof HTMLElement&&!g?.getProps().onUpdate){const b=qX(t,e,m);if(b)return b}return g0(m)};function eQ(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>A2(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=A2(e,t,n);else{const i=typeof t=="function"?iv(e,t,n.custom):t;r=vL(e,i,n)}return r.then(()=>e.notify("AnimationComplete",t))}function A2(e,t,n={}){var r;const i=iv(e,t,n.custom);let{transition:a=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const s=i?()=>vL(e,i,n):()=>Promise.resolve(),o=!((r=e.variantChildren)===null||r===void 0)&&r.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:p}=a;return tQ(e,t,c+u,h,p,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[u,c]=l==="beforeChildren"?[s,o]:[o,s];return u().then(c)}else return Promise.all([s(),o(n.delay)])}function vL(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var a;let{transition:s=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const u=e.getValue("willChange");r&&(s=r);const c=[],h=i&&((a=e.animationState)===null||a===void 0?void 0:a.getState()[i]);for(const p in l){const m=e.getValue(p),g=l[p];if(!m||g===void 0||h&&rQ(h,p))continue;const y={delay:n,elapsed:0,...s};if(window.HandoffAppearAnimations&&!m.hasAnimated){const v=e.getProps()[aX];v&&(y.elapsed=window.HandoffAppearAnimations(v,p,m,fr))}let b=m.start(VC(p,m,g,e.shouldReduceMotion&&vc.has(p)?{type:!1}:y));f0(u)&&(u.add(p),b=b.then(()=>u.remove(p))),c.push(b)}return Promise.all(c).then(()=>{o&&eX(e,o)})}function tQ(e,t,n=0,r=0,i=1,a){const s=[],o=(e.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>o-u*r;return Array.from(e.variantChildren).sort(nQ).forEach((u,c)=>{u.notify("AnimationStart",t),s.push(A2(u,t,{...a,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(s)}function nQ(e,t){return e.sortNodePosition(t)}function rQ({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}const WC=[Yt.Animate,Yt.InView,Yt.Focus,Yt.Hover,Yt.Tap,Yt.Drag,Yt.Exit],iQ=[...WC].reverse(),aQ=WC.length;function sQ(e){return t=>Promise.all(t.map(({animation:n,options:r})=>eQ(e,n,r)))}function oQ(e){let t=sQ(e);const n=uQ();let r=!0;const i=(l,u)=>{const c=iv(e,u);if(c){const{transition:h,transitionEnd:p,...m}=c;l={...l,...m,...p}}return l};function a(l){t=l(e)}function s(l,u){const c=e.getProps(),h=e.getVariantContext(!0)||{},p=[],m=new Set;let g={},y=1/0;for(let v=0;v<aQ;v++){const x=iQ[v],k=n[x],T=c[x]!==void 0?c[x]:h[x],P=Rh(T),R=x===u?k.isActive:null;R===!1&&(y=v);let N=T===h[x]&&T!==c[x]&&P;if(N&&r&&e.manuallyAnimateOnMount&&(N=!1),k.protectedKeys={...g},!k.isActive&&R===null||!T&&!k.prevProp||Zy(T)||typeof T=="boolean")continue;const B=lQ(k.prevProp,T);let j=B||x===u&&k.isActive&&!N&&P||v>y&&P;const W=Array.isArray(T)?T:[T];let H=W.reduce(i,{});R===!1&&(H={});const{prevResolvedValues:z={}}=k,$={...z,...H},O=te=>{j=!0,m.delete(te),k.needsAnimating[te]=!0};for(const te in $){const X=H[te],le=z[te];g.hasOwnProperty(te)||(X!==le?c0(X)&&c0(le)?!HM(X,le)||B?O(te):k.protectedKeys[te]=!0:X!==void 0?O(te):m.add(te):X!==void 0&&m.has(te)?O(te):k.protectedKeys[te]=!0)}k.prevProp=T,k.prevResolvedValues=H,k.isActive&&(g={...g,...H}),r&&e.blockInitialAnimation&&(j=!1),j&&!N&&p.push(...W.map(te=>({animation:te,options:{type:x,...l}})))}if(m.size){const v={};m.forEach(x=>{const k=e.getBaseTarget(x);k!==void 0&&(v[x]=k)}),p.push({animation:v})}let b=!!p.length;return r&&c.initial===!1&&!e.manuallyAnimateOnMount&&(b=!1),r=!1,b?t(p):Promise.resolve()}function o(l,u,c){var h;if(n[l].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(m=>{var g;return(g=m.animationState)===null||g===void 0?void 0:g.setActive(l,u)}),n[l].isActive=u;const p=s(c,l);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>n}}function lQ(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!HM(t,e):!1}function Eo(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function uQ(){return{[Yt.Animate]:Eo(!0),[Yt.InView]:Eo(),[Yt.Hover]:Eo(),[Yt.Tap]:Eo(),[Yt.Drag]:Eo(),[Yt.Focus]:Eo(),[Yt.Exit]:Eo()}}const cQ={animation:Bs(({visualElement:e,animate:t})=>{e.animationState||(e.animationState=oQ(e)),Zy(t)&&Y.useEffect(()=>t.subscribe(e),[t])}),exit:Bs(e=>{const{custom:t,visualElement:n}=e,[r,i]=GM(),a=Y.useContext(uf);Y.useEffect(()=>{n.isPresent=r;const s=n.animationState&&n.animationState.setActive(Yt.Exit,!r,{custom:a&&a.custom||t});s&&!r&&s.then(i)},[r])})},h4=(e,t)=>Math.abs(e-t);function dQ(e,t){const n=h4(e.x,t.x),r=h4(e.y,t.y);return Math.sqrt(n**2+r**2)}class wL{constructor(t,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=Qw(this.lastMoveEventInfo,this.history),c=this.startEvent!==null,h=dQ(u.offset,{x:0,y:0})>=3;if(!c&&!h)return;const{point:p}=u,{timestamp:m}=Ka;this.history.push({...p,timestamp:m});const{onStart:g,onMove:y}=this.handlers;c||(g&&g(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,u)},this.handlePointerMove=(u,c)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=Xw(c,this.transformPagePoint),fr.update(this.updatePoint,!0)},this.handlePointerUp=(u,c)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:h,onSessionEnd:p}=this.handlers,m=Qw(u.type==="pointercancel"?this.lastMoveEventInfo:Xw(c,this.transformPagePoint),this.history);this.startEvent&&h&&h(u,m),p&&p(u,m)},!zM(t))return;this.handlers=n,this.transformPagePoint=r;const i=TC(t),a=Xw(i,this.transformPagePoint),{point:s}=a,{timestamp:o}=Ka;this.history=[{...s,timestamp:o}];const{onSessionStart:l}=n;l&&l(t,Qw(a,this.history)),this.removeListeners=nv(Iu(window,"pointermove",this.handlePointerMove),Iu(window,"pointerup",this.handlePointerUp),Iu(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Zs.update(this.updatePoint)}}function Xw(e,t){return t?{point:t(e.point)}:e}function f4(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Qw({point:e},t){return{point:e,delta:f4(e,bL(t)),offset:f4(e,hQ(t)),velocity:fQ(t,.1)}}function hQ(e){return e[0]}function bL(e){return e[e.length-1]}function fQ(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=bL(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Um(t)));)n--;if(!r)return{x:0,y:0};const a=(i.timestamp-r.timestamp)/1e3;if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function ni(e){return e.max-e.min}function N2(e,t=0,n=.01){return Math.abs(e-t)<=n}function p4(e,t,n,r=.5){e.origin=r,e.originPoint=wn(t.min,t.max,e.origin),e.scale=ni(n)/ni(t),(N2(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=wn(n.min,n.max,e.origin)-e.originPoint,(N2(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Vd(e,t,n,r){p4(e.x,t.x,n.x,r?.originX),p4(e.y,t.y,n.y,r?.originY)}function m4(e,t,n){e.min=n.min+t.min,e.max=e.min+ni(t)}function pQ(e,t,n){m4(e.x,t.x,n.x),m4(e.y,t.y,n.y)}function g4(e,t,n){e.min=t.min-n.min,e.max=e.min+ni(t)}function Wd(e,t,n){g4(e.x,t.x,n.x),g4(e.y,t.y,n.y)}function mQ(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?wn(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?wn(n,e,r.max):Math.min(e,n)),e}function y4(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function gQ(e,{top:t,left:n,bottom:r,right:i}){return{x:y4(e.x,n,i),y:y4(e.y,t,r)}}function v4(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function yQ(e,t){return{x:v4(e.x,t.x),y:v4(e.y,t.y)}}function vQ(e,t){let n=.5;const r=ni(e),i=ni(t);return i>r?n=m0(t.min,t.max-r,e.min):r>i&&(n=m0(e.min,e.max-i,t.min)),qu(0,1,n)}function wQ(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const D2=.35;function bQ(e=D2){return e===!1?e=0:e===!0&&(e=D2),{x:w4(e,"left","right"),y:w4(e,"top","bottom")}}function w4(e,t,n){return{min:b4(e,t),max:b4(e,n)}}function b4(e,t){return typeof e=="number"?e:e[t]||0}const x4=()=>({translate:0,scale:1,origin:0,originPoint:0}),Gd=()=>({x:x4(),y:x4()}),k4=()=>({min:0,max:0}),On=()=>({x:k4(),y:k4()});function fa(e){return[e("x"),e("y")]}function xL({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function xQ({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function kQ(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Zw(e){return e===void 0||e===1}function O2({scale:e,scaleX:t,scaleY:n}){return!Zw(e)||!Zw(t)||!Zw(n)}function Ao(e){return O2(e)||kL(e)||e.z||e.rotate||e.rotateX||e.rotateY}function kL(e){return S4(e.x)||S4(e.y)}function S4(e){return e&&e!=="0%"}function y0(e,t,n){const r=e-n,i=t*r;return n+i}function E4(e,t,n,r,i){return i!==void 0&&(e=y0(e,i,r)),y0(e,n,r)+t}function M2(e,t=0,n=1,r,i){e.min=E4(e.min,t,n,r,i),e.max=E4(e.max,t,n,r,i)}function SL(e,{x:t,y:n}){M2(e.x,t.translate,t.scale,t.originPoint),M2(e.y,n.translate,n.scale,n.originPoint)}function SQ(e,t,n,r=!1){var i,a;const s=n.length;if(!s)return;t.x=t.y=1;let o,l;for(let u=0;u<s;u++)o=n[u],l=o.projectionDelta,((a=(i=o.instance)===null||i===void 0?void 0:i.style)===null||a===void 0?void 0:a.display)!=="contents"&&(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&pu(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,SL(e,l)),r&&Ao(o.latestValues)&&pu(e,o.latestValues));t.x=C4(t.x),t.y=C4(t.y)}function C4(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Ts(e,t){e.min=e.min+t,e.max=e.max+t}function _4(e,t,[n,r,i]){const a=t[i]!==void 0?t[i]:.5,s=wn(e.min,e.max,a);M2(e,t[n],t[r],s,t.scale)}const EQ=["x","scaleX","originX"],CQ=["y","scaleY","originY"];function pu(e,t){_4(e.x,t,EQ),_4(e.y,t,CQ)}function EL(e,t){return xL(kQ(e.getBoundingClientRect(),t))}function _Q(e,t,n){const r=EL(e,n),{scroll:i}=t;return i&&(Ts(r.x,i.offset.x),Ts(r.y,i.offset.y)),r}const TQ=new WeakMap;class IQ{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=On(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){if(this.visualElement.isPresent===!1)return;const r=o=>{this.stopAnimation(),n&&this.snapToCursor(TC(o,"page").point)},i=(o,l)=>{var u;const{drag:c,dragPropagation:h,onDragStart:p}=this.getProps();c&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=$M(c),!this.openGlobalLock)||(this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fa(m=>{var g,y;let b=this.getAxisMotionValue(m).get()||0;if(Ea.test(b)){const v=(y=(g=this.visualElement.projection)===null||g===void 0?void 0:g.layout)===null||y===void 0?void 0:y.layoutBox[m];v&&(b=ni(v)*(parseFloat(b)/100))}this.originPoint[m]=b}),p?.(o,l),(u=this.visualElement.animationState)===null||u===void 0||u.setActive(Yt.Drag,!0))},a=(o,l)=>{const{dragPropagation:u,dragDirectionLock:c,onDirectionLock:h,onDrag:p}=this.getProps();if(!u&&!this.openGlobalLock)return;const{offset:m}=l;if(c&&this.currentDirection===null){this.currentDirection=PQ(m),this.currentDirection!==null&&h?.(this.currentDirection);return}this.updateAxis("x",l.point,m),this.updateAxis("y",l.point,m),this.visualElement.render(),p?.(o,l)},s=(o,l)=>this.stop(o,l);this.panSession=new wL(t,{onSessionStart:r,onStart:i,onMove:a,onSessionEnd:s},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a?.(t,n)}cancel(){var t,n;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(t=this.panSession)===null||t===void 0||t.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(n=this.visualElement.animationState)===null||n===void 0||n.setActive(Yt.Drag,!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!tm(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=mQ(s,this.constraints[t],this.elastic[t])),a.set(s)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;t&&hu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=gQ(r.layoutBox,t):this.constraints=!1,this.elastic=bQ(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&fa(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=wQ(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!hu(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=_Q(r,i.root,this.visualElement.getTransformPagePoint());let s=yQ(i.layout.layoutBox,a);if(n){const o=n(xQ(s));this.hasMutatedConstraints=!!o,o&&(s=xL(o))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=fa(c=>{if(!tm(c,n,this.currentDirection))return;let h=l?.[c]||{};s&&(h={min:0,max:0});const p=i?200:1e6,m=i?40:1e7,g={type:"inertia",velocity:r?t[c]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(c,g)});return Promise.all(u).then(o)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(VC(t,r,0,n))}stopAnimation(){fa(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){var n;const r="_drag"+t.toUpperCase(),i=this.visualElement.getProps()[r];return i||this.visualElement.getValue(t,((n=this.visualElement.getProps().initial)===null||n===void 0?void 0:n[t])||0)}snapToCursor(t){fa(n=>{const{drag:r}=this.getProps();if(!tm(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[n];a.set(t[n]-wn(s,o,.5))}})}scalePositionWithinConstraints(){var t;if(!this.visualElement.current)return;const{drag:n,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!hu(r)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};fa(o=>{const l=this.getAxisMotionValue(o);if(l){const u=l.get();a[o]=vQ({min:u,max:u},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",(t=i.root)===null||t===void 0||t.updateScroll(),i.updateLayout(),this.resolveConstraints(),fa(o=>{if(!tm(o,n,null))return;const l=this.getAxisMotionValue(o),{min:u,max:c}=this.constraints[o];l.set(wn(u,c,a[o]))})}addListeners(){var t;if(!this.visualElement.current)return;TQ.set(this.visualElement,this);const n=this.visualElement.current,r=Iu(n,"pointerdown",u=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(u)}),i=()=>{const{dragConstraints:u}=this.getProps();hu(u)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,s=a.addEventListener("measure",i);a&&!a.layout&&((t=a.root)===null||t===void 0||t.updateScroll(),a.updateLayout()),i();const o=tv(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(fa(h=>{const p=this.getAxisMotionValue(h);p&&(this.originPoint[h]+=u[h].translate,p.set(p.get()+u[h].translate))}),this.visualElement.render())});return()=>{o(),r(),s(),l?.()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=D2,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function tm(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function PQ(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}function RQ(e){const{dragControls:t,visualElement:n}=e,r=ev(()=>new IQ(n));Y.useEffect(()=>t&&t.subscribe(r),[r,t]),Y.useEffect(()=>r.addListeners(),[r])}function AQ({onPan:e,onPanStart:t,onPanEnd:n,onPanSessionStart:r,visualElement:i}){const a=e||t||n||r,s=Y.useRef(null),{transformPagePoint:o}=Y.useContext(yC),l={onSessionStart:r,onStart:t,onMove:e,onEnd:(c,h)=>{s.current=null,n&&n(c,h)}};Y.useEffect(()=>{s.current!==null&&s.current.updateHandlers(l)});function u(c){s.current=new wL(c,l,{transformPagePoint:o})}d0(i,"pointerdown",a&&u),IC(()=>s.current&&s.current.end())}const NQ={pan:Bs(AQ),drag:Bs(RQ)};function L2(e){return typeof e=="string"&&e.startsWith("var(--")}const CL=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function DQ(e){const t=CL.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function F2(e,t,n=1){const[r,i]=DQ(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);return a?a.trim():L2(i)?F2(i,t,n+1):i}function OQ(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const a=i.get();if(!L2(a))return;const s=F2(a,r);s&&i.set(s)});for(const i in t){const a=t[i];if(!L2(a))continue;const s=F2(a,r);s&&(t[i]=s,n&&n[i]===void 0&&(n[i]=a))}return{target:t,transitionEnd:n}}const MQ=new Set(["width","height","top","left","right","bottom","x","y"]),_L=e=>MQ.has(e),LQ=e=>Object.keys(e).some(_L),T4=e=>e===bl||e===at;var I4;(function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"})(I4||(I4={}));const P4=(e,t)=>parseFloat(e.split(", ")[t]),R4=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return P4(i[1],t);{const a=r.match(/^matrix\((.+)\)$/);return a?P4(a[1],e):0}},FQ=new Set(["x","y","z"]),BQ=l0.filter(e=>!FQ.has(e));function zQ(e){const t=[];return BQ.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const A4={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:R4(4,13),y:R4(5,14)},UQ=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),{display:s}=a,o={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{o[u]=A4[u](r,a)}),t.render();const l=t.measureViewportBox();return n.forEach(u=>{const c=t.getValue(u);c&&c.jump(o[u]),e[u]=A4[u](l,a)}),e},jQ=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(_L);let a=[],s=!1;const o=[];if(i.forEach(l=>{const u=e.getValue(l);if(!e.hasValue(l))return;let c=n[l],h=id(c);const p=t[l];let m;if(c0(p)){const g=p.length,y=p[0]===null?1:0;c=p[y],h=id(c);for(let b=y;b<g;b++)m?p0(id(p[b])===m):m=id(p[b])}else m=id(p);if(h!==m)if(T4(h)&&T4(m)){const g=u.get();typeof g=="string"&&u.set(parseFloat(g)),typeof p=="string"?t[l]=parseFloat(p):Array.isArray(p)&&m===at&&(t[l]=p.map(parseFloat))}else h?.transform&&m?.transform&&(c===0||p===0)?c===0?u.set(m.transform(c)):t[l]=h.transform(p):(s||(a=zQ(e),s=!0),o.push(l),r[l]=r[l]!==void 0?r[l]:t[l],u.jump(p))}),o.length){const l=o.indexOf("height")>=0?window.pageYOffset:null,u=UQ(t,e,o);return a.length&&a.forEach(([c,h])=>{e.getValue(c).set(h)}),e.render(),Qy&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function $Q(e,t,n,r){return LQ(t)?jQ(e,t,n,r):{target:t,transitionEnd:r}}const VQ=(e,t,n,r)=>{const i=OQ(e,t,r);return t=i.target,r=i.transitionEnd,$Q(e,t,n,r)},B2={current:null},TL={current:!1};function WQ(){if(TL.current=!0,!!Qy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>B2.current=e.matches;e.addListener(t),t()}else B2.current=!1}function GQ(e,t,n){const{willChange:r}=t;for(const i in t){const a=t[i],s=n[i];if(Ur(a))e.addValue(i,a),f0(r)&&r.add(i);else if(Ur(s))e.addValue(i,Ku(a,{owner:e})),f0(r)&&r.remove(i);else if(s!==a)if(e.hasValue(i)){const o=e.getValue(i);!o.hasAnimated&&o.set(a)}else{const o=e.getStaticValue(i);e.addValue(i,Ku(o!==void 0?o:a,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const IL=Object.keys(Ah),HQ=IL.length,N4=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class qQ{constructor({parent:t,props:n,reducedMotionConfig:r,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.isPresent=!0,this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>fr.render(this.render,!1,!0);const{latestValues:s,renderState:o}=i;this.latestValues=s,this.baseTarget={...s},this.initialValues=n.initial?{...s}:{},this.renderState=o,this.parent=t,this.props=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.isControllingVariants=Jy(n),this.isVariantNode=_M(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:l,...u}=this.scrapeMotionValuesFromProps(n,{});for(const c in u){const h=u[c];s[c]!==void 0&&Ur(h)&&(h.set(s[c],!1),f0(l)&&l.add(c))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){var n;this.current=t,this.projection&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=(n=this.parent)===null||n===void 0?void 0:n.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),TL.current||WQ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:B2.current,this.parent&&this.parent.children.add(this),this.setProps(this.props)}unmount(){var t,n,r;(t=this.projection)===null||t===void 0||t.unmount(),Zs.update(this.notifyUpdate),Zs.render(this.render),this.valueSubscriptions.forEach(i=>i()),(n=this.removeFromVariantTree)===null||n===void 0||n.call(this),(r=this.parent)===null||r===void 0||r.children.delete(this);for(const i in this.events)this.events[i].clear();this.current=null}bindToMotionValue(t,n){const r=vc.has(t),i=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&fr.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,a,s,o){const l=[];for(let u=0;u<HQ;u++){const c=IL[u],{isEnabled:h,Component:p}=Ah[c];h(n)&&p&&l.push(Y.createElement(p,{key:c,...n,visualElement:this}))}if(!this.projection&&s){this.projection=new s(a,this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:c,drag:h,dragConstraints:p,layoutScroll:m,layoutRoot:g}=n;this.projection.setOptions({layoutId:u,layout:c,alwaysMeasureLayout:!!h||p&&hu(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:o,layoutScroll:m,layoutRoot:g})}return l}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):On()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}setProps(t){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender();const n=this.props;this.props=t;for(let r=0;r<N4.length;r++){const i=N4[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=t["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=GQ(this,this.scrapeMotionValuesFromProps(t,n),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){var n;return(n=this.props.variants)===null||n===void 0?void 0:n[t]}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){var t;return this.isVariantNode?this:(t=this.parent)===null||t===void 0?void 0:t.getClosestVariantNode()}getVariantContext(t=!1){var n,r;if(t)return(n=this.parent)===null||n===void 0?void 0:n.getVariantContext();if(!this.isControllingVariants){const a=((r=this.parent)===null||r===void 0?void 0:r.getVariantContext())||{};return this.props.initial!==void 0&&(a.initial=this.props.initial),a}const i={};for(let a=0;a<KQ;a++){const s=PL[a],o=this.props[s];(Rh(o)||o===!1)&&(i[s]=o)}return i}addVariantChild(t){var n;const r=this.getClosestVariantNode();if(r)return(n=r.variantChildren)===null||n===void 0||n.add(t),()=>r.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){var n;this.values.delete(t),(n=this.valueSubscriptions.get(t))===null||n===void 0||n(),this.valueSubscriptions.delete(t),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ku(n,{owner:this}),this.addValue(t,r)),r}readValue(t){return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=_C(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Ur(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new AC),this.events[t].add(n)}notify(t,...n){var r;(r=this.events[t])===null||r===void 0||r.notify(...n)}}const PL=["initial",...WC],KQ=PL.length;class RL extends qQ{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){var r;return(r=t.style)===null||r===void 0?void 0:r[n]}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},a){let s=rX(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),a){tX(this,r,s);const o=VQ(this,r,s,n);n=o.transitionEnd,r=o.target}return{transition:t,transitionEnd:n,...r}}}function YQ(e){return window.getComputedStyle(e)}class XQ extends RL{readValueFromInstance(t,n){if(vc.has(n)){const r=OC(n);return r&&r.default||0}else{const r=YQ(t),i=(PM(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return EL(t,n)}build(t,n,r,i){bC(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return CC(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ur(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){OM(t,n,r,i)}}class QQ extends RL{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){var r;return vc.has(n)?((r=OC(n))===null||r===void 0?void 0:r.default)||0:(n=MM.has(n)?n:EC(n),t.getAttribute(n))}measureInstanceViewportBox(){return On()}scrapeMotionValuesFromProps(t,n){return FM(t,n)}build(t,n,r,i){kC(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){LM(t,n,r,i)}mount(t){this.isSVGTag=SC(t.tagName),super.mount(t)}}const ZQ=(e,t)=>wC(e)?new QQ(t,{enableHardwareAcceleration:!1}):new XQ(t,{enableHardwareAcceleration:!0});function D4(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ad={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(at.test(e))e=parseFloat(e);else return e;const n=D4(e,t.target.x),r=D4(e,t.target.y);return`${n}% ${r}%`}},O4="_$css",JQ={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=e.includes("var("),a=[];i&&(e=e.replace(CL,m=>(a.push(m),O4)));const s=Js.parse(e);if(s.length>5)return r;const o=Js.createTransformer(e),l=typeof s[0]!="number"?1:0,u=n.x.scale*t.x,c=n.y.scale*t.y;s[0+l]/=u,s[1+l]/=c;const h=wn(u,c,.5);typeof s[2+l]=="number"&&(s[2+l]/=h),typeof s[3+l]=="number"&&(s[3+l]/=h);let p=o(s);if(i){let m=0;p=p.replace(O4,()=>{const g=a[m];return m++,g})}return p}};class eZ extends Ve.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;WK(nZ),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Ud.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,s=r.projection;return s&&(s.isPresent=a,i||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?s.promote():s.relegate()||fr.postRender(()=>{var o;!((o=s.getStack())===null||o===void 0)&&o.members.length||this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),!t.currentAnimation&&t.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n?.group&&n.group.remove(i),r?.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t?.()}render(){return null}}function tZ(e){const[t,n]=GM(),r=Y.useContext(vC);return Ve.createElement(eZ,{...e,layoutGroup:r,switchLayoutGroup:Y.useContext(TM),isPresent:t,safeToRemove:n})}const nZ={borderRadius:{...ad,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ad,borderTopRightRadius:ad,borderBottomLeftRadius:ad,borderBottomRightRadius:ad,boxShadow:JQ},rZ={measureLayout:tZ};function iZ(e,t,n={}){const r=Ur(e)?e:Ku(e);return r.start(VC("",r,t,n)),{stop:()=>r.stop(),isAnimating:()=>r.isAnimating()}}const AL=["TopLeft","TopRight","BottomLeft","BottomRight"],aZ=AL.length,M4=e=>typeof e=="string"?parseFloat(e):e,L4=e=>typeof e=="number"||at.test(e);function sZ(e,t,n,r,i,a){i?(e.opacity=wn(0,n.opacity!==void 0?n.opacity:1,oZ(r)),e.opacityExit=wn(t.opacity!==void 0?t.opacity:1,0,lZ(r))):a&&(e.opacity=wn(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<aZ;s++){const o=`border${AL[s]}Radius`;let l=F4(t,o),u=F4(n,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||L4(l)===L4(u)?(e[o]=Math.max(wn(M4(l),M4(u),r),0),(Ea.test(u)||Ea.test(l))&&(e[o]+="%")):e[o]=u}(t.rotate||n.rotate)&&(e.rotate=wn(t.rotate||0,n.rotate||0,r))}function F4(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const oZ=NL(0,.5,jC),lZ=NL(.5,.95,UC);function NL(e,t,n){return r=>r<e?0:r>t?1:n(m0(e,t,r))}function B4(e,t){e.min=t.min,e.max=t.max}function zi(e,t){B4(e.x,t.x),B4(e.y,t.y)}function z4(e,t,n,r,i){return e-=t,e=y0(e,1/n,r),i!==void 0&&(e=y0(e,1/i,r)),e}function uZ(e,t=0,n=1,r=.5,i,a=e,s=e){if(Ea.test(t)&&(t=parseFloat(t),t=wn(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=wn(a.min,a.max,r);e===a&&(o-=t),e.min=z4(e.min,t,n,o,i),e.max=z4(e.max,t,n,o,i)}function U4(e,t,[n,r,i],a,s){uZ(e,t[n],t[r],t[i],t.scale,a,s)}const cZ=["x","scaleX","originX"],dZ=["y","scaleY","originY"];function j4(e,t,n,r){U4(e.x,t,cZ,n?.x,r?.x),U4(e.y,t,dZ,n?.y,r?.y)}function $4(e){return e.translate===0&&e.scale===1}function DL(e){return $4(e.x)&&$4(e.y)}function OL(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function V4(e){return ni(e.x)/ni(e.y)}class hZ{constructor(){this.members=[]}add(t){PC(this.members,t),t.scheduleRender()}remove(t){if(RC(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){var r;const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),!((r=t.root)===null||r===void 0)&&r.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{var n,r,i,a,s;(r=(n=t.options).onExitComplete)===null||r===void 0||r.call(n),(s=(i=t.resumingFrom)===null||i===void 0?void 0:(a=i.options).onExitComplete)===null||s===void 0||s.call(a)})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function W4(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(r=`translate3d(${i}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const s=e.x.scale*t.x,o=e.y.scale*t.y;return(s!==1||o!==1)&&(r+=`scale(${s}, ${o})`),r||"none"}const fZ=(e,t)=>e.depth-t.depth;class pZ{constructor(){this.children=[],this.isDirty=!1}add(t){PC(this.children,t),this.isDirty=!0}remove(t){RC(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(fZ),this.isDirty=!1,this.children.forEach(t)}}const G4=["","X","Y","Z"],H4=1e3;let mZ=0;function ML({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s,o={},l=t?.()){this.id=mZ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isTransformDirty=!1,this.isProjectionDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.nodes.forEach(vZ),this.nodes.forEach(xZ),this.nodes.forEach(kZ)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=s,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0,s&&this.root.registerPotentialNode(s,this);for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new pZ)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new AC),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l?.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}registerPotentialNode(s,o){this.potentialNodes.set(s,o)}mount(s,o=!1){var l;if(this.instance)return;this.isSVG=s instanceof SVGElement&&s.tagName!=="svg",this.instance=s;const{layoutId:u,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(s),this.root.nodes.add(this),(l=this.parent)===null||l===void 0||l.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),o&&(c||u)&&(this.isLayoutDirty=!0),e){let p;const m=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=gL(m,250),Ud.hasAnimatedSinceResize&&(Ud.hasAnimatedSinceResize=!1,this.nodes.forEach(K4))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||c)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeTargetChanged:g,layout:y})=>{var b,v,x,k,T;if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=(v=(b=this.options.transition)!==null&&b!==void 0?b:h.getDefaultTransition())!==null&&v!==void 0?v:TZ,{onLayoutAnimationStart:R,onLayoutAnimationComplete:N}=h.getProps(),B=!this.targetLayout||!OL(this.targetLayout,y)||g,j=!m&&g;if(this.options.layoutRoot||!((x=this.resumeFrom)===null||x===void 0)&&x.instance||j||m&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,j);const W={...yL(P,"layout"),onPlay:R,onComplete:N};(h.shouldReduceMotion||this.options.layoutRoot)&&(W.delay=0,W.type=!1),this.startAnimation(W)}else!m&&this.animationProgress===0&&K4(this),this.isLead()&&((T=(k=this.options).onExitComplete)===null||T===void 0||T.call(k));this.targetLayout=y})}unmount(){var s,o;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(s=this.getStack())===null||s===void 0||s.remove(this),(o=this.parent)===null||o===void 0||o.children.delete(this),this.instance=void 0,Zs.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){var s;return this.isAnimationBlocked||((s=this.parent)===null||s===void 0?void 0:s.isTreeAnimationBlocked())||!1}startUpdate(){var s;this.isUpdateBlocked()||(this.isUpdating=!0,(s=this.nodes)===null||s===void 0||s.forEach(SZ),this.animationId++)}getTransformTemplate(){var s;return(s=this.options.visualElement)===null||s===void 0?void 0:s.getProps().transformTemplate}willUpdate(s=!0){var o,l,u;if(this.root.isUpdateBlocked()){(l=(o=this.options).onExitComplete)===null||l===void 0||l.call(o);return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const m=this.path[p];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;c===void 0&&!h||(this.prevTransformTemplateValue=(u=this.getTransformTemplate())===null||u===void 0?void 0:u(this.latestValues,""),this.updateSnapshot(),s&&this.notifyListeners("willUpdate"))}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(q4);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(IZ),this.potentialNodes.clear()),this.nodes.forEach(bZ),this.nodes.forEach(gZ),this.nodes.forEach(yZ),this.clearAllSnapshots(),Vw.update(),Vw.preRender(),Vw.render())}clearAllSnapshots(){this.nodes.forEach(wZ),this.sharedNodes.forEach(EZ)}scheduleUpdateProjection(){fr.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){fr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){var s;if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=On(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox),(s=this.options.visualElement)===null||s===void 0||s.notify("LayoutMeasure",this.layout.layoutBox,o?.layoutBox)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){var s;if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!DL(this.projectionDelta),u=(s=this.getTransformTemplate())===null||s===void 0?void 0:s(this.latestValues,""),c=u!==this.prevTransformTemplateValue;o&&(l||Ao(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),PZ(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return On();const o=s.measureViewportBox(),{scroll:l}=this.root;return l&&(Ts(o.x,l.offset.x),Ts(o.y,l.offset.y)),o}removeElementScroll(s){const o=On();zi(o,s);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:h}=u;if(u!==this.root&&c&&h.layoutScroll){if(c.isRoot){zi(o,s);const{scroll:p}=this.root;p&&(Ts(o.x,-p.offset.x),Ts(o.y,-p.offset.y))}Ts(o.x,c.offset.x),Ts(o.y,c.offset.y)}}return o}applyTransform(s,o=!1){const l=On();zi(l,s);for(let u=0;u<this.path.length;u++){const c=this.path[u];!o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&pu(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Ao(c.latestValues)&&pu(l,c.latestValues)}return Ao(this.latestValues)&&pu(l,this.latestValues),l}removeTransform(s){var o;const l=On();zi(l,s);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!Ao(c.latestValues))continue;O2(c.latestValues)&&c.updateSnapshot();const h=On(),p=c.measurePageBox();zi(h,p),j4(l,c.latestValues,(o=c.snapshot)===null||o===void 0?void 0:o.layoutBox,h)}return Ao(this.latestValues)&&j4(l,this.latestValues),l}setTargetDelta(s){this.targetDelta=s,this.isProjectionDirty=!0,this.root.scheduleUpdateProjection()}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var s;const o=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),!this.isProjectionDirty&&!this.attemptToResolveRelativeTarget)return;const{layout:l,layoutId:u}=this.options;if(!(!this.layout||!(l||u))){if(!this.targetDelta&&!this.relativeTarget){const c=this.getClosestProjectingParent();c&&c.layout?(this.relativeParent=c,this.relativeTarget=On(),this.relativeTargetOrigin=On(),Wd(this.relativeTargetOrigin,this.layout.layoutBox,c.layout.layoutBox),zi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=On(),this.targetWithTransforms=On()),this.relativeTarget&&this.relativeTargetOrigin&&(!((s=this.relativeParent)===null||s===void 0)&&s.target)?pQ(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):zi(this.target,this.layout.layoutBox),SL(this.target,this.targetDelta)):zi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const c=this.getClosestProjectingParent();c&&!!c.resumingFrom==!!this.resumingFrom&&!c.options.layoutScroll&&c.target?(this.relativeParent=c,this.relativeTarget=On(),this.relativeTargetOrigin=On(),Wd(this.relativeTargetOrigin,this.target,c.target),zi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||O2(this.parent.latestValues)||kL(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta||this.parent.options.layoutRoot)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}calcProjection(){var s;const{isProjectionDirty:o,isTransformDirty:l}=this;this.isProjectionDirty=this.isTransformDirty=!1;const u=this.getLead(),c=!!this.resumingFrom||this!==u;let h=!0;if(o&&(h=!1),c&&l&&(h=!1),h)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(!((s=this.parent)===null||s===void 0)&&s.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;zi(this.layoutCorrected,this.layout.layoutBox),SQ(this.layoutCorrected,this.treeScale,this.path,c);const{target:g}=u;if(!g)return;this.projectionDelta||(this.projectionDelta=Gd(),this.projectionDeltaWithTransform=Gd());const y=this.treeScale.x,b=this.treeScale.y,v=this.projectionTransform;Vd(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=W4(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==y||this.treeScale.y!==b)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o,l,u;(l=(o=this.options).scheduleRender)===null||l===void 0||l.call(o),s&&((u=this.getStack())===null||u===void 0||u.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,o=!1){var l,u;const c=this.snapshot,h=c?.latestValues||{},p={...this.latestValues},m=Gd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const g=On(),y=c?.source!==((l=this.layout)===null||l===void 0?void 0:l.source),b=(((u=this.getStack())===null||u===void 0?void 0:u.members.length)||0)<=1,v=!!(y&&!b&&this.options.crossfade===!0&&!this.path.some(_Z));this.animationProgress=0,this.mixTargetDelta=x=>{var k;const T=x/1e3;Y4(m.x,s.x,T),Y4(m.y,s.y,T),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&(!((k=this.relativeParent)===null||k===void 0)&&k.layout)&&(Wd(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),CZ(this.relativeTarget,this.relativeTargetOrigin,g,T)),y&&(this.animationValues=p,sZ(p,h,this.latestValues,T,v,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var o,l;this.notifyListeners("animationStart"),(o=this.currentAnimation)===null||o===void 0||o.stop(),this.resumingFrom&&((l=this.resumingFrom.currentAnimation)===null||l===void 0||l.stop()),this.pendingAnimation&&(Zs.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=fr.update(()=>{Ud.hasAnimatedSinceResize=!0,this.currentAnimation=iZ(0,H4,{...s,onUpdate:u=>{var c;this.mixTargetDelta(u),(c=s.onUpdate)===null||c===void 0||c.call(s,u)},onComplete:()=>{var u;(u=s.onComplete)===null||u===void 0||u.call(s),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){var s;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(s=this.getStack())===null||s===void 0||s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){var s;this.currentAnimation&&((s=this.mixTargetDelta)===null||s===void 0||s.call(this,H4),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:c}=s;if(!(!o||!l||!u)){if(this!==s&&this.layout&&u&&LL(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||On();const h=ni(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+h;const p=ni(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+p}zi(o,l),pu(o,c),Vd(this.projectionDeltaWithTransform,this.layoutCorrected,o,c)}}registerSharedNode(s,o){var l,u,c;this.sharedNodes.has(s)||this.sharedNodes.set(s,new hZ),this.sharedNodes.get(s).add(o),o.promote({transition:(l=o.options.initialPromotionConfig)===null||l===void 0?void 0:l.transition,preserveFollowOpacity:(c=(u=o.options.initialPromotionConfig)===null||u===void 0?void 0:u.shouldPreserveFollowOpacity)===null||c===void 0?void 0:c.call(u,o)})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(o=!0),!o)return;const u={};for(let c=0;c<G4.length;c++){const h="rotate"+G4[c];l[h]&&(u[h]=l[h],s.setStaticValue(h,0))}s?.render();for(const c in u)s.setStaticValue(c,u[c]);s.scheduleRender()}getProjectionStyles(s={}){var o,l;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=zm(s.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=zm(s.pointerEvents)||""),this.hasProjected&&!Ao(this.latestValues)&&(y.transform=c?c({},""):"none",this.hasProjected=!1),y}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=W4(this.projectionDeltaWithTransform,this.treeScale,p),c&&(u.transform=c(p,u.transform));const{x:m,y:g}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(o=p.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const y in o0){if(p[y]===void 0)continue;const{correct:b,applyTo:v}=o0[y],x=u.transform==="none"?p[y]:b(p[y],h);if(v){const k=v.length;for(let T=0;T<k;T++)u[v[T]]=x}else u[y]=x}return this.options.layoutId&&(u.pointerEvents=h===this?zm(s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(q4),this.root.sharedNodes.clear()}}}function gZ(e){e.updateLayout()}function yZ(e){var t,n,r;const i=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&i&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:s}=e.layout,{animationType:o}=e.options,l=i.source!==e.layout.source;o==="size"?fa(m=>{const g=l?i.measuredBox[m]:i.layoutBox[m],y=ni(g);g.min=a[m].min,g.max=g.min+y}):LL(o,i.layoutBox,a)&&fa(m=>{const g=l?i.measuredBox[m]:i.layoutBox[m],y=ni(a[m]);g.max=g.min+y});const u=Gd();Vd(u,a,i.layoutBox);const c=Gd();l?Vd(c,e.applyTransform(s,!0),i.measuredBox):Vd(c,a,i.layoutBox);const h=!DL(u);let p=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:y}=m;if(g&&y){const b=On();Wd(b,i.layoutBox,g.layoutBox);const v=On();Wd(v,a,y.layoutBox),OL(b,v)||(p=!0),m.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=b,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:i,delta:c,layoutDelta:u,hasLayoutChanged:h,hasRelativeTargetChanged:p})}else e.isLead()&&((r=(n=e.options).onExitComplete)===null||r===void 0||r.call(n));e.options.transition=void 0}function vZ(e){e.isProjectionDirty||(e.isProjectionDirty=!!(e.parent&&e.parent.isProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=!!(e.parent&&e.parent.isTransformDirty))}function wZ(e){e.clearSnapshot()}function q4(e){e.clearMeasurements()}function bZ(e){const{visualElement:t}=e.options;t?.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function K4(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function xZ(e){e.resolveTargetDelta()}function kZ(e){e.calcProjection()}function SZ(e){e.resetRotation()}function EZ(e){e.removeLeadSnapshot()}function Y4(e,t,n){e.translate=wn(t.translate,0,n),e.scale=wn(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function X4(e,t,n,r){e.min=wn(t.min,n.min,r),e.max=wn(t.max,n.max,r)}function CZ(e,t,n,r){X4(e.x,t.x,n.x,r),X4(e.y,t.y,n.y,r)}function _Z(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const TZ={duration:.45,ease:[.4,0,.1,1]};function IZ(e,t){let n=e.root;for(let a=e.path.length-1;a>=0;a--)if(e.path[a].instance){n=e.path[a];break}const i=(n&&n!==e.root?n.instance:document).querySelector(`[data-projection-id="${t}"]`);i&&e.mount(i,!0)}function Q4(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function PZ(e){Q4(e.x),Q4(e.y)}function LL(e,t,n){return e==="position"||e==="preserve-aspect"&&!N2(V4(t),V4(n),.2)}const RZ=ML({attachResizeListener:(e,t)=>tv(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Jw={current:void 0},AZ=ML({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Jw.current){const e=new RZ(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),Jw.current=e}return Jw.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),NZ={...cQ,...PY,...NQ,...rZ},Or=$K((e,t)=>gY(e,t,NZ,ZQ,AZ));function FL(){const e=Y.useRef(!1);return s0(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function DZ(){const e=FL(),[t,n]=Y.useState(0),r=Y.useCallback(()=>{e.current&&n(t+1)},[t]);return[Y.useCallback(()=>fr.postRender(r),[r]),t]}class OZ extends Y.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function MZ({children:e,isPresent:t}){const n=Y.useId(),r=Y.useRef(null),i=Y.useRef({width:0,height:0,top:0,left:0});return Y.useInsertionEffect(()=>{const{width:a,height:s,top:o,left:l}=i.current;if(t||!r.current||!a||!s)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${s}px !important;
            top: ${o}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),Y.createElement(OZ,{isPresent:t,childRef:r,sizeRef:i},Y.cloneElement(e,{ref:r}))}const eb=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:s})=>{const o=ev(LZ),l=Y.useId(),u=Y.useMemo(()=>({id:l,initial:t,isPresent:n,custom:i,onExitComplete:c=>{o.set(c,!0);for(const h of o.values())if(!h)return;r&&r()},register:c=>(o.set(c,!1),()=>o.delete(c))}),a?void 0:[n]);return Y.useMemo(()=>{o.forEach((c,h)=>o.set(h,!1))},[n]),Y.useEffect(()=>{!n&&!o.size&&r&&r()},[n]),s==="popLayout"&&(e=Y.createElement(MZ,{isPresent:n},e)),Y.createElement(uf.Provider,{value:u},e)};function LZ(){return new Map}const Ql=e=>e.key||"";function FZ(e,t){e.forEach(n=>{const r=Ql(n);t.set(r,n)})}function BZ(e){const t=[];return Y.Children.forEach(e,n=>{Y.isValidElement(n)&&t.push(n)}),t}const ff=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:a=!0,mode:s="sync"})=>{i&&(s="wait");let[o]=DZ();const l=Y.useContext(vC).forceRender;l&&(o=l);const u=FL(),c=BZ(e);let h=c;const p=new Set,m=Y.useRef(h),g=Y.useRef(new Map).current,y=Y.useRef(!0);if(s0(()=>{y.current=!1,FZ(c,g),m.current=h}),IC(()=>{y.current=!0,g.clear(),p.clear()}),y.current)return Y.createElement(Y.Fragment,null,h.map(k=>Y.createElement(eb,{key:Ql(k),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:a,mode:s},k)));h=[...h];const b=m.current.map(Ql),v=c.map(Ql),x=b.length;for(let k=0;k<x;k++){const T=b[k];v.indexOf(T)===-1&&p.add(T)}return s==="wait"&&p.size&&(h=[]),p.forEach(k=>{if(v.indexOf(k)!==-1)return;const T=g.get(k);if(!T)return;const P=b.indexOf(k),R=()=>{g.delete(k),p.delete(k);const N=m.current.findIndex(B=>B.key===k);if(m.current.splice(N,1),!p.size){if(m.current=c,u.current===!1)return;o(),r&&r()}};h.splice(P,0,Y.createElement(eb,{key:Ql(T),isPresent:!1,onExitComplete:R,custom:t,presenceAffectsLayout:a,mode:s},T))}),h=h.map(k=>{const T=k.key;return p.has(T)?k:Y.createElement(eb,{key:Ql(k),isPresent:!0,presenceAffectsLayout:a,mode:s},k)}),Y.createElement(Y.Fragment,null,p.size?h:h.map(k=>Y.cloneElement(k)))};var z2;(e=>{(t=>{t.presets=()=>({preventDefault:!0,stopPropagation:!0})})(e.Options||(e.Options={}))})(z2||(z2={}));const zZ=function(e,t){return e.length===t.length&&e.every(function(n,r){return n===t[r]})},UZ=function(e){var t=[];return e.ctrlKey&&t.push("ctrlKey"),e.shiftKey&&t.push("shiftKey"),e.altKey&&t.push("altKey"),e.metaKey&&t.push("metaKey"),t};var jZ=globalThis&&globalThis.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))};const Z4=function(e){var t=e.toLowerCase();return t.length===1?[t]:t.includes("+")?t.replace(/\s+/g,"").split(/\b\+/g):jZ([],t.match(/[^\s"']+|"([^"]*)"|'([^']*)'/g)||[],!0).map(function(n){return n.replace(/("|').*?("|')/," ")})},$Z=function(e,t){return e.length===t.length&&e.every(function(n){return t.includes(n)})};var VZ={control:"ctrlKey",shift:"shiftKey",alt:"altKey",meta:"metaKey"};const WZ=function(e){return e.map(function(t){return VZ[t]})},U2=function(e){return e.altKey||e.ctrlKey||e.shiftKey||e.metaKey},GZ=function(e){return e[e.length-1]},HZ=function(e){return e.slice(0,-1)};var qZ=["INPUT","TEXTAREA"];const KZ=function(e,t,n){if(!e.key&&!U2(e))return!0;var r=e.target||{};return r.isContentEditable&&!t?!0:qZ.includes(r.nodeName)&&!n?.includes(r.nodeName)};(function(){if(!(typeof self>"u"||!self.document)){var e=KeyboardEvent.prototype,t=Object.getOwnPropertyDescriptor(e,"key");if(t){var n={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};Object.defineProperty(e,"key",{get:function(){var r=t.get.call(this);return n.hasOwnProperty(r)?n[r]:r}})}}})();var YZ=1e3,XZ="*",QZ=function(e,t,n){var r=Y.useMemo(function(){return Array.isArray(e)?e.map(Z4):[Z4(e)]},[e]);Y.useEffect(function(){var i={},a={},s=n||{},o=s.enabled,l=s.enableOnContentEditable,u=s.ignoredElementWhitelist,c=s.eventListenerOptions,h=function(b){clearTimeout(a[b])},p=function(b){h(b),i[b]=[]},m=function(b,v,x){h(x),i[x]=i[x]||[],a[x]=window.setTimeout(function(){p(x)},YZ);var k=i[x];k.push(b.key.toLowerCase()),zZ(k,v)&&(p(x),t(b))},g=function(b,v){var x=GZ(v),k=WZ(HZ(v)),T=UZ(b),P=$Z(k,T);P&&b.key.toLowerCase()===x&&t(b)},y=function(b){KZ(b,l,u)||r.forEach(function(v,x){if(v.length===1&&v[0]===XZ){t(b);return}if(U2(b)){g(b,v);return}if(v.length>1&&!U2(b)){m(b,v,x);return}b.key.toLowerCase()===v[0]&&t(b)})};return o!==!1&&window.addEventListener("keydown",y,c),function(){window.removeEventListener("keydown",y,c)}},[r,t,n?.enabled,n?.enableOnContentEditable,n?.ignoredElementWhitelist,n?.eventListenerOptions])},j2;(e=>{e.getInfo=()=>{const{userAgent:t}=navigator,n=navigator.appVersion,r=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)?"Mobile/Phone":/iPad/i.test(t)?"Tablet":"Desktop/Laptop",i=t.indexOf("Chrome")>-1&&navigator.userAgent.indexOf("OPR")===-1?"Chrome":t.indexOf("Firefox")>-1?"Firefox":t.indexOf("Safari")>-1&&t.indexOf("OPR")===-1?"Safari":t.indexOf("Edge")>-1||t.indexOf("edg/")>-1?"Edge":t.indexOf("OPR")>-1?"Opera":"Unknown",a=n.match(/win/i)?"Windows":n.match(/mac/i)?"Mac":n.match(/linux/i)?"Linux":"Unknown";return{deviceType:r,browserName:i,operatingSystem:a}}})(j2||(j2={}));function Yu({className:e,...t}){const n=useMemo(()=>Yu.normalize(t.keys).flatMap(r=>r.map(i=>E(Xe.Key,{keyType:i},i))),[t.keys]);return E("div",{className:classes("flex items-center justify-center gap-1",e),children:n})}(e=>{e.normalize=t=>{const n=typeof t=="string"?[[t]]:Array.isArray(t)&&typeof t[0]=="string"?[t]:t.map(r=>typeof r=="string"?[r]:r);return j2.getInfo().operatingSystem!=="Windows"?n:n.map(r=>r.map(i=>i==="Meta"?"Control":i))},e.use=t=>{const{action:n=doNothing,keys:r,options:i={},event:a=Xe.Event.Options.presets()}=useMemo(()=>({keys:[],...t}),[t]),s=useMemo(()=>(0,e.normalize)(r).map(l=>l.map((u,c)=>l[0]==="Shift"&&c===1&&Xe.Key.getShifted(u)||u).join("+")),[r]),o=useCallback(l=>{a.stopPropagation&&l.stopPropagation(),a.preventDefault&&l.preventDefault(),n({keyboardEvent:l})},[a,n]);QZ(s,o,i)}})(Yu||(Yu={}));const ZZ={Meta:"",Control:"^",Shift:""},JZ={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},eJ={a:"a",b:"b",c:"c",d:"d",e:"e",f:"f",g:"g",h:"h",i:"i",j:"j",k:"k",l:"l",m:"m",n:"n",o:"o",p:"p",q:"q",r:"r",s:"s",t:"t",u:"u",v:"v",w:"w",x:"x",y:"y",z:"z"},tJ={Escape:"esc",Backspace:"",Delete:"",Enter:"","\\":"\\","-":"-","=":"+","[":{display:"[",shift:"{"},"]":{display:"]",shift:"}"},ArrowDown:"",ArrowLeft:"",ArrowRight:"",ArrowUp:"",F5:"F5",F7:"F7"},BL={...ZZ,...JZ,...eJ,...tJ};function v0({keyType:e}){const t=v0.useIsActive(e),n=useMemo(()=>{const r=BL[e];return typeof r=="string"?r:r.display},[e]);return E("div",{className:classes("bg-muted-white-extra flex h-6 items-center justify-center rounded align-middle text-white",t&&"bg-white text-black",n.length===1?"w-6 uppercase":"px-1.5 lowercase"),children:n})}(e=>{e.getShifted=t=>{const n=BL[t];return typeof n=="string"?n:n.shift},e.useOnDown=(t,n)=>{useEffect(()=>{const r=i=>i.key===t&&n(i);return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[t,n])},e.useOnUp=(t,n)=>{useEffect(()=>{const r=i=>i.key===t&&n(i);return window.addEventListener("keyup",r),()=>window.removeEventListener("keyup",r)},[t,n])},e.useIsActive=t=>{const[n,r]=useState(!1),i=useRef();return(0,e.useOnDown)(t,useCallback(a=>a.key.toLowerCase()===t&&r(!0),[t])),(0,e.useOnUp)(t,useCallback(a=>a.key.toLowerCase()===t&&r(!1),[t])),useEffect(()=>()=>clearTimeout(i.current),[]),useEffect(()=>{n&&(i.current&&clearTimeout(i.current),i.current=setTimeout(()=>r(!1),1e3))},[n,i]),n}})(v0||(v0={}));function w0({id:e,name:t,group:n}){return useMemo(()=>{const r=w0.toArray({id:e,name:t}),i=n&&r.length>1?r.slice(1):r;return E(it,{children:i.flatMap((a,s)=>[E("span",{children:a},s),E(q.Divider.Inline,{},keys(s,"divider"))]).slice(0,-1)})},[e,t,n])}(e=>{e.compare=(t,n)=>(0,e.toString)(t).localeCompare((0,e.toString)(n)),e.toArray=t=>t.name?Array.isArray(t.name)?t.name:[t.name]:[t.id],e.toStringArray=t=>(0,e.toArray)(t).map(n=>`${n}`),e.toString=t=>(0,e.toStringArray)(t).join(" ")})(w0||(w0={}));function b0(){const{ref:e}=nJ(),t=Xe.Search.use(),n=Ja.useDisplayed(),{isOpen:r,setIsOpen:i}=b0.use(),a=useCallback(()=>i(!1),[i]),s=useCallback(()=>i(!r),[r,i]),{clear:o}=t;return useEffect(()=>{!r&&o()},[r,o]),Xe.Key.useOnDown("Escape",a),Xe.Keys.use(useMemo(()=>({keys:["Meta","k"],action:s,options:{ignoredElementWhitelist:["INPUT","TEXTAREA"]}}),[s])),useMemo(()=>r?ne("div",{ref:e,className:"absolute bottom-0 left-0 right-0 top-0 z-[9999] flex items-center justify-center",children:[E("div",{onClick:a,className:"absolute bottom-0 left-0 right-0 top-0 z-0 bg-zinc-900/50 opacity-100 backdrop-blur-sm"}),E("div",{className:"relative",children:ne("div",{className:"z-30 min-h-[500px] min-w-[400px] rounded bg-zinc-200 text-black shadow-lg dark:bg-zinc-800/90 dark:text-white",children:[E("div",{className:"px-4 py-2",children:E(mC,{autoFocus:!0,transparent:!0,size:"lg",placeholder:"What are you looking for?",loading:t.loading,value:t.text,onChange:t.setText,iconLeft:q.Icon.Search,iconRight:t.text!==""&&(l=>E(q.Icon.X,{...l,onClick:()=>t.setText(""),className:classes("pointer-events-auto cursor-pointer",l.className)}))})}),n[0]?E(Ja,{className:"p-2",onAction:a}):t.text!==""&&!t.loading&&E("div",{className:"text-muted-white-extra flex items-center justify-center p-4 pt-2 text-xl",children:"Nothing found"})]})})]}):null,[e,r,a,t,n])}(e=>{e.use=tt.create(t=>({isOpen:!1,setIsOpen:n=>t({isOpen:n})}))})(b0||(b0={}));const nJ=()=>{const e=useRef(null);Xe.Key.useOnDown("Enter",useCallback(n=>{if(!e.current)return;const r=Array.from(e.current.querySelectorAll("button"));r.length&&(r.some(i=>i===document.activeElement)||(r[0]?.focus(),n.stopPropagation(),n.preventDefault()))},[]));const t=useCallback(n=>{if(!e.current)return;const r=[...e.current.querySelectorAll("input,button").values()],i=r.findIndex(s=>s===document.activeElement);if(i===-1)return;const a=n==="up"&&i>0?i-1:n==="down"&&i<r.length-1?i+1:i;r[a]?.focus()},[]);return Xe.Key.useOnDown("ArrowDown",useCallback(()=>t("down"),[t])),Xe.Key.useOnDown("ArrowUp",useCallback(()=>t("up"),[t])),{ref:e}};var $2;(e=>{const t=(n,r)=>{const i=["low","medium","high"];return i.indexOf(r.level??"low")-i.indexOf(n.level??"low")};e.use=()=>{const n=Ja.use(),r=Xe.Priorities.use();return useMemo(()=>n.map(s=>({shortcut:s,priority:r.filter(o=>Xe.Priority.applies(o,s)).sort(t)[0]})).sort((s,o)=>{const l=t(s.priority??{level:"low"},o.priority??{level:"low"});return l!==0?l:Xe.Name.compare(s.shortcut,o.shortcut)}).map(({shortcut:s})=>s),[n,r])}})($2||($2={}));var V2;(e=>{e.use=()=>{const t=x0.use(({priorities:n})=>({priorities:n}));return useMemo(()=>[...t.priorities.values()],[t.priorities])},e.useSet=()=>x0.use(({setPriorities:t})=>({setPriorities:t})).setPriorities})(V2||(V2={}));var x0;(e=>{e.use=tt.create(t=>({priorities:new Map,setPriorities:n=>t(({priorities:r})=>({priorities:new Map(typeof n=="function"?n(r):n)}))}))})(x0||(x0={}));var W2;(e=>{e.Order=$2,e.applies=(t,n)=>{const r=Xe.Name.toStringArray(t),i=Xe.Name.toStringArray(n);return r.filter((a,s)=>i[s]===a).length===r.length},e.use=t=>{const[n]=useState(ID.create),r=useMemo(()=>({id:n,enabled:!0,level:"low",...t}),[n,t]),i=Xe.Priorities.useSet();useEffect(()=>{const a=()=>i(o=>o.set(r.id,r)),s=()=>i(o=>(o.delete(r.id),o));return r.enabled?a():s(),s},[r,i])}})(W2||(W2={}));var ln=function(){return ln=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ln.apply(this,arguments)};function rJ(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(c){try{u(r.next(c))}catch(h){s(h)}}function l(c){try{u(r.throw(c))}catch(h){s(h)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((r=r.apply(e,t||[])).next())})}function iJ(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function gt(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Tn(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a}var aJ="ENTRIES",zL="KEYS",UL="VALUES",Xn="",tb=function(){function e(t,n){var r=t._tree,i=Array.from(r.keys());this.set=t,this._type=n,this._path=i.length>0?[{node:r,keys:i}]:[]}return e.prototype.next=function(){var t=this.dive();return this.backtrack(),t},e.prototype.dive=function(){if(this._path.length===0)return{done:!0,value:void 0};var t=$l(this._path),n=t.node,r=t.keys;if($l(r)===Xn)return{done:!1,value:this.result()};var i=n.get($l(r));return this._path.push({node:i,keys:Array.from(i.keys())}),this.dive()},e.prototype.backtrack=function(){if(this._path.length!==0){var t=$l(this._path).keys;t.pop(),!(t.length>0)&&(this._path.pop(),this.backtrack())}},e.prototype.key=function(){return this.set._prefix+this._path.map(function(t){var n=t.keys;return $l(n)}).filter(function(t){return t!==Xn}).join("")},e.prototype.value=function(){return $l(this._path).node.get(Xn)},e.prototype.result=function(){switch(this._type){case UL:return this.value();case zL:return this.key();default:return[this.key(),this.value()]}},e.prototype[Symbol.iterator]=function(){return this},e}(),$l=function(e){return e[e.length-1]},sJ=function(e,t,n){var r=new Map;if(t===void 0)return r;for(var i=t.length+1,a=i+n,s=new Uint8Array(a*i).fill(n+1),o=0;o<i;++o)s[o]=o;for(var l=1;l<a;++l)s[l*i]=l;return jL(e,t,n,r,s,1,i,""),r},jL=function(e,t,n,r,i,a,s,o){var l,u,c=a*s;try{e:for(var h=gt(e.keys()),p=h.next();!p.done;p=h.next()){var m=p.value;if(m===Xn){var g=i[c-1];g<=n&&r.set(o,[e.get(m),g])}else{for(var y=a,b=0;b<m.length;++b,++y){for(var v=m[b],x=s*y,k=x-s,T=i[x],P=Math.max(0,y-n-1),R=Math.min(s-1,y+n),N=P;N<R;++N){var B=v!==t[N],j=i[k+N]+ +B,W=i[k+N+1]+1,H=i[x+N]+1,z=i[x+N+1]=Math.min(j,W,H);z<T&&(T=z)}if(T>n)continue e}jL(e.get(m),t,n,r,i,y,s,o+m)}}}catch($){l={error:$}}finally{try{p&&!p.done&&(u=h.return)&&u.call(h)}finally{if(l)throw l.error}}},nb=function(){function e(t,n){t===void 0&&(t=new Map),n===void 0&&(n=""),this._size=void 0,this._tree=t,this._prefix=n}return e.prototype.atPrefix=function(t){var n,r;if(!t.startsWith(this._prefix))throw new Error("Mismatched prefix");var i=Tn(k0(this._tree,t.slice(this._prefix.length)),2),a=i[0],s=i[1];if(a===void 0){var o=Tn(GC(s),2),l=o[0],u=o[1];try{for(var c=gt(l.keys()),h=c.next();!h.done;h=c.next()){var p=h.value;if(p!==Xn&&p.startsWith(u)){var m=new Map;return m.set(p.slice(u.length),l.get(p)),new e(m,t)}}}catch(g){n={error:g}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}return new e(a,t)},e.prototype.clear=function(){this._size=void 0,this._tree.clear()},e.prototype.delete=function(t){return this._size=void 0,oJ(this._tree,t)},e.prototype.entries=function(){return new tb(this,aJ)},e.prototype.forEach=function(t){var n,r;try{for(var i=gt(this),a=i.next();!a.done;a=i.next()){var s=Tn(a.value,2),o=s[0],l=s[1];t(o,l,this)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.fuzzyGet=function(t,n){return sJ(this._tree,t,n)},e.prototype.get=function(t){var n=G2(this._tree,t);return n!==void 0?n.get(Xn):void 0},e.prototype.has=function(t){var n=G2(this._tree,t);return n!==void 0&&n.has(Xn)},e.prototype.keys=function(){return new tb(this,zL)},e.prototype.set=function(t,n){if(typeof t!="string")throw new Error("key must be a string");this._size=void 0;var r=rb(this._tree,t);return r.set(Xn,n),this},Object.defineProperty(e.prototype,"size",{get:function(){if(this._size)return this._size;this._size=0;for(var t=this.entries();!t.next().done;)this._size+=1;return this._size},enumerable:!1,configurable:!0}),e.prototype.update=function(t,n){if(typeof t!="string")throw new Error("key must be a string");this._size=void 0;var r=rb(this._tree,t);return r.set(Xn,n(r.get(Xn))),this},e.prototype.fetch=function(t,n){if(typeof t!="string")throw new Error("key must be a string");this._size=void 0;var r=rb(this._tree,t),i=r.get(Xn);return i===void 0&&r.set(Xn,i=n()),i},e.prototype.values=function(){return new tb(this,UL)},e.prototype[Symbol.iterator]=function(){return this.entries()},e.from=function(t){var n,r,i=new e;try{for(var a=gt(t),s=a.next();!s.done;s=a.next()){var o=Tn(s.value,2),l=o[0],u=o[1];i.set(l,u)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i},e.fromObject=function(t){return e.from(Object.entries(t))},e}(),k0=function(e,t,n){var r,i;if(n===void 0&&(n=[]),t.length===0||e==null)return[e,n];try{for(var a=gt(e.keys()),s=a.next();!s.done;s=a.next()){var o=s.value;if(o!==Xn&&t.startsWith(o))return n.push([e,o]),k0(e.get(o),t.slice(o.length),n)}}catch(l){r={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return n.push([e,t]),k0(void 0,"",n)},G2=function(e,t){var n,r;if(t.length===0||e==null)return e;try{for(var i=gt(e.keys()),a=i.next();!a.done;a=i.next()){var s=a.value;if(s!==Xn&&t.startsWith(s))return G2(e.get(s),t.slice(s.length))}}catch(o){n={error:o}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},rb=function(e,t){var n,r,i=t.length;e:for(var a=0;e&&a<i;){try{for(var s=(n=void 0,gt(e.keys())),o=s.next();!o.done;o=s.next()){var l=o.value;if(l!==Xn&&t[a]===l[0]){for(var u=Math.min(i-a,l.length),c=1;c<u&&t[a+c]===l[c];)++c;var h=e.get(l);if(c===l.length)e=h;else{var p=new Map;p.set(l.slice(c),h),e.set(t.slice(a,a+c),p),e.delete(l),e=p}a+=c;continue e}}}catch(g){n={error:g}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}var m=new Map;return e.set(t.slice(a),m),m}return e},oJ=function(e,t){var n=Tn(k0(e,t),2),r=n[0],i=n[1];if(r!==void 0){if(r.delete(Xn),r.size===0)$L(i);else if(r.size===1){var a=Tn(r.entries().next().value,2),s=a[0],o=a[1];VL(i,s,o)}}},$L=function(e){if(e.length!==0){var t=Tn(GC(e),2),n=t[0],r=t[1];if(n.delete(r),n.size===0)$L(e.slice(0,-1));else if(n.size===1){var i=Tn(n.entries().next().value,2),a=i[0],s=i[1];a!==Xn&&VL(e.slice(0,-1),a,s)}}},VL=function(e,t,n){if(e.length!==0){var r=Tn(GC(e),2),i=r[0],a=r[1];i.set(a+t,n),i.delete(a)}},GC=function(e){return e[e.length-1]},sd,HC="or",WL="and",lJ="and_not",GL=function(){function e(t){if(t?.fields==null)throw new Error('MiniSearch: option "fields" must be provided');var n=t.autoVacuum==null||t.autoVacuum===!0?sb:t.autoVacuum;this._options=ln(ln(ln({},ab),t),{autoVacuum:n,searchOptions:ln(ln({},J4),t.searchOptions||{}),autoSuggestOptions:ln(ln({},fJ),t.autoSuggestOptions||{})}),this._index=new nb,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this._dirtCount=0,this._currentVacuum=null,this._enqueuedVacuum=null,this._enqueuedVacuumConditions=q2,this.addFields(this._options.fields)}return e.prototype.add=function(t){var n,r,i,a,s,o,l=this._options,u=l.extractField,c=l.tokenize,h=l.processTerm,p=l.fields,m=l.idField,g=u(t,m);if(g==null)throw new Error('MiniSearch: document does not have ID field "'.concat(m,'"'));if(this._idToShortId.has(g))throw new Error("MiniSearch: duplicate ID ".concat(g));var y=this.addDocumentId(g);this.saveStoredFields(y,t);try{for(var b=gt(p),v=b.next();!v.done;v=b.next()){var x=v.value,k=u(t,x);if(k!=null){var T=c(k.toString(),x),P=this._fieldIds[x],R=new Set(T).size;this.addFieldLength(y,P,this._documentCount-1,R);try{for(var N=(i=void 0,gt(T)),B=N.next();!B.done;B=N.next()){var j=B.value,W=h(j,x);if(Array.isArray(W))try{for(var H=(s=void 0,gt(W)),z=H.next();!z.done;z=H.next()){var $=z.value;this.addTerm(P,y,$)}}catch(O){s={error:O}}finally{try{z&&!z.done&&(o=H.return)&&o.call(H)}finally{if(s)throw s.error}}else W&&this.addTerm(P,y,W)}}catch(O){i={error:O}}finally{try{B&&!B.done&&(a=N.return)&&a.call(N)}finally{if(i)throw i.error}}}}}catch(O){n={error:O}}finally{try{v&&!v.done&&(r=b.return)&&r.call(b)}finally{if(n)throw n.error}}},e.prototype.addAll=function(t){var n,r;try{for(var i=gt(t),a=i.next();!a.done;a=i.next()){var s=a.value;this.add(s)}}catch(o){n={error:o}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.addAllAsync=function(t,n){var r=this;n===void 0&&(n={});var i=n.chunkSize,a=i===void 0?10:i,s={chunk:[],promise:Promise.resolve()},o=t.reduce(function(c,h,p){var m=c.chunk,g=c.promise;return m.push(h),(p+1)%a===0?{chunk:[],promise:g.then(function(){return new Promise(function(y){return setTimeout(y,0)})}).then(function(){return r.addAll(m)})}:{chunk:m,promise:g}},s),l=o.chunk,u=o.promise;return u.then(function(){return r.addAll(l)})},e.prototype.remove=function(t){var n,r,i,a,s,o,l=this._options,u=l.tokenize,c=l.processTerm,h=l.extractField,p=l.fields,m=l.idField,g=h(t,m);if(g==null)throw new Error('MiniSearch: document does not have ID field "'.concat(m,'"'));var y=this._idToShortId.get(g);if(y==null)throw new Error("MiniSearch: cannot remove document with ID ".concat(g,": it is not in the index"));try{for(var b=gt(p),v=b.next();!v.done;v=b.next()){var x=v.value,k=h(t,x);if(k!=null){var T=u(k.toString(),x),P=this._fieldIds[x],R=new Set(T).size;this.removeFieldLength(y,P,this._documentCount,R);try{for(var N=(i=void 0,gt(T)),B=N.next();!B.done;B=N.next()){var j=B.value,W=c(j,x);if(Array.isArray(W))try{for(var H=(s=void 0,gt(W)),z=H.next();!z.done;z=H.next()){var $=z.value;this.removeTerm(P,y,$)}}catch(O){s={error:O}}finally{try{z&&!z.done&&(o=H.return)&&o.call(H)}finally{if(s)throw s.error}}else W&&this.removeTerm(P,y,W)}}catch(O){i={error:O}}finally{try{B&&!B.done&&(a=N.return)&&a.call(N)}finally{if(i)throw i.error}}}}}catch(O){n={error:O}}finally{try{v&&!v.done&&(r=b.return)&&r.call(b)}finally{if(n)throw n.error}}this._storedFields.delete(y),this._documentIds.delete(y),this._idToShortId.delete(g),this._fieldLength.delete(y),this._documentCount-=1},e.prototype.removeAll=function(t){var n,r;if(t)try{for(var i=gt(t),a=i.next();!a.done;a=i.next()){var s=a.value;this.remove(s)}}catch(o){n={error:o}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}else{if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");this._index=new nb,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}},e.prototype.discard=function(t){var n=this,r=this._idToShortId.get(t);if(r==null)throw new Error("MiniSearch: cannot discard document with ID ".concat(t,": it is not in the index"));this._idToShortId.delete(t),this._documentIds.delete(r),this._storedFields.delete(r),(this._fieldLength.get(r)||[]).forEach(function(i,a){n.removeFieldLength(r,a,n._documentCount,i)}),this._fieldLength.delete(r),this._documentCount-=1,this._dirtCount+=1,this.maybeAutoVacuum()},e.prototype.maybeAutoVacuum=function(){if(this._options.autoVacuum!==!1){var t=this._options.autoVacuum,n=t.minDirtFactor,r=t.minDirtCount,i=t.batchSize,a=t.batchWait;this.conditionalVacuum({batchSize:i,batchWait:a},{minDirtCount:r,minDirtFactor:n})}},e.prototype.discardAll=function(t){var n,r,i=this._options.autoVacuum;try{this._options.autoVacuum=!1;try{for(var a=gt(t),s=a.next();!s.done;s=a.next()){var o=s.value;this.discard(o)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}finally{this._options.autoVacuum=i}this.maybeAutoVacuum()},e.prototype.replace=function(t){var n=this._options,r=n.idField,i=n.extractField,a=i(t,r);this.discard(a),this.add(t)},e.prototype.vacuum=function(t){return t===void 0&&(t={}),this.conditionalVacuum(t)},e.prototype.conditionalVacuum=function(t,n){var r=this;return this._currentVacuum?(this._enqueuedVacuumConditions=this._enqueuedVacuumConditions&&n,this._enqueuedVacuum!=null?this._enqueuedVacuum:(this._enqueuedVacuum=this._currentVacuum.then(function(){var i=r._enqueuedVacuumConditions;return r._enqueuedVacuumConditions=q2,r.performVacuuming(t,i)}),this._enqueuedVacuum)):this.vacuumConditionsMet(n)===!1?Promise.resolve():(this._currentVacuum=this.performVacuuming(t),this._currentVacuum)},e.prototype.performVacuuming=function(t,n){return rJ(this,void 0,void 0,function(){var r,i,a,s,o,l,u,c,h,p,m,g,y,b,v,x,k,T,P,R,N,B,j,W,H;return iJ(this,function(z){switch(z.label){case 0:if(r=this._dirtCount,!this.vacuumConditionsMet(n))return[3,10];i=t.batchSize||H2.batchSize,a=t.batchWait||H2.batchWait,s=1,z.label=1;case 1:z.trys.push([1,7,8,9]),o=gt(this._index),l=o.next(),z.label=2;case 2:if(l.done)return[3,6];u=Tn(l.value,2),c=u[0],h=u[1];try{for(p=(B=void 0,gt(h)),m=p.next();!m.done;m=p.next()){g=Tn(m.value,2),y=g[0],b=g[1];try{for(v=(W=void 0,gt(b)),x=v.next();!x.done;x=v.next())k=Tn(x.value,1),T=k[0],!this._documentIds.has(T)&&(b.size<=1?h.delete(y):b.delete(T))}catch($){W={error:$}}finally{try{x&&!x.done&&(H=v.return)&&H.call(v)}finally{if(W)throw W.error}}}}catch($){B={error:$}}finally{try{m&&!m.done&&(j=p.return)&&j.call(p)}finally{if(B)throw B.error}}return this._index.get(c).size===0&&this._index.delete(c),s%i!==0?[3,4]:[4,new Promise(function($){return setTimeout($,a)})];case 3:z.sent(),z.label=4;case 4:s+=1,z.label=5;case 5:return l=o.next(),[3,2];case 6:return[3,9];case 7:return P=z.sent(),R={error:P},[3,9];case 8:try{l&&!l.done&&(N=o.return)&&N.call(o)}finally{if(R)throw R.error}return[7];case 9:this._dirtCount-=r,z.label=10;case 10:return[4,null];case 11:return z.sent(),this._currentVacuum=this._enqueuedVacuum,this._enqueuedVacuum=null,[2]}})})},e.prototype.vacuumConditionsMet=function(t){if(t==null)return!0;var n=t.minDirtCount,r=t.minDirtFactor;return n=n||sb.minDirtCount,r=r||sb.minDirtFactor,this.dirtCount>=n&&this.dirtFactor>=r},Object.defineProperty(e.prototype,"isVacuuming",{get:function(){return this._currentVacuum!=null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dirtCount",{get:function(){return this._dirtCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dirtFactor",{get:function(){return this._dirtCount/(1+this._documentCount+this._dirtCount)},enumerable:!1,configurable:!0}),e.prototype.has=function(t){return this._idToShortId.has(t)},e.prototype.search=function(t,n){var r,i;n===void 0&&(n={});var a=this.executeQuery(t,n),s=[];try{for(var o=gt(a),l=o.next();!l.done;l=o.next()){var u=Tn(l.value,2),c=u[0],h=u[1],p=h.score,m=h.terms,g=h.match,y=m.length,b={id:this._documentIds.get(c),score:p*y,terms:Object.keys(g),match:g};Object.assign(b,this._storedFields.get(c)),(n.filter==null||n.filter(b))&&s.push(b)}}catch(v){r={error:v}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s.sort(tP),s},e.prototype.autoSuggest=function(t,n){var r,i,a,s;n===void 0&&(n={}),n=ln(ln({},this._options.autoSuggestOptions),n);var o=new Map;try{for(var l=gt(this.search(t,n)),u=l.next();!u.done;u=l.next()){var c=u.value,h=c.score,p=c.terms,m=p.join(" "),g=o.get(m);g!=null?(g.score+=h,g.count+=1):o.set(m,{score:h,terms:p,count:1})}}catch(P){r={error:P}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}var y=[];try{for(var b=gt(o),v=b.next();!v.done;v=b.next()){var x=Tn(v.value,2),g=x[0],k=x[1],h=k.score,p=k.terms,T=k.count;y.push({suggestion:g,terms:p,score:h/T})}}catch(P){a={error:P}}finally{try{v&&!v.done&&(s=b.return)&&s.call(b)}finally{if(a)throw a.error}}return y.sort(tP),y},Object.defineProperty(e.prototype,"documentCount",{get:function(){return this._documentCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"termCount",{get:function(){return this._index.size},enumerable:!1,configurable:!0}),e.loadJSON=function(t,n){if(n==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJS(JSON.parse(t),n)},e.getDefault=function(t){if(ab.hasOwnProperty(t))return ib(ab,t);throw new Error('MiniSearch: unknown option "'.concat(t,'"'))},e.loadJS=function(t,n){var r,i,a,s,o,l,u=t.index,c=t.documentCount,h=t.nextId,p=t.documentIds,m=t.fieldIds,g=t.fieldLength,y=t.averageFieldLength,b=t.storedFields,v=t.dirtCount,x=t.serializationVersion;if(x!==1&&x!==2)throw new Error("MiniSearch: cannot deserialize an index created with an incompatible version");var k=new e(n);k._documentCount=c,k._nextId=h,k._documentIds=nm(p),k._idToShortId=new Map,k._fieldIds=m,k._fieldLength=nm(g),k._avgFieldLength=y,k._storedFields=nm(b),k._dirtCount=v||0,k._index=new nb;try{for(var T=gt(k._documentIds),P=T.next();!P.done;P=T.next()){var R=Tn(P.value,2),N=R[0],B=R[1];k._idToShortId.set(B,N)}}catch(ie){r={error:ie}}finally{try{P&&!P.done&&(i=T.return)&&i.call(T)}finally{if(r)throw r.error}}try{for(var j=gt(u),W=j.next();!W.done;W=j.next()){var H=Tn(W.value,2),z=H[0],$=H[1],O=new Map;try{for(var te=(o=void 0,gt(Object.keys($))),X=te.next();!X.done;X=te.next()){var le=X.value,de=$[le];x===1&&(de=de.ds),O.set(parseInt(le,10),nm(de))}}catch(ie){o={error:ie}}finally{try{X&&!X.done&&(l=te.return)&&l.call(te)}finally{if(o)throw o.error}}k._index.set(z,O)}}catch(ie){a={error:ie}}finally{try{W&&!W.done&&(s=j.return)&&s.call(j)}finally{if(a)throw a.error}}return k},e.prototype.executeQuery=function(t,n){var r=this;if(n===void 0&&(n={}),typeof t!="string"){var i=ln(ln(ln({},n),t),{queries:void 0}),a=t.queries.map(function(b){return r.executeQuery(b,i)});return this.combineResults(a,i.combineWith)}var s=this._options,o=s.tokenize,l=s.processTerm,u=s.searchOptions,c=ln(ln({tokenize:o,processTerm:l},u),n),h=c.tokenize,p=c.processTerm,m=h(t).flatMap(function(b){return p(b)}).filter(function(b){return!!b}),g=m.map(hJ(c)),y=g.map(function(b){return r.executeQuerySpec(b,c)});return this.combineResults(y,c.combineWith)},e.prototype.executeQuerySpec=function(t,n){var r,i,a,s,o=ln(ln({},this._options.searchOptions),n),l=(o.fields||this._options.fields).reduce(function(le,de){var ie;return ln(ln({},le),(ie={},ie[de]=ib(o.boost,de)||1,ie))},{}),u=o.boostDocument,c=o.weights,h=o.maxFuzzy,p=o.bm25,m=ln(ln({},J4.weights),c),g=m.fuzzy,y=m.prefix,b=this._index.get(t.term),v=this.termResults(t.term,t.term,1,b,l,u,p),x,k;if(t.prefix&&(x=this._index.atPrefix(t.term)),t.fuzzy){var T=t.fuzzy===!0?.2:t.fuzzy,P=T<1?Math.min(h,Math.round(t.term.length*T)):T;P&&(k=this._index.fuzzyGet(t.term,P))}if(x)try{for(var R=gt(x),N=R.next();!N.done;N=R.next()){var B=Tn(N.value,2),j=B[0],W=B[1],H=j.length-t.term.length;if(H){k?.delete(j);var z=y*j.length/(j.length+.3*H);this.termResults(t.term,j,z,W,l,u,p,v)}}}catch(le){r={error:le}}finally{try{N&&!N.done&&(i=R.return)&&i.call(R)}finally{if(r)throw r.error}}if(k)try{for(var $=gt(k.keys()),O=$.next();!O.done;O=$.next()){var j=O.value,te=Tn(k.get(j),2),X=te[0],H=te[1];if(H){var z=g*j.length/(j.length+H);this.termResults(t.term,j,z,X,l,u,p,v)}}}catch(le){a={error:le}}finally{try{O&&!O.done&&(s=$.return)&&s.call($)}finally{if(a)throw a.error}}return v},e.prototype.combineResults=function(t,n){if(n===void 0&&(n=HC),t.length===0)return new Map;var r=n.toLowerCase();return t.reduce(uJ[r])||new Map},e.prototype.toJSON=function(){var t,n,r,i,a=[];try{for(var s=gt(this._index),o=s.next();!o.done;o=s.next()){var l=Tn(o.value,2),u=l[0],c=l[1],h={};try{for(var p=(r=void 0,gt(c)),m=p.next();!m.done;m=p.next()){var g=Tn(m.value,2),y=g[0],b=g[1];h[y]=Object.fromEntries(b)}}catch(v){r={error:v}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}a.push([u,h])}}catch(v){t={error:v}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),dirtCount:this._dirtCount,index:a,serializationVersion:2}},e.prototype.termResults=function(t,n,r,i,a,s,o,l){var u,c,h,p,m;if(l===void 0&&(l=new Map),i==null)return l;try{for(var g=gt(Object.keys(a)),y=g.next();!y.done;y=g.next()){var b=y.value,v=a[b],x=this._fieldIds[b],k=i.get(x);if(k!=null){var T=k.size,P=this._avgFieldLength[x];try{for(var R=(h=void 0,gt(k.keys())),N=R.next();!N.done;N=R.next()){var B=N.value;if(!this._documentIds.has(B)){this.removeTerm(x,B,n),T-=1;continue}var j=s?s(this._documentIds.get(B),n):1;if(j){var W=k.get(B),H=this._fieldLength.get(B)[x],z=dJ(W,T,this._documentCount,H,P,o),$=r*v*j*z,O=l.get(B);if(O){O.score+=$,pJ(O.terms,t);var te=ib(O.match,n);te?te.push(b):O.match[n]=[b]}else l.set(B,{score:$,terms:[t],match:(m={},m[n]=[b],m)})}}}catch(X){h={error:X}}finally{try{N&&!N.done&&(p=R.return)&&p.call(R)}finally{if(h)throw h.error}}}}}catch(X){u={error:X}}finally{try{y&&!y.done&&(c=g.return)&&c.call(g)}finally{if(u)throw u.error}}return l},e.prototype.addTerm=function(t,n,r){var i=this._index.fetch(r,nP),a=i.get(t);if(a==null)a=new Map,a.set(n,1),i.set(t,a);else{var s=a.get(n);a.set(n,(s||0)+1)}},e.prototype.removeTerm=function(t,n,r){if(!this._index.has(r)){this.warnDocumentChanged(n,t,r);return}var i=this._index.fetch(r,nP),a=i.get(t);a==null||a.get(n)==null?this.warnDocumentChanged(n,t,r):a.get(n)<=1?a.size<=1?i.delete(t):a.delete(n):a.set(n,a.get(n)-1),this._index.get(r).size===0&&this._index.delete(r)},e.prototype.warnDocumentChanged=function(t,n,r){var i,a;try{for(var s=gt(Object.keys(this._fieldIds)),o=s.next();!o.done;o=s.next()){var l=o.value;if(this._fieldIds[l]===n){this._options.logger("warn","MiniSearch: document with ID ".concat(this._documentIds.get(t),' has changed before removal: term "').concat(r,'" was not present in field "').concat(l,'". Removing a document after it has changed can corrupt the index!'),"version_conflict");return}}}catch(u){i={error:u}}finally{try{o&&!o.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}},e.prototype.addDocumentId=function(t){var n=this._nextId;return this._idToShortId.set(t,n),this._documentIds.set(n,t),this._documentCount+=1,this._nextId+=1,n},e.prototype.addFields=function(t){for(var n=0;n<t.length;n++)this._fieldIds[t[n]]=n},e.prototype.addFieldLength=function(t,n,r,i){var a=this._fieldLength.get(t);a==null&&this._fieldLength.set(t,a=[]),a[n]=i;var s=this._avgFieldLength[n]||0,o=s*r+i;this._avgFieldLength[n]=o/(r+1)},e.prototype.removeFieldLength=function(t,n,r,i){if(r===1){this._avgFieldLength[n]=0;return}var a=this._avgFieldLength[n]*r-i;this._avgFieldLength[n]=a/(r-1)},e.prototype.saveStoredFields=function(t,n){var r,i,a=this._options,s=a.storeFields,o=a.extractField;if(!(s==null||s.length===0)){var l=this._storedFields.get(t);l==null&&this._storedFields.set(t,l={});try{for(var u=gt(s),c=u.next();!c.done;c=u.next()){var h=c.value,p=o(n,h);p!==void 0&&(l[h]=p)}}catch(m){r={error:m}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}},e}(),ib=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},uJ=(sd={},sd[HC]=function(e,t){var n,r;try{for(var i=gt(t.keys()),a=i.next();!a.done;a=i.next()){var s=a.value,o=e.get(s);if(o==null)e.set(s,t.get(s));else{var l=t.get(s),u=l.score,c=l.terms,h=l.match;o.score=o.score+u,o.match=Object.assign(o.match,h),eP(o.terms,c)}}}catch(p){n={error:p}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return e},sd[WL]=function(e,t){var n,r,i=new Map;try{for(var a=gt(t.keys()),s=a.next();!s.done;s=a.next()){var o=s.value,l=e.get(o);if(l!=null){var u=t.get(o),c=u.score,h=u.terms,p=u.match;eP(l.terms,h),i.set(o,{score:l.score+c,terms:l.terms,match:Object.assign(l.match,p)})}}}catch(m){n={error:m}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i},sd[lJ]=function(e,t){var n,r;try{for(var i=gt(t.keys()),a=i.next();!a.done;a=i.next()){var s=a.value;e.delete(s)}}catch(o){n={error:o}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return e},sd),cJ={k:1.2,b:.7,d:.5},dJ=function(e,t,n,r,i,a){var s=a.k,o=a.b,l=a.d,u=Math.log(1+(n-t+.5)/(t+.5));return u*(l+e*(s+1)/(e+s*(1-o+o*r/i)))},hJ=function(e){return function(t,n,r){var i=typeof e.fuzzy=="function"?e.fuzzy(t,n,r):e.fuzzy||!1,a=typeof e.prefix=="function"?e.prefix(t,n,r):e.prefix===!0;return{term:t,fuzzy:i,prefix:a}}},ab={idField:"id",extractField:function(e,t){return e[t]},tokenize:function(e,t){return e.split(mJ)},processTerm:function(e,t){return e.toLowerCase()},fields:void 0,searchOptions:void 0,storeFields:[],logger:function(e,t,n){return console!=null&&console.warn!=null&&console[e](t)},autoVacuum:!0},J4={combineWith:HC,prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375},bm25:cJ},fJ={combineWith:WL,prefix:function(e,t,n){return t===n.length-1}},H2={batchSize:1e3,batchWait:10},q2={minDirtFactor:.1,minDirtCount:20},sb=ln(ln({},H2),q2),pJ=function(e,t){e.includes(t)||e.push(t)},eP=function(e,t){var n,r;try{for(var i=gt(t),a=i.next();!a.done;a=i.next()){var s=a.value;e.includes(s)||e.push(s)}}catch(o){n={error:o}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},tP=function(e,t){var n=e.score,r=t.score;return r-n},nP=function(){return new Map},nm=function(e){var t,n,r=new Map;try{for(var i=gt(Object.keys(e)),a=i.next();!a.done;a=i.next()){var s=a.value;r.set(parseInt(s,10),e[s])}}catch(o){t={error:o}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r},mJ=/[\n\r -#%-*,-/:;?@[-\]_{}\u00A0\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]+/u,S0;(e=>{e.use=()=>{const{text:t,setText:n,miniSearch:r,lastAdded:i}=E0.use(({text:h,setText:p,miniSearch:m,lastAdded:g})=>({text:h,setText:p,miniSearch:m,lastAdded:g})),[a,s]=useState(!1),[o,l]=useState([]),u=useCallback((h="")=>{n(h),s(h!==""),l([])},[n]),c=useCallback(()=>u(""),[u]);return Ph(()=>s(!1),500,[o]),Ph(()=>l(r.search(t).map(({id:h})=>h)),10,[t,r,i]),useMemo(()=>({loading:a,matches:o,text:t,setText:u,clear:c}),[o,a,t,u,c])},(t=>{t.use=n=>{const{enabled:r,id:i}=n,a=useMemo(()=>Xe.Name.toString(n),[n]),{miniSearch:s,setLastAdded:o}=E0.use(({miniSearch:l,setLastAdded:u})=>({miniSearch:l,setLastAdded:u}));useEffect(()=>{const l=()=>{s.has(i)&&s.remove({id:i,text:a})};return l(),s.add({id:i,text:a}),o(i),l},[r,i,a,s,o])}})(e.Datum||(e.Datum={}))})(S0||(S0={}));var E0;(e=>{e.use=tt.create(t=>({text:"",setText:n=>t({text:n}),miniSearch:new GL({idField:"id",fields:["text"],storeFields:[],searchOptions:{fuzzy:!0,prefix:!0}}),lastAdded:void 0,setLastAdded:n=>t({lastAdded:n})}))})(E0||(E0={}));function Ja({onAction:e,className:t}){const n=Ja.useDisplayed();return useMemo(()=>{const r=Ja.toGroups(n),{grouped:i,ungrouped:a}=n.reduce(({grouped:l,ungrouped:u},c)=>{const h=Xe.Name.toStringArray(c),p=r.find(m=>m===h[0]);return{ungrouped:p?u:[...u,c],grouped:p?{...l,[p]:[...l[p]??[],c]}:l}},{grouped:{},ungrouped:[]}),s=Object.entries(i).flatMap(([l,u],c)=>[E(q.Divider,{children:l},l),...u.map((h,p)=>E(Xe,{selected:!1,group:l,shortcut:{...h,action:()=>{e?.(),h.action()}}},h.id))]),o=a.map(l=>E(Xe,{shortcut:{...l,action:()=>{e?.(),l.action()}}},l.id));return ne("div",{className:classes("flex flex-col gap-2",t),children:[s,o.length>0&&E(q.Divider,{}),o]})},[n,e,t])}(e=>{e.toGroups=t=>t.reduce(({seen:n,groups:r},i)=>{const[a,s]=Xe.Name.toStringArray(i);return a?{seen:{...n,[a]:!0},groups:(n[a]||s)&&!r.includes(a)?[...r,a]:r}:{seen:n,groups:r}},{seen:{},groups:[]}).groups,e.get=()=>Hd.use.getState().shortcuts,e.set=t=>Hd.use.getState().setShortcuts(t),e.use=()=>{const t=Hd.use(({shortcuts:n})=>({shortcuts:n}));return useMemo(()=>[...t.shortcuts.values()],[t.shortcuts])},e.useDisplayed=()=>{const t=Xe.Priority.Order.use(),n=Xe.Search.use();return useMemo(()=>t.filter(({id:r,menu:i})=>i&&(n.text!==""?n.matches.includes(r):!0)),[t,n.matches,n.text])}})(Ja||(Ja={}));var Hd;(e=>{e.use=tt.create(t=>({shortcuts:new Map,setShortcuts:n=>t(({shortcuts:r})=>({shortcuts:new Map(typeof n=="function"?n(r):n)}))}))})(Hd||(Hd={}));function Xe({shortcut:e,group:t,selected:n}){return useMemo(()=>E(q.Button,{transparent:!0,className:"w-full min-w-[200px]",selected:n,iconLeft:e.icon??q.Icon.Invisible,iconRight:e.keys&&E(Yu,{keys:e.keys,className:"ml-auto flex grow justify-end pl-6"}),onClick:()=>e.action(),children:E(Xe.Name,{id:e.id,name:e.name,group:t})}),[t,n,e])}(e=>{e.Event=z2,e.Key=v0,e.Keys=Yu,e.Palette=b0,e.Priority=W2,e.Priorities=V2,e.Search=S0,e.Name=w0;function t(n){const[r]=useState(ID.create),i=useMemo(()=>({id:r,enabled:!0,menu:!0,...n}),[r,n]),{enabled:a,action:s}=i,o=useCallback(l=>{a&&s(l)},[a,s]);return useEffect(()=>{const l=()=>Ja.set(c=>c.set(r,i)),u=()=>Ja.set(c=>(c.delete(r),c));return a?l():u(),u},[a,r,i]),S0.Datum.use(i),Yu.use(useMemo(()=>({keys:i.keys?typeof i.keys=="string"||Array.isArray(i.keys)?i.keys:i.keys.keys:void 0,action:o,options:i.options}),[i.keys,i.options,o])),useMemo(()=>({...i,action:o}),[i,o])}e.use=t})(Xe||(Xe={}));function gJ({actions:e}){return E("div",{className:"mt-4 flex flex-row items-center justify-end gap-2",children:e.map((t,n)=>q7(yJ,{...t,key:n}))})}function yJ({label:e,onClick:t,variant:n="zinc",size:r=q.Common.Size.preset(),disabled:i=!1}){return E(q.Button,{color:n,onClick:t,size:r,disabled:i,children:e})}function vJ({className:e,children:t}){return E("p",{className:classes("text-left opacity-90",e),children:t})}function wJ({className:e,children:t}){return E("div",{className:classes("flex flex-col rounded-lg border border-zinc-700 bg-zinc-900",e),children:t})}function bJ({className:e,children:t}){return E("h1",{className:classes("text-left text-2xl font-medium",e),children:t})}function xJ({className:e,children:t,onClose:n}){return ne("div",{className:classes("flex flex-row items-center justify-between rounded-t-lg border-b border-zinc-700 bg-zinc-900 p-2",e),children:[E("div",{children:t}),E(q.Button,{icon:q.Icon.X,onClick:()=>n?.()})]})}const kJ={closed:{opacity:0,transition:{type:"tween",duration:.1}},open:{opacity:1,transition:{type:"tween",duration:.1}}},SJ={closed:{scale:.9,opacity:0,transition:{type:"spring",damping:30,stiffness:500,restSpeed:10}},open:{scale:1,opacity:1,transition:{type:"spring",damping:22,stiffness:500,restSpeed:.1}}};function K2(e){const t=useMemo(()=>document.getElementById("modal-root"),[]);if(!t)return console.error("Could not find root element"),null;const n=E(ff,{children:e.open&&E(EJ,{...e})});return cc.createPortal(n,t)}function EJ({open:e,onClose:t,children:n,className:r,modalName:i}){return Xe.use(useMemo(()=>({menu:!1,name:[`${i} Modal`,"Close"],keys:"Escape",action:()=>{t()}}),[i,t])),E(Or.div,{className:classes("fixed top-0 left-0 z-[1000] flex h-full w-full bg-black/75 sm:h-screen sm:w-screen sm:items-center sm:justify-center",!e&&"pointer-events-none"),variants:kJ,initial:"closed",animate:e?"open":"closed",exit:"closed",onClick:t,children:E(Or.div,{className:classes(!e&&"pointer-events-none",r),variants:SJ,initial:"closed",animate:e?"open":"closed",exit:"closed",onClick:a=>a.stopPropagation(),children:e&&n})})}(e=>{e.Panel=wJ,e.Title=bJ,e.Description=vJ,e.Actions=gJ,e.TopBar=xJ})(K2||(K2={}));var C0;(e=>{e.use=()=>useMemo(()=>({dark:!0,systemPrefersDark:!0}),[])})(C0||(C0={}));function CJ(e){return E(q.Badge,{...e,variant:"outline",color:"zinc",children:e.children??E(it,{children:"New"})})}function _J(e){const{onChange:t,onNumberChange:n,...r}=qd.Props.usePresets(e),[i,a]=useState(!1),[s,o]=useState(r.value);useEffect(()=>o(r.value),[r.value,o]);const l=qd.useParseNumber({...r,clamping:!1}),u=useCallback(v=>{r.disabled||(a(!0),r.autoSelect&&v.target.select())},[r.disabled,r.autoSelect]),c=useCallback(v=>{if(o(v),t?.(v),!r.number||!n)return;const x=l(v);x&&n(x)},[r.number,l,t,n]),h=useCallback(()=>{a(!1);const v=l(s);c(v?`${clamp(r.min??-1/0,v,r.max??1/0)}`:r.value?`${r.value}`:"")},[c,l,r.max,r.min,r.value,s]),p=useCallback(v=>c(v.target.value),[c]),{icon:m,iconRight:g,outsideIcon:y}=qd.useIcons({...r,value:s,onChange:c}),b=useCallback(v=>{v.key==="Enter"&&v.currentTarget.blur()},[]);return ne("div",{className:classes("group flex flex-col gap-1",!r.fullWidth&&"w-fit",r.className),children:[r.label&&E("label",{className:"opacity-muted text-sm font-light",children:r.label}),ne("div",{className:classes("-ml-1 flex flex-row items-center",r.containerClassName),children:[y,ne("div",{className:classes("flex flex-row items-center rounded pl-1 outline outline-1 outline-transparent duration-150",i?"outline-brand-500":"group-hover:outline-zinc-700",r.inputClassName),children:[m,E("input",{className:classes("rounded bg-transparent py-0.5 text-black outline-none placeholder:text-black/50 dark:text-white dark:placeholder:text-white/20",r.disabled&&"cursor-not-allowed",r.fullWidth?"w-full":"w-20",r.percentage&&"w-12 text-right"),value:!i&&r.round&&!isNaN(Number(s))?Math.round(Number(s)):s,onChange:p,placeholder:r.placeholder,disabled:r.disabled,onFocus:u,onBlur:h,onKeyDown:b}),g??(r.percentage&&E("div",{className:"opacity-muted px-1",children:"%"}))]})]})]})}var qd;(e=>{(t=>{t.usePresets=n=>useMemo(()=>({value:n.value??"",percentage:n.percentage??!1,number:n.number??!1,min:n.min??-1/0,max:n.max??1/0,step:n.step??1,autoSelect:n.autoSelect??!0,...n}),[n])})(e.Props||(e.Props={})),e.useParseNumber=({number:t,min:n,max:r,step:i,clamping:a})=>useCallback(s=>{if(!t||s==="")return;const o=typeof s=="number"?s:parseFloat(s);if(isNaN(o))return;const u=((i??1)%1).toString().split(".")[1]?.length??0,c=i?Math.round(o/i)*i:o,h=parseFloat(c.toFixed(u));return a?clamp(n??-1/0,h,r??1/0):h},[t,i,a,n,r]),e.useIcons=({value:t="",onChange:n,disabled:r,loading:i,min:a,max:s,step:o,number:l,icon:u,iconRight:c})=>{const h=e.useParseNumber({number:l,min:a,max:s,step:o,clamping:!0}),p=useCallback(m=>{if(!r&&l){const g=m.clientX,y=throttle(v=>{const x=v.clientX-g,k=h(t);if(!k)return;const T=s?50*(o??1)/s:1,P=h(k+x*T);P&&(n?.(P.toString()),window.getSelection()?.removeAllRanges(),document.body.style.cursor="ew-resize")},25,{trailing:!0}),b=()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",b),document.body.style.cursor="default"};window.addEventListener("mousemove",y),window.addEventListener("mouseup",b)}},[r,l,t,o,s,h,n]);return{icon:useMemo(()=>{if(!u)return null;const m=classes("opacity-60 h-7 w-7 p-1 select-none shrink-0",!r&&l&&t?"cursor-ew-resize":"");return i?E(q.Loading.Spinner,{className:m}):typeof u=="function"?u({className:`${m} -ml-1`,onMouseDown:p}):typeof u=="string"?u.length!==1?null:E("h1",{className:"opacity-muted -ml-1 flex h-7 w-7 cursor-ew-resize select-none items-center justify-center",onMouseDown:p,children:u}):typeof u!="object"||React.isValidElement(u)?u:null},[u,r,l,t,i,p]),iconRight:useMemo(()=>{if(!c)return null;const m=classes("opacity-60 h-7 w-7 p-1 select-none shrink-0");return typeof c=="function"?c({className:m}):typeof c=="string"?c.length!==1?void 0:E("h1",{className:"opacity-muted flex h-7 w-7 select-none items-center justify-center",children:c}):typeof c!="object"||React.isValidElement(c)?c:null},[c]),outsideIcon:useMemo(()=>u&&typeof u=="string"&&u.length>1?E("h1",{className:"opacity-muted mr-1 flex h-full cursor-ew-resize select-none items-center justify-center p-1",onMouseDown:p,children:u}):null,[u,p])}}})(qd||(qd={}));function TJ({fullWidth:e=!1,fullHeight:t=!1,className:n,children:r}){return E("div",{className:classes("absolute top-0 left-0 right-0 bottom-0 flex grow flex-col items-center overflow-y-auto p-4 pb-20 sm:p-8 sm:pb-20 md:p-12 md:pb-20",e&&"pl-0 pr-0 sm:pl-0 sm:pr-0 md:pl-0 md:pr-0",t&&"pt-0 pb-0 sm:pt-0 sm:pb-0 md:pt-0 md:pb-0",n),css:css`
        overflow-anchor: none;
      `,children:E("div",{className:classes("max-w-[1600px] grow",e&&"w-full max-w-none"),children:r})})}var qo=[],IJ=function(){return qo.some(function(e){return e.activeTargets.length>0})},PJ=function(){return qo.some(function(e){return e.skippedTargets.length>0})},rP="ResizeObserver loop completed with undelivered notifications.",RJ=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:rP}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=rP),window.dispatchEvent(e)},Oh;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Oh||(Oh={}));var Ko=function(e){return Object.freeze(e)},AJ=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,Ko(this)}return e}(),HL=function(){function e(t,n,r,i){return this.x=t,this.y=n,this.width=r,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Ko(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,i=t.top,a=t.right,s=t.bottom,o=t.left,l=t.width,u=t.height;return{x:n,y:r,top:i,right:a,bottom:s,left:o,width:l,height:u}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),qC=function(e){return e instanceof SVGElement&&"getBBox"in e},qL=function(e){if(qC(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var i=e,a=i.offsetWidth,s=i.offsetHeight;return!(a||s||e.getClientRects().length)},iP=function(e){var t;if(e instanceof Element)return!0;var n=(t=e?.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},NJ=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Kd=typeof window<"u"?window:{},rm=new WeakMap,aP=/auto|scroll/,DJ=/^tb|vertical/,OJ=/msie|trident/i.test(Kd.navigator&&Kd.navigator.userAgent),ca=function(e){return parseFloat(e||"0")},Pu=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new AJ((n?t:e)||0,(n?e:t)||0)},sP=Ko({devicePixelContentBoxSize:Pu(),borderBoxSize:Pu(),contentBoxSize:Pu(),contentRect:new HL(0,0,0,0)}),KL=function(e,t){if(t===void 0&&(t=!1),rm.has(e)&&!t)return rm.get(e);if(qL(e))return rm.set(e,sP),sP;var n=getComputedStyle(e),r=qC(e)&&e.ownerSVGElement&&e.getBBox(),i=!OJ&&n.boxSizing==="border-box",a=DJ.test(n.writingMode||""),s=!r&&aP.test(n.overflowY||""),o=!r&&aP.test(n.overflowX||""),l=r?0:ca(n.paddingTop),u=r?0:ca(n.paddingRight),c=r?0:ca(n.paddingBottom),h=r?0:ca(n.paddingLeft),p=r?0:ca(n.borderTopWidth),m=r?0:ca(n.borderRightWidth),g=r?0:ca(n.borderBottomWidth),y=r?0:ca(n.borderLeftWidth),b=h+u,v=l+c,x=y+m,k=p+g,T=o?e.offsetHeight-k-e.clientHeight:0,P=s?e.offsetWidth-x-e.clientWidth:0,R=i?b+x:0,N=i?v+k:0,B=r?r.width:ca(n.width)-R-P,j=r?r.height:ca(n.height)-N-T,W=B+b+P+x,H=j+v+T+k,z=Ko({devicePixelContentBoxSize:Pu(Math.round(B*devicePixelRatio),Math.round(j*devicePixelRatio),a),borderBoxSize:Pu(W,H,a),contentBoxSize:Pu(B,j,a),contentRect:new HL(h,l,B,j)});return rm.set(e,z),z},YL=function(e,t,n){var r=KL(e,n),i=r.borderBoxSize,a=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(t){case Oh.DEVICE_PIXEL_CONTENT_BOX:return s;case Oh.BORDER_BOX:return i;default:return a}},MJ=function(){function e(t){var n=KL(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=Ko([n.borderBoxSize]),this.contentBoxSize=Ko([n.contentBoxSize]),this.devicePixelContentBoxSize=Ko([n.devicePixelContentBoxSize])}return e}(),XL=function(e){if(qL(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},LJ=function(){var e=1/0,t=[];qo.forEach(function(s){if(s.activeTargets.length!==0){var o=[];s.activeTargets.forEach(function(u){var c=new MJ(u.target),h=XL(u.target);o.push(c),u.lastReportedSize=YL(u.target,u.observedBox),h<e&&(e=h)}),t.push(function(){s.callback.call(s.observer,o,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var i=r[n];i()}return e},oP=function(e){qo.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(i){i.isActive()&&(XL(i.target)>e?n.activeTargets.push(i):n.skippedTargets.push(i))})})},FJ=function(){var e=0;for(oP(e);IJ();)e=LJ(),oP(e);return PJ()&&RJ(),e>0},ob,QL=[],BJ=function(){return QL.splice(0).forEach(function(e){return e()})},zJ=function(e){if(!ob){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return BJ()}).observe(n,r),ob=function(){n.textContent="".concat(t?t--:t++)}}QL.push(e),ob()},UJ=function(e){zJ(function(){requestAnimationFrame(e)})},jm=0,jJ=function(){return!!jm},$J=250,VJ={attributes:!0,characterData:!0,childList:!0,subtree:!0},lP=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],uP=function(e){return e===void 0&&(e=0),Date.now()+e},lb=!1,WJ=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=$J),!lb){lb=!0;var r=uP(t);UJ(function(){var i=!1;try{i=FJ()}finally{if(lb=!1,t=r-uP(),!jJ())return;i?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,VJ)};document.body?n():Kd.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),lP.forEach(function(n){return Kd.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),lP.forEach(function(n){return Kd.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),Y2=new WJ,cP=function(e){!jm&&e>0&&Y2.start(),jm+=e,!jm&&Y2.stop()},GJ=function(e){return!qC(e)&&!NJ(e)&&getComputedStyle(e).display==="inline"},HJ=function(){function e(t,n){this.target=t,this.observedBox=n||Oh.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=YL(this.target,this.observedBox,!0);return GJ(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),qJ=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),im=new WeakMap,dP=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},am=function(){function e(){}return e.connect=function(t,n){var r=new qJ(t,n);im.set(t,r)},e.observe=function(t,n,r){var i=im.get(t),a=i.observationTargets.length===0;dP(i.observationTargets,n)<0&&(a&&qo.push(i),i.observationTargets.push(new HJ(n,r&&r.box)),cP(1),Y2.schedule())},e.unobserve=function(t,n){var r=im.get(t),i=dP(r.observationTargets,n),a=r.observationTargets.length===1;i>=0&&(a&&qo.splice(qo.indexOf(r),1),r.observationTargets.splice(i,1),cP(-1))},e.disconnect=function(t){var n=this,r=im.get(t);r.observationTargets.slice().forEach(function(i){return n.unobserve(t,i.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),KJ=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");am.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!iP(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");am.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!iP(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");am.unobserve(this,t)},e.prototype.disconnect=function(){am.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();const YJ=Ve[typeof document<"u"&&document.createElement!==void 0?"useLayoutEffect":"useEffect"],XJ=YJ,QJ=e=>{const t=Y.useRef(e);return Y.useEffect(()=>{t.current=e}),t},ZJ=QJ,JJ=typeof window<"u"&&"ResizeObserver"in window?window.ResizeObserver:KJ;function eee(){}function tee(e,t){const n=ree(),r=ZJ(t);return XJ(()=>{let i=!1;const a=e&&"current"in e?e.current:e;if(!a)return eee;function s(o,l){i||r.current(o,l)}return n.subscribe(a,s),()=>{i=!0,n.unsubscribe(a,s)}},[e,n,r]),n.observer}function nee(){let e=!1,t=[];const n=new Map,r=new JJ((i,a)=>{t=t.concat(i);function s(){const o=new Set;for(let l=0;l<t.length;l++){if(o.has(t[l].target))continue;o.add(t[l].target);const u=n.get(t[l].target);u?.forEach(c=>c(t[l],a))}t=[],e=!1}e||window.requestAnimationFrame(s),e=!0});return{observer:r,subscribe(i,a){var s;r.observe(i);const o=(s=n.get(i))!==null&&s!==void 0?s:[];o.push(a),n.set(i,o)},unsubscribe(i,a){var s;const o=(s=n.get(i))!==null&&s!==void 0?s:[];if(o.length===1){r.unobserve(i),n.delete(i);return}const l=o.indexOf(a);l!==-1&&o.splice(l,1),n.set(i,o)}}}let ub;const ree=()=>ub||(ub=nee());function iee({onClick:e,className:t,options:n,value:r,title:i,placeholder:a,label:s,children:o,anchor:l="top"}){const[u,c]=useState(!1),[h]=see([u]),p=useRef(null);Yy(p,()=>c(!1));const m=useMemo(()=>n.find(y=>y.value===r),[n,r]),g=q.useIsMobileDevice();return ne("div",{ref:p,children:[u&&E("div",{ref:h,className:"fixed z-50 block",style:g?{bottom:"0",left:"0",width:"100%",right:"0"}:{...l==="top"?{top:`${p.current?.getBoundingClientRect().top}px`}:{bottom:`${window.innerHeight-(p.current?.getBoundingClientRect().bottom??0)}px`},left:`${(p.current?.getBoundingClientRect().left??0)+(p.current?.getBoundingClientRect().width??0)}px`},children:E(aee,{onClick:y=>{e(y),c(!1)},options:n,value:r,title:i,children:o})}),ne("div",{className:"flex flex-col gap-1",children:[s&&E(q.Label,{children:s}),ne("div",{className:classes("flex cursor-pointer flex-row items-center rounded border border-transparent py-1 pl-2 pr-1 duration-100",u?"bg-zinc-700/50":"hover:border-zinc-700",t),onClick:()=>c(!u),children:[m?.image&&E("img",{className:"mr-2 h-5 w-5 rounded",src:m.image,alt:"Preset Image"}),E("h1",{className:"w-full grow select-none",children:m?.name??a??"Select"}),E(q.Icon.ChevronRight,{className:"h-6 w-6",strokeWidth:1.5})]})]})]})}function aee({onClick:e,title:t,options:n,value:r,children:i}){const a=useMemo(()=>n.some(s=>s.image),[n]);return ne("div",{className:"flex max-h-[70vh] flex-col overflow-y-auto rounded border border-zinc-700 bg-zinc-900 shadow-lg drop-shadow-lg sm:ml-3 sm:max-h-[30rem] sm:w-[25rem]",children:[ne("div",{className:"sticky top-0 z-[1] flex flex-row items-center justify-between border-b border-zinc-700 bg-zinc-900 px-3 py-1.5",children:[E("h1",{className:"grow",children:t}),E(q.Icon.X,{className:"opacity-muted h-5 w-5 cursor-pointer hover:opacity-100",strokeWidth:1.5,onClick:()=>e(r)})]}),E("div",{className:classes("grid gap-y-6 p-3",a?"grid-cols-3 gap-4":"gap-3"),children:i||n.map((s,o)=>ne("div",{onClick:s.disabled?doNothing:()=>e(s.value),className:classes("group flex cursor-pointer flex-col rounded duration-100",s.disabled&&"opacity-muted cursor-not-allowed"),children:[s.image?E("img",{className:"mb-2 aspect-square h-full w-full rounded-lg border border-transparent duration-100 group-hover:border-zinc-200",src:s.image,alt:"Preset Image"}):a&&E("div",{className:"mb-2 flex aspect-square w-full items-center justify-center rounded-lg border border-transparent bg-black/20 duration-100 group-hover:border-zinc-200",children:E(q.Icon.Slash,{className:"opacity-muted h-12 w-12"})}),E("h1",{className:classes("w-full grow select-none text-zinc-400 group-hover:text-zinc-200",s.value===r&&"font-medium text-white"),children:s.name})]},o))})]})}const see=e=>{const t=useRef(null),[n,r]=useState({x:0,y:0,width:0,height:0}),i=useCallback(a=>r(s=>a??t.current?.getBoundingClientRect()??s),[r]);return tee(t,()=>i()),useLayoutEffect(i,[...e,i]),[t,n]};function oee({className:e}){return E("div",{className:classes("animate-pulse rounded-full bg-zinc-200 dark:bg-zinc-700",e)})}function X2(e,t){return X2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},X2(e,t)}function lee(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,X2(e,t)}function cb(e){return e&&e.stopPropagation&&e.stopPropagation(),e&&e.preventDefault&&e.preventDefault(),!1}function db(e){return e==null?[]:Array.isArray(e)?e.slice():[e]}function sm(e){return e!==null&&e.length===1?e[0]:e.slice()}function om(e){Object.keys(e).forEach(t=>{typeof document<"u"&&document.addEventListener(t,e[t],!1)})}function Co(e,t){return Q2(function(n,r){let i=n;return i<=r.min&&(i=r.min),i>=r.max&&(i=r.max),i}(e,t),t)}function Q2(e,t){const n=(e-t.min)%t.step;let r=e-n;return 2*Math.abs(n)>=t.step&&(r+=n>0?t.step:-t.step),parseFloat(r.toFixed(5))}let Z2=function(e){function t(r){var i;(i=e.call(this,r)||this).onKeyUp=()=>{i.onEnd()},i.onMouseUp=()=>{i.onEnd(i.getMouseEventMap())},i.onTouchEnd=()=>{i.onEnd(i.getTouchEventMap())},i.onBlur=()=>{i.setState({index:-1},i.onEnd(i.getKeyDownEventMap()))},i.onMouseMove=o=>{i.setState({pending:!0});const l=i.getMousePosition(o),u=i.getDiffPosition(l[0]),c=i.getValueFromPosition(u);i.move(c)},i.onTouchMove=o=>{if(o.touches.length>1)return;i.setState({pending:!0});const l=i.getTouchPosition(o);if(i.isScrolling===void 0){const h=l[0]-i.startPosition[0],p=l[1]-i.startPosition[1];i.isScrolling=Math.abs(p)>Math.abs(h)}if(i.isScrolling)return void i.setState({index:-1});const u=i.getDiffPosition(l[0]),c=i.getValueFromPosition(u);i.move(c)},i.onKeyDown=o=>{if(!(o.ctrlKey||o.shiftKey||o.altKey||o.metaKey))switch(i.setState({pending:!0}),o.key){case"ArrowLeft":case"ArrowDown":case"Left":case"Down":o.preventDefault(),i.moveDownByStep();break;case"ArrowRight":case"ArrowUp":case"Right":case"Up":o.preventDefault(),i.moveUpByStep();break;case"Home":o.preventDefault(),i.move(i.props.min);break;case"End":o.preventDefault(),i.move(i.props.max);break;case"PageDown":o.preventDefault(),i.moveDownByStep(i.props.pageFn(i.props.step));break;case"PageUp":o.preventDefault(),i.moveUpByStep(i.props.pageFn(i.props.step))}},i.onSliderMouseDown=o=>{if(!i.props.disabled&&o.button!==2){if(i.setState({pending:!0}),!i.props.snapDragDisabled){const l=i.getMousePosition(o);i.forceValueFromPosition(l[0],u=>{i.start(u,l[0]),om(i.getMouseEventMap())})}cb(o)}},i.onSliderClick=o=>{if(!i.props.disabled&&i.props.onSliderClick&&!i.hasMoved){const l=i.getMousePosition(o),u=Co(i.calcValue(i.calcOffsetFromPosition(l[0])),i.props);i.props.onSliderClick(u)}},i.createOnKeyDown=o=>l=>{i.props.disabled||(i.start(o),om(i.getKeyDownEventMap()),cb(l))},i.createOnMouseDown=o=>l=>{if(i.props.disabled||l.button===2)return;i.setState({pending:!0});const u=i.getMousePosition(l);i.start(o,u[0]),om(i.getMouseEventMap()),cb(l)},i.createOnTouchStart=o=>l=>{if(i.props.disabled||l.touches.length>1)return;i.setState({pending:!0});const u=i.getTouchPosition(l);i.startPosition=u,i.isScrolling=void 0,i.start(o,u[0]),om(i.getTouchEventMap()),function(c){c.stopPropagation&&c.stopPropagation()}(l)},i.handleResize=()=>{const o=window.setTimeout(()=>{i.pendingResizeTimeouts.shift(),i.resize()},0);i.pendingResizeTimeouts.push(o)},i.renderThumb=(o,l)=>{const u=i.props.thumbClassName+" "+i.props.thumbClassName+"-"+l+" "+(i.state.index===l?i.props.thumbActiveClassName:""),c={ref:p=>{i["thumb"+l]=p},key:i.props.thumbClassName+"-"+l,className:u,style:o,onMouseDown:i.createOnMouseDown(l),onTouchStart:i.createOnTouchStart(l),onFocus:i.createOnKeyDown(l),tabIndex:0,role:"slider","aria-orientation":i.props.orientation,"aria-valuenow":i.state.value[l],"aria-valuemin":i.props.min,"aria-valuemax":i.props.max,"aria-label":Array.isArray(i.props.ariaLabel)?i.props.ariaLabel[l]:i.props.ariaLabel,"aria-labelledby":Array.isArray(i.props.ariaLabelledby)?i.props.ariaLabelledby[l]:i.props.ariaLabelledby},h={index:l,value:sm(i.state.value),valueNow:i.state.value[l]};return i.props.ariaValuetext&&(c["aria-valuetext"]=typeof i.props.ariaValuetext=="string"?i.props.ariaValuetext:i.props.ariaValuetext(h)),i.props.renderThumb(c,h)},i.renderTrack=(o,l,u)=>{const c={key:i.props.trackClassName+"-"+o,className:i.props.trackClassName+" "+i.props.trackClassName+"-"+o,style:i.buildTrackStyle(l,i.state.upperBound-u)},h={index:o,value:sm(i.state.value)};return i.props.renderTrack(c,h)};let a=db(r.value);a.length||(a=db(r.defaultValue)),i.pendingResizeTimeouts=[];const s=[];for(let o=0;o<a.length;o+=1)a[o]=Co(a[o],r),s.push(o);return i.resizeObserver=null,i.resizeElementRef=Ve.createRef(),i.state={index:-1,upperBound:0,sliderLength:0,value:a,zIndices:s},i}lee(t,e);var n=t.prototype;return n.componentDidMount=function(){typeof window<"u"&&(this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.resizeElementRef.current),this.resize())},t.getDerivedStateFromProps=function(r,i){const a=db(r.value);return a.length?i.pending?null:{value:a.map(s=>Co(s,r))}:null},n.componentDidUpdate=function(){this.state.upperBound===0&&this.resize()},n.componentWillUnmount=function(){this.clearPendingResizeTimeouts(),this.resizeObserver&&this.resizeObserver.disconnect()},n.onEnd=function(r){r&&function(i){Object.keys(i).forEach(a=>{typeof document<"u"&&document.removeEventListener(a,i[a],!1)})}(r),this.hasMoved&&this.fireChangeEvent("onAfterChange"),this.setState({pending:!1}),this.hasMoved=!1},n.getValue=function(){return sm(this.state.value)},n.getClosestIndex=function(r){let i=Number.MAX_VALUE,a=-1;const{value:s}=this.state,o=s.length;for(let l=0;l<o;l+=1){const u=this.calcOffset(s[l]),c=Math.abs(r-u);c<i&&(i=c,a=l)}return a},n.getMousePosition=function(r){return[r["page"+this.axisKey()],r["page"+this.orthogonalAxisKey()]]},n.getTouchPosition=function(r){const i=r.touches[0];return[i["page"+this.axisKey()],i["page"+this.orthogonalAxisKey()]]},n.getKeyDownEventMap=function(){return{keydown:this.onKeyDown,keyup:this.onKeyUp,focusout:this.onBlur}},n.getMouseEventMap=function(){return{mousemove:this.onMouseMove,mouseup:this.onMouseUp}},n.getTouchEventMap=function(){return{touchmove:this.onTouchMove,touchend:this.onTouchEnd}},n.getValueFromPosition=function(r){const i=r/(this.state.sliderLength-this.state.thumbSize)*(this.props.max-this.props.min);return Co(this.state.startValue+i,this.props)},n.getDiffPosition=function(r){let i=r-this.state.startPosition;return this.props.invert&&(i*=-1),i},n.resize=function(){const{slider:r,thumb0:i}=this;if(!r||!i)return;const a=this.sizeKey(),s=r.getBoundingClientRect(),o=r[a],l=s[this.posMaxKey()],u=s[this.posMinKey()],c=i.getBoundingClientRect()[a.replace("client","").toLowerCase()],h=o-c,p=Math.abs(l-u);this.state.upperBound===h&&this.state.sliderLength===p&&this.state.thumbSize===c||this.setState({upperBound:h,sliderLength:p,thumbSize:c})},n.calcOffset=function(r){const i=this.props.max-this.props.min;return i===0?0:(r-this.props.min)/i*this.state.upperBound},n.calcValue=function(r){return r/this.state.upperBound*(this.props.max-this.props.min)+this.props.min},n.calcOffsetFromPosition=function(r){const{slider:i}=this,a=i.getBoundingClientRect(),s=a[this.posMaxKey()],o=a[this.posMinKey()];let l=r-(window["page"+this.axisKey()+"Offset"]+(this.props.invert?s:o));return this.props.invert&&(l=this.state.sliderLength-l),l-=this.state.thumbSize/2,l},n.forceValueFromPosition=function(r,i){const a=this.calcOffsetFromPosition(r),s=this.getClosestIndex(a),o=Co(this.calcValue(a),this.props),l=this.state.value.slice();l[s]=o;for(let u=0;u<l.length-1;u+=1)if(l[u+1]-l[u]<this.props.minDistance)return;this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0,this.setState({value:l},()=>{i(s),this.fireChangeEvent("onChange")})},n.clearPendingResizeTimeouts=function(){do{const r=this.pendingResizeTimeouts.shift();clearTimeout(r)}while(this.pendingResizeTimeouts.length)},n.start=function(r,i){const a=this["thumb"+r];a&&a.focus();const{zIndices:s}=this.state;s.splice(s.indexOf(r),1),s.push(r),this.setState(o=>({startValue:o.value[r],startPosition:i!==void 0?i:o.startPosition,index:r,zIndices:s}))},n.moveUpByStep=function(r){r===void 0&&(r=this.props.step);const i=Co(this.state.value[this.state.index]+r,this.props);this.move(Math.min(i,this.props.max))},n.moveDownByStep=function(r){r===void 0&&(r=this.props.step);const i=Co(this.state.value[this.state.index]-r,this.props);this.move(Math.max(i,this.props.min))},n.move=function(r){const{index:i,value:a}=this.state,{length:s}=a,o=a[i];if(r===o)return;this.hasMoved||this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0;const{pearling:l,max:u,min:c,minDistance:h}=this.props;if(!l){if(i>0){const p=a[i-1];r<p+h&&(r=p+h)}if(i<s-1){const p=a[i+1];r>p-h&&(r=p-h)}}a[i]=r,l&&s>1&&(r>o?(this.pushSucceeding(a,h,i),function(p,m,g,y){for(let b=0;b<p;b+=1){const v=y-b*g;m[p-1-b]>v&&(m[p-1-b]=v)}}(s,a,h,u)):r<o&&(this.pushPreceding(a,h,i),function(p,m,g,y){for(let b=0;b<p;b+=1){const v=y+b*g;m[b]<v&&(m[b]=v)}}(s,a,h,c))),this.setState({value:a},this.fireChangeEvent.bind(this,"onChange"))},n.pushSucceeding=function(r,i,a){let s,o;for(s=a,o=r[s]+i;r[s+1]!==null&&o>r[s+1];s+=1,o=r[s]+i)r[s+1]=Q2(o,this.props)},n.pushPreceding=function(r,i,a){for(let s=a,o=r[s]-i;r[s-1]!==null&&o<r[s-1];s-=1,o=r[s]-i)r[s-1]=Q2(o,this.props)},n.axisKey=function(){return this.props.orientation==="vertical"?"Y":"X"},n.orthogonalAxisKey=function(){return this.props.orientation==="vertical"?"X":"Y"},n.posMinKey=function(){return this.props.orientation==="vertical"?this.props.invert?"bottom":"top":this.props.invert?"right":"left"},n.posMaxKey=function(){return this.props.orientation==="vertical"?this.props.invert?"top":"bottom":this.props.invert?"left":"right"},n.sizeKey=function(){return this.props.orientation==="vertical"?"clientHeight":"clientWidth"},n.fireChangeEvent=function(r){this.props[r]&&this.props[r](sm(this.state.value),this.state.index)},n.buildThumbStyle=function(r,i){const a={position:"absolute",touchAction:"none",willChange:this.state.index>=0?this.posMinKey():void 0,zIndex:this.state.zIndices.indexOf(i)+1};return a[this.posMinKey()]=r+"px",a},n.buildTrackStyle=function(r,i){const a={position:"absolute",willChange:this.state.index>=0?this.posMinKey()+","+this.posMaxKey():void 0};return a[this.posMinKey()]=r,a[this.posMaxKey()]=i,a},n.buildMarkStyle=function(r){var i;return(i={position:"absolute"})[this.posMinKey()]=r,i},n.renderThumbs=function(r){const{length:i}=r,a=[];for(let o=0;o<i;o+=1)a[o]=this.buildThumbStyle(r[o],o);const s=[];for(let o=0;o<i;o+=1)s[o]=this.renderThumb(a[o],o);return s},n.renderTracks=function(r){const i=[],a=r.length-1;i.push(this.renderTrack(0,0,r[0]));for(let s=0;s<a;s+=1)i.push(this.renderTrack(s+1,r[s],r[s+1]));return i.push(this.renderTrack(a+1,r[a],this.state.upperBound)),i},n.renderMarks=function(){let{marks:r}=this.props;const i=this.props.max-this.props.min+1;return typeof r=="boolean"?r=Array.from({length:i}).map((a,s)=>s):typeof r=="number"&&(r=Array.from({length:i}).map((a,s)=>s).filter(a=>a%r==0)),r.map(parseFloat).sort((a,s)=>a-s).map(a=>{const s=this.calcOffset(a),o={key:a,className:this.props.markClassName,style:this.buildMarkStyle(s)};return this.props.renderMark(o)})},n.render=function(){const r=[],{value:i}=this.state,a=i.length;for(let u=0;u<a;u+=1)r[u]=this.calcOffset(i[u],u);const s=this.props.withTracks?this.renderTracks(r):null,o=this.renderThumbs(r),l=this.props.marks?this.renderMarks():null;return Ve.createElement("div",{ref:u=>{this.slider=u,this.resizeElementRef.current=u},style:{position:"relative"},className:this.props.className+(this.props.disabled?" disabled":""),onMouseDown:this.onSliderMouseDown,onClick:this.onSliderClick},s,o,l)},t}(Ve.Component);Z2.displayName="ReactSlider",Z2.defaultProps={min:0,max:100,step:1,pageFn:e=>10*e,minDistance:0,defaultValue:0,orientation:"horizontal",className:"slider",thumbClassName:"thumb",thumbActiveClassName:"active",trackClassName:"track",markClassName:"mark",withTracks:!0,pearling:!1,disabled:!1,snapDragDisabled:!1,invert:!1,marks:[],renderThumb:e=>Ve.createElement("div",e),renderTrack:e=>Ve.createElement("div",e),renderMark:e=>Ve.createElement("span",e)};var uee=Z2;const cee=({min:e=0,step:t=1,max:n,maxDecimals:r=0,title:i,flipVertically:a=!1,noFill:s=!1,className:o,displayValue:l=!1,...u})=>{const c=e<0,h=u.disabled||n===e,p=useCallback($=>Math.min(n,Math.max(e,$)),[e,n]),m=useCallback($=>$.toLocaleString(void 0,{maximumFractionDigits:r}),[r]),[g,y]=useState(p(u.value??(n-e)/2)),[b,v]=useState(m(g));useEffect(()=>{u.value!==void 0&&(y(p(u.value)),v(m(p(u.value))))},[u.value,p,y,b,m]),Ph(()=>{if(b===void 0)return;if(b==="")return y(0);const $=parseFloat(b.replaceAll(",",""));if(isNaN($))return v(m(g));y(p($))},500,[p,b,v]);const{onChange:x}=u,k=useCallback($=>{x($),y($),v(m($))},[x,y,v,m]),[T,P]=useState(!1),R=useRef(null),N=useCallback(()=>P(!0),[P]),B=useCallback(()=>P(!1),[P]),j=useCallback(($,O)=>{const te=Math.abs(e)/(n-e),X=g>=0?{left:`${te*100}%`,right:"unset"}:{right:`${(1-te)*100}%`,left:"unset"},le=`${g/(g>=0?n-e:e-n)*100}%`,de={...$.style,...c&&{...O.index===1?{zIndex:1,left:0,right:0}:{zIndex:2,display:le,...X}},...s&&{left:0,right:0}};return E("div",{...$,style:de,className:classes("h-[2px] rounded-full",O.index!==0&&"opacity-muted-extra bg-white shadow-sm",O.index===0&&classes("shadow-md",s&&"opacity-0",g>=0?"bg-brand-400 dark:bg-brand-700":"bg-red-400 dark:bg-red-700"))})},[s,e,n,g,c]),W=useCallback($=>E("div",{...$,style:{...$.style,zIndex:3},onMouseDown:()=>P(!0),className:classes("relative h-3.5 w-3.5 -translate-y-[5.25px] rounded-full border-[2px] outline-none transition duration-150",T?"scale-110 border-white shadow-lg":"scale-100 border-zinc-800 shadow-md",g===0?"bg-zinc-500 dark:bg-zinc-600":g>=0?"bg-brand-500 dark:bg-brand-600":"bg-red-500 dark:bg-red-600"),children:l&&E("div",{className:classes("pointer-events-none absolute top-[-1.25rem] ml-1 flex w-[10rem] -translate-x-[5rem] items-center justify-center text-xs font-medium",g===0?"text-zinc-500 dark:text-zinc-300":g>=0?"text-brand-500 dark:text-brand-300":"text-red-500 dark:text-red-300"),children:m(g)})}),[T,g,l,m]),H=useCallback($=>E("span",{...$}),[]),z=i&&ne("div",{className:"flex select-none items-center justify-between",children:[E("div",{className:"opacity-muted font-light",children:i}),E("input",{min:e,max:n,type:"text",ref:R,value:b,onChange:$=>v($.target.value),onFocus:()=>R.current?.select(),className:classes("m-0 ml-2 min-w-0 flex-1 border-none bg-transparent p-0 text-right outline-none"),css:css`
          -moz-appearance: textfield;

          &::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
          }

          &::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
          }
        `}),u.percentage&&E("span",{children:"%"})]});return ne("div",{className:classes("flex w-full flex-col opacity-100 duration-150",h&&"opacity-muted pointer-events-none cursor-not-allowed","gap-2",o),children:[!a&&z,E(uee,{className:"-my-0.5 h-2.5 w-full cursor-pointer",disabled:h,value:g,min:e,step:t,max:n,onChange:k,onBeforeChange:N,onAfterChange:B,renderThumb:W,renderTrack:j,renderMark:H}),a&&z]})};function ZL(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=ZL(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function xl(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=ZL(e))&&(r&&(r+=" "),r+=t);return r}let dee={data:""},hee=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||dee,fee=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,pee=/\/\*[^]*?\*\/|  +/g,hP=/\n+/g,Mo=(e,t)=>{let n="",r="",i="";for(let a in e){let s=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+s+";":r+=a[1]=="f"?Mo(s,a):a+"{"+Mo(s,a[1]=="k"?"":t)+"}":typeof s=="object"?r+=Mo(s,t?t.replace(/([^,])+/g,o=>a.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):a):s!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Mo.p?Mo.p(a,s):a+":"+s+";")}return n+(t&&i?t+"{"+i+"}":i)+r},Ba={},JL=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+JL(e[n]);return t}return e},mee=(e,t,n,r,i)=>{let a=JL(e),s=Ba[a]||(Ba[a]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(a));if(!Ba[s]){let l=a!==e?e:(u=>{let c,h,p=[{}];for(;c=fee.exec(u.replace(pee,""));)c[4]?p.shift():c[3]?(h=c[3].replace(hP," ").trim(),p.unshift(p[0][h]=p[0][h]||{})):p[0][c[1]]=c[2].replace(hP," ").trim();return p[0]})(e);Ba[s]=Mo(i?{["@keyframes "+s]:l}:l,n?"":"."+s)}let o=n&&Ba.g?Ba.g:null;return n&&(Ba.g=Ba[s]),((l,u,c,h)=>{h?u.data=u.data.replace(h,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(Ba[s],t,r,o),s},gee=(e,t,n)=>e.reduce((r,i,a)=>{let s=t[a];if(s&&s.call){let o=s(n),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;s=l?"."+l:o&&typeof o=="object"?o.props?"":Mo(o,""):o===!1?"":o}return r+i+(s??"")},"");function KC(e){let t=this||{},n=e.call?e(t.p):e;return mee(n.unshift?n.raw?gee(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,hee(t.target),t.g,t.o,t.k)}KC.bind({g:1});KC.bind({k:1});function fP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function e6(e,t,n){return t&&fP(e.prototype,t),n&&fP(e,n),e}function $t(){return $t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$t.apply(this,arguments)}function t6(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function pf(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function pP(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var mP=function(){return""},n6=Ve.createContext({enqueueSnackbar:mP,closeSnackbar:mP}),No={downXs:"@media (max-width:599.95px)",upSm:"@media (min-width:600px)"},gP=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},YC=function(t){return""+gP(t.vertical)+gP(t.horizontal)},lm=function(t){return!!t||t===0},um="unmounted",Vl="exited",Wl="entering",od="entered",yP="exiting",XC=function(e){t6(t,e);function t(r){var i;i=e.call(this,r)||this;var a=r.appear,s;return i.appearStatus=null,r.in?a?(s=Vl,i.appearStatus=Wl):s=od:r.unmountOnExit||r.mountOnEnter?s=um:s=Vl,i.state={status:s},i.nextCallback=null,i}t.getDerivedStateFromProps=function(i,a){var s=i.in;return s&&a.status===um?{status:Vl}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var a=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Wl&&s!==od&&(a=Wl):(s===Wl||s===od)&&(a=yP)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,a=i,s=i;return i!=null&&typeof i!="number"&&typeof i!="string"&&(s=i.exit,a=i.enter),{exit:s,enter:a}},n.updateStatus=function(i,a){i===void 0&&(i=!1),a!==null?(this.cancelNextCallback(),a===Wl?this.performEnter(i):this.performExit()):this.props.unmountOnExit&&this.state.status===Vl&&this.setState({status:um})},n.performEnter=function(i){var a=this,s=this.props.enter,o=i,l=this.getTimeouts();if(!i&&!s){this.safeSetState({status:od},function(){a.props.onEntered&&a.props.onEntered(a.node,o)});return}this.props.onEnter&&this.props.onEnter(this.node,o),this.safeSetState({status:Wl},function(){a.props.onEntering&&a.props.onEntering(a.node,o),a.onTransitionEnd(l.enter,function(){a.safeSetState({status:od},function(){a.props.onEntered&&a.props.onEntered(a.node,o)})})})},n.performExit=function(){var i=this,a=this.props.exit,s=this.getTimeouts();if(!a){this.safeSetState({status:Vl},function(){i.props.onExited&&i.props.onExited(i.node)});return}this.props.onExit&&this.props.onExit(this.node),this.safeSetState({status:yP},function(){i.props.onExiting&&i.props.onExiting(i.node),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Vl},function(){i.props.onExited&&i.props.onExited(i.node)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&this.nextCallback.cancel&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},n.setNextCallback=function(i){var a=this,s=!0;return this.nextCallback=function(){s&&(s=!1,a.nextCallback=null,i())},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,a){this.setNextCallback(a);var s=i==null&&!this.props.addEndListener;if(!this.node||s){setTimeout(this.nextCallback,0);return}this.props.addEndListener&&this.props.addEndListener(this.node,this.nextCallback),i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===um)return null;var a=this.props,s=a.children,o=pf(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return s(i,o)},e6(t,[{key:"node",get:function(){var i,a=(i=this.props.nodeRef)===null||i===void 0?void 0:i.current;if(!a)throw new Error("notistack - Custom snackbar is not refForwarding");return a}}]),t}(Ve.Component);function Gl(){}XC.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Gl,onEntering:Gl,onEntered:Gl,onExit:Gl,onExiting:Gl,onExited:Gl};function vP(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function J2(e,t){return Y.useMemo(function(){return e==null&&t==null?null:function(n){vP(e,n),vP(t,n)}},[e,t])}function _0(e){var t=e.timeout,n=e.style,r=n===void 0?{}:n,i=e.mode;return{duration:typeof t=="object"?t[i]||0:t,easing:r.transitionTimingFunction,delay:r.transitionDelay}}var ek={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},r6=function(t){t.scrollTop=t.scrollTop},wP=function(t){return Math.round(t)+"ms"};function mu(e,t){e===void 0&&(e=["all"]);var n=t||{},r=n.duration,i=r===void 0?300:r,a=n.easing,s=a===void 0?ek.easeInOut:a,o=n.delay,l=o===void 0?0:o,u=Array.isArray(e)?e:[e];return u.map(function(c){var h=typeof i=="string"?i:wP(i),p=typeof l=="string"?l:wP(l);return c+" "+h+" "+s+" "+p}).join(",")}function yee(e){return e&&e.ownerDocument||document}function i6(e){var t=yee(e);return t.defaultView||window}function vee(e,t){t===void 0&&(t=166);var n;function r(){for(var i=this,a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];var l=function(){e.apply(i,s)};clearTimeout(n),n=setTimeout(l,t)}return r.clear=function(){clearTimeout(n)},r}function wee(e,t){var n=t.getBoundingClientRect(),r=i6(t),i;if(t.fakeTransform)i=t.fakeTransform;else{var a=r.getComputedStyle(t);i=a.getPropertyValue("-webkit-transform")||a.getPropertyValue("transform")}var s=0,o=0;if(i&&i!=="none"&&typeof i=="string"){var l=i.split("(")[1].split(")")[0].split(",");s=parseInt(l[4],10),o=parseInt(l[5],10)}switch(e){case"left":return"translateX("+(r.innerWidth+s-n.left)+"px)";case"right":return"translateX(-"+(n.left+n.width-s)+"px)";case"up":return"translateY("+(r.innerHeight+o-n.top)+"px)";default:return"translateY(-"+(n.top+n.height-o)+"px)"}}function cm(e,t){if(t){var n=wee(e,t);n&&(t.style.webkitTransform=n,t.style.transform=n)}}var a6=Y.forwardRef(function(e,t){var n=e.children,r=e.direction,i=r===void 0?"down":r,a=e.in,s=e.style,o=e.timeout,l=o===void 0?0:o,u=e.onEnter,c=e.onEntered,h=e.onExit,p=e.onExited,m=pf(e,["children","direction","in","style","timeout","onEnter","onEntered","onExit","onExited"]),g=Y.useRef(null),y=J2(n.ref,g),b=J2(y,t),v=function(N,B){cm(i,N),r6(N),u&&u(N,B)},x=function(N){var B=s?.transitionTimingFunction||ek.easeOut,j=_0({timeout:l,mode:"enter",style:$t({},s,{transitionTimingFunction:B})});N.style.webkitTransition=mu("-webkit-transform",j),N.style.transition=mu("transform",j),N.style.webkitTransform="none",N.style.transform="none"},k=function(N){var B=s?.transitionTimingFunction||ek.sharp,j=_0({timeout:l,mode:"exit",style:$t({},s,{transitionTimingFunction:B})});N.style.webkitTransition=mu("-webkit-transform",j),N.style.transition=mu("transform",j),cm(i,N),h&&h(N)},T=function(N){N.style.webkitTransition="",N.style.transition="",p&&p(N)},P=Y.useCallback(function(){g.current&&cm(i,g.current)},[i]);return Y.useEffect(function(){if(!(a||i==="down"||i==="right")){var R=vee(function(){g.current&&cm(i,g.current)}),N=i6(g.current);return N.addEventListener("resize",R),function(){R.clear(),N.removeEventListener("resize",R)}}},[i,a]),Y.useEffect(function(){a||P()},[a,P]),Y.createElement(XC,Object.assign({appear:!0,nodeRef:g,onEnter:v,onEntered:c,onEntering:x,onExit:k,onExited:T,in:a,timeout:l},m),function(R,N){return Y.cloneElement(n,$t({ref:b,style:$t({visibility:R==="exited"&&!a?"hidden":void 0},s,{},n.props.style)},N))})});a6.displayName="Slide";var av=function(t){return Ve.createElement("svg",Object.assign({viewBox:"0 0 24 24",focusable:"false",style:{fontSize:20,marginInlineEnd:8,userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0}},t))},bee=function(){return Ve.createElement(av,null,Ve.createElement("path",{d:`M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41
        10.59L10 14.17L17.59 6.58L19 8L10 17Z`}))},xee=function(){return Ve.createElement(av,null,Ve.createElement("path",{d:"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z"}))},kee=function(){return Ve.createElement(av,null,Ve.createElement("path",{d:`M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,
        6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,
        13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z`}))},See=function(){return Ve.createElement(av,null,Ve.createElement("path",{d:`M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,
        0 22,12A10,10 0 0,0 12,2Z`}))},Eee={default:void 0,success:Ve.createElement(bee,null),warning:Ve.createElement(xee,null),error:Ve.createElement(kee,null),info:Ve.createElement(See,null)},Yo={maxSnack:3,persist:!1,hideIconVariant:!1,disableWindowBlurListener:!1,variant:"default",autoHideDuration:5e3,iconVariant:Eee,anchorOrigin:{vertical:"bottom",horizontal:"left"},TransitionComponent:a6,transitionDuration:{enter:225,exit:195}},Cee=function(t,n){var r=function(a){return typeof a=="number"||a===null};return r(t)?t:r(n)?n:Yo.autoHideDuration},_ee=function(t,n){var r=function(a,s){return s.some(function(o){return typeof a===o})};return r(t,["string","number"])?t:r(t,["object"])?$t({},Yo.transitionDuration,{},r(n,["object"])&&n,{},t):r(n,["string","number"])?n:r(n,["object"])?$t({},Yo.transitionDuration,{},n):Yo.transitionDuration},Tee=function(t,n){return function(r,i){return i===void 0&&(i=!1),i?$t({},Yo[r],{},n[r],{},t[r]):r==="autoHideDuration"?Cee(t.autoHideDuration,n.autoHideDuration):r==="transitionDuration"?_ee(t.transitionDuration,n.transitionDuration):t[r]||n[r]||Yo[r]}};function mf(e){return Object.entries(e).reduce(function(t,n){var r,i=n[0],a=n[1];return $t({},t,(r={},r[i]=KC(a),r))},{})}var Xu={SnackbarContainer:"notistack-SnackbarContainer",Snackbar:"notistack-Snackbar",CollapseWrapper:"notistack-CollapseWrapper",MuiContent:"notistack-MuiContent",MuiContentVariant:function(t){return"notistack-MuiContent-"+t}},bP=mf({root:{height:0},entered:{height:"auto"}}),hb="0px",fb=175,s6=Y.forwardRef(function(e,t){var n=e.children,r=e.in,i=e.onExited,a=Y.useRef(null),s=Y.useRef(null),o=J2(t,s),l=function(){return a.current?a.current.clientHeight:0},u=function(y){y.style.height=hb},c=function(y){var b=l(),v=_0({timeout:fb,mode:"enter"}),x=v.duration,k=v.easing;y.style.transitionDuration=typeof x=="string"?x:x+"ms",y.style.height=b+"px",y.style.transitionTimingFunction=k||""},h=function(y){y.style.height="auto"},p=function(y){y.style.height=l()+"px"},m=function(y){r6(y);var b=_0({timeout:fb,mode:"exit"}),v=b.duration,x=b.easing;y.style.transitionDuration=typeof v=="string"?v:v+"ms",y.style.height=hb,y.style.transitionTimingFunction=x||""};return Y.createElement(XC,{in:r,unmountOnExit:!0,onEnter:u,onEntered:h,onEntering:c,onExit:p,onExited:i,onExiting:m,nodeRef:s,timeout:fb},function(g,y){return Y.createElement("div",Object.assign({ref:o,className:xl(bP.root,g==="entered"&&bP.entered),style:$t({pointerEvents:"all",overflow:"hidden",minHeight:hb,transition:mu("height")},g==="entered"&&{overflow:"visible"},{},g==="exited"&&!r&&{visibility:"hidden"})},y),Y.createElement("div",{ref:a,className:Xu.CollapseWrapper,style:{display:"flex",width:"100%"}},n))})});s6.displayName="Collapse";var xP={right:"left",left:"right",bottom:"up",top:"down"},Iee=function(t){return t.horizontal!=="center"?xP[t.horizontal]:xP[t.vertical]},Pee=function(t){return"anchorOrigin"+YC(t)},Ree=function(t){t===void 0&&(t={});var n={containerRoot:!0,containerAnchorOriginTopCenter:!0,containerAnchorOriginBottomCenter:!0,containerAnchorOriginTopRight:!0,containerAnchorOriginBottomRight:!0,containerAnchorOriginTopLeft:!0,containerAnchorOriginBottomLeft:!0};return Object.keys(t).filter(function(r){return!n[r]}).reduce(function(r,i){var a;return $t({},r,(a={},a[i]=t[i],a))},{})},Aee=function(){};function Yd(e,t){return e.reduce(function(n,r){return r==null?n:function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];var l=[].concat(s);t&&l.indexOf(t)===-1&&l.push(t),n.apply(this,l),r.apply(this,l)}},Aee)}var Nee=typeof window<"u"?Y.useLayoutEffect:Y.useEffect;function kP(e){var t=Y.useRef(e);return Nee(function(){t.current=e}),Y.useCallback(function(){return t.current.apply(void 0,arguments)},[])}var o6=Y.forwardRef(function(e,t){var n=e.children,r=e.className,i=e.autoHideDuration,a=e.disableWindowBlurListener,s=a===void 0?!1:a,o=e.onClose,l=e.id,u=e.open,c=e.SnackbarProps,h=c===void 0?{}:c,p=Y.useRef(),m=kP(function(){o&&o.apply(void 0,arguments)}),g=kP(function(k){!o||k==null||(p.current&&clearTimeout(p.current),p.current=setTimeout(function(){m(null,"timeout",l)},k))});Y.useEffect(function(){return u&&g(i),function(){p.current&&clearTimeout(p.current)}},[u,i,g]);var y=function(){p.current&&clearTimeout(p.current)},b=Y.useCallback(function(){i!=null&&g(i*.5)},[i,g]),v=function(T){h.onMouseEnter&&h.onMouseEnter(T),y()},x=function(T){h.onMouseLeave&&h.onMouseLeave(T),b()};return Y.useEffect(function(){if(!s&&u)return window.addEventListener("focus",b),window.addEventListener("blur",y),function(){window.removeEventListener("focus",b),window.removeEventListener("blur",y)}},[s,b,u]),Y.createElement("div",Object.assign({ref:t},h,{className:xl(Xu.Snackbar,r),onMouseEnter:v,onMouseLeave:x}),n)});o6.displayName="Snackbar";var pb,Dee=mf({root:(pb={display:"flex",flexWrap:"wrap",flexGrow:1},pb[No.upSm]={flexGrow:"initial",minWidth:"288px"},pb)}),l6=Y.forwardRef(function(e,t){var n=e.className,r=pf(e,["className"]);return Ve.createElement("div",Object.assign({ref:t,className:xl(Dee.root,n)},r))});l6.displayName="SnackbarContent";var ld=mf({root:{backgroundColor:"#313131",fontSize:"0.875rem",lineHeight:1.43,letterSpacing:"0.01071em",color:"#fff",alignItems:"center",padding:"6px 16px",borderRadius:"4px",boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)"},lessPadding:{paddingLeft:8*2.5+"px"},default:{backgroundColor:"#313131"},success:{backgroundColor:"#43a047"},error:{backgroundColor:"#d32f2f"},warning:{backgroundColor:"#ff9800"},info:{backgroundColor:"#2196f3"},message:{display:"flex",alignItems:"center",padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:"16px",marginRight:"-8px"}}),SP="notistack-snackbar",u6=Y.forwardRef(function(e,t){var n=e.id,r=e.message,i=e.action,a=e.iconVariant,s=e.variant,o=e.hideIconVariant,l=e.style,u=e.className,c=a[s],h=i;return typeof h=="function"&&(h=h(n)),Ve.createElement(l6,{ref:t,role:"alert","aria-describedby":SP,style:l,className:xl(Xu.MuiContent,Xu.MuiContentVariant(s),ld.root,ld[s],u,!o&&c&&ld.lessPadding)},Ve.createElement("div",{id:SP,className:ld.message},o?null:c,r),h&&Ve.createElement("div",{className:ld.action},h))});u6.displayName="MaterialDesignContent";var Oee=Y.memo(u6),Mee=mf({wrappedRoot:{width:"100%",position:"relative",transform:"translateX(0)",top:0,right:0,bottom:0,left:0,minWidth:"288px"}}),Lee=function(t){var n=Y.useRef(),r=Y.useState(!0),i=r[0],a=r[1],s=Yd([t.snack.onClose,t.onClose]),o=function(){t.snack.requestClose&&s(null,"instructed",t.snack.id)},l=Y.useCallback(function(){n.current=setTimeout(function(){a(function(j){return!j})},125)},[]);Y.useEffect(function(){return function(){n.current&&clearTimeout(n.current)}},[]);var u=t.snack,c=t.classes,h=t.Component,p=h===void 0?Oee:h,m=Y.useMemo(function(){return Ree(c)},[c]),g=u.open,y=u.SnackbarProps,b=u.TransitionComponent,v=u.TransitionProps,x=u.transitionDuration,k=u.disableWindowBlurListener,T=u.content,P=pf(u,["open","SnackbarProps","TransitionComponent","TransitionProps","transitionDuration","disableWindowBlurListener","content","entered","requestClose","onEnter","onEntered","onExit","onExited"]),R=$t({direction:Iee(P.anchorOrigin),timeout:x},v),N=T;typeof N=="function"&&(N=N(P.id,P.message));var B=["onEnter","onEntered","onExit","onExited"].reduce(function(j,W){var H;return $t({},j,(H={},H[W]=Yd([t.snack[W],t[W]],P.id),H))},{});return Ve.createElement(s6,{in:i,onExited:B.onExited},Ve.createElement(o6,{open:g,id:P.id,disableWindowBlurListener:k,autoHideDuration:P.autoHideDuration,className:xl(Mee.wrappedRoot,m.root,m[Pee(P.anchorOrigin)]),SnackbarProps:y,onClose:s},Ve.createElement(b,Object.assign({},R,{appear:!0,in:g,onExit:B.onExit,onExited:l,onEnter:B.onEnter,onEntered:Yd([B.onEntered,o],P.id)}),N||Ve.createElement(p,Object.assign({},P)))))},ud,mb,dm,hm,gb,za={view:{default:20,dense:4},snackbar:{default:6,dense:2}},EP="."+Xu.CollapseWrapper,yb=16,fm=mf({root:(ud={boxSizing:"border-box",display:"flex",maxHeight:"100%",position:"fixed",zIndex:1400,height:"auto",width:"auto",transition:mu(["top","right","bottom","left","max-width"],{duration:300,easing:"ease"}),pointerEvents:"none"},ud[EP]={padding:za.snackbar.default+"px 0px",transition:"padding 300ms ease 0ms"},ud.maxWidth="calc(100% - "+za.view.default*2+"px)",ud[No.downXs]={width:"100%",maxWidth:"calc(100% - "+yb*2+"px)"},ud),rootDense:(mb={},mb[EP]={padding:za.snackbar.dense+"px 0px"},mb),top:{top:za.view.default-za.snackbar.default+"px",flexDirection:"column"},bottom:{bottom:za.view.default-za.snackbar.default+"px",flexDirection:"column-reverse"},left:(dm={left:za.view.default+"px"},dm[No.upSm]={alignItems:"flex-start"},dm[No.downXs]={left:yb+"px"},dm),right:(hm={right:za.view.default+"px"},hm[No.upSm]={alignItems:"flex-end"},hm[No.downXs]={right:yb+"px"},hm),center:(gb={left:"50%",transform:"translateX(-50%)"},gb[No.upSm]={alignItems:"center"},gb)}),Fee=function(t){var n=t.classes,r=n===void 0?{}:n,i=t.anchorOrigin,a=t.dense,s=t.children,o=xl(Xu.SnackbarContainer,fm[i.vertical],fm[i.horizontal],fm.root,r.containerRoot,r["containerAnchorOrigin"+YC(i)],a&&fm.rootDense);return Ve.createElement("div",{className:o},s)},Bee=Y.memo(Fee),CP=function(t){var n=typeof t=="string"||Y.isValidElement(t);return!n},zee=function(e){t6(t,e);function t(r){var i;return i=e.call(this,r)||this,i.enqueueSnackbar=function(a,s){if(s===void 0&&(s={}),a==null)throw new Error("enqueueSnackbar called with invalid argument");var o=CP(a)?a:s,l=CP(a)?a.message:a,u=o.key,c=o.preventDuplicate,h=pf(o,["key","preventDuplicate"]),p=lm(u),m=p?u:new Date().getTime()+Math.random(),g=Tee(h,i.props),y=$t({id:m},h,{message:l,open:!0,entered:!1,requestClose:!1,persist:g("persist"),action:g("action"),content:g("content"),variant:g("variant"),anchorOrigin:g("anchorOrigin"),disableWindowBlurListener:g("disableWindowBlurListener"),autoHideDuration:g("autoHideDuration"),hideIconVariant:g("hideIconVariant"),TransitionComponent:g("TransitionComponent"),transitionDuration:g("transitionDuration"),TransitionProps:g("TransitionProps",!0),iconVariant:g("iconVariant",!0),style:g("style",!0),SnackbarProps:g("SnackbarProps",!0),className:xl(i.props.className,h.className)});return y.persist&&(y.autoHideDuration=void 0),i.setState(function(b){if(c===void 0&&i.props.preventDuplicate||c){var v=function(P){return p?P.id===m:P.message===l},x=b.queue.findIndex(v)>-1,k=b.snacks.findIndex(v)>-1;if(x||k)return b}return i.handleDisplaySnack($t({},b,{queue:[].concat(b.queue,[y])}))}),m},i.handleDisplaySnack=function(a){var s=a.snacks;return s.length>=i.maxSnack?i.handleDismissOldest(a):i.processQueue(a)},i.processQueue=function(a){var s=a.queue,o=a.snacks;return s.length>0?$t({},a,{snacks:[].concat(o,[s[0]]),queue:s.slice(1,s.length)}):a},i.handleDismissOldest=function(a){if(a.snacks.some(function(c){return!c.open||c.requestClose}))return a;var s=!1,o=!1,l=a.snacks.reduce(function(c,h){return c+(h.open&&h.persist?1:0)},0);l===i.maxSnack&&(o=!0);var u=a.snacks.map(function(c){return!s&&(!c.persist||o)?(s=!0,c.entered?(c.onClose&&c.onClose(null,"maxsnack",c.id),i.props.onClose&&i.props.onClose(null,"maxsnack",c.id),$t({},c,{open:!1})):$t({},c,{requestClose:!0})):$t({},c)});return $t({},a,{snacks:u})},i.handleEnteredSnack=function(a,s,o){if(!lm(o))throw new Error("handleEnteredSnack Cannot be called with undefined key");i.setState(function(l){var u=l.snacks;return{snacks:u.map(function(c){return c.id===o?$t({},c,{entered:!0}):$t({},c)})}})},i.handleCloseSnack=function(a,s,o){i.props.onClose&&i.props.onClose(a,s,o);var l=o===void 0;i.setState(function(u){var c=u.snacks,h=u.queue;return{snacks:c.map(function(p){return!l&&p.id!==o?$t({},p):p.entered?$t({},p,{open:!1}):$t({},p,{requestClose:!0})}),queue:h.filter(function(p){return p.id!==o})}})},i.closeSnackbar=function(a){var s=i.state.snacks.find(function(o){return o.id===a});lm(a)&&s&&s.onClose&&s.onClose(null,"instructed",a),i.handleCloseSnack(null,"instructed",a)},i.handleExitedSnack=function(a,s){if(!lm(s))throw new Error("handleExitedSnack Cannot be called with undefined key");i.setState(function(o){var l=i.processQueue($t({},o,{snacks:o.snacks.filter(function(u){return u.id!==s})}));return l.queue.length===0?l:i.handleDismissOldest(l)})},i.enqueueSnackbar,i.closeSnackbar,i.state={snacks:[],queue:[],contextValue:{enqueueSnackbar:i.enqueueSnackbar.bind(pP(i)),closeSnackbar:i.closeSnackbar.bind(pP(i))}},i}var n=t.prototype;return n.render=function(){var i=this,a=this.state.contextValue,s=this.props,o=s.domRoot,l=s.children,u=s.dense,c=u===void 0?!1:u,h=s.Components,p=h===void 0?{}:h,m=s.classes,g=this.state.snacks.reduce(function(b,v){var x,k=YC(v.anchorOrigin),T=b[k]||[];return $t({},b,(x={},x[k]=[].concat(T,[v]),x))},{}),y=Object.keys(g).map(function(b){var v=g[b],x=v[0];return Ve.createElement(Bee,{key:b,dense:c,anchorOrigin:x.anchorOrigin,classes:m},v.map(function(k){return Ve.createElement(Lee,{key:k.id,snack:k,classes:m,Component:p[k.variant],onClose:i.handleCloseSnack,onEnter:i.props.onEnter,onExit:i.props.onExit,onExited:Yd([i.handleExitedSnack,i.props.onExited],k.id),onEntered:Yd([i.handleEnteredSnack,i.props.onEntered],k.id)})}))});return Ve.createElement(n6.Provider,{value:a},l,o?cc.createPortal(y,o):y)},e6(t,[{key:"maxSnack",get:function(){return this.props.maxSnack||Yo.maxSnack}}]),t}(Y.Component),Uee=function(){return Y.useContext(n6)};function jee({children:e}){return E(zee,{maxSnack:6,anchorOrigin:{horizontal:"right",vertical:"bottom"},Components:{default:Hee,info:Wee,error:$ee,success:Gee,warning:Vee},children:e})}const gf=React.forwardRef(({id:e,message:t,persist:n,Icon:r},i)=>{const{closeSnackbar:a}=q.Snackbar.use();return ne("div",{className:"mb-4 flex items-center rounded-lg border border-zinc-700 bg-white p-3 text-zinc-500 shadow dark:bg-zinc-900 dark:text-zinc-400",role:"alert",ref:i,children:[r,E("div",{className:"ml-3",children:t}),n&&ne("button",{type:"button",className:"-mx-1.5 -my-1.5 ml-3 inline-flex h-8 w-8 rounded-lg bg-white p-1.5 text-zinc-400 hover:bg-zinc-100 hover:text-zinc-900 focus:ring-2 focus:ring-zinc-300 dark:bg-zinc-800 dark:text-zinc-500 dark:hover:bg-zinc-700 dark:hover:text-white",onClick:()=>a(e),children:[E("span",{className:"sr-only",children:"Close"}),E("svg",{"aria-hidden":"true",className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:E("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]})}),$ee=React.forwardRef((e,t)=>E(gf,{...e,ref:t,Icon:E(q.Icon.AlertTriangle,{className:"inline-flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-lg text-red-600 dark:text-red-500"})})),Vee=React.forwardRef((e,t)=>E(gf,{...e,ref:t,Icon:E(q.Icon.AlertCircle,{className:"inline-flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-lg text-orange-600 dark:text-orange-500"})})),Wee=React.forwardRef((e,t)=>E(gf,{...e,ref:t,Icon:E(q.Icon.Info,{className:"inline-flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-lg text-blue-600 dark:text-blue-500"})})),Gee=React.forwardRef((e,t)=>E(gf,{...e,ref:t,Icon:E(q.Icon.Check,{className:"inline-flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-lg text-emerald-600 dark:text-emerald-500"})})),Hee=React.forwardRef((e,t)=>E(gf,{...e,ref:t})),qee=Object.freeze(Object.defineProperty({__proto__:null,Provider:jee,use:Uee},Symbol.toStringTag,{value:"Module"}));function Kee({className:e,children:t}){return E("span",{className:classes("opacity-muted text-sm",e),children:t??E(it,{children:"soon"})})}function Yee(e){return E("svg",{width:"10",height:"12",viewBox:"0 0 10 12",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:E("path",{d:"M4.48574 0.323291C4.66239 -0.107763 5.33761 -0.107764 5.51426 0.32329L6.68971 4.18178C6.74525 4.3173 6.86359 4.42416 7.01368 4.4743L9.64196 5.53566C10.1193 5.69516 10.1193 6.30484 9.64196 6.46434L7.01368 7.5257C6.86359 7.57584 6.74525 7.68269 6.68971 7.81822L5.51426 11.6767C5.33761 12.1078 4.66239 12.1078 4.48574 11.6767L3.31029 7.81822C3.25475 7.68269 3.13641 7.57584 2.98632 7.5257L0.358045 6.46434C-0.119348 6.30484 -0.119349 5.69516 0.358045 5.53566L2.98632 4.4743C3.13641 4.42416 3.25475 4.3173 3.31029 4.18178L4.48574 0.323291Z"})})}function Xee({showing:e=!0,twinkling:t=!1,count:n=20,className:r}){const[i]=useState(()=>Math.random()*1e3),a=useMemo(()=>Array.from({length:n},(o,l)=>E(_P,{index:l,offset:i,count:n,fast:!0},l)),[i,n]),s=useMemo(()=>Array.from({length:Math.ceil(n/2)},(o,l)=>E(_P,{index:l,offset:i,count:n},l)),[i,n]);return e?ne("div",{className:classes("pointer-events-none absolute h-full w-full opacity-0 duration-150",e&&"opacity-100",r),children:[E("div",{className:classes("absolute h-full w-full opacity-0 duration-500",t&&"opacity-100"),children:a}),E("div",{className:classes("absolute h-full w-full opacity-100 duration-500",t&&"opacity-0"),children:s})]}):null}function _P({index:e,offset:t,count:n,fast:r}){return useMemo(()=>{const i=clamp(10,(t+e/n*13543.34)%100,90),a=clamp(10,(t+e/n*16857.24)%100,90),s=Math.max(1,e/n*2),o=(t+e/n*13543.34)%360;return E("div",{className:"absolute h-0 w-0 text-white",css:css`
          animation-name: ${Zee};
          animation-iteration-count: infinite;
          animation-timing-function: linear;
        `,style:{animationDelay:`${-t+e*3.4}s`,animationDuration:r?"7s":"30s",top:`${i}%`,left:`${a}%`},children:E(Yee,{css:css`
            animation-name: ${Qee};
            animation-iteration-count: infinite;
            animation-timing-function: ease-in-out;
            animation-direction: alternate;
          `,style:{animationDelay:`${-t+e*3.4}s`,animationDuration:r?"2s":"30s",transform:`translate(-50%, -50%) scale(${s}) rotate(${o}deg)`}})})},[e,t,n,r])}const Qee=jy`
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
`,Zee=jy`
  from {
    transform: translate(-50%, -50%) rotate(0deg);
  }

  to {
    transform: translate(-50%, -50%) rotate(360deg);
  }
`;function c6({children:e,choices:t,placement:n="bottom",showArrow:r=!0,onOpenChange:i,onChange:a,className:s,openMechanism:o="hover"}){const[l,u]=useState(!1),[c,h]=useState("right"),p=useRef(null);return useEffect(()=>{if(!l||!p.current)return;const m=p.current.getBoundingClientRect();m.left+m.width/2>window.innerWidth/2?h("left"):h("right")},[l]),E(q.Tooltip,{content:E("div",{className:"flex flex-col gap-0.5",children:t.map(m=>"value"in m&&m.value instanceof Array?E(c6,{showArrow:!1,choices:m.value,placement:c,onOpenChange:g=>u(g),onChange:a,className:s,children:E(TP,{choice:m})},m.label):E(TP,{choice:m,onClick:()=>"value"in m&&a?.(m.value),href:"href"in m?m.href:void 0},m.label))}),placement:n,showArrow:r,forceOpen:l?!0:void 0,onChange:i,enablePointerEvents:!0,contentClasses:classes("p-1.5",s),openMechanism:o,className:classes(o==="click"&&"pointer-events-auto"),children:E("div",{ref:p,children:e})})}function TP({choice:e,onClick:t,href:n}){const r={className:classes("flex w-[8.5rem] cursor-pointer flex-row items-center justify-between rounded-sm py-[5px] px-2 text-sm",e.selected?"bg-brand-500/80":"hover:bg-white/10"),onClick:a=>{a.stopPropagation(),t?.()},href:n},i=ne(it,{children:[e.label,"value"in e&&e.value instanceof Array?E(q.Icon.ChevronRight,{className:"-mr-1 text-white/50",size:16}):E(q.Icon.Invisible,{size:16})]});return n?E(Vy,{to:n,...r,children:i}):E("div",{...r,children:i})}function tk({children:e,contentClasses:t,content:n,placement:r="top",delay:i=0,distance:a=8,allowOpen:s=!0,forceOpen:o=!1,showArrow:l=!0,enablePointerEvents:u=!1,className:c,onChange:h,openMechanism:p="hover"}){const[m,g]=useState(!1),[y,b]=useState(null),[v,x]=useState(null),[k,T]=useState({top:0,left:0}),P=useRef(null),R=useRef(null);useLayoutEffect(()=>{if(!P.current||!(m||o))return;const $=P.current.getBoundingClientRect();switch(r){case"top":T({top:$.top-a,left:$.left+$.width/2});break;case"bottom":T({top:$.top+$.height+a,left:$.left+$.width/2});break;case"left":T({top:$.top+$.height/2,left:$.left-a});break;case"right":T({top:$.top+$.height/2,left:$.left+$.width+a});break}},[r,a,m,n,o]);const N=useCallback(()=>{p==="hover"&&(y&&clearTimeout(y),i?b(setTimeout(()=>{g(!0)},i)):g(!0))},[p,y,i]),B=useCallback(()=>{p==="hover"&&(y&&clearTimeout(y),u?(v&&clearTimeout(v),x(setTimeout(()=>{g(!1)},200))):g(!1))},[u,v,p,y]),j=useCallback($=>{p==="click"&&($.stopPropagation(),g(!0))},[p]);Yy(R,()=>{p==="click"&&g(!1)});const W=useMemo(()=>document.getElementById("tooltip-root"),[]);useEffect(()=>{h&&h((m||o)&&s)},[m,h,o,s]);const H=q.useIsMobileDevice();if(!W||H)return e??null;const z=cc.createPortal(E(ff,{children:(m||o)&&s&&ne(it,{children:[l&&E(Or.div,{className:classes("absolute z-[999999] h-2 w-2 -translate-x-1/2 -translate-y-1/2 rotate-45 border-zinc-700 bg-zinc-900",r==="top"&&"border-b border-r",r==="bottom"&&"border-t border-l",r==="left"&&"border-t border-r",r==="right"&&"border-b border-l"),style:{top:`${k.top}px`,left:`${k.left}px`},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{type:"tween",duration:.05}}),E(Or.div,{ref:R,style:{top:`${k.top}px`,left:`${Math.min(k.left,window.innerWidth-(R.current?.offsetWidth??0)+32)}px`},className:classes("absolute z-[999998] block shrink-0 whitespace-nowrap rounded-md bg-zinc-900 px-3 py-1.5 text-sm text-white ring-[1px] ring-inset ring-zinc-700",r==="top"&&"-translate-x-1/2 -translate-y-full transform",r==="bottom"&&"-translate-x-1/2 transform",r==="left"&&"-translate-x-full -translate-y-1/2 transform",r==="right"&&"-translate-y-1/2 transform",u?"pointer-events-auto":"pointer-events-none",t),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{type:"tween",duration:.05},css:css`
              filter: drop-shadow(0 0 0.5rem rgba(0, 0, 0, 0.5));
            `,onMouseEnter:()=>{y&&clearTimeout(y),v&&clearTimeout(v)},children:n})]})}),W);return ne("div",{ref:P,className:classes("relative inline-block",c),onMouseEnter:N,onMouseLeave:B,onMouseDown:j,children:[e,z]})}(e=>{e.Dropdown=c6})(tk||(tk={}));var q;(e=>{e.Common=y2,e.GlobalCSS=K7,e.Mode=C0,e.Badge=WH,e.Divider=v2,e.Icon=w2,e.Loading=b2,e.Logo=gC,e.Checkered=HH,e.New=CJ,e.Page=TJ,e.Slider=cee,e.Skeleton=oee,e.Button=Ds,e.Checkbox=GH,e.Dropdown=qH,e.Input=mC,e.NumberInput=_J,e.Stars=Xee,e.Popout=iee,e.Modal=K2,e.Soon=Kee,e.Tooltip=tk,e.Snackbar=qee,e.Label=EK,e.useDark=()=>C0.use().dark,e.useIsMobileDevice=()=>SM().width<768})(q||(q={}));var T0;(e=>{e.min=()=>0,e.preset=()=>5,e.max=()=>50,e.use=()=>{const t=ee.Brush.use(),n=ee.Brush.useSet(),r=useCallback(i=>{n(a=>{const s=(typeof i=="function"?i(a.blur):i)??(0,e.preset)();return{...a,blur:clamp((0,e.min)(),s,(0,e.max)())}})},[n]);return useMemo(()=>[t.blur,r],[t.blur,r])},(t=>{t.use=()=>{const[,n]=ee.Brush.Blur.use(),[r]=ee.Tool.Active.use(),i=r==="brush";Xe.use(useMemo(()=>({name:["Eraser","Blur","Increase"],icon:q.Icon.Plus,keys:["Shift","]"],enabled:i,action:()=>n(a=>a+1)}),[i,n])),Xe.use(useMemo(()=>({name:["Eraser","Blur","Decrease"],icon:q.Icon.Minus,keys:["Shift","["],enabled:i,action:()=>n(a=>a-1)}),[i,n]))}})(e.Shortcuts||(e.Shortcuts={}))})(T0||(T0={}));function IP(){const[e]=ee.Tool.Active.use(),[t,n]=useState(!1),r=useRef(null),{size:i,strength:a}=ee.Brush.use();return useEffect(()=>{function s(o){r.current&&t&&e==="brush"&&o.clientX&&o.clientY?(r.current.style.left=o.clientX-i/2+"px",r.current.style.top=o.clientY-i/2+"px",r.current.style.display="block",r.current.style.cursor="none"):r.current&&(r.current.style.display="none")}return window.addEventListener("mousemove",s),document.getElementById("canvas-container")?.addEventListener("mouseenter",()=>n(!0)),document.getElementById("canvas-container")?.addEventListener("mouseleave",()=>n(!1)),()=>{window.removeEventListener("mousemove",s),document.getElementById("canvas-container")?.removeEventListener("mouseenter",()=>n(!0)),document.getElementById("canvas-container")?.removeEventListener("mouseleave",()=>n(!1))}},[r,e,i,t]),t&&e==="brush"?(document.body.style.cursor="none",E("svg",{className:"pointer-events-none absolute hidden",style:{zIndex:1e3,opacity:a},width:i+2,height:i+2,ref:r,children:E("circle",{fill:"transparent",stroke:"white",strokeWidth:"2",r:i/2,cx:i/2+1,cy:i/2+1})})):(document.body.style.cursor="default",null)}class Mh{constructor(){Ut(this,"strokeWidth",0);Ut(this,"strokeBlur",0);Ut(this,"strokeStrength",0);Ut(this,"points",[]);Ut(this,"line",null);Ut(this,"canvas",document.createElement("canvas"));Ut(this,"context",this.canvas.getContext("2d"))}addPoint(t,n){this.points.push(t),this.points.push(n),this.line&&(this.draw(),this.line.getLayer()?.batchDraw())}restart(t,n,r,i){this.strokeWidth=t,this.strokeBlur=n,this.strokeStrength=r,this.points=i,this.line?.visible(!0)}clear(){this.points=[],this.line&&(this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.line.visible(!1),this.line.getLayer()?.batchDraw())}draw(){const[t,n]=this.points.reduce((o,l,u)=>(!o[0]||!o[1]||(u%2===0?(l<o[0].x&&(o[0].x=l),l>o[1].x&&(o[1].x=l)):(l<o[0].y&&(o[0].y=l),l>o[1].y&&(o[1].y=l))),o),[{x:1/0,y:1/0},{x:-1/0,y:-1/0}]);if(!t||!n)return;const r=n.x-t.x,i=n.y-t.y;this.canvas.width=r+this.strokeWidth*2+this.strokeBlur*2,this.canvas.height=i+this.strokeWidth*2+this.strokeBlur*2,this.line?.position({x:t.x-this.strokeWidth-this.strokeBlur,y:t.y-this.strokeWidth-this.strokeBlur}),this.line?.width(this.canvas.width),this.line?.height(this.canvas.height),this.context.beginPath(),this.context.fillStyle="white",this.context.filter=`blur(${this.strokeBlur}px)`,this.context.lineWidth=this.strokeWidth,this.context.lineCap="round",this.context.lineJoin="round",this.context.globalAlpha=this.strokeStrength;const a=this.points[0],s=this.points[1];a&&s&&this.context.moveTo(a-(this.line?.x()||0),s-(this.line?.y()||0));for(let o=2;o<this.points.length;o+=2){const l=this.points[o],u=this.points[o+1];l&&u&&this.context.lineTo(l-(this.line?.x()??0),u-(this.line?.y()??0))}this.context.stroke()}}(e=>{e.applyToImage=(t,n)=>new Promise(r=>{if(!t.element?.complete||!t.element.src){r(null);return}const i=document.createElement("canvas");i.width=t.element.width,i.height=t.element.height;const a=i.getContext("2d");a.drawImage(t.element,0,0,i.width,i.height);const s=Math.max(t.width/t.element.width,t.height/t.element.height),o={x:-((t.width-t.element.width*s)/2)/s,y:-((t.height-t.element.height*s)/2)/s};a.beginPath(),a.strokeStyle="white",a.lineWidth=n.strokeWidth/s,a.lineCap="round",a.lineJoin="round",a.filter=`blur(${n.strokeBlur/s}px)`,a.globalAlpha=n.strokeStrength,a.globalCompositeOperation="destination-out";for(let u=0;u<n.points.length;u+=2){const c=n.points[u],h=n.points[u+1];!c||!h||(u===0?a.moveTo(c/s-t.x/s+o.x,h/s-t.y/s+o.y):a.lineTo(c/s-t.x/s+o.x,h/s-t.y/s+o.y))}a.stroke(),t.element.src.startsWith("blob:")&&t.element.src!==t.src&&URL.revokeObjectURL(t.element.src);const l=new window.Image;l.id=t.id,l.onload=()=>r(l),i.toBlob(u=>{u&&(l.src=URL.createObjectURL(u)),i.remove()})})})(Mh||(Mh={}));function Jee(){const e=ee.Brush.useSet(),t=ee.Brush.use(),{solid:n,blurred:r}=ete({onClick:e});return ne("div",{className:"pointer-events-auto max-w-[300px] overflow-hidden",children:[ne("div",{className:"py-3",children:[E(vb,{children:n}),E(vb,{children:r})]}),E(q.Divider,{children:"Settings"}),ne("div",{className:"mb-2 flex flex-col gap-4 p-4 text-zinc-300 dark:text-white",children:[E(q.Slider,{title:"Size",value:t.size,min:ee.Brush.Size.min(),max:ee.Brush.Size.max(),onChange:i=>e(a=>({...a,size:i}))}),E(q.Slider,{title:"Strength",step:1,value:t.strength*100,min:ee.Brush.Strength.min()*100,max:ee.Brush.Strength.max()*100,onChange:i=>e(a=>({...a,strength:i/100}))}),E(q.Slider,{title:"Blur",value:t.blur,max:ee.Brush.Blur.max(),onChange:i=>e(a=>({...a,blur:i}))})]}),E(q.Divider,{children:"Preview"}),E("div",{className:"py-4",children:E(vb,{children:E(d6,{highlighted:!0,...t})})})]})}function vb({children:e}){return E("div",{className:"flex items-stretch justify-center p-2",children:e})}function d6({size:e=ee.Brush.Size.preset(),strength:t=ee.Brush.Strength.preset(),blur:n=ee.Brush.Blur.preset(),selectable:r=!1,scaleSize:i=l=>l,scaleBlur:a=l=>l,onClick:s,...o}){const l=ee.Brush.use(),[u,c]=useState(!1),h=e===l.size&&n===l.blur,p=o.highlighted??(u||h);return E("div",{className:classes("flex grow items-center justify-center self-stretch",r&&"cursor-pointer"),onClick:()=>s?.({...l,size:e,blur:n}),onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:E("div",{className:classes("rounded-full",p?"bg-brand-500":"bg-zinc-600"),style:{filter:`blur(${a(n)}px)`,width:`${i(e)}px`,height:`${i(e)}px`,opacity:t}})})}function ete({onClick:e}){return useMemo(()=>{const r=Array.from({length:10},(a,s)=>{const o=ee.Brush.Size.min()+s/9*(ee.Brush.Size.max()-ee.Brush.Size.min()),l=2+Math.pow(s/(10-1),2)*(ee.Brush.Blur.max()-2);return{size:o,blur:l}}),i=[...r,...r].map(({size:a,blur:s},o)=>{const l=o>=r.length;return E(d6,{selectable:!0,scaleSize:u=>u/6+5,scaleBlur:u=>Math.max(u/4,l?2:0),onClick:e,size:a,blur:l?s:0},o)});return{solid:i.slice(0,r.length),blurred:i.slice(-r.length)}},[e])}var nk;(e=>{e.use=()=>{const t=ee.Tool.Active.useSet(),[n]=ee.Tool.Active.use(),r=n==="brush";ee.Brush.Blur.Shortcuts.use(),ee.Brush.Size.Shortcuts.use(),Xe.Priority.use(useMemo(()=>({name:"Eraser",level:"high",enabled:r}),[r])),Xe.use(useMemo(()=>({name:"Eraser",icon:q.Icon.Eraser,keys:"e",action:()=>t("brush")}),[t]))}})(nk||(nk={}));var rk;(e=>{function t(){const n=ee.Brush.useSet(),r=ee.Brush.use();return E(Ot.Sidebar.Section,{title:"Eraser settings",defaultExpanded:!0,collapsable:!0,divider:!0,children:ne("div",{className:"flex w-full items-center gap-5",children:[ne("div",{className:"relative flex aspect-square w-[10rem] items-center justify-center overflow-hidden rounded bg-white/10",children:[E(q.Checkered,{}),E(tte,{highlighted:!0,...r,scaleBlur:i=>i/2.5,scaleSize:i=>i/2.5})]}),ne("div",{className:"flex w-full flex-col gap-2",children:[E(q.Slider,{title:"Size",value:r.size,min:ee.Brush.Size.min(),max:ee.Brush.Size.max(),onChange:i=>n(a=>({...a,size:i}))}),E(q.Slider,{title:"Blur",value:r.blur,max:ee.Brush.Blur.max(),onChange:i=>n(a=>({...a,blur:i}))}),E(q.Slider,{title:"Strength",step:1,percentage:!0,value:r.strength*100,min:ee.Brush.Strength.min()*100,max:ee.Brush.Strength.max()*100,onChange:i=>n(a=>({...a,strength:i/100}))})]})]})})}e.Section=t})(rk||(rk={}));function tte({size:e=ee.Brush.Size.preset(),strength:t=ee.Brush.Strength.preset(),blur:n=ee.Brush.Blur.preset(),selectable:r=!1,scaleSize:i=l=>l,scaleBlur:a=l=>l,onClick:s,...o}){const l=ee.Brush.use(),[u,c]=useState(!1),h=e===l.size&&n===l.blur,p=o.highlighted??(u||h);return E("div",{className:classes("flex grow items-center justify-center self-stretch",r&&"cursor-pointer"),onClick:()=>s?.({...l,size:e,blur:n}),onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:E("div",{className:classes("rounded-full",p?"bg-white":"bg-zinc-600"),style:{filter:`blur(${a(n)}px)`,width:`${i(e)}px`,height:`${i(e)}px`,opacity:t}})})}var I0;(e=>{e.min=()=>5,e.preset=()=>50,e.max=()=>200,e.use=()=>{const t=ee.Brush.use(),n=ee.Brush.useSet(),r=useCallback(i=>{n(a=>{const s=(typeof i=="function"?i(a.size):i)??(0,e.preset)();return{...a,size:clamp((0,e.min)(),s,(0,e.max)())}})},[n]);return useMemo(()=>[t.size,r],[t.size,r])},(t=>{t.use=()=>{const[,n]=ee.Brush.Size.use(),[r]=ee.Tool.Active.use(),i=r==="brush";Xe.use(useMemo(()=>({name:["Eraser","Size","Increase"],icon:q.Icon.Plus,keys:"]",action:()=>n(a=>a+5),enabled:i}),[i,n])),Xe.use(useMemo(()=>({name:["Eraser","Size","Decrease"],icon:q.Icon.Minus,keys:"[",action:()=>n(a=>a-5),enabled:i}),[i,n]))}})(e.Shortcuts||(e.Shortcuts={}))})(I0||(I0={}));var P0;(e=>{e.min=()=>0,e.preset=()=>(0,e.max)(),e.max=()=>1,e.use=()=>{const t=ee.Brush.use(),n=ee.Brush.useSet(),r=useCallback(i=>{n(a=>{const s=(typeof i=="function"?i(a.strength):i)??(0,e.preset)();return{...a,strength:clamp((0,e.min)(),s,(0,e.max)())}})},[n]);return useMemo(()=>[t.strength,r],[t.strength,r])}})(P0||(P0={}));function R0(){const[e]=ee.Tool.Active.use(),t=useRef(new Mh),n=useRef(null),r=ee.Canvas.use(),[,i]=useState(0),a=ee.Entities.useMap(),s=ee.Entities.useSet(),{blur:o,size:l,strength:u}=ee.Brush.use();return useEffect(()=>{t.current&&n.current&&(t.current.line=n.current)},[]),ee.Canvas.useMouseDown(c=>{if(e==="brush"&&c.evt.button===0&&r){const h=r.current?.scaleX()||1,p=r.current?.getPointerPosition()||{x:0,y:0},m=r.current?.getPosition()||{x:0,y:0};t.current.restart(l/h,o,u,[p.x/h-m.x/h,p.y/h-m.y/h,p.x/h-m.x/h,p.y/h-m.y/h]),i(g=>g+1)}},[e,l,o,r?.current,t.current]),ee.Canvas.useMouseUp(()=>{if(e==="brush"){const c=[];a.forEach(h=>{if(h.type==="image")for(let p=0;p<t.current.points.length;p+=2){const m=t.current.points[p],g=t.current.points[p+1];if(!m||!g)return;if(R0.circleIntersectsRectange(m,g,t.current.strokeWidth+t.current.strokeBlur,h.x,h.y,h.width,h.height)){c.push(Mh.applyToImage(h,t.current));break}}}),Promise.all(c).then(h=>{const p=new Map;h.forEach(m=>{if(!m)return;const g=a.get(m.id);p.set(g.id,{...g,element:m})}),s(m=>new Map([...m,...p])),t.current.clear()})}},[e,t.current]),ee.Canvas.useMouseMove(c=>{if(e==="brush"&&t.current&&c.evt.buttons===1&&r){const h=r.current?.scaleX()||1,p=r.current?.getPointerPosition()||{x:0,y:0},m=r.current?.getPosition()||{x:0,y:0};t.current.addPoint(p.x/h-m.x/h,p.y/h-m.y/h)}},[e,t.current,r?.current]),E(RH,{ref:n,listening:!1,perfectDrawEnabled:!1,globalCompositeOperation:"destination-out",visible:e==="brush",image:t.current.canvas})}(e=>{e.MaskLine=Mh,e.Panel=Jee,e.Cursor=IP,e.Sidebar=rk,e.Shortcuts=nk,e.Blur=T0,e.Size=I0,e.Strength=P0;function t(a,s,o,l,u,c,h){const p=Math.abs(a-(l+c/2)),m=Math.abs(s-(u+h/2));return p>c/2+o||m>h/2+o?!1:p<=c/2||m<=h/2?!0:(p-c/2)**2+(m-h/2)**2<=o**2}e.circleIntersectsRectange=t,e.preset=()=>({size:I0.preset(),strength:P0.preset(),blur:T0.preset()});const n=tt.create(()=>({brush:(0,e.preset)()}));e.use=()=>n(({brush:a})=>a),e.useSet=()=>{const a=(0,e.use)(),s=n.setState;return useCallback(o=>s({brush:typeof o=="function"?o(a):o}),[s,a])};function r(){return ne(it,{children:[E(IP,{}),E(ee.Tool,{label:"Eraser",tool:"brush",children:E(e.Icon,{})})]})}e.Tool=r;function i(){return E(q.Icon.Eraser,{strokeWidth:1.5,size:22})}e.Icon=i})(R0||(R0={}));var ik;(e=>{e.useGet=()=>{const t=ee.Canvas.use();return useCallback(()=>{if(!t.current)return;const n=t.current.getPosition(),r=t.current.getSize(),i={x:t.current.scaleX(),y:t.current.scaleY()};return{x:(-n.x+r.width/2)/i.x,y:(-n.y+r.height/2)/i.y}},[t])}})(ik||(ik={}));var A0;(e=>{function t(){return E(ee.Tool,{tool:"hand",children:E(q.Icon.Hand,{strokeWidth:1.5,size:22})})}e.Tool=t,(n=>{n.use=()=>{const r=ee.Tool.Active.useSet();Xe.use(useMemo(()=>({name:["Camera","Hand"],icon:q.Icon.Hand,keys:"h",action:()=>r("hand")}),[r]))}})(e.Shortcuts||(e.Shortcuts={}))})(A0||(A0={}));var ak;(e=>{e.use=()=>{const n=ee.Entities.useSurroundingBox(),r=ee.Camera.useSet();return useCallback(()=>{n&&r(n)},[n,r])};function t(){const n=(0,e.use)();return E(ee.Tool,{onClick:n,children:E(q.Icon.LocateFixed,{})})}e.Tool=t,(n=>{n.use=()=>{const r=e.use();Xe.use(useMemo(()=>({name:["Camera","Reset"],icon:q.Icon.LocateFixed,keys:["Meta","9"],action:r}),[r]))}})(e.Shortcuts||(e.Shortcuts={}))})(ak||(ak={}));var sk;(e=>{e.use=()=>{ee.Camera.Reset.Shortcuts.use(),ee.Camera.Zoom.Shortcuts.use()}})(sk||(sk={}));var ok;(e=>{function t(){return ne(it,{children:[E(n.Tool,{}),E(r.Tool,{})]})}e.Tools=t,(a=>{a.use=()=>{n.Shortcuts.use(),r.Shortcuts.use(),i.Shortcuts.use()}})(e.Shortcuts||(e.Shortcuts={}));let n;(a=>{a.use=()=>{const o=ee.Canvas.use();return useCallback(()=>{o?.current&&ee.Canvas.changeZoom(1.1,o.current)},[o])};function s(){const o=(0,a.use)();return E(ee.Tool,{onClick:o,children:E(q.Icon.ZoomIn,{})})}a.Tool=s,(o=>{o.use=()=>{const l=a.use();Xe.use(useMemo(()=>({name:["Camera","Zoom","In"],icon:q.Icon.ZoomIn,keys:["Meta","="],action:l}),[l]))}})(a.Shortcuts||(a.Shortcuts={}))})(n=e.In||(e.In={}));let r;(a=>{a.use=()=>{const o=ee.Canvas.use();return useCallback(()=>{o?.current&&ee.Canvas.changeZoom(.9,o.current)},[o])};function s(){const o=(0,a.use)();return E(ee.Tool,{onClick:o,children:E(q.Icon.ZoomOut,{})})}a.Tool=s,(o=>{o.use=()=>{const l=a.use();Xe.use(useMemo(()=>({name:["Camera","Zoom","Out"],icon:q.Icon.ZoomIn,keys:["Meta","-"],action:l}),[l]))}})(a.Shortcuts||(a.Shortcuts={}))})(r=e.Out||(e.Out={}));let i;(a=>{a.use=()=>{const s=ee.Canvas.use();return useCallback(()=>{s?.current&&ee.Canvas.changeZoom(void 0,s.current)},[s])},(s=>{s.use=()=>{const o=a.use();Xe.use(useMemo(()=>({name:["Camera","Zoom","Reset"],icon:q.Icon.Search,keys:["Meta","0"],action:o}),[o]))}})(a.Shortcuts||(a.Shortcuts={}))})(i=e.Reset||(e.Reset={}))})(ok||(ok={}));var lk;(e=>{e.Center=ik,e.Hand=A0,e.Reset=ak,e.Shortcuts=sk,e.Zoom=ok,e.useSet=()=>{const r=ee.Canvas.use();return useCallback(i=>{if(!r?.current)return;const a={x:i.x-25,y:i.y-25,width:i.width+25*2,height:i.height+25*2},s=Math.min(r.current.width()/a.width,r.current.height()/a.height);r.current.scale({x:s,y:s}),r.current.position({x:-a.x*r.current.scaleX()+r.current.width()/2-a.width*r.current.scaleX()/2,y:-a.y*r.current.scaleY()+r.current.height()/2-a.height*r.current.scaleY()/2})},[r,25])};function t(){return E(A0.Tool,{})}e.Tools=t})(lk||(lk={}));function Lh(){const e=useRef(null),t=useRef(null),{origin:n,setOrigin:r,size:i,setSize:a}=Lh.useState(),[s]=ee.Tool.Active.use(),o=ee.Tool.Active.useSet(),l=ee.Entities.use(),u=ee.Selection.use(),c=ee.Selection.useSelect();return ee.Canvas.useMouseDown(h=>{if(s==="export"&&h.evt.button===0){const p=h.target.getStage(),m=p.scaleX()||1,g=p.getPointerPosition()||{x:0,y:0},y=p.getPosition()||{x:0,y:0};r(()=>[g.x/m-y.x/m,g.y/m-y.y/m]),a(()=>[0,0]),e.current&&(e.current.visible(!0),t.current.visible(!0))}},[s,e.current]),ee.Canvas.useMouseMove(h=>{if(s==="export"&&n!==null&&e.current?.visible()&&h.evt.buttons===1){const p=h.target.getStage(),m=p.scaleX()||1,g=p.getPointerPosition()||{x:0,y:0},y=p.getPosition()||{x:0,y:0},b=g.x/m-y.x/m-n[0],v=g.y/m-y.y/m-n[1];b<0?(r(T=>[T[0]+b,t.current.y()]),a(T=>[-b,T[1]])):a(T=>[b,T[1]]),v<0?(r(T=>[t.current.x(),T[1]+v]),a(T=>[T[0],-v])):a(T=>[T[0],v]);const x=[];let k=!1;l.forEach(T=>{T.type==="image"&&(ee.Canvas.rectContainsRect(e.current.x(),e.current.y(),e.current.width(),e.current.height(),T.x,T.y,T.width,T.height)?(x.push(T.id),u.has(T.id)||(k=!0)):u.has(T.id)&&(k=!0))}),k&&c(x)}},[s,e.current,n]),ee.Canvas.useMouseUp(()=>{if(s==="export"&&n!==null&&e.current){const h={x:e.current.x(),y:e.current.y(),width:e.current.width(),height:e.current.height()};let p=l.flatMap(g=>g.type==="image"&&g.visible?[g]:[]);if(e.current.width()<10&&e.current.height()<10){const g=ee.Canvas.Render.getImageFromPoint(e.current.x(),e.current.y(),l.flatMap(y=>y.type==="image"&&y.visible?[y]:[]).reverse());g&&(p=[{...g,x:0,y:0,type:"image",id:"export",index:0,locked:!1,visible:!0}],h.x=g.x,h.y=g.y,h.width=g.width,h.height=g.height)}const m=ee.Canvas.Render.createImageFromBox(h.x,h.y,h.width,h.height,p.reverse(),1);if(m){const g=document.createElement("a");g.download="export.png",g.href=m.toDataURL("image/png"),g.click(),m.remove()}r(()=>null),o("select")}},[s,e.current]),E(it,{children:n&&i&&ne(it,{children:[E(a0,{x:n[0],y:n[1],width:i[0],height:i[1],fill:"#4f46e5",opacity:.2,ref:e,listening:!1}),E(a0,{x:n[0],y:n[1],width:i[0],height:i[1],stroke:"#4f46e5",strokeWidth:3,dash:[5,5],ref:t,listening:!1})]})})}(e=>{e.useState=tt.create(t=>({origin:null,size:[0,0],setOrigin:n=>t(r=>({...r,origin:n(r.origin)})),setSize:n=>t(r=>({...r,size:n(r.size)}))}))})(Lh||(Lh={}));function nte(){return q.useDark(),ee.Canvas.use(),null}var PP;(e=>{e.center=t=>({x:t.x+t.width/2,y:t.y+t.height/2})})(PP||(PP={}));var Qu;(e=>{e.surroundingBox=t=>t.reduce((n,r)=>{if(!n)return r;const{x:i,y:a}=uk.min(n,r),s=Math.max(r.x+r.width,n.x+n.width)-i,o=Math.max(r.y+r.height,n.y+n.height)-a;return{x:i,y:a,width:s,height:o}},void 0)})(Qu||(Qu={}));var uk;(e=>{e.min=(t,n)=>({x:Math.min(t.x,n.x),y:Math.min(t.y,n.y)}),e.max=(t,n)=>({x:Math.max(t.x,n.x),y:Math.max(t.y,n.y)})})(uk||(uk={}));var Xd;(e=>{e.min=(t,n)=>({width:Math.min(t.width,n.width),height:Math.min(t.height,n.height)}),e.max=(t,n)=>({width:Math.max(t.width,n.width),height:Math.max(t.height,n.height)}),(t=>{t.apply=(n,r)=>(0,e.min)((0,e.max)(n,r?.min??{width:0,height:0}),r?.max??{width:1/0,height:1/0})})(e.Clamp||(e.Clamp={}))})(Xd||(Xd={}));var ck;(e=>{function t(a,s,o){return o.find(l=>l.x<=a&&l.x+l.width>=a&&l.y<=s&&l.y+l.height>=s&&l.element?.src&&l.visible)}e.getImageFromPoint=t;function n(a){return Qu.surroundingBox(a)}e.getBoundsOfImages=n;function r(a,s,o,l,u,c,h,p){const m=u.filter(g=>g.x<=a+o&&g.x+g.width>=a&&g.y<=s+l&&g.y+g.height>=s&&g.visible&&(p?g.original.element?.src:g.element?.src));if(h&&m.length>0){const g=n(m);a=g.x,s=g.y,o=g.width,l=g.height}if(m.length>0){const g=document.createElement("canvas");g.width=o,g.height=l;const y=g.getContext("2d");return y?(m.sort().forEach(b=>{const v=Math.max(b.width/b.original.width,b.height/b.original.height),x={x:-((b.width-b.original.width*v)/2)/v,y:-((b.height-b.original.height*v)/2)/v};b.element?.src&&(p?b.original.element:b.element)&&(y.drawImage(b.element,x.x,x.y,b.width/v,b.height/v,b.x-a,b.y-s,b.width,b.height),p&&b.original.element&&(y.globalCompositeOperation="destination-over",y.drawImage(b.original.element,x.x,x.y,b.width/v,b.height/v,b.x-a,b.y-s,b.width,b.height),y.globalCompositeOperation="source-over"))}),p&&(y.fillStyle="rgb(128, 128, 128)",y.globalCompositeOperation="destination-over",y.fillRect(0,0,g.width,g.height),y.globalCompositeOperation="source-over"),c<1&&(y.globalAlpha=1-c,y.fillStyle="white",y.globalCompositeOperation="destination-out",y.fillRect(0,0,g.width,g.height),y.globalAlpha=1,y.globalCompositeOperation="source-over"),g):void 0}else return null}e.createImageFromBox=r;function i(a,s,o){const l={x:s.x,y:s.y,width:Math.ceil(s.width/64)*64,height:Math.ceil(s.height/64)*64};if(l.width*l.height>1048576)return console.log("box is too large"),null;const u={mode:"txt2img",init:"",mask:""},c=r(l.x,l.y,l.width,l.height,a,o,!1,!1),h=r(l.x,l.y,l.width,l.height,a,o,!1,!0);if(c&&h){const p=document.createElement("canvas");p.width=h.width,p.height=h.height;const m=p.getContext("2d");m.drawImage(c,0,0,c.width,c.height,0,0,c.width,c.height),m.fillStyle="white",m.globalCompositeOperation="source-in",m.fillRect(0,0,p.width,p.height),m.fillStyle="black",m.globalCompositeOperation="destination-atop",m.fillRect(0,0,p.width,p.height),m.globalCompositeOperation="source-over";const g=m.getImageData(0,0,p.width,p.height),y=new Uint32Array(g.data.buffer);let b=!0,v=0;for(let x=0;x<y.length;x++)if(y[x]!==4294967295&&v++,v>25){b=!1;break}b?(u.mode="img2img",o>=1&&(m.fillStyle="rgb(210, 210, 210)",m.fillRect(0,0,p.width,p.height))):(u.mode="inpaint",m.filter="blur(20px)",m.drawImage(p,0,0,p.width,p.height,0,0,p.width,p.height)),u.mask=p.toDataURL("image/png",1),u.init=h.toDataURL("image/png",1)}return u}e.getGenerationMetadata=i})(ck||(ck={}));var Zu;(e=>{const t=tt.create(()=>({canvas:React.createRef(),loading:!0,zoom:1}));e.useCanvas=()=>t(({canvas:r})=>r),e.use=()=>{n();const r=ee.Canvas.useResize(),i=ee.Reset.use(),a=t(),s=t.setState,[o]=useState(ID.create());return useEffect(()=>{o!==a.id&&s({id:o,loading:!0})},[o,a.id,s]),useEffect(()=>{!a.loading||!a.id||!a.canvas.current||(r(),i(),s({loading:!1}))},[a.loading,a.id,a.canvas,s,r,i]),a};const n=()=>{const{height:r,width:i}=SM(),a=ee.Canvas.useResize();Ph(a,1e3,[i,r,a])};e.setZoom=r=>{t.setState({zoom:r})},e.useZoom=()=>{const{zoom:r}=t(({zoom:i})=>({zoom:i}));return r}})(Zu||(Zu={}));function Fh({children:e}){const t=useRef(null),{canvas:n,loading:r}=Zu.use(),i=useRef(!1),[a]=ee.Tool.Active.use(),s=ee.Selection.useClear();return E("div",{ref:t,id:"canvas-container",className:classes("absolute bottom-0 left-0 right-0 top-0 z-0 opacity-100",r&&"opacity-0"),onDrop:ee.Image.Import.useOnDrop(),onDragOver:o=>o.preventDefault(),children:ne(DH,{ref:n,css:css`
          & .konvajs-content {
            position: absolute !important;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
          }
        `,onMouseMove:o=>{if(o.cancelBubble=!0,(o.evt.buttons===4||o.evt.button===0&&a==="select")&&i.current){const l=o.target.getStage(),u=l.position();l.position({x:u.x+o.evt.movementX,y:u.y+o.evt.movementY}),a!=="brush"&&(document.body.style.cursor="grabbing")}},onWheel:o=>{Fh.changeZoomRelative(o.target.getStage(),o.evt.deltaY)},onMouseDown:o=>{(o.evt.buttons===4||o.evt.button===0&&a==="select")&&(i.current=!0),a==="select"&&s()},onMouseUp:()=>{i.current=!1,a!=="brush"&&(document.body.style.cursor="default")},onMouseLeave:()=>{i.current=!1},children:[E(i0,{children:E(nte,{})}),e,E(i0,{children:E(Lh,{})})]})})}(e=>{e.use=()=>Zu.useCanvas(),e.useGetContainer=()=>{const h=(0,e.use)();return useCallback(()=>h.current?.container().parentElement,[h])},e.useResize=()=>{const h=(0,e.use)(),p=(0,e.useGetContainer)();return useCallback(()=>{if(!h.current)return;const m=p();if(!m)return;const g=m.offsetWidth,y=m.offsetHeight;!g||!y||h.current.setSize({width:g,height:y})},[h,p])};function t(h,p,m=[]){const g=(0,e.use)();return useEffect(()=>{if(g&&g.current)return g.current.on(h,p),()=>{g.current?.off(h,p)}},[h,p,g,...m]),g?.current||null}e.useStageEvent=t;function n(h,p=[]){return t("mousemove",h,p)}e.useMouseMove=n;function r(h,p=[]){return t("mouseup",h,p)}e.useMouseUp=r;function i(h,p=[]){return t("mousedown",h,p)}e.useMouseDown=i;function a(h){const p=[],m=[];return h.forEach(g=>{const y=g.position(),b=g.width(),v=g.height();p.push(y.x,y.x+b),m.push(y.y,y.y+v)}),{vertical:p,horizontal:m}}e.collectSnapLines=a;function s(h,p,m,g,y,b,v,x){return h<=y&&p<=b&&h+m>=y+v&&p+g>=b+x}e.rectContainsRect=s;function o(h,p){const m=p.scaleX(),g={x:p.width()/2,y:p.height()/2},y={x:(g.x-p.x())/m,y:(g.y-p.y())/m},b=h?m*h:1;p.scale({x:b,y:b});const v={x:g.x-y.x*b,y:g.y-y.y*b};p.position(v),p.batchDraw()}e.changeZoom=o;function l(h,p,m){if(p===0)return;const g=h.scaleX(),y=h.getPointerPosition(),b=m||{x:(y.x-h.x())/g,y:(y.y-h.y())/g},x=(p>0?-1:1)>0?g*(1+.02):g*(1-.02);h.scale({x,y:x});const k={x:y.x-b.x*x,y:y.y-b.y*x};h.position(k),h.batchDraw();const T=h.scaleX();Zu.setZoom(T)}e.changeZoomRelative=l;function u(){const h=(0,e.use)();return useCallback(p=>{p.deltaY!==0&&h&&h.current&&(h.current.setPointersPositions(p),l(h.current,p.deltaY))},[h])}e.useTriggerWheelEvent=u;function c(){const h=(0,e.use)();return useCallback(p=>{h&&h.current&&h.current.fire("mousemove",{evt:p},!0)},[h])}e.useTriggerMouseMoveEvent=c,e.Render=ck,e.ExportBox=Lh})(Fh||(Fh={}));var dk;(e=>{e.useCopy=()=>useCallback(async t=>{const n=await re.Image.blob(t);if(!n)return;const r=new ClipboardItem({[n.type]:n});await navigator.clipboard.write([r])},[])})(dk||(dk={}));function rte({className:e,children:t,y:n}){return E(Or.div,{className:classes("m-3 my-4 flex justify-end gap-2",e),initial:{y:n},transition:{duration:.15},children:t})}function $m({button:e,className:t,name:n,...r}){const i={...r,outline:!1,className:classes(t,"pointer-events-auto bg-transparent",!r.noBg&&!r.disabled&&"hover:bg-brand-400 dark:hover:bg-brand-400")},a=e?e(i):E(q.Button,{...i});return E(it,{children:n?E(q.Tooltip,{content:n,placement:"top",className:t,children:a}):a})}function sv({image:e}){const t=re.Image.Download.use(e),n=re.Image.Session.useSetInitialImage(),r=re.Image.Session.useCreateVariations(e),i=ee.Import.use(e),{input:a}=re.Image.Input.use(e.inputID),s=useMemo(()=>!!a?.init&&"src"in a.init&&a.init?.src===e.src,[a,e.src]),o=useMemo(()=>a?.id&&!re.Image.Input.isUpscaling(a)&&E($m,{button:h=>E(re.Image.Variations.Create.Button,{...h,id:a.id,icon:q.Icon.Variation,onIdleClick:r,noBrand:!0}),transparent:!0,className:"mr-auto -ml-1"}),[a,r]),l=useMemo(()=>E($m,{icon:q.Icon.Edit,name:"Edit image",onClick:i,color:"zinc",transparent:!0}),[i]),u=useMemo(()=>E($m,{icon:q.Icon.Image,name:s?"Initial image":"Set as initial image",disabled:s,className:classes(s&&"opacity-50"),onClick:()=>n(e),color:"zinc",transparent:!0}),[s,n,e]),c=q.useIsMobileDevice();return useMemo(()=>ne(it,{children:[ne("div",{className:"pointer-events-none absolute flex h-full w-full flex-col justify-between opacity-0 duration-150 group-hover:opacity-75",children:[E("div",{className:"h-[6rem] bg-gradient-to-b from-black to-transparent"}),E("div",{className:"h-[6rem] bg-gradient-to-b from-transparent to-black sm:hidden"})]}),ne("div",{className:"pointer-events-none absolute flex h-full w-full flex-col justify-between opacity-0 duration-150 group-hover:opacity-100",children:[ne(re.Image.Controls.Buttons,{y:-6,children:[o,!c&&ne(it,{children:[l,u,E(re.Image.Controls.Button,{name:"Download image",icon:q.Icon.Download,onClick:()=>t(),transparent:!0}),E(re.Images.Delete.Button,{images:[e.id]})]})]}),c&&ne(re.Image.Controls.Buttons,{className:"justify-start",y:6,children:[u,E(re.Image.Controls.Button,{name:"Download image",icon:q.Icon.Download,onClick:()=>t(),transparent:!0}),E(re.Images.Delete.Button,{images:[e.id]})]})]})]}),[o,c,l,u,t,e.id])}sv.Button=$m;sv.Buttons=rte;var Ju;(e=>{function t(){const[n,r]=e.use();return E(q.Slider,{title:"Image count",min:1,max:10,value:n,onChange:r})}e.Slider=t})(Ju||(Ju={}));(e=>{e.preset=()=>4,e.get=()=>wb.getState().count,e.set=t=>wb.getState().setCount(t),e.use=()=>wb(({count:t,setCount:n})=>[t,n],tt.shallow)})(Ju||(Ju={}));const wb=tt.create(e=>({count:Ju.preset(),setCount:t=>e({count:t})}));var hk={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});function n(r,i,a){a===void 0&&(a=!1),a&&(i=i/r,r=1);var s=[],o=0,l=0,u,c=function(){var h=o+i,p=Date.now();if(p<h){u!==void 0&&clearTimeout(u),u=setTimeout(c,h-p);return}o=p,l=0;for(var m=0,g=s.splice(0,r);m<g.length;m++){var y=g[m];l++,y()}s.length?u=setTimeout(c,i):u=void 0};return function(h){return new Promise(function(p,m){var g=function(){return Promise.resolve().then(h).then(p).catch(m)},y=Date.now();u===void 0&&y-o>i&&(o=y,l=0),l++<r?g():(s.push(g),u===void 0&&(u=setTimeout(c,o+i-y)))})}}e.exports=n,t.default=n})(hk,hk.exports);var ite=hk.exports;const ate=Zi(ite),ste="modulepreload",ote=function(e){return"/stablestudio/"+e},RP={},lte=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=ote(a),a in RP)return;RP[a]=!0;const s=a.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const h=i[c];if(h.href===a&&(!s||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${o}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":ste,s||(u.as="script",u.crossOrigin=""),u.href=a,document.head.appendChild(u),s)return new Promise((c,h)=>{u.addEventListener("load",c),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t())};var AP=e=>{let t,n=new Set,r=(s,o)=>{let l=typeof s=="function"?s(t):s;if(!Object.is(l,t)){let u=t;t=o??typeof l!="object"?l:Object.assign({},t,l),n.forEach(c=>c(t,u))}},i=()=>t,a={setState:r,getState:i,subscribe:s=>(n.add(s),()=>n.delete(s)),destroy:()=>{({VITE_USE_COMFYUI_PLUGIN:"true",VITE_GIT_HASH:"1fd0dce2a885646a25a052f41aa9e5d2456cbd89",BASE_URL:"/stablestudio/",MODE:"preview",DEV:!1,PROD:!0,SSR:!1}&&"preview")!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return t=e(r,i,a),a},ute=e=>e?AP(e):AP,cte=e=>t=>ute((n,r)=>e({set:n,get:r,context:t})),dte=cte(({set:e,get:t})=>({imagesGeneratedSoFar:0,manifest:{name:"Example Plugin",author:"Bobby Joe",link:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",icon:`${window.location.origin}/DummyImage.png`,version:"1.2.3",license:"MIT",description:"An example plugin for StableStudio"},createStableDiffusionImages:async()=>{let n=await(await fetch(`${window.location.origin}/DummyImage.png`)).blob(),r=new Date;return e(({imagesGeneratedSoFar:i})=>({imagesGeneratedSoFar:i+4})),{id:`${Math.random()*1e7}`,images:[{id:`${Math.random()*1e7}`,createdAt:r,blob:n},{id:`${Math.random()*1e7}`,createdAt:r,blob:n},{id:`${Math.random()*1e7}`,createdAt:r,blob:n},{id:`${Math.random()*1e7}`,createdAt:r,blob:n}]}},getStatus:()=>{let{imagesGeneratedSoFar:n}=t();return{indicator:"success",text:n>0?`${n} images generated`:"Ready"}},settings:{exampleSetting:{type:"string",default:"Hello, World!",placeholder:"Example setting"}},setSetting:(n,r)=>e(({settings:i})=>({settings:{[n]:{...i[n],value:r}}}))}));const hte=Object.freeze(Object.defineProperty({__proto__:null,createPlugin:dte},Symbol.toStringTag,{value:"Module"}));var fte=Object.defineProperty,h6=(e,t)=>{for(var n in t)fte(e,n,{get:t[n],enumerable:!0})};function yf(e){let t=typeof e;if(t=="object"){if(Array.isArray(e))return"array";if(e===null)return"null"}return t}function f6(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}var Va="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),ov=[];for(let e=0;e<Va.length;e++)ov[Va[e].charCodeAt(0)]=e;ov["-".charCodeAt(0)]=Va.indexOf("+");ov["_".charCodeAt(0)]=Va.indexOf("/");function p6(e){let t=e.length*3/4;e[e.length-2]=="="?t-=2:e[e.length-1]=="="&&(t-=1);let n=new Uint8Array(t),r=0,i=0,a,s=0;for(let o=0;o<e.length;o++){if(a=ov[e.charCodeAt(o)],a===void 0)switch(e[o]){case"=":i=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(i){case 0:s=a,i=1;break;case 1:n[r++]=s<<2|(a&48)>>4,s=a,i=2;break;case 2:n[r++]=(s&15)<<4|(a&60)>>2,s=a,i=3;break;case 3:n[r++]=(s&3)<<6|a,i=0;break}}if(i==1)throw Error("invalid base64 string.");return n.subarray(0,r)}function m6(e){let t="",n=0,r,i=0;for(let a=0;a<e.length;a++)switch(r=e[a],n){case 0:t+=Va[r>>2],i=(r&3)<<4,n=1;break;case 1:t+=Va[i|r>>4],i=(r&15)<<2,n=2;break;case 2:t+=Va[i|r>>6],t+=Va[r&63],n=0;break}return n&&(t+=Va[i],t+="=",n==1&&(t+="=")),t}var oe;(function(e){e.symbol=Symbol.for("protobuf-ts/unknown"),e.onRead=(n,r,i,a,s)=>{(t(r)?r[e.symbol]:r[e.symbol]=[]).push({no:i,wireType:a,data:s})},e.onWrite=(n,r,i)=>{for(let{no:a,wireType:s,data:o}of e.list(r))i.tag(a,s).raw(o)},e.list=(n,r)=>{if(t(n)){let i=n[e.symbol];return r?i.filter(a=>a.no==r):i}return[]},e.last=(n,r)=>e.list(n,r).slice(-1)[0];let t=n=>n&&Array.isArray(n[e.symbol])})(oe||(oe={}));function pte(e,t){return Object.assign(Object.assign({},e),t)}var U;(function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"})(U||(U={}));function mte(){let e=0,t=0;for(let r=0;r<28;r+=7){let i=this.buf[this.pos++];if(e|=(i&127)<<r,!(i&128))return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(n&15)<<28,t=(n&112)>>4,!(n&128))return this.assertBounds(),[e,t];for(let r=3;r<=31;r+=7){let i=this.buf[this.pos++];if(t|=(i&127)<<r,!(i&128))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function bb(e,t,n){for(let a=0;a<28;a=a+7){let s=e>>>a,o=!(!(s>>>7)&&t==0),l=(o?s|128:s)&255;if(n.push(l),!o)return}let r=e>>>28&15|(t&7)<<4,i=!!(t>>3);if(n.push((i?r|128:r)&255),!!i){for(let a=3;a<31;a=a+7){let s=t>>>a,o=!!(s>>>7),l=(o?s|128:s)&255;if(n.push(l),!o)return}n.push(t>>>31&1)}}var Vm=(1<<16)*(1<<16);function g6(e){let t=e[0]=="-";t&&(e=e.slice(1));let n=1e6,r=0,i=0;function a(s,o){let l=Number(e.slice(s,o));i*=n,r=r*n+l,r>=Vm&&(i=i+(r/Vm|0),r=r%Vm)}return a(-24,-18),a(-18,-12),a(-12,-6),a(-6),[t,r,i]}function fk(e,t){if(t<=2097151)return""+(Vm*t+(e>>>0));let n=e&16777215,r=(e>>>24|t<<8)>>>0&16777215,i=t>>16&65535,a=n+r*6777216+i*6710656,s=r+i*8147497,o=i*2,l=1e7;a>=l&&(s+=Math.floor(a/l),a%=l),s>=l&&(o+=Math.floor(s/l),s%=l);function u(c,h){let p=c?String(c):"";return h?"0000000".slice(p.length)+p:p}return u(o,0)+u(s,o)+u(a,1)}function NP(e,t){if(e>=0){for(;e>127;)t.push(e&127|128),e=e>>>7;t.push(e)}else{for(let n=0;n<9;n++)t.push(e&127|128),e=e>>7;t.push(1)}}function gte(){let e=this.buf[this.pos++],t=e&127;if(!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<7,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<14,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<21,!(e&128))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(e&15)<<28;for(let n=5;e&128&&n<10;n++)e=this.buf[this.pos++];if(e&128)throw new Error("invalid varint");return this.assertBounds(),t>>>0}function yte(){let e=new DataView(new ArrayBuffer(8));return globalThis.BigInt!==void 0&&typeof e.getBigInt64=="function"&&typeof e.getBigUint64=="function"&&typeof e.setBigInt64=="function"&&typeof e.setBigUint64=="function"?{MIN:BigInt("-9223372036854775808"),MAX:BigInt("9223372036854775807"),UMIN:BigInt("0"),UMAX:BigInt("18446744073709551615"),C:BigInt,V:e}:void 0}var Kt=yte();function y6(e){if(!e)throw new Error("BigInt unavailable, see https://github.com/timostamm/protobuf-ts/blob/v1.0.8/MANUAL.md#bigint-support")}var v6=/^-?[0-9]+$/,N0=(1<<16)*(1<<16),w6=class{constructor(t,n){this.lo=t|0,this.hi=n|0}isZero(){return this.lo==0&&this.hi==0}toNumber(){let t=this.hi*N0+(this.lo>>>0);if(!Number.isSafeInteger(t))throw new Error("cannot convert to safe number");return t}},xr=class extends w6{static from(e){if(Kt)switch(typeof e){case"string":if(e=="0")return this.ZERO;if(e=="")throw new Error("string is no integer");e=Kt.C(e);case"number":if(e===0)return this.ZERO;e=Kt.C(e);case"bigint":if(!e)return this.ZERO;if(e<Kt.UMIN)throw new Error("signed value for ulong");if(e>Kt.UMAX)throw new Error("ulong too large");return Kt.V.setBigUint64(0,e,!0),new xr(Kt.V.getInt32(0,!0),Kt.V.getInt32(4,!0))}else switch(typeof e){case"string":if(e=="0")return this.ZERO;if(e=e.trim(),!v6.test(e))throw new Error("string is no integer");let[t,n,r]=g6(e);if(t)throw new Error("signed value");return new xr(n,r);case"number":if(e==0)return this.ZERO;if(!Number.isSafeInteger(e))throw new Error("number is no integer");if(e<0)throw new Error("signed value for ulong");return new xr(e,e/N0)}throw new Error("unknown value "+typeof e)}toString(){return Kt?this.toBigInt().toString():fk(this.lo,this.hi)}toBigInt(){return y6(Kt),Kt.V.setInt32(0,this.lo,!0),Kt.V.setInt32(4,this.hi,!0),Kt.V.getBigUint64(0,!0)}};xr.ZERO=new xr(0,0);var Rn=class extends w6{static from(t){if(Kt)switch(typeof t){case"string":if(t=="0")return this.ZERO;if(t=="")throw new Error("string is no integer");t=Kt.C(t);case"number":if(t===0)return this.ZERO;t=Kt.C(t);case"bigint":if(!t)return this.ZERO;if(t<Kt.MIN)throw new Error("ulong too small");if(t>Kt.MAX)throw new Error("ulong too large");return Kt.V.setBigInt64(0,t,!0),new Rn(Kt.V.getInt32(0,!0),Kt.V.getInt32(4,!0))}else switch(typeof t){case"string":if(t=="0")return this.ZERO;if(t=t.trim(),!v6.test(t))throw new Error("string is no integer");let[n,r,i]=g6(t),a=new Rn(r,i);return n?a.negate():a;case"number":if(t==0)return this.ZERO;if(!Number.isSafeInteger(t))throw new Error("number is no integer");return t>0?new Rn(t,t/N0):new Rn(-t,-t/N0).negate()}throw new Error("unknown value "+typeof t)}isNegative(){return(this.hi&2147483648)!==0}negate(){let t=~this.hi,n=this.lo;return n?n=~n+1:t+=1,new Rn(n,t)}toString(){if(Kt)return this.toBigInt().toString();if(this.isNegative()){let t=this.negate();return"-"+fk(t.lo,t.hi)}return fk(this.lo,this.hi)}toBigInt(){return y6(Kt),Kt.V.setInt32(0,this.lo,!0),Kt.V.setInt32(4,this.hi,!0),Kt.V.getBigInt64(0,!0)}};Rn.ZERO=new Rn(0,0);var DP={readUnknownField:!0,readerFactory:e=>new wte(e)};function vte(e){return e?Object.assign(Object.assign({},DP),e):DP}var wte=class{constructor(t,n){this.varint64=mte,this.uint32=gte,this.buf=t,this.len=t.length,this.pos=0,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.textDecoder=n??new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0})}tag(){let t=this.uint32(),n=t>>>3,r=t&7;if(n<=0||r<0||r>5)throw new Error("illegal tag: field no "+n+" wire type "+r);return[n,r]}skip(t){let n=this.pos;switch(t){case U.Varint:for(;this.buf[this.pos++]&128;);break;case U.Bit64:this.pos+=4;case U.Bit32:this.pos+=4;break;case U.LengthDelimited:let r=this.uint32();this.pos+=r;break;case U.StartGroup:let i;for(;(i=this.tag()[1])!==U.EndGroup;)this.skip(i);break;default:throw new Error("cant skip wire type "+t)}return this.assertBounds(),this.buf.subarray(n,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let t=this.uint32();return t>>>1^-(t&1)}int64(){return new Rn(...this.varint64())}uint64(){return new xr(...this.varint64())}sint64(){let[t,n]=this.varint64(),r=-(t&1);return t=(t>>>1|(n&1)<<31)^r,n=n>>>1^r,new Rn(t,n)}bool(){let[t,n]=this.varint64();return t!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return new xr(this.sfixed32(),this.sfixed32())}sfixed64(){return new Rn(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let t=this.uint32(),n=this.pos;return this.pos+=t,this.assertBounds(),this.buf.subarray(n,n+t)}string(){return this.textDecoder.decode(this.bytes())}};function yt(e,t){if(!e)throw new Error(t)}function bte(e,t){throw new Error(t??"Unexpected object: "+e)}var xte=34028234663852886e22,kte=-34028234663852886e22,Ste=4294967295,Ete=2147483647,Cte=-2147483648;function Qd(e){if(typeof e!="number")throw new Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>Ete||e<Cte)throw new Error("invalid int 32: "+e)}function D0(e){if(typeof e!="number")throw new Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>Ste||e<0)throw new Error("invalid uint 32: "+e)}function QC(e){if(typeof e!="number")throw new Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>xte||e<kte))throw new Error("invalid float 32: "+e)}var OP={writeUnknownFields:!0,writerFactory:()=>new Tte};function _te(e){return e?Object.assign(Object.assign({},OP),e):OP}var Tte=class{constructor(t){this.stack=[],this.textEncoder=t??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let t=0;for(let i=0;i<this.chunks.length;i++)t+=this.chunks[i].length;let n=new Uint8Array(t),r=0;for(let i=0;i<this.chunks.length;i++)n.set(this.chunks[i],r),r+=this.chunks[i].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let t=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(t.byteLength),this.raw(t)}tag(t,n){return this.uint32((t<<3|n)>>>0)}raw(t){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(t),this}uint32(t){for(D0(t);t>127;)this.buf.push(t&127|128),t=t>>>7;return this.buf.push(t),this}int32(t){return Qd(t),NP(t,this.buf),this}bool(t){return this.buf.push(t?1:0),this}bytes(t){return this.uint32(t.byteLength),this.raw(t)}string(t){let n=this.textEncoder.encode(t);return this.uint32(n.byteLength),this.raw(n)}float(t){QC(t);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,t,!0),this.raw(n)}double(t){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,t,!0),this.raw(n)}fixed32(t){D0(t);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t,!0),this.raw(n)}sfixed32(t){Qd(t);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,t,!0),this.raw(n)}sint32(t){return Qd(t),t=(t<<1^t>>31)>>>0,NP(t,this.buf),this}sfixed64(t){let n=new Uint8Array(8),r=new DataView(n.buffer),i=Rn.from(t);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(n)}fixed64(t){let n=new Uint8Array(8),r=new DataView(n.buffer),i=xr.from(t);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(n)}int64(t){let n=Rn.from(t);return bb(n.lo,n.hi,this.buf),this}sint64(t){let n=Rn.from(t),r=n.hi>>31,i=n.lo<<1^r,a=(n.hi<<1|n.lo>>>31)^r;return bb(i,a,this.buf),this}uint64(t){let n=xr.from(t);return bb(n.lo,n.hi,this.buf),this}},MP={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0},LP={ignoreUnknownFields:!1};function Ite(e){return e?Object.assign(Object.assign({},LP),e):LP}function Pte(e){return e?Object.assign(Object.assign({},MP),e):MP}function Rte(e,t){var n,r;let i=Object.assign(Object.assign({},e),t);return i.typeRegistry=[...(n=e?.typeRegistry)!==null&&n!==void 0?n:[],...(r=t?.typeRegistry)!==null&&r!==void 0?r:[]],i}var Fe=Symbol.for("protobuf-ts/message-type");function pk(e){let t=!1,n=[];for(let r=0;r<e.length;r++){let i=e.charAt(r);i=="_"?t=!0:/\d/.test(i)?(n.push(i),t=!0):t?(n.push(i.toUpperCase()),t=!1):r==0?n.push(i.toLowerCase()):n.push(i)}return n.join("")}var Se;(function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"})(Se||(Se={}));var Ca;(function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING",e[e.NUMBER=2]="NUMBER"})(Ca||(Ca={}));var O0;(function(e){e[e.NO=0]="NO",e[e.PACKED=1]="PACKED",e[e.UNPACKED=2]="UNPACKED"})(O0||(O0={}));function Ate(e){var t,n,r,i;return e.localName=(t=e.localName)!==null&&t!==void 0?t:pk(e.name),e.jsonName=(n=e.jsonName)!==null&&n!==void 0?n:pk(e.name),e.repeat=(r=e.repeat)!==null&&r!==void 0?r:O0.NO,e.opt=(i=e.opt)!==null&&i!==void 0?i:e.repeat||e.oneof?!1:e.kind=="message",e}function Nte(e){if(typeof e!="object"||e===null||!e.hasOwnProperty("oneofKind"))return!1;switch(typeof e.oneofKind){case"string":return e[e.oneofKind]===void 0?!1:Object.keys(e).length==2;case"undefined":return Object.keys(e).length==1;default:return!1}}var Dte=class{constructor(t){var n;this.fields=(n=t.fields)!==null&&n!==void 0?n:[]}prepare(){if(this.data)return;let t=[],n=[],r=[];for(let i of this.fields)if(i.oneof)r.includes(i.oneof)||(r.push(i.oneof),t.push(i.oneof),n.push(i.oneof));else switch(n.push(i.localName),i.kind){case"scalar":case"enum":(!i.opt||i.repeat)&&t.push(i.localName);break;case"message":i.repeat&&t.push(i.localName);break;case"map":t.push(i.localName);break}this.data={req:t,known:n,oneofs:Object.values(r)}}is(t,n,r=!1){if(n<0)return!0;if(t==null||typeof t!="object")return!1;this.prepare();let i=Object.keys(t),a=this.data;if(i.length<a.req.length||a.req.some(s=>!i.includes(s))||!r&&i.some(s=>!a.known.includes(s)))return!1;if(n<1)return!0;for(let s of a.oneofs){let o=t[s];if(!Nte(o))return!1;if(o.oneofKind===void 0)continue;let l=this.fields.find(u=>u.localName===o.oneofKind);if(!l||!this.field(o[o.oneofKind],l,r,n))return!1}for(let s of this.fields)if(s.oneof===void 0&&!this.field(t[s.localName],s,r,n))return!1;return!0}field(t,n,r,i){let a=n.repeat;switch(n.kind){case"scalar":return t===void 0?n.opt:a?this.scalars(t,n.T,i,n.L):this.scalar(t,n.T,n.L);case"enum":return t===void 0?n.opt:a?this.scalars(t,Se.INT32,i):this.scalar(t,Se.INT32);case"message":return t===void 0?!0:a?this.messages(t,n.T(),r,i):this.message(t,n.T(),r,i);case"map":if(typeof t!="object"||t===null)return!1;if(i<2)return!0;if(!this.mapKeys(t,n.K,i))return!1;switch(n.V.kind){case"scalar":return this.scalars(Object.values(t),n.V.T,i,n.V.L);case"enum":return this.scalars(Object.values(t),Se.INT32,i);case"message":return this.messages(Object.values(t),n.V.T(),r,i)}break}return!0}message(t,n,r,i){return r?n.isAssignable(t,i):n.is(t,i)}messages(t,n,r,i){if(!Array.isArray(t))return!1;if(i<2)return!0;if(r){for(let a=0;a<t.length&&a<i;a++)if(!n.isAssignable(t[a],i-1))return!1}else for(let a=0;a<t.length&&a<i;a++)if(!n.is(t[a],i-1))return!1;return!0}scalar(t,n,r){let i=typeof t;switch(n){case Se.UINT64:case Se.FIXED64:case Se.INT64:case Se.SFIXED64:case Se.SINT64:switch(r){case Ca.BIGINT:return i=="bigint";case Ca.NUMBER:return i=="number"&&!isNaN(t);default:return i=="string"}case Se.BOOL:return i=="boolean";case Se.STRING:return i=="string";case Se.BYTES:return t instanceof Uint8Array;case Se.DOUBLE:case Se.FLOAT:return i=="number"&&!isNaN(t);default:return i=="number"&&Number.isInteger(t)}}scalars(t,n,r,i){if(!Array.isArray(t))return!1;if(r<2)return!0;if(Array.isArray(t)){for(let a=0;a<t.length&&a<r;a++)if(!this.scalar(t[a],n,i))return!1}return!0}mapKeys(t,n,r){let i=Object.keys(t);switch(n){case Se.INT32:case Se.FIXED32:case Se.SFIXED32:case Se.SINT32:case Se.UINT32:return this.scalars(i.slice(0,r).map(a=>parseInt(a)),n,r);case Se.BOOL:return this.scalars(i.slice(0,r).map(a=>a=="true"?!0:a=="false"?!1:a),n,r);default:return this.scalars(i,n,r,Ca.STRING)}}};function Gi(e,t){switch(t){case Ca.BIGINT:return e.toBigInt();case Ca.NUMBER:return e.toNumber();default:return e.toString()}}var Ote=class{constructor(t){this.info=t}prepare(){var t;if(this.fMap===void 0){this.fMap={};let n=(t=this.info.fields)!==null&&t!==void 0?t:[];for(let r of n)this.fMap[r.name]=r,this.fMap[r.jsonName]=r,this.fMap[r.localName]=r}}assert(t,n,r){if(!t){let i=yf(r);throw(i=="number"||i=="boolean")&&(i=r.toString()),new Error(`Cannot parse JSON ${i} for ${this.info.typeName}#${n}`)}}read(t,n,r){this.prepare();let i=[];for(let[a,s]of Object.entries(t)){let o=this.fMap[a];if(!o){if(!r.ignoreUnknownFields)throw new Error(`Found unknown field while reading ${this.info.typeName} from JSON format. JSON key: ${a}`);continue}let l=o.localName,u;if(o.oneof){if(i.includes(o.oneof))throw new Error(`Multiple members of the oneof group "${o.oneof}" of ${this.info.typeName} are present in JSON.`);i.push(o.oneof),u=n[o.oneof]={oneofKind:l}}else u=n;if(o.kind=="map"){if(s===null)continue;this.assert(f6(s),o.name,s);let c=u[l];for(let[h,p]of Object.entries(s)){this.assert(p!==null,o.name+" map value",null);let m;switch(o.V.kind){case"message":m=o.V.T().internalJsonRead(p,r);break;case"enum":if(m=this.enum(o.V.T(),p,o.name,r.ignoreUnknownFields),m===!1)continue;break;case"scalar":m=this.scalar(p,o.V.T,o.V.L,o.name);break}this.assert(m!==void 0,o.name+" map value",p);let g=h;o.K==Se.BOOL&&(g=g=="true"?!0:g=="false"?!1:g),g=this.scalar(g,o.K,Ca.STRING,o.name).toString(),c[g]=m}}else if(o.repeat){if(s===null)continue;this.assert(Array.isArray(s),o.name,s);let c=u[l];for(let h of s){this.assert(h!==null,o.name,null);let p;switch(o.kind){case"message":p=o.T().internalJsonRead(h,r);break;case"enum":if(p=this.enum(o.T(),h,o.name,r.ignoreUnknownFields),p===!1)continue;break;case"scalar":p=this.scalar(h,o.T,o.L,o.name);break}this.assert(p!==void 0,o.name,s),c.push(p)}}else switch(o.kind){case"message":if(s===null&&o.T().typeName!="google.protobuf.Value"){this.assert(o.oneof===void 0,o.name+" (oneof member)",null);continue}u[l]=o.T().internalJsonRead(s,r,u[l]);break;case"enum":let c=this.enum(o.T(),s,o.name,r.ignoreUnknownFields);if(c===!1)continue;u[l]=c;break;case"scalar":u[l]=this.scalar(s,o.T,o.L,o.name);break}}}enum(t,n,r,i){if(t[0]=="google.protobuf.NullValue"&&yt(n===null,`Unable to parse field ${this.info.typeName}#${r}, enum ${t[0]} only accepts null.`),n===null)return 0;switch(typeof n){case"number":return yt(Number.isInteger(n),`Unable to parse field ${this.info.typeName}#${r}, enum can only be integral number, got ${n}.`),n;case"string":let a=n;t[2]&&n.substring(0,t[2].length)===t[2]&&(a=n.substring(t[2].length));let s=t[1][a];return typeof s>"u"&&i?!1:(yt(typeof s=="number",`Unable to parse field ${this.info.typeName}#${r}, enum ${t[0]} has no value for "${n}".`),s)}yt(!1,`Unable to parse field ${this.info.typeName}#${r}, cannot parse enum value from ${typeof n}".`)}scalar(t,n,r,i){let a;try{switch(n){case Se.DOUBLE:case Se.FLOAT:if(t===null)return 0;if(t==="NaN")return Number.NaN;if(t==="Infinity")return Number.POSITIVE_INFINITY;if(t==="-Infinity")return Number.NEGATIVE_INFINITY;if(t===""){a="empty string";break}if(typeof t=="string"&&t.trim().length!==t.length){a="extra whitespace";break}if(typeof t!="string"&&typeof t!="number")break;let s=Number(t);if(Number.isNaN(s)){a="not a number";break}if(!Number.isFinite(s)){a="too large or small";break}return n==Se.FLOAT&&QC(s),s;case Se.INT32:case Se.FIXED32:case Se.SFIXED32:case Se.SINT32:case Se.UINT32:if(t===null)return 0;let o;if(typeof t=="number"?o=t:t===""?a="empty string":typeof t=="string"&&(t.trim().length!==t.length?a="extra whitespace":o=Number(t)),o===void 0)break;return n==Se.UINT32?D0(o):Qd(o),o;case Se.INT64:case Se.SFIXED64:case Se.SINT64:if(t===null)return Gi(Rn.ZERO,r);if(typeof t!="number"&&typeof t!="string")break;return Gi(Rn.from(t),r);case Se.FIXED64:case Se.UINT64:if(t===null)return Gi(xr.ZERO,r);if(typeof t!="number"&&typeof t!="string")break;return Gi(xr.from(t),r);case Se.BOOL:if(t===null)return!1;if(typeof t!="boolean")break;return t;case Se.STRING:if(t===null)return"";if(typeof t!="string"){a="extra whitespace";break}try{encodeURIComponent(t)}catch(l){l="invalid UTF8";break}return t;case Se.BYTES:if(t===null||t==="")return new Uint8Array(0);if(typeof t!="string")break;return p6(t)}}catch(s){a=s.message}this.assert(!1,i+(a?" - "+a:""),t)}},Mte=class{constructor(t){var n;this.fields=(n=t.fields)!==null&&n!==void 0?n:[]}write(t,n){let r={},i=t;for(let a of this.fields){if(!a.oneof){let u=this.field(a,i[a.localName],n);u!==void 0&&(r[n.useProtoFieldName?a.name:a.jsonName]=u);continue}let s=i[a.oneof];if(s.oneofKind!==a.localName)continue;let o=a.kind=="scalar"||a.kind=="enum"?Object.assign(Object.assign({},n),{emitDefaultValues:!0}):n,l=this.field(a,s[a.localName],o);yt(l!==void 0),r[n.useProtoFieldName?a.name:a.jsonName]=l}return r}field(t,n,r){let i;if(t.kind=="map"){yt(typeof n=="object"&&n!==null);let a={};switch(t.V.kind){case"scalar":for(let[l,u]of Object.entries(n)){let c=this.scalar(t.V.T,u,t.name,!1,!0);yt(c!==void 0),a[l.toString()]=c}break;case"message":let s=t.V.T();for(let[l,u]of Object.entries(n)){let c=this.message(s,u,t.name,r);yt(c!==void 0),a[l.toString()]=c}break;case"enum":let o=t.V.T();for(let[l,u]of Object.entries(n)){yt(u===void 0||typeof u=="number");let c=this.enum(o,u,t.name,!1,!0,r.enumAsInteger);yt(c!==void 0),a[l.toString()]=c}break}(r.emitDefaultValues||Object.keys(a).length>0)&&(i=a)}else if(t.repeat){yt(Array.isArray(n));let a=[];switch(t.kind){case"scalar":for(let l=0;l<n.length;l++){let u=this.scalar(t.T,n[l],t.name,t.opt,!0);yt(u!==void 0),a.push(u)}break;case"enum":let s=t.T();for(let l=0;l<n.length;l++){yt(n[l]===void 0||typeof n[l]=="number");let u=this.enum(s,n[l],t.name,t.opt,!0,r.enumAsInteger);yt(u!==void 0),a.push(u)}break;case"message":let o=t.T();for(let l=0;l<n.length;l++){let u=this.message(o,n[l],t.name,r);yt(u!==void 0),a.push(u)}break}(r.emitDefaultValues||a.length>0||r.emitDefaultValues)&&(i=a)}else switch(t.kind){case"scalar":i=this.scalar(t.T,n,t.name,t.opt,r.emitDefaultValues);break;case"enum":i=this.enum(t.T(),n,t.name,t.opt,r.emitDefaultValues,r.enumAsInteger);break;case"message":i=this.message(t.T(),n,t.name,r);break}return i}enum(t,n,r,i,a,s){if(t[0]=="google.protobuf.NullValue")return null;if(n===void 0){yt(i);return}if(!(n===0&&!a&&!i))return yt(typeof n=="number"),yt(Number.isInteger(n)),s||!t[1].hasOwnProperty(n)?n:t[2]?t[2]+t[1][n]:t[1][n]}message(t,n,r,i){return n===void 0?i.emitDefaultValues?null:void 0:t.internalJsonWrite(n,i)}scalar(t,n,r,i,a){if(n===void 0){yt(i);return}let s=a||i;switch(t){case Se.INT32:case Se.SFIXED32:case Se.SINT32:return n===0?s?0:void 0:(Qd(n),n);case Se.FIXED32:case Se.UINT32:return n===0?s?0:void 0:(D0(n),n);case Se.FLOAT:QC(n);case Se.DOUBLE:return n===0?s?0:void 0:(yt(typeof n=="number"),Number.isNaN(n)?"NaN":n===Number.POSITIVE_INFINITY?"Infinity":n===Number.NEGATIVE_INFINITY?"-Infinity":n);case Se.STRING:return n===""?s?"":void 0:(yt(typeof n=="string"),n);case Se.BOOL:return n===!1?s?!1:void 0:(yt(typeof n=="boolean"),n);case Se.UINT64:case Se.FIXED64:yt(typeof n=="number"||typeof n=="string"||typeof n=="bigint");let o=xr.from(n);return o.isZero()&&!s?void 0:o.toString();case Se.INT64:case Se.SFIXED64:case Se.SINT64:yt(typeof n=="number"||typeof n=="string"||typeof n=="bigint");let l=Rn.from(n);return l.isZero()&&!s?void 0:l.toString();case Se.BYTES:return yt(n instanceof Uint8Array),n.byteLength?m6(n):s?"":void 0}}};function mk(e,t=Ca.STRING){switch(e){case Se.BOOL:return!1;case Se.UINT64:case Se.FIXED64:return Gi(xr.ZERO,t);case Se.INT64:case Se.SFIXED64:case Se.SINT64:return Gi(Rn.ZERO,t);case Se.DOUBLE:case Se.FLOAT:return 0;case Se.BYTES:return new Uint8Array(0);case Se.STRING:return"";default:return 0}}var Lte=class{constructor(t){this.info=t}prepare(){var t;if(!this.fieldNoToField){let n=(t=this.info.fields)!==null&&t!==void 0?t:[];this.fieldNoToField=new Map(n.map(r=>[r.no,r]))}}read(t,n,r,i){this.prepare();let a=i===void 0?t.len:t.pos+i;for(;t.pos<a;){let[s,o]=t.tag(),l=this.fieldNoToField.get(s);if(!l){let p=r.readUnknownField;if(p=="throw")throw new Error(`Unknown field ${s} (wire type ${o}) for ${this.info.typeName}`);let m=t.skip(o);p!==!1&&(p===!0?oe.onRead:p)(this.info.typeName,n,s,o,m);continue}let u=n,c=l.repeat,h=l.localName;switch(l.oneof&&(u=u[l.oneof],u.oneofKind!==h&&(u=n[l.oneof]={oneofKind:h})),l.kind){case"scalar":case"enum":let p=l.kind=="enum"?Se.INT32:l.T,m=l.kind=="scalar"?l.L:void 0;if(c){let b=u[h];if(o==U.LengthDelimited&&p!=Se.STRING&&p!=Se.BYTES){let v=t.uint32()+t.pos;for(;t.pos<v;)b.push(this.scalar(t,p,m))}else b.push(this.scalar(t,p,m))}else u[h]=this.scalar(t,p,m);break;case"message":if(c){let b=u[h],v=l.T().internalBinaryRead(t,t.uint32(),r);b.push(v)}else u[h]=l.T().internalBinaryRead(t,t.uint32(),r,u[h]);break;case"map":let[g,y]=this.mapEntry(l,t,r);u[h][g]=y;break}}}mapEntry(t,n,r){let i=n.uint32(),a=n.pos+i,s,o;for(;n.pos<a;){let[l,u]=n.tag();switch(l){case 1:t.K==Se.BOOL?s=n.bool().toString():s=this.scalar(n,t.K,Ca.STRING);break;case 2:switch(t.V.kind){case"scalar":o=this.scalar(n,t.V.T,t.V.L);break;case"enum":o=n.int32();break;case"message":o=t.V.T().internalBinaryRead(n,n.uint32(),r);break}break;default:throw new Error(`Unknown field ${l} (wire type ${u}) in map entry for ${this.info.typeName}#${t.name}`)}}if(s===void 0){let l=mk(t.K);s=t.K==Se.BOOL?l.toString():l}if(o===void 0)switch(t.V.kind){case"scalar":o=mk(t.V.T,t.V.L);break;case"enum":o=0;break;case"message":o=t.V.T().create();break}return[s,o]}scalar(t,n,r){switch(n){case Se.INT32:return t.int32();case Se.STRING:return t.string();case Se.BOOL:return t.bool();case Se.DOUBLE:return t.double();case Se.FLOAT:return t.float();case Se.INT64:return Gi(t.int64(),r);case Se.UINT64:return Gi(t.uint64(),r);case Se.FIXED64:return Gi(t.fixed64(),r);case Se.FIXED32:return t.fixed32();case Se.BYTES:return t.bytes();case Se.UINT32:return t.uint32();case Se.SFIXED32:return t.sfixed32();case Se.SFIXED64:return Gi(t.sfixed64(),r);case Se.SINT32:return t.sint32();case Se.SINT64:return Gi(t.sint64(),r)}}},Fte=class{constructor(t){this.info=t}prepare(){if(!this.fields){let t=this.info.fields?this.info.fields.concat():[];this.fields=t.sort((n,r)=>n.no-r.no)}}write(t,n,r){this.prepare();for(let a of this.fields){let s,o,l=a.repeat,u=a.localName;if(a.oneof){let c=t[a.oneof];if(c.oneofKind!==u)continue;s=c[u],o=!0}else s=t[u],o=!1;switch(a.kind){case"scalar":case"enum":let c=a.kind=="enum"?Se.INT32:a.T;if(l)if(yt(Array.isArray(s)),l==O0.PACKED)this.packed(n,c,a.no,s);else for(let h of s)this.scalar(n,c,a.no,h,!0);else s===void 0?yt(a.opt):this.scalar(n,c,a.no,s,o||a.opt);break;case"message":if(l){yt(Array.isArray(s));for(let h of s)this.message(n,r,a.T(),a.no,h)}else this.message(n,r,a.T(),a.no,s);break;case"map":yt(typeof s=="object"&&s!==null);for(let[h,p]of Object.entries(s))this.mapEntry(n,r,a,h,p);break}}let i=r.writeUnknownFields;i!==!1&&(i===!0?oe.onWrite:i)(this.info.typeName,t,n)}mapEntry(t,n,r,i,a){t.tag(r.no,U.LengthDelimited),t.fork();let s=i;switch(r.K){case Se.INT32:case Se.FIXED32:case Se.UINT32:case Se.SFIXED32:case Se.SINT32:s=Number.parseInt(i);break;case Se.BOOL:yt(i=="true"||i=="false"),s=i=="true";break}switch(this.scalar(t,r.K,1,s,!0),r.V.kind){case"scalar":this.scalar(t,r.V.T,2,a,!0);break;case"enum":this.scalar(t,Se.INT32,2,a,!0);break;case"message":this.message(t,n,r.V.T(),2,a);break}t.join()}message(t,n,r,i,a){a!==void 0&&(r.internalBinaryWrite(a,t.tag(i,U.LengthDelimited).fork(),n),t.join())}scalar(t,n,r,i,a){let[s,o,l]=this.scalarInfo(n,i);(!l||a)&&(t.tag(r,s),t[o](i))}packed(t,n,r,i){if(!i.length)return;yt(n!==Se.BYTES&&n!==Se.STRING),t.tag(r,U.LengthDelimited),t.fork();let[,a]=this.scalarInfo(n);for(let s=0;s<i.length;s++)t[a](i[s]);t.join()}scalarInfo(t,n){let r=U.Varint,i,a=n===void 0,s=n===0;switch(t){case Se.INT32:i="int32";break;case Se.STRING:s=a||!n.length,r=U.LengthDelimited,i="string";break;case Se.BOOL:s=n===!1,i="bool";break;case Se.UINT32:i="uint32";break;case Se.DOUBLE:r=U.Bit64,i="double";break;case Se.FLOAT:r=U.Bit32,i="float";break;case Se.INT64:s=a||Rn.from(n).isZero(),i="int64";break;case Se.UINT64:s=a||xr.from(n).isZero(),i="uint64";break;case Se.FIXED64:s=a||xr.from(n).isZero(),r=U.Bit64,i="fixed64";break;case Se.BYTES:s=a||!n.byteLength,r=U.LengthDelimited,i="bytes";break;case Se.FIXED32:r=U.Bit32,i="fixed32";break;case Se.SFIXED32:r=U.Bit32,i="sfixed32";break;case Se.SFIXED64:s=a||Rn.from(n).isZero(),r=U.Bit64,i="sfixed64";break;case Se.SINT32:i="sint32";break;case Se.SINT64:s=a||Rn.from(n).isZero(),i="sint64";break}return[r,i,a||s]}};function Bte(e){let t={};Object.defineProperty(t,Fe,{enumerable:!1,value:e});for(let n of e.fields){let r=n.localName;if(!n.opt)if(n.oneof)t[n.oneof]={oneofKind:void 0};else if(n.repeat)t[r]=[];else switch(n.kind){case"scalar":t[r]=mk(n.T,n.L);break;case"enum":t[r]=0;break;case"map":t[r]={};break}}return t}function De(e,t,n){let r,i=n,a;for(let s of e.fields){let o=s.localName;if(s.oneof){let l=i[s.oneof];if(l?.oneofKind==null)continue;if(r=l[o],a=t[s.oneof],a.oneofKind=l.oneofKind,r==null){delete a[o];continue}}else if(r=i[o],a=t,r==null)continue;switch(s.repeat&&(a[o].length=r.length),s.kind){case"scalar":case"enum":if(s.repeat)for(let u=0;u<r.length;u++)a[o][u]=r[u];else a[o]=r;break;case"message":let l=s.T();if(s.repeat)for(let u=0;u<r.length;u++)a[o][u]=l.create(r[u]);else a[o]===void 0?a[o]=l.create(r):l.mergePartial(a[o],r);break;case"map":switch(s.V.kind){case"scalar":case"enum":Object.assign(a[o],r);break;case"message":let u=s.V.T();for(let c of Object.keys(r))a[o][c]=u.create(r[c]);break}break}}}function zte(e,t,n){if(t===n)return!0;if(!t||!n)return!1;for(let r of e.fields){let i=r.localName,a=r.oneof?t[r.oneof][i]:t[i],s=r.oneof?n[r.oneof][i]:n[i];switch(r.kind){case"enum":case"scalar":let o=r.kind=="enum"?Se.INT32:r.T;if(!(r.repeat?FP(o,a,s):b6(o,a,s)))return!1;break;case"map":if(!(r.V.kind=="message"?BP(r.V.T(),pm(a),pm(s)):FP(r.V.kind=="enum"?Se.INT32:r.V.T,pm(a),pm(s))))return!1;break;case"message":let l=r.T();if(!(r.repeat?BP(l,a,s):l.equals(a,s)))return!1;break}}return!0}var pm=Object.values;function b6(e,t,n){if(t===n)return!0;if(e!==Se.BYTES)return!1;let r=t,i=n;if(r.length!==i.length)return!1;for(let a=0;a<r.length;a++)if(r[a]!=i[a])return!1;return!0}function FP(e,t,n){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(!b6(e,t[r],n[r]))return!1;return!0}function BP(e,t,n){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(!e.equals(t[r],n[r]))return!1;return!0}var Be=class{constructor(t,n,r){this.defaultCheckDepth=16,this.typeName=t,this.fields=n.map(Ate),this.options=r??{},this.refTypeCheck=new Dte(this),this.refJsonReader=new Ote(this),this.refJsonWriter=new Mte(this),this.refBinReader=new Lte(this),this.refBinWriter=new Fte(this)}create(t){let n=Bte(this);return t!==void 0&&De(this,n,t),n}clone(t){let n=this.create();return De(this,n,t),n}equals(t,n){return zte(this,t,n)}is(t,n=this.defaultCheckDepth){return this.refTypeCheck.is(t,n,!1)}isAssignable(t,n=this.defaultCheckDepth){return this.refTypeCheck.is(t,n,!0)}mergePartial(t,n){De(this,t,n)}fromBinary(t,n){let r=vte(n);return this.internalBinaryRead(r.readerFactory(t),t.byteLength,r)}fromJson(t,n){return this.internalJsonRead(t,Ite(n))}fromJsonString(t,n){let r=JSON.parse(t);return this.fromJson(r,n)}toJson(t,n){return this.internalJsonWrite(t,Pte(n))}toJsonString(t,n){var r;let i=this.toJson(t,n);return JSON.stringify(i,null,(r=n?.prettySpaces)!==null&&r!==void 0?r:0)}toBinary(t,n){let r=_te(n);return this.internalBinaryWrite(t,r.writerFactory(),r).finish()}internalJsonRead(t,n,r){if(t!==null&&typeof t=="object"&&!Array.isArray(t)){let i=r??this.create();return this.refJsonReader.read(t,i,n),i}throw new Error(`Unable to parse message ${this.typeName} from JSON ${yf(t)}.`)}internalJsonWrite(t,n){return this.refJsonWriter.write(t,n)}internalBinaryWrite(t,n,r){return this.refBinWriter.write(t,n,r),n}internalBinaryRead(t,n,r,i){let a=i??this.create();return this.refBinReader.read(t,a,r,n),a}};function Ute(e,t){var n,r,i;let a=e;return a.service=t,a.localName=(n=a.localName)!==null&&n!==void 0?n:pk(a.name),a.serverStreaming=!!a.serverStreaming,a.clientStreaming=!!a.clientStreaming,a.options=(r=a.options)!==null&&r!==void 0?r:{},a.idempotency=(i=a.idempotency)!==null&&i!==void 0?i:void 0,a}var lv=class{constructor(t,n,r){this.typeName=t,this.methods=n.map(i=>Ute(i,this)),this.options=r??{}}},jt=class extends Error{constructor(t,n="UNKNOWN",r){super(t),this.name="RpcError",Object.setPrototypeOf(this,new.target.prototype),this.code=n,this.meta=r??{}}toString(){let t=[this.name+": "+this.message];this.code&&(t.push(""),t.push("Code: "+this.code)),this.serviceName&&this.methodName&&t.push("Method: "+this.serviceName+"/"+this.methodName);let n=Object.entries(this.meta);if(n.length){t.push(""),t.push("Meta:");for(let[r,i]of n)t.push(`  ${r}: ${i}`)}return t.join(`
`)}};function jte(e,t){if(!t)return e;let n={};mm(e,n),mm(t,n);for(let r of Object.keys(t)){let i=t[r];switch(r){case"jsonOptions":n.jsonOptions=Rte(e.jsonOptions,n.jsonOptions);break;case"binaryOptions":n.binaryOptions=pte(e.binaryOptions,n.binaryOptions);break;case"meta":n.meta={},mm(e.meta,n.meta),mm(t.meta,n.meta);break;case"interceptors":n.interceptors=e.interceptors?e.interceptors.concat(i):i.concat();break}}return n}function mm(e,t){if(!e)return;let n=t;for(let[r,i]of Object.entries(e))i instanceof Date?n[r]=new Date(i.getTime()):Array.isArray(i)?n[r]=i.concat():n[r]=i}var yi;(function(e){e[e.PENDING=0]="PENDING",e[e.REJECTED=1]="REJECTED",e[e.RESOLVED=2]="RESOLVED"})(yi||(yi={}));var Es=class{constructor(e=!0){this._state=yi.PENDING,this._promise=new Promise((t,n)=>{this._resolve=t,this._reject=n}),e&&this._promise.catch(t=>{})}get state(){return this._state}get promise(){return this._promise}resolve(e){if(this.state!==yi.PENDING)throw new Error(`cannot resolve ${yi[this.state].toLowerCase()}`);this._resolve(e),this._state=yi.RESOLVED}reject(e){if(this.state!==yi.PENDING)throw new Error(`cannot reject ${yi[this.state].toLowerCase()}`);this._reject(e),this._state=yi.REJECTED}resolvePending(e){this._state===yi.PENDING&&this.resolve(e)}rejectPending(e){this._state===yi.PENDING&&this.reject(e)}},$te=class{constructor(){this._lis={nxt:[],msg:[],err:[],cmp:[]},this._closed=!1}onNext(t){return this.addLis(t,this._lis.nxt)}onMessage(t){return this.addLis(t,this._lis.msg)}onError(t){return this.addLis(t,this._lis.err)}onComplete(t){return this.addLis(t,this._lis.cmp)}addLis(t,n){return n.push(t),()=>{let r=n.indexOf(t);r>=0&&n.splice(r,1)}}clearLis(){for(let t of Object.values(this._lis))t.splice(0,t.length)}get closed(){return this._closed!==!1}notifyNext(t,n,r){yt((t?1:0)+(n?1:0)+(r?1:0)<=1,"only one emission at a time"),t&&this.notifyMessage(t),n&&this.notifyError(n),r&&this.notifyComplete()}notifyMessage(t){yt(!this.closed,"stream is closed"),this.pushIt({value:t,done:!1}),this._lis.msg.forEach(n=>n(t)),this._lis.nxt.forEach(n=>n(t,void 0,!1))}notifyError(t){yt(!this.closed,"stream is closed"),this._closed=t,this.pushIt(t),this._lis.err.forEach(n=>n(t)),this._lis.nxt.forEach(n=>n(void 0,t,!1)),this.clearLis()}notifyComplete(){yt(!this.closed,"stream is closed"),this._closed=!0,this.pushIt({value:null,done:!0}),this._lis.cmp.forEach(t=>t()),this._lis.nxt.forEach(t=>t(void 0,void 0,!0)),this.clearLis()}[Symbol.asyncIterator](){return this._itState||(this._itState={q:[]}),this._closed===!0?this.pushIt({value:null,done:!0}):this._closed!==!1&&this.pushIt(this._closed),{next:()=>{let t=this._itState;yt(t,"bad state"),yt(!t.p,"iterator contract broken");let n=t.q.shift();return n?"value"in n?Promise.resolve(n):Promise.reject(n):(t.p=new Es,t.p.promise)}}}pushIt(t){let n=this._itState;if(n)if(n.p){let r=n.p;yt(r.state==yi.PENDING,"iterator contract broken"),"value"in t?r.resolve(t):r.reject(t),delete n.p}else n.q.push(t)}},Vte=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(c){try{u(r.next(c))}catch(h){s(h)}}function l(c){try{u(r.throw(c))}catch(h){s(h)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((r=r.apply(e,t||[])).next())})},Wte=class{constructor(t,n,r,i,a,s,o){this.method=t,this.requestHeaders=n,this.request=r,this.headers=i,this.response=a,this.status=s,this.trailers=o}then(t,n){return this.promiseFinished().then(r=>t?Promise.resolve(t(r)):r,r=>n?Promise.resolve(n(r)):Promise.reject(r))}promiseFinished(){return Vte(this,void 0,void 0,function*(){let[t,n,r,i]=yield Promise.all([this.headers,this.response,this.status,this.trailers]);return{method:this.method,requestHeaders:this.requestHeaders,request:this.request,headers:t,response:n,status:r,trailers:i}})}},Gte=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(c){try{u(r.next(c))}catch(h){s(h)}}function l(c){try{u(r.throw(c))}catch(h){s(h)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((r=r.apply(e,t||[])).next())})},Hte=class{constructor(t,n,r,i,a,s,o){this.method=t,this.requestHeaders=n,this.request=r,this.headers=i,this.responses=a,this.status=s,this.trailers=o}then(t,n){return this.promiseFinished().then(r=>t?Promise.resolve(t(r)):r,r=>n?Promise.resolve(n(r)):Promise.reject(r))}promiseFinished(){return Gte(this,void 0,void 0,function*(){let[t,n,r]=yield Promise.all([this.headers,this.status,this.trailers]);return{method:this.method,requestHeaders:this.requestHeaders,request:this.request,headers:t,status:n,trailers:r}})}};function vi(e,t,n,r,i){var a,s,o,l;if(e=="unary"){let u=(c,h,p)=>t.unary(c,h,p);for(let c of((a=r.interceptors)!==null&&a!==void 0?a:[]).filter(h=>h.interceptUnary).reverse()){let h=u;u=(p,m,g)=>c.interceptUnary(h,p,m,g)}return u(n,i,r)}if(e=="serverStreaming"){let u=(c,h,p)=>t.serverStreaming(c,h,p);for(let c of((s=r.interceptors)!==null&&s!==void 0?s:[]).filter(h=>h.interceptServerStreaming).reverse()){let h=u;u=(p,m,g)=>c.interceptServerStreaming(h,p,m,g)}return u(n,i,r)}if(e=="clientStreaming"){let u=(c,h)=>t.clientStreaming(c,h);for(let c of((o=r.interceptors)!==null&&o!==void 0?o:[]).filter(h=>h.interceptClientStreaming).reverse()){let h=u;u=(p,m)=>c.interceptClientStreaming(h,p,m)}return u(n,r)}if(e=="duplex"){let u=(c,h)=>t.duplex(c,h);for(let c of((l=r.interceptors)!==null&&l!==void 0?l:[]).filter(h=>h.interceptDuplex).reverse()){let h=u;u=(p,m)=>c.interceptDuplex(h,p,m)}return u(n,r)}bte(e)}var Ue;(function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS"})(Ue||(Ue={}));var qte=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(c){try{u(r.next(c))}catch(h){s(h)}}function l(c){try{u(r.throw(c))}catch(h){s(h)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((r=r.apply(e,t||[])).next())})};function zP(e,t,n,r,i){if(r)for(let[a,s]of Object.entries(r))if(typeof s=="string")e.append(a,s);else for(let o of s)e.append(a,o);if(e.set("Content-Type",t==="text"?"application/grpc-web-text":"application/grpc-web+proto"),t=="text"&&e.set("Accept","application/grpc-web-text"),e.set("X-Grpc-Web","1"),i&&e.set("X-User-Agent",i),typeof n=="number"){if(n<=0)throw new jt(`timeout ${n} ms exceeded`,Ue[Ue.DEADLINE_EXCEEDED]);e.set("grpc-timeout",`${n}m`)}else if(n){let a=n.getTime(),s=Date.now();if(a<=s)throw new jt(`deadline ${n} exceeded`,Ue[Ue.DEADLINE_EXCEEDED]);e.set("grpc-timeout",`${a-s}m`)}return e}function UP(e,t){let n=new Uint8Array(5+e.length);n[0]=Hi.DATA;for(let r=e.length,i=4;i>0;i--)n[i]=r%256,r>>>=8;return n.set(e,5),t==="binary"?n:m6(n)}function gk(e,t,n){if(arguments.length===1){let l=e,u;try{u=l.type}catch{}switch(u){case"error":case"opaque":case"opaqueredirect":throw new jt(`fetch response type ${l.type}`,Ue[Ue.UNKNOWN])}return gk(Qte(l.headers),l.status,l.statusText)}let r=e,i=t>=200&&t<300,a=k6(r),[s,o]=x6(r);return(s===void 0||s===Ue.OK)&&!i&&(s=Zte(t),o=n),[s,o,a]}function jP(e){let t=Xte(e),[n,r]=x6(t),i=k6(t);return[n??Ue.OK,r,i]}var Hi;(function(e){e[e.DATA=0]="DATA",e[e.TRAILER=128]="TRAILER"})(Hi||(Hi={}));function $P(e,t,n){return qte(this,void 0,void 0,function*(){let r,i="",a=new Uint8Array(0),s=Yte(t);if(Kte(e)){let o=e.getReader();r={next:()=>o.read()}}else r=e[Symbol.asyncIterator]();for(;;){let o=yield r.next();if(o.value!==void 0){if(s==="text"){for(let u=0;u<o.value.length;u++)i+=String.fromCharCode(o.value[u]);let l=i.length-i.length%4;if(l===0)continue;a=VP(a,p6(i.substring(0,l))),i=i.substring(l)}else a=VP(a,o.value);for(;a.length>=5&&a[0]===Hi.DATA;){let l=0;for(let u=1;u<5;u++)l=(l<<8)+a[u];if(a.length-5>=l)n(Hi.DATA,a.subarray(5,5+l)),a=a.subarray(5+l);else break}}if(o.done){if(a.length===0)break;if(a[0]!==Hi.TRAILER||a.length<5)throw new jt("premature EOF",Ue[Ue.DATA_LOSS]);n(Hi.TRAILER,a.subarray(5));break}}})}var Kte=e=>typeof e.getReader=="function";function VP(e,t){let n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function Yte(e){switch(e){case"application/grpc-web-text":case"application/grpc-web-text+proto":return"text";case"application/grpc-web":case"application/grpc-web+proto":return"binary";case void 0:case null:throw new jt("missing response content type",Ue[Ue.INTERNAL]);default:throw new jt("unexpected response content type: "+e,Ue[Ue.INTERNAL])}}function x6(e){let t,n,r=e["grpc-message"];if(r!==void 0){if(Array.isArray(r))return[Ue.INTERNAL,"invalid grpc-web message"];n=r}let i=e["grpc-status"];if(i!==void 0){if(Array.isArray(i))return[Ue.INTERNAL,"invalid grpc-web status"];if(t=parseInt(i,10),Ue[t]===void 0)return[Ue.INTERNAL,"invalid grpc-web status"]}return[t,n]}function k6(e){let t={};for(let[n,r]of Object.entries(e))switch(n){case"grpc-message":case"grpc-status":case"content-type":break;default:t[n]=r}return t}function Xte(e){let t={};for(let n of String.fromCharCode.apply(String,e).trim().split(`\r
`)){if(n=="")continue;let[r,...i]=n.split(":"),a=i.join(":").trim();r=r.trim();let s=t[r];typeof s=="string"?t[r]=[s,a]:Array.isArray(s)?s.push(a):t[r]=a}return t}function Qte(e){let t={};return e.forEach((n,r)=>{let i=t[r];typeof i=="string"?t[r]=[i,n]:Array.isArray(i)?i.push(n):t[r]=n}),t}function Zte(e){switch(e){case 200:return Ue.OK;case 400:return Ue.INVALID_ARGUMENT;case 401:return Ue.UNAUTHENTICATED;case 403:return Ue.PERMISSION_DENIED;case 404:return Ue.NOT_FOUND;case 409:return Ue.ABORTED;case 412:return Ue.FAILED_PRECONDITION;case 429:return Ue.RESOURCE_EXHAUSTED;case 499:return Ue.CANCELLED;case 500:return Ue.UNKNOWN;case 501:return Ue.UNIMPLEMENTED;case 503:return Ue.UNAVAILABLE;case 504:return Ue.DEADLINE_EXCEEDED;default:return Ue.UNKNOWN}}var Jte=class{constructor(t){this.defaultOptions=t}mergeOptions(t){return jte(this.defaultOptions,t)}makeUrl(t,n){let r=n.baseUrl;return r.endsWith("/")&&(r=r.substring(0,r.length-1)),`${r}/${t.service.typeName}/${t.name}`}clientStreaming(t){let n=new jt("Client streaming is not supported by grpc-web",Ue[Ue.UNIMPLEMENTED]);throw n.methodName=t.name,n.serviceName=t.service.typeName,n}duplex(t){let n=new jt("Duplex streaming is not supported by grpc-web",Ue[Ue.UNIMPLEMENTED]);throw n.methodName=t.name,n.serviceName=t.service.typeName,n}serverStreaming(t,n,r){var i,a,s,o;let l=r,u=(i=l.format)!==null&&i!==void 0?i:"text",c=(a=l.fetchInit)!==null&&a!==void 0?a:{},h=this.makeUrl(t,l),p=t.I.toBinary(n,l.binaryOptions),m=new Es,g=new $te,y=!0,b,v=new Es,x,k=new Es;return globalThis.fetch(h,Object.assign(Object.assign({},c),{method:"POST",headers:zP(new globalThis.Headers,u,l.timeout,l.meta),body:UP(p,u),signal:(s=r.abort)!==null&&s!==void 0?s:null})).then(T=>{let[P,R,N]=gk(T);if(m.resolve(N),P!=null&&P!==Ue.OK)throw new jt(R??Ue[P],Ue[P],N);return P!=null&&(b={code:Ue[P],detail:R??Ue[P]}),T}).then(T=>{if(!T.body)throw new jt("missing response body",Ue[Ue.INTERNAL]);return $P(T.body,T.headers.get("content-type"),(P,R)=>{switch(P){case Hi.DATA:g.notifyMessage(t.O.fromBinary(R,l.binaryOptions)),y=!1;break;case Hi.TRAILER:let N,B;[N,B,x]=jP(R),b={code:Ue[N],detail:B??Ue[N]};break}})}).then(()=>{if(!x&&!y)throw new jt("missing trailers",Ue[Ue.DATA_LOSS]);if(!b)throw new jt("missing status",Ue[Ue.INTERNAL]);if(b.code!=="OK")throw new jt(b.detail,b.code,x);g.notifyComplete(),v.resolve(b),k.resolve(x||{})}).catch(T=>{let P;T instanceof jt?P=T:T instanceof Error&&T.name==="AbortError"?P=new jt(T.message,Ue[Ue.CANCELLED]):P=new jt(T instanceof Error?T.message:""+T,Ue[Ue.INTERNAL]),P.methodName=t.name,P.serviceName=t.service.typeName,m.rejectPending(P),g.notifyError(P),v.rejectPending(P),k.rejectPending(P)}),new Hte(t,(o=l.meta)!==null&&o!==void 0?o:{},n,m.promise,g,v.promise,k.promise)}unary(t,n,r){var i,a,s,o;let l=r,u=(i=l.format)!==null&&i!==void 0?i:"text",c=(a=l.fetchInit)!==null&&a!==void 0?a:{},h=this.makeUrl(t,l),p=t.I.toBinary(n,l.binaryOptions),m=new Es,g,y=new Es,b,v=new Es,x,k=new Es;return globalThis.fetch(h,Object.assign(Object.assign({},c),{method:"POST",headers:zP(new globalThis.Headers,u,l.timeout,l.meta),body:UP(p,u),signal:(s=r.abort)!==null&&s!==void 0?s:null})).then(T=>{let[P,R,N]=gk(T);if(m.resolve(N),P!=null&&P!==Ue.OK)throw new jt(R??Ue[P],Ue[P],N);return P!=null&&(b={code:Ue[P],detail:R??Ue[P]}),T}).then(T=>{if(!T.body)throw new jt("missing response body",Ue[Ue.INTERNAL]);return $P(T.body,T.headers.get("content-type"),(P,R)=>{switch(P){case Hi.DATA:if(g)throw new jt("unary call received 2nd message",Ue[Ue.DATA_LOSS]);g=t.O.fromBinary(R,l.binaryOptions);break;case Hi.TRAILER:let N,B;[N,B,x]=jP(R),b={code:Ue[N],detail:B??Ue[N]};break}})}).then(()=>{if(!x&&g)throw new jt("missing trailers",Ue[Ue.DATA_LOSS]);if(!b)throw new jt("missing status",Ue[Ue.INTERNAL]);if(!g&&b.code==="OK")throw new jt("expected error status",Ue[Ue.DATA_LOSS]);if(!g)throw new jt(b.detail,b.code,x);if(y.resolve(g),b.code!=="OK")throw new jt(b.detail,b.code,x);v.resolve(b),k.resolve(x||{})}).catch(T=>{let P;T instanceof jt?P=T:T instanceof Error&&T.name==="AbortError"?P=new jt(T.message,Ue[Ue.CANCELLED]):P=new jt(T instanceof Error?T.message:""+T,Ue[Ue.INTERNAL]),P.methodName=t.name,P.serviceName=t.service.typeName,m.rejectPending(P),y.rejectPending(P),v.rejectPending(P),k.rejectPending(P)}),new Wte(t,(o=l.meta)!==null&&o!==void 0?o:{},n,m.promise,y.promise,v.promise,k.promise)}},WP=e=>{let t,n=new Set,r=(s,o)=>{let l=typeof s=="function"?s(t):s;if(!Object.is(l,t)){let u=t;t=o??typeof l!="object"?l:Object.assign({},t,l),n.forEach(c=>c(t,u))}},i=()=>t,a={setState:r,getState:i,subscribe:s=>(n.add(s),()=>n.delete(s)),destroy:()=>{({VITE_USE_COMFYUI_PLUGIN:"true",VITE_GIT_HASH:"1fd0dce2a885646a25a052f41aa9e5d2456cbd89",BASE_URL:"/stablestudio/",MODE:"preview",DEV:!1,PROD:!0,SSR:!1}&&"preview")!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return t=e(r,i,a),a},ene=e=>e?WP(e):WP,tne=e=>t=>ene((n,r)=>e({set:n,get:r,context:t})),S6=(e=>(e[e.MEMBER=0]="MEMBER",e[e.ACCOUNTANT=1]="ACCOUNTANT",e[e.OWNER=2]="OWNER",e))(S6||{}),nne=class extends Be{constructor(){super("gooseai.OrganizationMember",[{no:1,name:"organization",kind:"message",T:()=>Wm},{no:2,name:"user",kind:"message",T:()=>$o},{no:3,name:"role",kind:"enum",T:()=>["gooseai.OrganizationRole",S6]},{no:4,name:"is_default",kind:"scalar",T:8}])}create(t){let n={role:0,isDefault:!1};return globalThis.Object.defineProperty(n,Fe,{enumerable:!1,value:this}),t!==void 0&&De(this,n,t),n}internalBinaryRead(t,n,r,i){let a=i??this.create(),s=t.pos+n;for(;t.pos<s;){let[o,l]=t.tag();switch(o){case 1:a.organization=Wm.internalBinaryRead(t,t.uint32(),r,a.organization);break;case 2:a.user=$o.internalBinaryRead(t,t.uint32(),r,a.user);break;case 3:a.role=t.int32();break;case 4:a.isDefault=t.bool();break;default:let u=r.readUnknownField;if(u==="throw")throw new globalThis.Error(`Unknown field ${o} (wire type ${l}) for ${this.typeName}`);let c=t.skip(l);u!==!1&&(u===!0?oe.onRead:u)(this.typeName,a,o,l,c)}}return a}internalBinaryWrite(t,n,r){t.organization&&Wm.internalBinaryWrite(t.organization,n.tag(1,U.LengthDelimited).fork(),r).join(),t.user&&$o.internalBinaryWrite(t.user,n.tag(2,U.LengthDelimited).fork(),r).join(),t.role!==0&&n.tag(3,U.Varint).int32(t.role),t.isDefault!==!1&&n.tag(4,U.Varint).bool(t.isDefault);let i=r.writeUnknownFields;return i!==!1&&(i==!0?oe.onWrite:i)(this.typeName,t,n),n}},Ru=new nne,rne=class extends Be{constructor(){super("gooseai.OrganizationGrant",[{no:1,name:"amount_granted",kind:"scalar",T:1},{no:2,name:"amount_used",kind:"scalar",T:1},{no:3,name:"expires_at",kind:"scalar",T:4,L:0},{no:4,name:"granted_at",kind:"scalar",T:4,L:0}])}create(e){let t={amountGranted:0,amountUsed:0,expiresAt:0n,grantedAt:0n};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.amountGranted=e.double();break;case 2:i.amountUsed=e.double();break;case 3:i.expiresAt=e.uint64().toBigInt();break;case 4:i.grantedAt=e.uint64().toBigInt();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.amountGranted!==0&&t.tag(1,U.Bit64).double(e.amountGranted),e.amountUsed!==0&&t.tag(2,U.Bit64).double(e.amountUsed),e.expiresAt!==0n&&t.tag(3,U.Varint).uint64(e.expiresAt),e.grantedAt!==0n&&t.tag(4,U.Varint).uint64(e.grantedAt);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},xb=new rne,ine=class extends Be{constructor(){super("gooseai.OrganizationPaymentInfo",[{no:1,name:"balance",kind:"scalar",T:1},{no:2,name:"grants",kind:"message",repeat:1,T:()=>xb}])}create(t){let n={balance:0,grants:[]};return globalThis.Object.defineProperty(n,Fe,{enumerable:!1,value:this}),t!==void 0&&De(this,n,t),n}internalBinaryRead(t,n,r,i){let a=i??this.create(),s=t.pos+n;for(;t.pos<s;){let[o,l]=t.tag();switch(o){case 1:a.balance=t.double();break;case 2:a.grants.push(xb.internalBinaryRead(t,t.uint32(),r));break;default:let u=r.readUnknownField;if(u==="throw")throw new globalThis.Error(`Unknown field ${o} (wire type ${l}) for ${this.typeName}`);let c=t.skip(l);u!==!1&&(u===!0?oe.onRead:u)(this.typeName,a,o,l,c)}}return a}internalBinaryWrite(t,n,r){t.balance!==0&&n.tag(1,U.Bit64).double(t.balance);for(let a=0;a<t.grants.length;a++)xb.internalBinaryWrite(t.grants[a],n.tag(2,U.LengthDelimited).fork(),r).join();let i=r.writeUnknownFields;return i!==!1&&(i==!0?oe.onWrite:i)(this.typeName,t,n),n}},kb=new ine,ane=class extends Be{constructor(){super("gooseai.OrganizationAutoCharge",[{no:1,name:"enabled",kind:"scalar",T:8},{no:2,name:"id",kind:"scalar",T:9},{no:3,name:"created_at",kind:"scalar",T:4,L:0}])}create(t){let n={enabled:!1,id:"",createdAt:0n};return globalThis.Object.defineProperty(n,Fe,{enumerable:!1,value:this}),t!==void 0&&De(this,n,t),n}internalBinaryRead(t,n,r,i){let a=i??this.create(),s=t.pos+n;for(;t.pos<s;){let[o,l]=t.tag();switch(o){case 1:a.enabled=t.bool();break;case 2:a.id=t.string();break;case 3:a.createdAt=t.uint64().toBigInt();break;default:let u=r.readUnknownField;if(u==="throw")throw new globalThis.Error(`Unknown field ${o} (wire type ${l}) for ${this.typeName}`);let c=t.skip(l);u!==!1&&(u===!0?oe.onRead:u)(this.typeName,a,o,l,c)}}return a}internalBinaryWrite(t,n,r){t.enabled!==!1&&n.tag(1,U.Varint).bool(t.enabled),t.id!==""&&n.tag(2,U.LengthDelimited).string(t.id),t.createdAt!==0n&&n.tag(3,U.Varint).uint64(t.createdAt);let i=r.writeUnknownFields;return i!==!1&&(i==!0?oe.onWrite:i)(this.typeName,t,n),n}},Sb=new ane,sne=class extends Be{constructor(){super("gooseai.Organization",[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"description",kind:"scalar",T:9},{no:4,name:"members",kind:"message",repeat:1,T:()=>Ru},{no:5,name:"payment_info",kind:"message",T:()=>kb},{no:6,name:"stripe_customer_id",kind:"scalar",opt:!0,T:9},{no:7,name:"auto_charge",kind:"message",T:()=>Sb}])}create(e){let t={id:"",name:"",description:"",members:[]};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;case 2:i.name=e.string();break;case 3:i.description=e.string();break;case 4:i.members.push(Ru.internalBinaryRead(e,e.uint32(),n));break;case 5:i.paymentInfo=kb.internalBinaryRead(e,e.uint32(),n,i.paymentInfo);break;case 6:i.stripeCustomerId=e.string();break;case 7:i.autoCharge=Sb.internalBinaryRead(e,e.uint32(),n,i.autoCharge);break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id),e.name!==""&&t.tag(2,U.LengthDelimited).string(e.name),e.description!==""&&t.tag(3,U.LengthDelimited).string(e.description);for(let i=0;i<e.members.length;i++)Ru.internalBinaryWrite(e.members[i],t.tag(4,U.LengthDelimited).fork(),n).join();e.paymentInfo&&kb.internalBinaryWrite(e.paymentInfo,t.tag(5,U.LengthDelimited).fork(),n).join(),e.stripeCustomerId!==void 0&&t.tag(6,U.LengthDelimited).string(e.stripeCustomerId),e.autoCharge&&Sb.internalBinaryWrite(e.autoCharge,t.tag(7,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Wm=new sne,one=class extends Be{constructor(){super("gooseai.APIKey",[{no:1,name:"key",kind:"scalar",T:9},{no:2,name:"is_secret",kind:"scalar",T:8},{no:3,name:"created_at",kind:"scalar",T:4,L:0}])}create(e){let t={key:"",isSecret:!1,createdAt:0n};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.key=e.string();break;case 2:i.isSecret=e.bool();break;case 3:i.createdAt=e.uint64().toBigInt();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.key!==""&&t.tag(1,U.LengthDelimited).string(e.key),e.isSecret!==!1&&t.tag(2,U.Varint).bool(e.isSecret),e.createdAt!==0n&&t.tag(3,U.Varint).uint64(e.createdAt);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Zd=new one,lne=class extends Be{constructor(){super("gooseai.User",[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"auth_id",kind:"scalar",opt:!0,T:9},{no:3,name:"profile_picture",kind:"scalar",T:9},{no:4,name:"email",kind:"scalar",T:9},{no:5,name:"organizations",kind:"message",repeat:1,T:()=>Ru},{no:7,name:"api_keys",kind:"message",repeat:1,T:()=>Zd},{no:8,name:"created_at",kind:"scalar",T:4,L:0},{no:9,name:"email_verified",kind:"scalar",opt:!0,T:8}])}create(e){let t={id:"",profilePicture:"",email:"",organizations:[],apiKeys:[],createdAt:0n};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;case 2:i.authId=e.string();break;case 3:i.profilePicture=e.string();break;case 4:i.email=e.string();break;case 5:i.organizations.push(Ru.internalBinaryRead(e,e.uint32(),n));break;case 7:i.apiKeys.push(Zd.internalBinaryRead(e,e.uint32(),n));break;case 8:i.createdAt=e.uint64().toBigInt();break;case 9:i.emailVerified=e.bool();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id),e.authId!==void 0&&t.tag(2,U.LengthDelimited).string(e.authId),e.profilePicture!==""&&t.tag(3,U.LengthDelimited).string(e.profilePicture),e.email!==""&&t.tag(4,U.LengthDelimited).string(e.email);for(let i=0;i<e.organizations.length;i++)Ru.internalBinaryWrite(e.organizations[i],t.tag(5,U.LengthDelimited).fork(),n).join();for(let i=0;i<e.apiKeys.length;i++)Zd.internalBinaryWrite(e.apiKeys[i],t.tag(7,U.LengthDelimited).fork(),n).join();e.createdAt!==0n&&t.tag(8,U.Varint).uint64(e.createdAt),e.emailVerified!==void 0&&t.tag(9,U.Varint).bool(e.emailVerified);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},$o=new lne,une=class extends Be{constructor(){super("gooseai.CostData",[{no:1,name:"amount_tokens",kind:"scalar",T:13},{no:2,name:"amount_credits",kind:"scalar",T:1}])}create(e){let t={amountTokens:0,amountCredits:0};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.amountTokens=e.uint32();break;case 2:i.amountCredits=e.double();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.amountTokens!==0&&t.tag(1,U.Varint).uint32(e.amountTokens),e.amountCredits!==0&&t.tag(2,U.Bit64).double(e.amountCredits);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Hl=new une,cne=class extends Be{constructor(){super("gooseai.UsageMetric",[{no:1,name:"operation",kind:"scalar",T:9},{no:2,name:"engine",kind:"scalar",T:9},{no:3,name:"input_cost",kind:"message",T:()=>Hl},{no:4,name:"output_cost",kind:"message",T:()=>Hl},{no:5,name:"user",kind:"scalar",opt:!0,T:9},{no:6,name:"aggregation_timestamp",kind:"scalar",T:4,L:0}])}create(e){let t={operation:"",engine:"",aggregationTimestamp:0n};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.operation=e.string();break;case 2:i.engine=e.string();break;case 3:i.inputCost=Hl.internalBinaryRead(e,e.uint32(),n,i.inputCost);break;case 4:i.outputCost=Hl.internalBinaryRead(e,e.uint32(),n,i.outputCost);break;case 5:i.user=e.string();break;case 6:i.aggregationTimestamp=e.uint64().toBigInt();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.operation!==""&&t.tag(1,U.LengthDelimited).string(e.operation),e.engine!==""&&t.tag(2,U.LengthDelimited).string(e.engine),e.inputCost&&Hl.internalBinaryWrite(e.inputCost,t.tag(3,U.LengthDelimited).fork(),n).join(),e.outputCost&&Hl.internalBinaryWrite(e.outputCost,t.tag(4,U.LengthDelimited).fork(),n).join(),e.user!==void 0&&t.tag(5,U.LengthDelimited).string(e.user),e.aggregationTimestamp!==0n&&t.tag(6,U.Varint).uint64(e.aggregationTimestamp);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Eb=new cne,dne=class extends Be{constructor(){super("gooseai.CostTotal",[{no:1,name:"amount_tokens",kind:"scalar",T:13},{no:2,name:"amount_credits",kind:"scalar",T:1}])}create(e){let t={amountTokens:0,amountCredits:0};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.amountTokens=e.uint32();break;case 2:i.amountCredits=e.double();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.amountTokens!==0&&t.tag(1,U.Varint).uint32(e.amountTokens),e.amountCredits!==0&&t.tag(2,U.Bit64).double(e.amountCredits);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},ql=new dne,hne=class extends Be{constructor(){super("gooseai.TotalMetricsData",[{no:1,name:"input_total",kind:"message",T:()=>ql},{no:2,name:"output_total",kind:"message",T:()=>ql}])}create(e){let t={};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.inputTotal=ql.internalBinaryRead(e,e.uint32(),n,i.inputTotal);break;case 2:i.outputTotal=ql.internalBinaryRead(e,e.uint32(),n,i.outputTotal);break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.inputTotal&&ql.internalBinaryWrite(e.inputTotal,t.tag(1,U.LengthDelimited).fork(),n).join(),e.outputTotal&&ql.internalBinaryWrite(e.outputTotal,t.tag(2,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Cb=new hne,fne=class extends Be{constructor(){super("gooseai.Metrics",[{no:1,name:"metrics",kind:"message",repeat:1,T:()=>Eb},{no:2,name:"total",kind:"message",T:()=>Cb}])}create(e){let t={metrics:[]};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.metrics.push(Eb.internalBinaryRead(e,e.uint32(),n));break;case 2:i.total=Cb.internalBinaryRead(e,e.uint32(),n,i.total);break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){for(let i=0;i<e.metrics.length;i++)Eb.internalBinaryWrite(e.metrics[i],t.tag(1,U.LengthDelimited).fork(),n).join();e.total&&Cb.internalBinaryWrite(e.total,t.tag(2,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},pne=new fne,mne=class extends Be{constructor(){super("gooseai.EmptyRequest",[])}create(e){let t={};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){return r??this.create()}internalBinaryWrite(e,t,n){let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},gm=new mne,gne=class extends Be{constructor(){super("gooseai.GetOrganizationRequest",[{no:1,name:"id",kind:"scalar",T:9}])}create(e){let t={id:""};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},yne=new gne,vne=class extends Be{constructor(){super("gooseai.GetMetricsRequest",[{no:1,name:"organization_id",kind:"scalar",T:9},{no:2,name:"user_id",kind:"scalar",opt:!0,T:9},{no:3,name:"range_from",kind:"scalar",T:4,L:0},{no:4,name:"range_to",kind:"scalar",T:4,L:0},{no:5,name:"include_per_request_metrics",kind:"scalar",T:8}])}create(e){let t={organizationId:"",rangeFrom:0n,rangeTo:0n,includePerRequestMetrics:!1};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.organizationId=e.string();break;case 2:i.userId=e.string();break;case 3:i.rangeFrom=e.uint64().toBigInt();break;case 4:i.rangeTo=e.uint64().toBigInt();break;case 5:i.includePerRequestMetrics=e.bool();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.organizationId!==""&&t.tag(1,U.LengthDelimited).string(e.organizationId),e.userId!==void 0&&t.tag(2,U.LengthDelimited).string(e.userId),e.rangeFrom!==0n&&t.tag(3,U.Varint).uint64(e.rangeFrom),e.rangeTo!==0n&&t.tag(4,U.Varint).uint64(e.rangeTo),e.includePerRequestMetrics!==!1&&t.tag(5,U.Varint).bool(e.includePerRequestMetrics);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},wne=new vne,bne=class extends Be{constructor(){super("gooseai.APIKeyRequest",[{no:1,name:"is_secret",kind:"scalar",T:8}])}create(e){let t={isSecret:!1};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.isSecret=e.bool();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.isSecret!==!1&&t.tag(1,U.Varint).bool(e.isSecret);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},xne=new bne,kne=class extends Be{constructor(){super("gooseai.APIKeyFindRequest",[{no:1,name:"id",kind:"scalar",T:9}])}create(e){let t={id:""};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Sne=new kne,Ene=class extends Be{constructor(){super("gooseai.UpdateDefaultOrganizationRequest",[{no:1,name:"organization_id",kind:"scalar",T:9}])}create(e){let t={organizationId:""};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.organizationId=e.string();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.organizationId!==""&&t.tag(1,U.LengthDelimited).string(e.organizationId);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Cne=new Ene,_ne=class extends Be{constructor(){super("gooseai.ClientSettings",[{no:1,name:"settings",kind:"scalar",T:12}])}create(e){let t={settings:new Uint8Array(0)};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.settings=e.bytes();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.settings.length&&t.tag(1,U.LengthDelimited).bytes(e.settings);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},_b=new _ne,Tne=class extends Be{constructor(){super("gooseai.CreateAutoChargeIntentRequest",[{no:1,name:"organization_id",kind:"scalar",T:9},{no:2,name:"monthly_maximum",kind:"scalar",T:4,L:0},{no:3,name:"minimum_value",kind:"scalar",T:4,L:0},{no:4,name:"amount_credits",kind:"scalar",T:4,L:0}])}create(e){let t={organizationId:"",monthlyMaximum:0n,minimumValue:0n,amountCredits:0n};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.organizationId=e.string();break;case 2:i.monthlyMaximum=e.uint64().toBigInt();break;case 3:i.minimumValue=e.uint64().toBigInt();break;case 4:i.amountCredits=e.uint64().toBigInt();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.organizationId!==""&&t.tag(1,U.LengthDelimited).string(e.organizationId),e.monthlyMaximum!==0n&&t.tag(2,U.Varint).uint64(e.monthlyMaximum),e.minimumValue!==0n&&t.tag(3,U.Varint).uint64(e.minimumValue),e.amountCredits!==0n&&t.tag(4,U.Varint).uint64(e.amountCredits);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},GP=new Tne,Ine=class extends Be{constructor(){super("gooseai.CreateChargeRequest",[{no:1,name:"amount",kind:"scalar",T:4,L:0},{no:2,name:"organization_id",kind:"scalar",T:9}])}create(e){let t={amount:0n,organizationId:""};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.amount=e.uint64().toBigInt();break;case 2:i.organizationId=e.string();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.amount!==0n&&t.tag(1,U.Varint).uint64(e.amount),e.organizationId!==""&&t.tag(2,U.LengthDelimited).string(e.organizationId);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Pne=new Ine,Rne=class extends Be{constructor(){super("gooseai.GetChargesRequest",[{no:1,name:"organization_id",kind:"scalar",T:9},{no:2,name:"range_from",kind:"scalar",T:4,L:0},{no:3,name:"range_to",kind:"scalar",T:4,L:0}])}create(e){let t={organizationId:"",rangeFrom:0n,rangeTo:0n};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.organizationId=e.string();break;case 2:i.rangeFrom=e.uint64().toBigInt();break;case 3:i.rangeTo=e.uint64().toBigInt();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.organizationId!==""&&t.tag(1,U.LengthDelimited).string(e.organizationId),e.rangeFrom!==0n&&t.tag(2,U.Varint).uint64(e.rangeFrom),e.rangeTo!==0n&&t.tag(3,U.Varint).uint64(e.rangeTo);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Ane=new Rne,Nne=class extends Be{constructor(){super("gooseai.Charge",[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"paid",kind:"scalar",T:8},{no:3,name:"receipt_link",kind:"scalar",T:9},{no:4,name:"payment_link",kind:"scalar",T:9},{no:5,name:"created_at",kind:"scalar",T:4,L:0},{no:6,name:"amount_credits",kind:"scalar",T:4,L:0}])}create(e){let t={id:"",paid:!1,receiptLink:"",paymentLink:"",createdAt:0n,amountCredits:0n};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;case 2:i.paid=e.bool();break;case 3:i.receiptLink=e.string();break;case 4:i.paymentLink=e.string();break;case 5:i.createdAt=e.uint64().toBigInt();break;case 6:i.amountCredits=e.uint64().toBigInt();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id),e.paid!==!1&&t.tag(2,U.Varint).bool(e.paid),e.receiptLink!==""&&t.tag(3,U.LengthDelimited).string(e.receiptLink),e.paymentLink!==""&&t.tag(4,U.LengthDelimited).string(e.paymentLink),e.createdAt!==0n&&t.tag(5,U.Varint).uint64(e.createdAt),e.amountCredits!==0n&&t.tag(6,U.Varint).uint64(e.amountCredits);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Gm=new Nne,Dne=class extends Be{constructor(){super("gooseai.Charges",[{no:1,name:"charges",kind:"message",repeat:1,T:()=>Gm}])}create(e){let t={charges:[]};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.charges.push(Gm.internalBinaryRead(e,e.uint32(),n));break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){for(let i=0;i<e.charges.length;i++)Gm.internalBinaryWrite(e.charges[i],t.tag(1,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},One=new Dne,Mne=class extends Be{constructor(){super("gooseai.GetAutoChargeRequest",[{no:1,name:"organization_id",kind:"scalar",T:9}])}create(e){let t={organizationId:""};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.organizationId=e.string();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.organizationId!==""&&t.tag(1,U.LengthDelimited).string(e.organizationId);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Lne=new Mne,Fne=class extends Be{constructor(){super("gooseai.AutoChargeIntent",[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"payment_link",kind:"scalar",T:9},{no:3,name:"created_at",kind:"scalar",T:4,L:0},{no:4,name:"monthly_maximum",kind:"scalar",T:4,L:0},{no:5,name:"minimum_value",kind:"scalar",T:4,L:0},{no:6,name:"amount_credits",kind:"scalar",T:4,L:0}])}create(e){let t={id:"",paymentLink:"",createdAt:0n,monthlyMaximum:0n,minimumValue:0n,amountCredits:0n};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;case 2:i.paymentLink=e.string();break;case 3:i.createdAt=e.uint64().toBigInt();break;case 4:i.monthlyMaximum=e.uint64().toBigInt();break;case 5:i.minimumValue=e.uint64().toBigInt();break;case 6:i.amountCredits=e.uint64().toBigInt();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id),e.paymentLink!==""&&t.tag(2,U.LengthDelimited).string(e.paymentLink),e.createdAt!==0n&&t.tag(3,U.Varint).uint64(e.createdAt),e.monthlyMaximum!==0n&&t.tag(4,U.Varint).uint64(e.monthlyMaximum),e.minimumValue!==0n&&t.tag(5,U.Varint).uint64(e.minimumValue),e.amountCredits!==0n&&t.tag(6,U.Varint).uint64(e.amountCredits);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Tb=new Fne,Bne=class extends Be{constructor(){super("gooseai.UpdateUserInfoRequest",[{no:1,name:"email",kind:"scalar",opt:!0,T:9}])}create(e){let t={};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.email=e.string();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.email!==void 0&&t.tag(1,U.LengthDelimited).string(e.email);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},zne=new Bne,Une=class extends Be{constructor(){super("gooseai.UserPasswordChangeTicket",[{no:1,name:"ticket",kind:"scalar",T:9}])}create(e){let t={ticket:""};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.ticket=e.string();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.ticket!==""&&t.tag(1,U.LengthDelimited).string(e.ticket);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},jne=new Une;new lv("gooseai.DashboardService",[{name:"GetMe",options:{},I:gm,O:$o},{name:"GetOrganization",options:{},I:yne,O:Wm},{name:"GetMetrics",options:{},I:wne,O:pne},{name:"CreateAPIKey",options:{},I:xne,O:Zd},{name:"DeleteAPIKey",options:{},I:Sne,O:Zd},{name:"UpdateDefaultOrganization",options:{},I:Cne,O:$o},{name:"GetClientSettings",options:{},I:gm,O:_b},{name:"SetClientSettings",options:{},I:_b,O:_b},{name:"UpdateUserInfo",options:{},I:zne,O:$o},{name:"CreatePasswordChangeTicket",options:{},I:gm,O:jne},{name:"DeleteAccount",options:{},I:gm,O:$o},{name:"CreateCharge",options:{},I:Pne,O:Gm},{name:"GetCharges",options:{},I:Ane,O:One},{name:"CreateAutoChargeIntent",options:{},I:GP,O:Tb},{name:"UpdateAutoChargeIntent",options:{},I:GP,O:Tb},{name:"GetAutoChargeIntent",options:{},I:Lne,O:Tb}]);var E6=(e=>(e[e.TEXT=0]="TEXT",e[e.PICTURE=1]="PICTURE",e[e.AUDIO=2]="AUDIO",e[e.VIDEO=3]="VIDEO",e[e.CLASSIFICATION=4]="CLASSIFICATION",e[e.STORAGE=5]="STORAGE",e))(E6||{}),C6=(e=>(e[e.GPT2=0]="GPT2",e[e.PILE=1]="PILE",e))(C6||{}),$ne=class extends Be{constructor(){super("gooseai.EngineInfo",[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"owner",kind:"scalar",T:9},{no:3,name:"ready",kind:"scalar",T:8},{no:4,name:"type",kind:"enum",T:()=>["gooseai.EngineType",E6]},{no:5,name:"tokenizer",kind:"enum",T:()=>["gooseai.EngineTokenizer",C6]},{no:6,name:"name",kind:"scalar",T:9},{no:7,name:"description",kind:"scalar",T:9}])}create(e){let t={id:"",owner:"",ready:!1,type:0,tokenizer:0,name:"",description:""};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;case 2:i.owner=e.string();break;case 3:i.ready=e.bool();break;case 4:i.type=e.int32();break;case 5:i.tokenizer=e.int32();break;case 6:i.name=e.string();break;case 7:i.description=e.string();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id),e.owner!==""&&t.tag(2,U.LengthDelimited).string(e.owner),e.ready!==!1&&t.tag(3,U.Varint).bool(e.ready),e.type!==0&&t.tag(4,U.Varint).int32(e.type),e.tokenizer!==0&&t.tag(5,U.Varint).int32(e.tokenizer),e.name!==""&&t.tag(6,U.LengthDelimited).string(e.name),e.description!==""&&t.tag(7,U.LengthDelimited).string(e.description);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Ib=new $ne,Vne=class extends Be{constructor(){super("gooseai.ListEnginesRequest",[])}create(e){let t={};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){return r??this.create()}internalBinaryWrite(e,t,n){let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Wne=new Vne,Gne=class extends Be{constructor(){super("gooseai.Engines",[{no:1,name:"engine",kind:"message",repeat:1,T:()=>Ib}])}create(e){let t={engine:[]};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.engine.push(Ib.internalBinaryRead(e,e.uint32(),n));break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){for(let i=0;i<e.engine.length;i++)Ib.internalBinaryWrite(e.engine[i],t.tag(1,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Hne=new Gne,Pb=new lv("gooseai.EnginesService",[{name:"ListEngines",options:{},I:Wne,O:Hne}]),qne=class{constructor(t){Ut(this,"typeName",Pb.typeName);Ut(this,"methods",Pb.methods);Ut(this,"options",Pb.options);this._transport=t}listEngines(t,n){let r=this.methods[0],i=this._transport.mergeOptions(n);return vi("unary",this._transport,r,i,t)}},on={};h6(on,{Action:()=>dv,Answer:()=>Nu,AnswerBatch:()=>Are,AnswerMeta:()=>hg,Artifact:()=>_a,ArtifactType:()=>cv,AssetAction:()=>c_,AssetParameters:()=>dg,AssetUse:()=>d_,BorderMode:()=>s_,CameraParameters:()=>lg,CameraType:()=>l_,ChainRequest:()=>P6,ClassifierCategory:()=>Do,ClassifierConcept:()=>rg,ClassifierMode:()=>i_,ClassifierParameters:()=>el,ColorMatchMode:()=>o_,ConditionerParameters:()=>Ym,CutoutParameters:()=>Jo,DiffusionSampler:()=>e_,FinishReason:()=>uv,GenerationService:()=>mg,GuidanceInstanceParameters:()=>Jm,GuidanceParameters:()=>eg,GuidancePreset:()=>n_,GuidanceScheduleParameters:()=>Zm,ImageParameters:()=>ng,InterpolateMode:()=>a_,InterpolateParameters:()=>ig,MaskedAreaInit:()=>ZC,Model:()=>Zo,ModelArchitecture:()=>r_,OnStatus:()=>fg,Prompt:()=>Qo,PromptParameters:()=>qm,RenderMode:()=>u_,Request:()=>Ys,SamplerParameters:()=>Km,ScheduleParameters:()=>Xm,Stage:()=>pg,StageAction:()=>h_,StepParameter:()=>Qm,Token:()=>Hm,Tokens:()=>Xo,TransformCameraPose:()=>ug,TransformColorAdjust:()=>ag,TransformDepthCalc:()=>sg,TransformMatrix:()=>ya,TransformParameters:()=>cg,TransformResample:()=>og,TransformType:()=>tg,Upscaler:()=>t_,WeightMethod:()=>JC});var _6=(e=>(e[e.NULL_VALUE=0]="NULL_VALUE",e))(_6||{}),Kne=class extends Be{constructor(){super("google.protobuf.Struct",[{no:1,name:"fields",kind:"map",K:9,V:{kind:"message",T:()=>Vi}}])}internalJsonWrite(e,t){let n={};for(let[r,i]of Object.entries(e.fields))n[r]=Vi.toJson(i);return n}internalJsonRead(e,t,n){if(!f6(e))throw new globalThis.Error("Unable to parse message "+this.typeName+" from JSON "+yf(e)+".");n||(n=this.create());for(let[r,i]of globalThis.Object.entries(e))n.fields[r]=Vi.fromJson(i);return n}create(e){let t={fields:{}};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:this.binaryReadMap1(i.fields,e,n);break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}binaryReadMap1(e,t,n){let r=t.uint32(),i=t.pos+r,a,s;for(;t.pos<i;){let[o,l]=t.tag();switch(o){case 1:a=t.string();break;case 2:s=Vi.internalBinaryRead(t,t.uint32(),n);break;default:throw new globalThis.Error("unknown map entry field for field google.protobuf.Struct.fields")}}e[a??""]=s??Vi.create()}internalBinaryWrite(e,t,n){for(let i of Object.keys(e.fields))t.tag(1,U.LengthDelimited).fork().tag(1,U.LengthDelimited).string(i),t.tag(2,U.LengthDelimited).fork(),Vi.internalBinaryWrite(e.fields[i],t,n),t.join().join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Wa=new Kne,Yne=class extends Be{constructor(){super("google.protobuf.Value",[{no:1,name:"null_value",kind:"enum",oneof:"kind",T:()=>["google.protobuf.NullValue",_6]},{no:2,name:"number_value",kind:"scalar",oneof:"kind",T:1},{no:3,name:"string_value",kind:"scalar",oneof:"kind",T:9},{no:4,name:"bool_value",kind:"scalar",oneof:"kind",T:8},{no:5,name:"struct_value",kind:"message",oneof:"kind",T:()=>Wa},{no:6,name:"list_value",kind:"message",oneof:"kind",T:()=>ym}])}internalJsonWrite(e,t){if(e.kind.oneofKind===void 0)throw new globalThis.Error;switch(e.kind.oneofKind){case void 0:throw new globalThis.Error;case"boolValue":return e.kind.boolValue;case"nullValue":return null;case"numberValue":return e.kind.numberValue;case"stringValue":return e.kind.stringValue;case"listValue":let n=this.fields.find(i=>i.no===6);if(n?.kind!=="message")throw new globalThis.Error;return n.T().toJson(e.kind.listValue);case"structValue":let r=this.fields.find(i=>i.no===5);if(r?.kind!=="message")throw new globalThis.Error;return r.T().toJson(e.kind.structValue)}}internalJsonRead(e,t,n){switch(n||(n=this.create()),typeof e){case"number":n.kind={oneofKind:"numberValue",numberValue:e};break;case"string":n.kind={oneofKind:"stringValue",stringValue:e};break;case"boolean":n.kind={oneofKind:"boolValue",boolValue:e};break;case"object":e===null?n.kind={oneofKind:"nullValue",nullValue:0}:globalThis.Array.isArray(e)?n.kind={oneofKind:"listValue",listValue:ym.fromJson(e)}:(Wa.fromJson(e),n.kind={oneofKind:"structValue",structValue:Wa.fromJson(e)});break;default:throw new globalThis.Error("Unable to parse "+this.typeName+" from JSON "+yf(e))}return n}create(e){let t={kind:{oneofKind:void 0}};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.kind={oneofKind:"nullValue",nullValue:e.int32()};break;case 2:i.kind={oneofKind:"numberValue",numberValue:e.double()};break;case 3:i.kind={oneofKind:"stringValue",stringValue:e.string()};break;case 4:i.kind={oneofKind:"boolValue",boolValue:e.bool()};break;case 5:i.kind={oneofKind:"structValue",structValue:Wa.internalBinaryRead(e,e.uint32(),n,i.kind.structValue)};break;case 6:i.kind={oneofKind:"listValue",listValue:ym.internalBinaryRead(e,e.uint32(),n,i.kind.listValue)};break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.kind.oneofKind==="nullValue"&&t.tag(1,U.Varint).int32(e.kind.nullValue),e.kind.oneofKind==="numberValue"&&t.tag(2,U.Bit64).double(e.kind.numberValue),e.kind.oneofKind==="stringValue"&&t.tag(3,U.LengthDelimited).string(e.kind.stringValue),e.kind.oneofKind==="boolValue"&&t.tag(4,U.Varint).bool(e.kind.boolValue),e.kind.oneofKind==="structValue"&&Wa.internalBinaryWrite(e.kind.structValue,t.tag(5,U.LengthDelimited).fork(),n).join(),e.kind.oneofKind==="listValue"&&ym.internalBinaryWrite(e.kind.listValue,t.tag(6,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Vi=new Yne,Xne=class extends Be{constructor(){super("google.protobuf.ListValue",[{no:1,name:"values",kind:"message",repeat:1,T:()=>Vi}])}internalJsonWrite(e,t){return e.values.map(n=>Vi.toJson(n))}internalJsonRead(e,t,n){if(!globalThis.Array.isArray(e))throw new globalThis.Error("Unable to parse "+this.typeName+" from JSON "+yf(e));n||(n=this.create());let r=e.map(i=>Vi.fromJson(i));return n.values.push(...r),n}create(e){let t={values:[]};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.values.push(Vi.internalBinaryRead(e,e.uint32(),n));break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){for(let i=0;i<e.values.length;i++)Vi.internalBinaryWrite(e.values[i],t.tag(1,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},ym=new Xne,T6=(e=>(e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT32=1]="DT_FLOAT32",e[e.DT_FLOAT64=2]="DT_FLOAT64",e[e.DT_FLOAT16=3]="DT_FLOAT16",e[e.DT_BFLOAT16=4]="DT_BFLOAT16",e[e.DT_COMPLEX32=5]="DT_COMPLEX32",e[e.DT_COMPLEX64=6]="DT_COMPLEX64",e[e.DT_COMPLEX128=7]="DT_COMPLEX128",e[e.DT_UINT8=8]="DT_UINT8",e[e.DT_INT8=9]="DT_INT8",e[e.DT_INT16=10]="DT_INT16",e[e.DT_INT32=11]="DT_INT32",e[e.DT_INT64=12]="DT_INT64",e[e.DT_BOOL=13]="DT_BOOL",e[e.DT_QUINT8=14]="DT_QUINT8",e[e.DT_QINT8=15]="DT_QINT8",e[e.DT_QINT32=16]="DT_QINT32",e[e.DT_QUINT4_2=17]="DT_QUINT4_2",e))(T6||{}),I6=(e=>(e[e.AT_PARAMETER=0]="AT_PARAMETER",e[e.AT_BUFFER=1]="AT_BUFFER",e))(I6||{}),Qne=class extends Be{constructor(){super("tensors.Tensor",[{no:1,name:"dtype",kind:"enum",T:()=>["tensors.Dtype",T6]},{no:2,name:"shape",kind:"scalar",repeat:1,T:3,L:0},{no:3,name:"data",kind:"scalar",T:12},{no:4,name:"attr_type",kind:"enum",opt:!0,T:()=>["tensors.AttributeType",I6]}])}create(e){let t={dtype:0,shape:[],data:new Uint8Array(0)};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.dtype=e.int32();break;case 2:if(o===U.LengthDelimited)for(let c=e.int32()+e.pos;e.pos<c;)i.shape.push(e.int64().toBigInt());else i.shape.push(e.int64().toBigInt());break;case 3:i.data=e.bytes();break;case 4:i.attrType=e.int32();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){if(e.dtype!==0&&t.tag(1,U.Varint).int32(e.dtype),e.shape.length){t.tag(2,U.LengthDelimited).fork();for(let i=0;i<e.shape.length;i++)t.int64(e.shape[i]);t.join()}e.data.length&&t.tag(3,U.LengthDelimited).bytes(e.data),e.attrType!==void 0&&t.tag(4,U.Varint).int32(e.attrType);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Au=new Qne,Zne=class extends Be{constructor(){super("tensors.Attribute",[{no:1,name:"name",kind:"scalar",T:9},{no:3,name:"module",kind:"message",oneof:"value",T:()=>Ab},{no:4,name:"tensor",kind:"message",oneof:"value",T:()=>Au},{no:5,name:"string",kind:"scalar",oneof:"value",T:9},{no:6,name:"int64",kind:"scalar",oneof:"value",T:3,L:0},{no:7,name:"float",kind:"scalar",oneof:"value",T:2},{no:8,name:"bool",kind:"scalar",oneof:"value",T:8}])}create(e){let t={name:"",value:{oneofKind:void 0}};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.name=e.string();break;case 3:i.value={oneofKind:"module",module:Ab.internalBinaryRead(e,e.uint32(),n,i.value.module)};break;case 4:i.value={oneofKind:"tensor",tensor:Au.internalBinaryRead(e,e.uint32(),n,i.value.tensor)};break;case 5:i.value={oneofKind:"string",string:e.string()};break;case 6:i.value={oneofKind:"int64",int64:e.int64().toBigInt()};break;case 7:i.value={oneofKind:"float",float:e.float()};break;case 8:i.value={oneofKind:"bool",bool:e.bool()};break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.name!==""&&t.tag(1,U.LengthDelimited).string(e.name),e.value.oneofKind==="module"&&Ab.internalBinaryWrite(e.value.module,t.tag(3,U.LengthDelimited).fork(),n).join(),e.value.oneofKind==="tensor"&&Au.internalBinaryWrite(e.value.tensor,t.tag(4,U.LengthDelimited).fork(),n).join(),e.value.oneofKind==="string"&&t.tag(5,U.LengthDelimited).string(e.value.string),e.value.oneofKind==="int64"&&t.tag(6,U.Varint).int64(e.value.int64),e.value.oneofKind==="float"&&t.tag(7,U.Bit32).float(e.value.float),e.value.oneofKind==="bool"&&t.tag(8,U.Varint).bool(e.value.bool);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Rb=new Zne,Jne=class extends Be{constructor(){super("tensors.Module",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"names",kind:"scalar",repeat:2,T:9},{no:3,name:"attributes",kind:"message",repeat:1,T:()=>Rb}])}create(e){let t={name:"",names:[],attributes:[]};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.name=e.string();break;case 2:i.names.push(e.string());break;case 3:i.attributes.push(Rb.internalBinaryRead(e,e.uint32(),n));break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.name!==""&&t.tag(1,U.LengthDelimited).string(e.name);for(let i=0;i<e.names.length;i++)t.tag(2,U.LengthDelimited).string(e.names[i]);for(let i=0;i<e.attributes.length;i++)Rb.internalBinaryWrite(e.attributes[i],t.tag(3,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Ab=new Jne,uv=(e=>(e[e.NULL=0]="NULL",e[e.LENGTH=1]="LENGTH",e[e.STOP=2]="STOP",e[e.ERROR=3]="ERROR",e[e.FILTER=4]="FILTER",e))(uv||{}),cv=(e=>(e[e.ARTIFACT_NONE=0]="ARTIFACT_NONE",e[e.ARTIFACT_IMAGE=1]="ARTIFACT_IMAGE",e[e.ARTIFACT_VIDEO=2]="ARTIFACT_VIDEO",e[e.ARTIFACT_TEXT=3]="ARTIFACT_TEXT",e[e.ARTIFACT_TOKENS=4]="ARTIFACT_TOKENS",e[e.ARTIFACT_EMBEDDING=5]="ARTIFACT_EMBEDDING",e[e.ARTIFACT_CLASSIFICATIONS=6]="ARTIFACT_CLASSIFICATIONS",e[e.ARTIFACT_MASK=7]="ARTIFACT_MASK",e[e.ARTIFACT_LATENT=8]="ARTIFACT_LATENT",e[e.ARTIFACT_TENSOR=9]="ARTIFACT_TENSOR",e[e.ARTIFACT_DEPTH=10]="ARTIFACT_DEPTH",e))(cv||{}),ZC=(e=>(e[e.ZERO=0]="ZERO",e[e.RANDOM=1]="RANDOM",e[e.ORIGINAL=2]="ORIGINAL",e))(ZC||{}),JC=(e=>(e[e.TEXT_ENCODER=0]="TEXT_ENCODER",e[e.CROSS_ATTENTION=1]="CROSS_ATTENTION",e))(JC||{}),e_=(e=>(e[e.SAMPLER_DDIM=0]="SAMPLER_DDIM",e[e.SAMPLER_DDPM=1]="SAMPLER_DDPM",e[e.SAMPLER_K_EULER=2]="SAMPLER_K_EULER",e[e.SAMPLER_K_EULER_ANCESTRAL=3]="SAMPLER_K_EULER_ANCESTRAL",e[e.SAMPLER_K_HEUN=4]="SAMPLER_K_HEUN",e[e.SAMPLER_K_DPM_2=5]="SAMPLER_K_DPM_2",e[e.SAMPLER_K_DPM_2_ANCESTRAL=6]="SAMPLER_K_DPM_2_ANCESTRAL",e[e.SAMPLER_K_LMS=7]="SAMPLER_K_LMS",e[e.SAMPLER_K_DPMPP_2S_ANCESTRAL=8]="SAMPLER_K_DPMPP_2S_ANCESTRAL",e[e.SAMPLER_K_DPMPP_2M=9]="SAMPLER_K_DPMPP_2M",e[e.SAMPLER_K_DPMPP_SDE=10]="SAMPLER_K_DPMPP_SDE",e))(e_||{}),t_=(e=>(e[e.RGB=0]="RGB",e[e.GFPGAN=1]="GFPGAN",e[e.ESRGAN=2]="ESRGAN",e))(t_||{}),n_=(e=>(e[e.NONE=0]="NONE",e[e.SIMPLE=1]="SIMPLE",e[e.FAST_BLUE=2]="FAST_BLUE",e[e.FAST_GREEN=3]="FAST_GREEN",e[e.SLOW=4]="SLOW",e[e.SLOWER=5]="SLOWER",e[e.SLOWEST=6]="SLOWEST",e))(n_||{}),r_=(e=>(e[e.NONE=0]="NONE",e[e.CLIP_VIT=1]="CLIP_VIT",e[e.CLIP_RESNET=2]="CLIP_RESNET",e[e.LDM=3]="LDM",e))(r_||{}),dv=(e=>(e[e.PASSTHROUGH=0]="PASSTHROUGH",e[e.REGENERATE_DUPLICATE=1]="REGENERATE_DUPLICATE",e[e.REGENERATE=2]="REGENERATE",e[e.OBFUSCATE_DUPLICATE=3]="OBFUSCATE_DUPLICATE",e[e.OBFUSCATE=4]="OBFUSCATE",e[e.DISCARD=5]="DISCARD",e))(dv||{}),i_=(e=>(e[e.CLSFR_MODE_ZEROSHOT=0]="CLSFR_MODE_ZEROSHOT",e[e.CLSFR_MODE_MULTICLASS=1]="CLSFR_MODE_MULTICLASS",e))(i_||{}),a_=(e=>(e[e.INTERPOLATE_LINEAR=0]="INTERPOLATE_LINEAR",e[e.INTERPOLATE_RIFE=1]="INTERPOLATE_RIFE",e[e.INTERPOLATE_VAE_LINEAR=2]="INTERPOLATE_VAE_LINEAR",e[e.INTERPOLATE_VAE_SLERP=3]="INTERPOLATE_VAE_SLERP",e[e.INTERPOLATE_FILM=4]="INTERPOLATE_FILM",e))(a_||{}),s_=(e=>(e[e.BORDER_REFLECT=0]="BORDER_REFLECT",e[e.BORDER_REPLICATE=1]="BORDER_REPLICATE",e[e.BORDER_WRAP=2]="BORDER_WRAP",e[e.BORDER_ZERO=3]="BORDER_ZERO",e[e.BORDER_PREFILL=4]="BORDER_PREFILL",e))(s_||{}),o_=(e=>(e[e.COLOR_MATCH_HSV=0]="COLOR_MATCH_HSV",e[e.COLOR_MATCH_LAB=1]="COLOR_MATCH_LAB",e[e.COLOR_MATCH_RGB=2]="COLOR_MATCH_RGB",e))(o_||{}),l_=(e=>(e[e.CAMERA_PERSPECTIVE=0]="CAMERA_PERSPECTIVE",e[e.CAMERA_ORTHOGRAPHIC=1]="CAMERA_ORTHOGRAPHIC",e))(l_||{}),u_=(e=>(e[e.RENDER_MESH=0]="RENDER_MESH",e[e.RENDER_POINTCLOUD=1]="RENDER_POINTCLOUD",e))(u_||{}),c_=(e=>(e[e.ASSET_PUT=0]="ASSET_PUT",e[e.ASSET_GET=1]="ASSET_GET",e[e.ASSET_DELETE=2]="ASSET_DELETE",e))(c_||{}),d_=(e=>(e[e.UNDEFINED=0]="UNDEFINED",e[e.INPUT=1]="INPUT",e[e.OUTPUT=2]="OUTPUT",e[e.INTERMEDIATE=3]="INTERMEDIATE",e[e.PROJECT=4]="PROJECT",e))(d_||{}),h_=(e=>(e[e.PASS=0]="PASS",e[e.DISCARD=1]="DISCARD",e[e.RETURN=2]="RETURN",e))(h_||{}),ere=class extends Be{constructor(){super("gooseai.Token",[{no:1,name:"text",kind:"scalar",opt:!0,T:9},{no:2,name:"id",kind:"scalar",T:13}])}create(e){let t={id:0};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.text=e.string();break;case 2:i.id=e.uint32();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.text!==void 0&&t.tag(1,U.LengthDelimited).string(e.text),e.id!==0&&t.tag(2,U.Varint).uint32(e.id);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Hm=new ere,tre=class extends Be{constructor(){super("gooseai.Tokens",[{no:1,name:"tokens",kind:"message",repeat:1,T:()=>Hm},{no:2,name:"tokenizer_id",kind:"scalar",opt:!0,T:9}])}create(e){let t={tokens:[]};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.tokens.push(Hm.internalBinaryRead(e,e.uint32(),n));break;case 2:i.tokenizerId=e.string();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){for(let i=0;i<e.tokens.length;i++)Hm.internalBinaryWrite(e.tokens[i],t.tag(1,U.LengthDelimited).fork(),n).join();e.tokenizerId!==void 0&&t.tag(2,U.LengthDelimited).string(e.tokenizerId);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Xo=new tre,nre=class extends Be{constructor(){super("gooseai.Artifact",[{no:1,name:"id",kind:"scalar",T:4,L:0},{no:2,name:"type",kind:"enum",T:()=>["gooseai.ArtifactType",cv]},{no:3,name:"mime",kind:"scalar",T:9},{no:4,name:"magic",kind:"scalar",opt:!0,T:9},{no:5,name:"binary",kind:"scalar",oneof:"data",T:12},{no:6,name:"text",kind:"scalar",oneof:"data",T:9},{no:7,name:"tokens",kind:"message",oneof:"data",T:()=>Xo},{no:11,name:"classifier",kind:"message",oneof:"data",T:()=>el},{no:14,name:"tensor",kind:"message",oneof:"data",T:()=>Au},{no:8,name:"index",kind:"scalar",T:13},{no:9,name:"finish_reason",kind:"enum",T:()=>["gooseai.FinishReason",uv]},{no:10,name:"seed",kind:"scalar",T:13},{no:12,name:"uuid",kind:"scalar",T:9},{no:13,name:"size",kind:"scalar",T:4,L:0}])}create(e){let t={id:0n,type:0,mime:"",data:{oneofKind:void 0},index:0,finishReason:0,seed:0,uuid:"",size:0n};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.uint64().toBigInt();break;case 2:i.type=e.int32();break;case 3:i.mime=e.string();break;case 4:i.magic=e.string();break;case 5:i.data={oneofKind:"binary",binary:e.bytes()};break;case 6:i.data={oneofKind:"text",text:e.string()};break;case 7:i.data={oneofKind:"tokens",tokens:Xo.internalBinaryRead(e,e.uint32(),n,i.data.tokens)};break;case 11:i.data={oneofKind:"classifier",classifier:el.internalBinaryRead(e,e.uint32(),n,i.data.classifier)};break;case 14:i.data={oneofKind:"tensor",tensor:Au.internalBinaryRead(e,e.uint32(),n,i.data.tensor)};break;case 8:i.index=e.uint32();break;case 9:i.finishReason=e.int32();break;case 10:i.seed=e.uint32();break;case 12:i.uuid=e.string();break;case 13:i.size=e.uint64().toBigInt();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.id!==0n&&t.tag(1,U.Varint).uint64(e.id),e.type!==0&&t.tag(2,U.Varint).int32(e.type),e.mime!==""&&t.tag(3,U.LengthDelimited).string(e.mime),e.magic!==void 0&&t.tag(4,U.LengthDelimited).string(e.magic),e.data.oneofKind==="binary"&&t.tag(5,U.LengthDelimited).bytes(e.data.binary),e.data.oneofKind==="text"&&t.tag(6,U.LengthDelimited).string(e.data.text),e.data.oneofKind==="tokens"&&Xo.internalBinaryWrite(e.data.tokens,t.tag(7,U.LengthDelimited).fork(),n).join(),e.data.oneofKind==="classifier"&&el.internalBinaryWrite(e.data.classifier,t.tag(11,U.LengthDelimited).fork(),n).join(),e.data.oneofKind==="tensor"&&Au.internalBinaryWrite(e.data.tensor,t.tag(14,U.LengthDelimited).fork(),n).join(),e.index!==0&&t.tag(8,U.Varint).uint32(e.index),e.finishReason!==0&&t.tag(9,U.Varint).int32(e.finishReason),e.seed!==0&&t.tag(10,U.Varint).uint32(e.seed),e.uuid!==""&&t.tag(12,U.LengthDelimited).string(e.uuid),e.size!==0n&&t.tag(13,U.Varint).uint64(e.size);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},_a=new nre,rre=class extends Be{constructor(){super("gooseai.PromptParameters",[{no:1,name:"init",kind:"scalar",opt:!0,T:8},{no:2,name:"weight",kind:"scalar",opt:!0,T:2}])}create(e){let t={};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.init=e.bool();break;case 2:i.weight=e.float();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.init!==void 0&&t.tag(1,U.Varint).bool(e.init),e.weight!==void 0&&t.tag(2,U.Bit32).float(e.weight);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},qm=new rre,ire=class extends Be{constructor(){super("gooseai.Prompt",[{no:1,name:"parameters",kind:"message",T:()=>qm},{no:2,name:"text",kind:"scalar",oneof:"prompt",T:9},{no:3,name:"tokens",kind:"message",oneof:"prompt",T:()=>Xo},{no:4,name:"artifact",kind:"message",oneof:"prompt",T:()=>_a}])}create(e){let t={prompt:{oneofKind:void 0}};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.parameters=qm.internalBinaryRead(e,e.uint32(),n,i.parameters);break;case 2:i.prompt={oneofKind:"text",text:e.string()};break;case 3:i.prompt={oneofKind:"tokens",tokens:Xo.internalBinaryRead(e,e.uint32(),n,i.prompt.tokens)};break;case 4:i.prompt={oneofKind:"artifact",artifact:_a.internalBinaryRead(e,e.uint32(),n,i.prompt.artifact)};break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.parameters&&qm.internalBinaryWrite(e.parameters,t.tag(1,U.LengthDelimited).fork(),n).join(),e.prompt.oneofKind==="text"&&t.tag(2,U.LengthDelimited).string(e.prompt.text),e.prompt.oneofKind==="tokens"&&Xo.internalBinaryWrite(e.prompt.tokens,t.tag(3,U.LengthDelimited).fork(),n).join(),e.prompt.oneofKind==="artifact"&&_a.internalBinaryWrite(e.prompt.artifact,t.tag(4,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Qo=new ire,are=class extends Be{constructor(){super("gooseai.SamplerParameters",[{no:1,name:"eta",kind:"scalar",opt:!0,T:2},{no:2,name:"sampling_steps",kind:"scalar",opt:!0,T:4,L:0},{no:3,name:"latent_channels",kind:"scalar",opt:!0,T:4,L:0},{no:4,name:"downsampling_factor",kind:"scalar",opt:!0,T:4,L:0},{no:5,name:"cfg_scale",kind:"scalar",opt:!0,T:2},{no:6,name:"init_noise_scale",kind:"scalar",opt:!0,T:2},{no:7,name:"step_noise_scale",kind:"scalar",opt:!0,T:2}])}create(e){let t={};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.eta=e.float();break;case 2:i.samplingSteps=e.uint64().toBigInt();break;case 3:i.latentChannels=e.uint64().toBigInt();break;case 4:i.downsamplingFactor=e.uint64().toBigInt();break;case 5:i.cfgScale=e.float();break;case 6:i.initNoiseScale=e.float();break;case 7:i.stepNoiseScale=e.float();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.eta!==void 0&&t.tag(1,U.Bit32).float(e.eta),e.samplingSteps!==void 0&&t.tag(2,U.Varint).uint64(e.samplingSteps),e.latentChannels!==void 0&&t.tag(3,U.Varint).uint64(e.latentChannels),e.downsamplingFactor!==void 0&&t.tag(4,U.Varint).uint64(e.downsamplingFactor),e.cfgScale!==void 0&&t.tag(5,U.Bit32).float(e.cfgScale),e.initNoiseScale!==void 0&&t.tag(6,U.Bit32).float(e.initNoiseScale),e.stepNoiseScale!==void 0&&t.tag(7,U.Bit32).float(e.stepNoiseScale);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Km=new are,sre=class extends Be{constructor(){super("gooseai.ConditionerParameters",[{no:1,name:"vector_adjust_prior",kind:"scalar",opt:!0,T:9},{no:2,name:"conditioner",kind:"message",T:()=>Zo}])}create(e){let t={};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.vectorAdjustPrior=e.string();break;case 2:i.conditioner=Zo.internalBinaryRead(e,e.uint32(),n,i.conditioner);break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.vectorAdjustPrior!==void 0&&t.tag(1,U.LengthDelimited).string(e.vectorAdjustPrior),e.conditioner&&Zo.internalBinaryWrite(e.conditioner,t.tag(2,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Ym=new sre,ore=class extends Be{constructor(){super("gooseai.ScheduleParameters",[{no:1,name:"start",kind:"scalar",opt:!0,T:2},{no:2,name:"end",kind:"scalar",opt:!0,T:2},{no:3,name:"value",kind:"scalar",opt:!0,T:2}])}create(e){let t={};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.start=e.float();break;case 2:i.end=e.float();break;case 3:i.value=e.float();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.start!==void 0&&t.tag(1,U.Bit32).float(e.start),e.end!==void 0&&t.tag(2,U.Bit32).float(e.end),e.value!==void 0&&t.tag(3,U.Bit32).float(e.value);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Xm=new ore,lre=class extends Be{constructor(){super("gooseai.StepParameter",[{no:1,name:"scaled_step",kind:"scalar",T:2},{no:2,name:"sampler",kind:"message",T:()=>Km},{no:3,name:"schedule",kind:"message",T:()=>Xm},{no:4,name:"guidance",kind:"message",T:()=>eg}])}create(e){let t={scaledStep:0};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.scaledStep=e.float();break;case 2:i.sampler=Km.internalBinaryRead(e,e.uint32(),n,i.sampler);break;case 3:i.schedule=Xm.internalBinaryRead(e,e.uint32(),n,i.schedule);break;case 4:i.guidance=eg.internalBinaryRead(e,e.uint32(),n,i.guidance);break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.scaledStep!==0&&t.tag(1,U.Bit32).float(e.scaledStep),e.sampler&&Km.internalBinaryWrite(e.sampler,t.tag(2,U.LengthDelimited).fork(),n).join(),e.schedule&&Xm.internalBinaryWrite(e.schedule,t.tag(3,U.LengthDelimited).fork(),n).join(),e.guidance&&eg.internalBinaryWrite(e.guidance,t.tag(4,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Qm=new lre,ure=class extends Be{constructor(){super("gooseai.Model",[{no:1,name:"architecture",kind:"enum",T:()=>["gooseai.ModelArchitecture",r_,"MODEL_ARCHITECTURE_"]},{no:2,name:"publisher",kind:"scalar",T:9},{no:3,name:"dataset",kind:"scalar",T:9},{no:4,name:"version",kind:"scalar",T:2},{no:5,name:"semantic_version",kind:"scalar",T:9},{no:6,name:"alias",kind:"scalar",T:9}])}create(e){let t={architecture:0,publisher:"",dataset:"",version:0,semanticVersion:"",alias:""};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.architecture=e.int32();break;case 2:i.publisher=e.string();break;case 3:i.dataset=e.string();break;case 4:i.version=e.float();break;case 5:i.semanticVersion=e.string();break;case 6:i.alias=e.string();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.architecture!==0&&t.tag(1,U.Varint).int32(e.architecture),e.publisher!==""&&t.tag(2,U.LengthDelimited).string(e.publisher),e.dataset!==""&&t.tag(3,U.LengthDelimited).string(e.dataset),e.version!==0&&t.tag(4,U.Bit32).float(e.version),e.semanticVersion!==""&&t.tag(5,U.LengthDelimited).string(e.semanticVersion),e.alias!==""&&t.tag(6,U.LengthDelimited).string(e.alias);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Zo=new ure,cre=class extends Be{constructor(){super("gooseai.CutoutParameters",[{no:1,name:"cutouts",kind:"message",repeat:1,T:()=>Jo},{no:2,name:"count",kind:"scalar",opt:!0,T:13},{no:3,name:"gray",kind:"scalar",opt:!0,T:2},{no:4,name:"blur",kind:"scalar",opt:!0,T:2},{no:5,name:"size_power",kind:"scalar",opt:!0,T:2}])}create(e){let t={cutouts:[]};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.cutouts.push(Jo.internalBinaryRead(e,e.uint32(),n));break;case 2:i.count=e.uint32();break;case 3:i.gray=e.float();break;case 4:i.blur=e.float();break;case 5:i.sizePower=e.float();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){for(let i=0;i<e.cutouts.length;i++)Jo.internalBinaryWrite(e.cutouts[i],t.tag(1,U.LengthDelimited).fork(),n).join();e.count!==void 0&&t.tag(2,U.Varint).uint32(e.count),e.gray!==void 0&&t.tag(3,U.Bit32).float(e.gray),e.blur!==void 0&&t.tag(4,U.Bit32).float(e.blur),e.sizePower!==void 0&&t.tag(5,U.Bit32).float(e.sizePower);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Jo=new cre,dre=class extends Be{constructor(){super("gooseai.GuidanceScheduleParameters",[{no:1,name:"duration",kind:"scalar",T:2},{no:2,name:"value",kind:"scalar",T:2}])}create(e){let t={duration:0,value:0};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.duration=e.float();break;case 2:i.value=e.float();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.duration!==0&&t.tag(1,U.Bit32).float(e.duration),e.value!==0&&t.tag(2,U.Bit32).float(e.value);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Zm=new dre,hre=class extends Be{constructor(){super("gooseai.GuidanceInstanceParameters",[{no:2,name:"models",kind:"message",repeat:1,T:()=>Zo},{no:3,name:"guidance_strength",kind:"scalar",opt:!0,T:2},{no:4,name:"schedule",kind:"message",repeat:1,T:()=>Zm},{no:5,name:"cutouts",kind:"message",T:()=>Jo},{no:6,name:"prompt",kind:"message",T:()=>Qo}])}create(e){let t={models:[],schedule:[]};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 2:i.models.push(Zo.internalBinaryRead(e,e.uint32(),n));break;case 3:i.guidanceStrength=e.float();break;case 4:i.schedule.push(Zm.internalBinaryRead(e,e.uint32(),n));break;case 5:i.cutouts=Jo.internalBinaryRead(e,e.uint32(),n,i.cutouts);break;case 6:i.prompt=Qo.internalBinaryRead(e,e.uint32(),n,i.prompt);break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){for(let i=0;i<e.models.length;i++)Zo.internalBinaryWrite(e.models[i],t.tag(2,U.LengthDelimited).fork(),n).join();e.guidanceStrength!==void 0&&t.tag(3,U.Bit32).float(e.guidanceStrength);for(let i=0;i<e.schedule.length;i++)Zm.internalBinaryWrite(e.schedule[i],t.tag(4,U.LengthDelimited).fork(),n).join();e.cutouts&&Jo.internalBinaryWrite(e.cutouts,t.tag(5,U.LengthDelimited).fork(),n).join(),e.prompt&&Qo.internalBinaryWrite(e.prompt,t.tag(6,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Jm=new hre,fre=class extends Be{constructor(){super("gooseai.GuidanceParameters",[{no:1,name:"guidance_preset",kind:"enum",T:()=>["gooseai.GuidancePreset",n_,"GUIDANCE_PRESET_"]},{no:2,name:"instances",kind:"message",repeat:1,T:()=>Jm}])}create(e){let t={guidancePreset:0,instances:[]};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.guidancePreset=e.int32();break;case 2:i.instances.push(Jm.internalBinaryRead(e,e.uint32(),n));break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.guidancePreset!==0&&t.tag(1,U.Varint).int32(e.guidancePreset);for(let i=0;i<e.instances.length;i++)Jm.internalBinaryWrite(e.instances[i],t.tag(2,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},eg=new fre,pre=class extends Be{constructor(){super("gooseai.TransformType",[{no:1,name:"diffusion",kind:"enum",oneof:"type",T:()=>["gooseai.DiffusionSampler",e_]},{no:2,name:"upscaler",kind:"enum",oneof:"type",T:()=>["gooseai.Upscaler",t_,"UPSCALER_"]}])}create(e){let t={type:{oneofKind:void 0}};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.type={oneofKind:"diffusion",diffusion:e.int32()};break;case 2:i.type={oneofKind:"upscaler",upscaler:e.int32()};break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.type.oneofKind==="diffusion"&&t.tag(1,U.Varint).int32(e.type.diffusion),e.type.oneofKind==="upscaler"&&t.tag(2,U.Varint).int32(e.type.upscaler);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},tg=new pre,mre=class extends Be{constructor(){super("gooseai.ImageParameters",[{no:1,name:"height",kind:"scalar",opt:!0,T:4,L:0},{no:2,name:"width",kind:"scalar",opt:!0,T:4,L:0},{no:3,name:"seed",kind:"scalar",repeat:1,T:13},{no:4,name:"samples",kind:"scalar",opt:!0,T:4,L:0},{no:5,name:"steps",kind:"scalar",opt:!0,T:4,L:0},{no:6,name:"transform",kind:"message",T:()=>tg},{no:7,name:"parameters",kind:"message",repeat:1,T:()=>Qm},{no:8,name:"masked_area_init",kind:"enum",opt:!0,T:()=>["gooseai.MaskedAreaInit",ZC,"MASKED_AREA_INIT_"]},{no:9,name:"weight_method",kind:"enum",opt:!0,T:()=>["gooseai.WeightMethod",JC]},{no:10,name:"quantize",kind:"scalar",opt:!0,T:8}])}create(e){let t={seed:[],parameters:[]};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.height=e.uint64().toBigInt();break;case 2:i.width=e.uint64().toBigInt();break;case 3:if(o===U.LengthDelimited)for(let c=e.int32()+e.pos;e.pos<c;)i.seed.push(e.uint32());else i.seed.push(e.uint32());break;case 4:i.samples=e.uint64().toBigInt();break;case 5:i.steps=e.uint64().toBigInt();break;case 6:i.transform=tg.internalBinaryRead(e,e.uint32(),n,i.transform);break;case 7:i.parameters.push(Qm.internalBinaryRead(e,e.uint32(),n));break;case 8:i.maskedAreaInit=e.int32();break;case 9:i.weightMethod=e.int32();break;case 10:i.quantize=e.bool();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){if(e.height!==void 0&&t.tag(1,U.Varint).uint64(e.height),e.width!==void 0&&t.tag(2,U.Varint).uint64(e.width),e.seed.length){t.tag(3,U.LengthDelimited).fork();for(let i=0;i<e.seed.length;i++)t.uint32(e.seed[i]);t.join()}e.samples!==void 0&&t.tag(4,U.Varint).uint64(e.samples),e.steps!==void 0&&t.tag(5,U.Varint).uint64(e.steps),e.transform&&tg.internalBinaryWrite(e.transform,t.tag(6,U.LengthDelimited).fork(),n).join();for(let i=0;i<e.parameters.length;i++)Qm.internalBinaryWrite(e.parameters[i],t.tag(7,U.LengthDelimited).fork(),n).join();e.maskedAreaInit!==void 0&&t.tag(8,U.Varint).int32(e.maskedAreaInit),e.weightMethod!==void 0&&t.tag(9,U.Varint).int32(e.weightMethod),e.quantize!==void 0&&t.tag(10,U.Varint).bool(e.quantize);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},ng=new mre,gre=class extends Be{constructor(){super("gooseai.ClassifierConcept",[{no:1,name:"concept",kind:"scalar",T:9},{no:2,name:"threshold",kind:"scalar",opt:!0,T:2}])}create(e){let t={concept:""};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.concept=e.string();break;case 2:i.threshold=e.float();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.concept!==""&&t.tag(1,U.LengthDelimited).string(e.concept),e.threshold!==void 0&&t.tag(2,U.Bit32).float(e.threshold);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},rg=new gre,yre=class extends Be{constructor(){super("gooseai.ClassifierCategory",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"concepts",kind:"message",repeat:1,T:()=>rg},{no:3,name:"adjustment",kind:"scalar",opt:!0,T:2},{no:4,name:"action",kind:"enum",opt:!0,T:()=>["gooseai.Action",dv,"ACTION_"]},{no:5,name:"classifier_mode",kind:"enum",opt:!0,T:()=>["gooseai.ClassifierMode",i_]}])}create(e){let t={name:"",concepts:[]};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.name=e.string();break;case 2:i.concepts.push(rg.internalBinaryRead(e,e.uint32(),n));break;case 3:i.adjustment=e.float();break;case 4:i.action=e.int32();break;case 5:i.classifierMode=e.int32();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.name!==""&&t.tag(1,U.LengthDelimited).string(e.name);for(let i=0;i<e.concepts.length;i++)rg.internalBinaryWrite(e.concepts[i],t.tag(2,U.LengthDelimited).fork(),n).join();e.adjustment!==void 0&&t.tag(3,U.Bit32).float(e.adjustment),e.action!==void 0&&t.tag(4,U.Varint).int32(e.action),e.classifierMode!==void 0&&t.tag(5,U.Varint).int32(e.classifierMode);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Do=new yre,vre=class extends Be{constructor(){super("gooseai.ClassifierParameters",[{no:1,name:"categories",kind:"message",repeat:1,T:()=>Do},{no:2,name:"exceeds",kind:"message",repeat:1,T:()=>Do},{no:3,name:"realized_action",kind:"enum",opt:!0,T:()=>["gooseai.Action",dv,"ACTION_"]}])}create(e){let t={categories:[],exceeds:[]};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.categories.push(Do.internalBinaryRead(e,e.uint32(),n));break;case 2:i.exceeds.push(Do.internalBinaryRead(e,e.uint32(),n));break;case 3:i.realizedAction=e.int32();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){for(let i=0;i<e.categories.length;i++)Do.internalBinaryWrite(e.categories[i],t.tag(1,U.LengthDelimited).fork(),n).join();for(let i=0;i<e.exceeds.length;i++)Do.internalBinaryWrite(e.exceeds[i],t.tag(2,U.LengthDelimited).fork(),n).join();e.realizedAction!==void 0&&t.tag(3,U.Varint).int32(e.realizedAction);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},el=new vre,wre=class extends Be{constructor(){super("gooseai.InterpolateParameters",[{no:1,name:"ratios",kind:"scalar",repeat:1,T:2},{no:2,name:"mode",kind:"enum",opt:!0,T:()=>["gooseai.InterpolateMode",a_]}])}create(e){let t={ratios:[]};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:if(o===U.LengthDelimited)for(let c=e.int32()+e.pos;e.pos<c;)i.ratios.push(e.float());else i.ratios.push(e.float());break;case 2:i.mode=e.int32();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){if(e.ratios.length){t.tag(1,U.LengthDelimited).fork();for(let i=0;i<e.ratios.length;i++)t.float(e.ratios[i]);t.join()}e.mode!==void 0&&t.tag(2,U.Varint).int32(e.mode);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},ig=new wre,bre=class extends Be{constructor(){super("gooseai.TransformColorAdjust",[{no:1,name:"brightness",kind:"scalar",opt:!0,T:2},{no:2,name:"contrast",kind:"scalar",opt:!0,T:2},{no:3,name:"hue",kind:"scalar",opt:!0,T:2},{no:4,name:"saturation",kind:"scalar",opt:!0,T:2},{no:5,name:"lightness",kind:"scalar",opt:!0,T:2},{no:6,name:"match_image",kind:"message",T:()=>_a},{no:7,name:"match_mode",kind:"enum",opt:!0,T:()=>["gooseai.ColorMatchMode",o_]},{no:8,name:"noise_amount",kind:"scalar",opt:!0,T:2},{no:9,name:"noise_seed",kind:"scalar",opt:!0,T:13}])}create(e){let t={};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.brightness=e.float();break;case 2:i.contrast=e.float();break;case 3:i.hue=e.float();break;case 4:i.saturation=e.float();break;case 5:i.lightness=e.float();break;case 6:i.matchImage=_a.internalBinaryRead(e,e.uint32(),n,i.matchImage);break;case 7:i.matchMode=e.int32();break;case 8:i.noiseAmount=e.float();break;case 9:i.noiseSeed=e.uint32();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.brightness!==void 0&&t.tag(1,U.Bit32).float(e.brightness),e.contrast!==void 0&&t.tag(2,U.Bit32).float(e.contrast),e.hue!==void 0&&t.tag(3,U.Bit32).float(e.hue),e.saturation!==void 0&&t.tag(4,U.Bit32).float(e.saturation),e.lightness!==void 0&&t.tag(5,U.Bit32).float(e.lightness),e.matchImage&&_a.internalBinaryWrite(e.matchImage,t.tag(6,U.LengthDelimited).fork(),n).join(),e.matchMode!==void 0&&t.tag(7,U.Varint).int32(e.matchMode),e.noiseAmount!==void 0&&t.tag(8,U.Bit32).float(e.noiseAmount),e.noiseSeed!==void 0&&t.tag(9,U.Varint).uint32(e.noiseSeed);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},ag=new bre,xre=class extends Be{constructor(){super("gooseai.TransformDepthCalc",[{no:1,name:"blend_weight",kind:"scalar",opt:!0,T:2},{no:2,name:"blur_radius",kind:"scalar",opt:!0,T:13},{no:3,name:"reverse",kind:"scalar",opt:!0,T:8}])}create(e){let t={};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.blendWeight=e.float();break;case 2:i.blurRadius=e.uint32();break;case 3:i.reverse=e.bool();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.blendWeight!==void 0&&t.tag(1,U.Bit32).float(e.blendWeight),e.blurRadius!==void 0&&t.tag(2,U.Varint).uint32(e.blurRadius),e.reverse!==void 0&&t.tag(3,U.Varint).bool(e.reverse);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},sg=new xre,kre=class extends Be{constructor(){super("gooseai.TransformMatrix",[{no:1,name:"data",kind:"scalar",repeat:1,T:2}])}create(e){let t={data:[]};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:if(o===U.LengthDelimited)for(let c=e.int32()+e.pos;e.pos<c;)i.data.push(e.float());else i.data.push(e.float());break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){if(e.data.length){t.tag(1,U.LengthDelimited).fork();for(let i=0;i<e.data.length;i++)t.float(e.data[i]);t.join()}let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},ya=new kre,Sre=class extends Be{constructor(){super("gooseai.TransformResample",[{no:1,name:"border_mode",kind:"enum",T:()=>["gooseai.BorderMode",s_]},{no:2,name:"transform",kind:"message",T:()=>ya},{no:3,name:"prev_transform",kind:"message",T:()=>ya},{no:4,name:"depth_warp",kind:"scalar",opt:!0,T:2},{no:5,name:"export_mask",kind:"scalar",opt:!0,T:8}])}create(e){let t={borderMode:0};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.borderMode=e.int32();break;case 2:i.transform=ya.internalBinaryRead(e,e.uint32(),n,i.transform);break;case 3:i.prevTransform=ya.internalBinaryRead(e,e.uint32(),n,i.prevTransform);break;case 4:i.depthWarp=e.float();break;case 5:i.exportMask=e.bool();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.borderMode!==0&&t.tag(1,U.Varint).int32(e.borderMode),e.transform&&ya.internalBinaryWrite(e.transform,t.tag(2,U.LengthDelimited).fork(),n).join(),e.prevTransform&&ya.internalBinaryWrite(e.prevTransform,t.tag(3,U.LengthDelimited).fork(),n).join(),e.depthWarp!==void 0&&t.tag(4,U.Bit32).float(e.depthWarp),e.exportMask!==void 0&&t.tag(5,U.Varint).bool(e.exportMask);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},og=new Sre,Ere=class extends Be{constructor(){super("gooseai.CameraParameters",[{no:1,name:"camera_type",kind:"enum",T:()=>["gooseai.CameraType",l_]},{no:2,name:"near_plane",kind:"scalar",T:2},{no:3,name:"far_plane",kind:"scalar",T:2},{no:4,name:"fov",kind:"scalar",opt:!0,T:2}])}create(e){let t={cameraType:0,nearPlane:0,farPlane:0};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.cameraType=e.int32();break;case 2:i.nearPlane=e.float();break;case 3:i.farPlane=e.float();break;case 4:i.fov=e.float();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.cameraType!==0&&t.tag(1,U.Varint).int32(e.cameraType),e.nearPlane!==0&&t.tag(2,U.Bit32).float(e.nearPlane),e.farPlane!==0&&t.tag(3,U.Bit32).float(e.farPlane),e.fov!==void 0&&t.tag(4,U.Bit32).float(e.fov);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},lg=new Ere,Cre=class extends Be{constructor(){super("gooseai.TransformCameraPose",[{no:1,name:"world_to_view_matrix",kind:"message",T:()=>ya},{no:2,name:"camera_parameters",kind:"message",T:()=>lg},{no:5,name:"do_prefill",kind:"scalar",T:8},{no:8,name:"render_mode",kind:"enum",T:()=>["gooseai.RenderMode",u_]}])}create(e){let t={doPrefill:!1,renderMode:0};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.worldToViewMatrix=ya.internalBinaryRead(e,e.uint32(),n,i.worldToViewMatrix);break;case 2:i.cameraParameters=lg.internalBinaryRead(e,e.uint32(),n,i.cameraParameters);break;case 5:i.doPrefill=e.bool();break;case 8:i.renderMode=e.int32();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.worldToViewMatrix&&ya.internalBinaryWrite(e.worldToViewMatrix,t.tag(1,U.LengthDelimited).fork(),n).join(),e.cameraParameters&&lg.internalBinaryWrite(e.cameraParameters,t.tag(2,U.LengthDelimited).fork(),n).join(),e.doPrefill!==!1&&t.tag(5,U.Varint).bool(e.doPrefill),e.renderMode!==0&&t.tag(8,U.Varint).int32(e.renderMode);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},ug=new Cre,_re=class extends Be{constructor(){super("gooseai.TransformParameters",[{no:2,name:"color_adjust",kind:"message",oneof:"transform",T:()=>ag},{no:4,name:"depth_calc",kind:"message",oneof:"transform",T:()=>sg},{no:5,name:"resample",kind:"message",oneof:"transform",T:()=>og},{no:6,name:"camera_pose",kind:"message",oneof:"transform",T:()=>ug}])}create(e){let t={transform:{oneofKind:void 0}};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 2:i.transform={oneofKind:"colorAdjust",colorAdjust:ag.internalBinaryRead(e,e.uint32(),n,i.transform.colorAdjust)};break;case 4:i.transform={oneofKind:"depthCalc",depthCalc:sg.internalBinaryRead(e,e.uint32(),n,i.transform.depthCalc)};break;case 5:i.transform={oneofKind:"resample",resample:og.internalBinaryRead(e,e.uint32(),n,i.transform.resample)};break;case 6:i.transform={oneofKind:"cameraPose",cameraPose:ug.internalBinaryRead(e,e.uint32(),n,i.transform.cameraPose)};break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.transform.oneofKind==="colorAdjust"&&ag.internalBinaryWrite(e.transform.colorAdjust,t.tag(2,U.LengthDelimited).fork(),n).join(),e.transform.oneofKind==="depthCalc"&&sg.internalBinaryWrite(e.transform.depthCalc,t.tag(4,U.LengthDelimited).fork(),n).join(),e.transform.oneofKind==="resample"&&og.internalBinaryWrite(e.transform.resample,t.tag(5,U.LengthDelimited).fork(),n).join(),e.transform.oneofKind==="cameraPose"&&ug.internalBinaryWrite(e.transform.cameraPose,t.tag(6,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},cg=new _re,Tre=class extends Be{constructor(){super("gooseai.AssetParameters",[{no:1,name:"action",kind:"enum",T:()=>["gooseai.AssetAction",c_]},{no:2,name:"project_id",kind:"scalar",T:9},{no:3,name:"use",kind:"enum",T:()=>["gooseai.AssetUse",d_,"ASSET_USE_"]}])}create(e){let t={action:0,projectId:"",use:0};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.action=e.int32();break;case 2:i.projectId=e.string();break;case 3:i.use=e.int32();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.action!==0&&t.tag(1,U.Varint).int32(e.action),e.projectId!==""&&t.tag(2,U.LengthDelimited).string(e.projectId),e.use!==0&&t.tag(3,U.Varint).int32(e.use);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},dg=new Tre,Ire=class extends Be{constructor(){super("gooseai.AnswerMeta",[{no:1,name:"gpu_id",kind:"scalar",opt:!0,T:9},{no:2,name:"cpu_id",kind:"scalar",opt:!0,T:9},{no:3,name:"node_id",kind:"scalar",opt:!0,T:9},{no:4,name:"engine_id",kind:"scalar",opt:!0,T:9}])}create(e){let t={};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.gpuId=e.string();break;case 2:i.cpuId=e.string();break;case 3:i.nodeId=e.string();break;case 4:i.engineId=e.string();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.gpuId!==void 0&&t.tag(1,U.LengthDelimited).string(e.gpuId),e.cpuId!==void 0&&t.tag(2,U.LengthDelimited).string(e.cpuId),e.nodeId!==void 0&&t.tag(3,U.LengthDelimited).string(e.nodeId),e.engineId!==void 0&&t.tag(4,U.LengthDelimited).string(e.engineId);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},hg=new Ire,Pre=class extends Be{constructor(){super("gooseai.Answer",[{no:1,name:"answer_id",kind:"scalar",T:9},{no:2,name:"request_id",kind:"scalar",T:9},{no:3,name:"received",kind:"scalar",T:4,L:0},{no:4,name:"created",kind:"scalar",T:4,L:0},{no:6,name:"meta",kind:"message",T:()=>hg},{no:7,name:"artifacts",kind:"message",repeat:1,T:()=>_a}])}create(e){let t={answerId:"",requestId:"",received:0n,created:0n,artifacts:[]};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.answerId=e.string();break;case 2:i.requestId=e.string();break;case 3:i.received=e.uint64().toBigInt();break;case 4:i.created=e.uint64().toBigInt();break;case 6:i.meta=hg.internalBinaryRead(e,e.uint32(),n,i.meta);break;case 7:i.artifacts.push(_a.internalBinaryRead(e,e.uint32(),n));break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.answerId!==""&&t.tag(1,U.LengthDelimited).string(e.answerId),e.requestId!==""&&t.tag(2,U.LengthDelimited).string(e.requestId),e.received!==0n&&t.tag(3,U.Varint).uint64(e.received),e.created!==0n&&t.tag(4,U.Varint).uint64(e.created),e.meta&&hg.internalBinaryWrite(e.meta,t.tag(6,U.LengthDelimited).fork(),n).join();for(let i=0;i<e.artifacts.length;i++)_a.internalBinaryWrite(e.artifacts[i],t.tag(7,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Nu=new Pre,Rre=class extends Be{constructor(){super("gooseai.AnswerBatch",[{no:1,name:"batch_id",kind:"scalar",T:9},{no:2,name:"answers",kind:"message",repeat:1,T:()=>Nu}])}create(e){let t={batchId:"",answers:[]};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.batchId=e.string();break;case 2:i.answers.push(Nu.internalBinaryRead(e,e.uint32(),n));break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.batchId!==""&&t.tag(1,U.LengthDelimited).string(e.batchId);for(let i=0;i<e.answers.length;i++)Nu.internalBinaryWrite(e.answers[i],t.tag(2,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Are=new Rre,Nre=class extends Be{constructor(){super("gooseai.Request",[{no:1,name:"engine_id",kind:"scalar",T:9},{no:2,name:"request_id",kind:"scalar",T:9},{no:3,name:"requested_type",kind:"enum",T:()=>["gooseai.ArtifactType",cv]},{no:4,name:"prompt",kind:"message",repeat:1,T:()=>Qo},{no:5,name:"image",kind:"message",oneof:"params",T:()=>ng},{no:7,name:"classifier",kind:"message",oneof:"params",T:()=>el},{no:8,name:"asset",kind:"message",oneof:"params",T:()=>dg},{no:11,name:"interpolate",kind:"message",oneof:"params",T:()=>ig},{no:12,name:"transform",kind:"message",oneof:"params",T:()=>cg},{no:6,name:"conditioner",kind:"message",T:()=>Ym},{no:2047,name:"extras",kind:"message",T:()=>Wa}])}create(e){let t={engineId:"",requestId:"",requestedType:0,prompt:[],params:{oneofKind:void 0}};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.engineId=e.string();break;case 2:i.requestId=e.string();break;case 3:i.requestedType=e.int32();break;case 4:i.prompt.push(Qo.internalBinaryRead(e,e.uint32(),n));break;case 5:i.params={oneofKind:"image",image:ng.internalBinaryRead(e,e.uint32(),n,i.params.image)};break;case 7:i.params={oneofKind:"classifier",classifier:el.internalBinaryRead(e,e.uint32(),n,i.params.classifier)};break;case 8:i.params={oneofKind:"asset",asset:dg.internalBinaryRead(e,e.uint32(),n,i.params.asset)};break;case 11:i.params={oneofKind:"interpolate",interpolate:ig.internalBinaryRead(e,e.uint32(),n,i.params.interpolate)};break;case 12:i.params={oneofKind:"transform",transform:cg.internalBinaryRead(e,e.uint32(),n,i.params.transform)};break;case 6:i.conditioner=Ym.internalBinaryRead(e,e.uint32(),n,i.conditioner);break;case 2047:i.extras=Wa.internalBinaryRead(e,e.uint32(),n,i.extras);break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.engineId!==""&&t.tag(1,U.LengthDelimited).string(e.engineId),e.requestId!==""&&t.tag(2,U.LengthDelimited).string(e.requestId),e.requestedType!==0&&t.tag(3,U.Varint).int32(e.requestedType);for(let i=0;i<e.prompt.length;i++)Qo.internalBinaryWrite(e.prompt[i],t.tag(4,U.LengthDelimited).fork(),n).join();e.params.oneofKind==="image"&&ng.internalBinaryWrite(e.params.image,t.tag(5,U.LengthDelimited).fork(),n).join(),e.params.oneofKind==="classifier"&&el.internalBinaryWrite(e.params.classifier,t.tag(7,U.LengthDelimited).fork(),n).join(),e.params.oneofKind==="asset"&&dg.internalBinaryWrite(e.params.asset,t.tag(8,U.LengthDelimited).fork(),n).join(),e.params.oneofKind==="interpolate"&&ig.internalBinaryWrite(e.params.interpolate,t.tag(11,U.LengthDelimited).fork(),n).join(),e.params.oneofKind==="transform"&&cg.internalBinaryWrite(e.params.transform,t.tag(12,U.LengthDelimited).fork(),n).join(),e.conditioner&&Ym.internalBinaryWrite(e.conditioner,t.tag(6,U.LengthDelimited).fork(),n).join(),e.extras&&Wa.internalBinaryWrite(e.extras,t.tag(2047,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Ys=new Nre,Dre=class extends Be{constructor(){super("gooseai.OnStatus",[{no:1,name:"reason",kind:"enum",repeat:1,T:()=>["gooseai.FinishReason",uv]},{no:2,name:"target",kind:"scalar",opt:!0,T:9},{no:3,name:"action",kind:"enum",repeat:1,T:()=>["gooseai.StageAction",h_,"STAGE_ACTION_"]}])}create(e){let t={reason:[],action:[]};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:if(o===U.LengthDelimited)for(let c=e.int32()+e.pos;e.pos<c;)i.reason.push(e.int32());else i.reason.push(e.int32());break;case 2:i.target=e.string();break;case 3:if(o===U.LengthDelimited)for(let c=e.int32()+e.pos;e.pos<c;)i.action.push(e.int32());else i.action.push(e.int32());break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){if(e.reason.length){t.tag(1,U.LengthDelimited).fork();for(let i=0;i<e.reason.length;i++)t.int32(e.reason[i]);t.join()}if(e.target!==void 0&&t.tag(2,U.LengthDelimited).string(e.target),e.action.length){t.tag(3,U.LengthDelimited).fork();for(let i=0;i<e.action.length;i++)t.int32(e.action[i]);t.join()}let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},fg=new Dre,Ore=class extends Be{constructor(){super("gooseai.Stage",[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"request",kind:"message",T:()=>Ys},{no:3,name:"on_status",kind:"message",repeat:1,T:()=>fg}])}create(e){let t={id:"",onStatus:[]};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;case 2:i.request=Ys.internalBinaryRead(e,e.uint32(),n,i.request);break;case 3:i.onStatus.push(fg.internalBinaryRead(e,e.uint32(),n));break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id),e.request&&Ys.internalBinaryWrite(e.request,t.tag(2,U.LengthDelimited).fork(),n).join();for(let i=0;i<e.onStatus.length;i++)fg.internalBinaryWrite(e.onStatus[i],t.tag(3,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},pg=new Ore,Mre=class extends Be{constructor(){super("gooseai.ChainRequest",[{no:1,name:"request_id",kind:"scalar",T:9},{no:2,name:"stage",kind:"message",repeat:1,T:()=>pg}])}create(e){let t={requestId:"",stage:[]};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.requestId=e.string();break;case 2:i.stage.push(pg.internalBinaryRead(e,e.uint32(),n));break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.requestId!==""&&t.tag(1,U.LengthDelimited).string(e.requestId);for(let i=0;i<e.stage.length;i++)pg.internalBinaryWrite(e.stage[i],t.tag(2,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},P6=new Mre,mg=new lv("gooseai.GenerationService",[{name:"Generate",serverStreaming:!0,options:{},I:Ys,O:Nu},{name:"ChainGenerate",serverStreaming:!0,options:{},I:P6,O:Nu}]),Lre=class{constructor(t){Ut(this,"typeName",mg.typeName);Ut(this,"methods",mg.methods);Ut(this,"options",mg.options);this._transport=t}generate(t,n){let r=this.methods[0],i=this._transport.mergeOptions(n);return vi("serverStreaming",this._transport,r,i,t)}chainGenerate(t,n){let r=this.methods[1],i=this._transport.mergeOptions(n);return vi("serverStreaming",this._transport,r,i,t)}},yk={};h6(yk,{CreateProjectRequest:()=>R6,DeleteAssetsRequest:()=>j6,DeleteAssetsResponse:()=>$6,DeleteProjectRequest:()=>O6,GetProjectRequest:()=>D6,ListProjectRequest:()=>N6,Project:()=>Zl,ProjectAccess:()=>vf,ProjectAsset:()=>cr,ProjectAssetUse:()=>hv,ProjectService:()=>gg,ProjectSortDir:()=>f_,ProjectStatus:()=>wf,QueryAssetsRequest:()=>M6,QueryAssetsResponse:()=>L6,TagAssetsRequest:()=>F6,TagAssetsResponse:()=>B6,UntagAssetsRequest:()=>z6,UntagAssetsResponse:()=>U6,UpdateProjectRequest:()=>A6});var vf=(e=>(e[e.PRIVATE=0]="PRIVATE",e[e.PUBLIC=1]="PUBLIC",e))(vf||{}),wf=(e=>(e[e.INACTIVE=0]="INACTIVE",e[e.ACTIVE=1]="ACTIVE",e[e.DELETED=2]="DELETED",e))(wf||{}),hv=(e=>(e[e.UNDEFINED=0]="UNDEFINED",e[e.INPUT=1]="INPUT",e[e.OUTPUT=2]="OUTPUT",e[e.INTERMEDIATE=3]="INTERMEDIATE",e[e.PROJECT=4]="PROJECT",e))(hv||{}),f_=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.ASC=1]="ASC",e[e.DESC=2]="DESC",e))(f_||{}),Fre=class extends Be{constructor(){super("gooseai.ProjectAsset",[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"uri",kind:"scalar",T:9},{no:3,name:"use",kind:"enum",T:()=>["gooseai.ProjectAssetUse",hv,"PROJECT_ASSET_USE_"]},{no:4,name:"name",kind:"scalar",T:9},{no:5,name:"size",kind:"scalar",T:4,L:0},{no:6,name:"created_at",kind:"scalar",T:4,L:0},{no:7,name:"updated_at",kind:"scalar",T:4,L:0},{no:8,name:"request",kind:"message",T:()=>Ys},{no:9,name:"tags",kind:"map",K:9,V:{kind:"scalar",T:9}}])}create(e){let t={id:"",uri:"",use:0,name:"",size:0n,createdAt:0n,updatedAt:0n,tags:{}};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;case 2:i.uri=e.string();break;case 3:i.use=e.int32();break;case 4:i.name=e.string();break;case 5:i.size=e.uint64().toBigInt();break;case 6:i.createdAt=e.uint64().toBigInt();break;case 7:i.updatedAt=e.uint64().toBigInt();break;case 8:i.request=Ys.internalBinaryRead(e,e.uint32(),n,i.request);break;case 9:this.binaryReadMap9(i.tags,e,n);break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}binaryReadMap9(e,t,n){let r=t.uint32(),i=t.pos+r,a,s;for(;t.pos<i;){let[o,l]=t.tag();switch(o){case 1:a=t.string();break;case 2:s=t.string();break;default:throw new globalThis.Error("unknown map entry field for field gooseai.ProjectAsset.tags")}}e[a??""]=s??""}internalBinaryWrite(e,t,n){e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id),e.uri!==""&&t.tag(2,U.LengthDelimited).string(e.uri),e.use!==0&&t.tag(3,U.Varint).int32(e.use),e.name!==""&&t.tag(4,U.LengthDelimited).string(e.name),e.size!==0n&&t.tag(5,U.Varint).uint64(e.size),e.createdAt!==0n&&t.tag(6,U.Varint).uint64(e.createdAt),e.updatedAt!==0n&&t.tag(7,U.Varint).uint64(e.updatedAt),e.request&&Ys.internalBinaryWrite(e.request,t.tag(8,U.LengthDelimited).fork(),n).join();for(let i of Object.keys(e.tags))t.tag(9,U.LengthDelimited).fork().tag(1,U.LengthDelimited).string(i).tag(2,U.LengthDelimited).string(e.tags[i]).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},cr=new Fre,Bre=class extends Be{constructor(){super("gooseai.Project",[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"title",kind:"scalar",T:9},{no:3,name:"owner_id",kind:"scalar",T:9},{no:4,name:"access",kind:"enum",T:()=>["gooseai.ProjectAccess",vf,"PROJECT_ACCESS_"]},{no:5,name:"status",kind:"enum",T:()=>["gooseai.ProjectStatus",wf,"PROJECT_STATUS_"]},{no:6,name:"size",kind:"scalar",T:4,L:0},{no:7,name:"file",kind:"message",T:()=>cr},{no:8,name:"created_at",kind:"scalar",T:4,L:0},{no:9,name:"updated_at",kind:"scalar",T:4,L:0},{no:10,name:"assets",kind:"message",repeat:1,T:()=>cr}])}create(e){let t={id:"",title:"",ownerId:"",access:0,status:0,size:0n,createdAt:0n,updatedAt:0n,assets:[]};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;case 2:i.title=e.string();break;case 3:i.ownerId=e.string();break;case 4:i.access=e.int32();break;case 5:i.status=e.int32();break;case 6:i.size=e.uint64().toBigInt();break;case 7:i.file=cr.internalBinaryRead(e,e.uint32(),n,i.file);break;case 8:i.createdAt=e.uint64().toBigInt();break;case 9:i.updatedAt=e.uint64().toBigInt();break;case 10:i.assets.push(cr.internalBinaryRead(e,e.uint32(),n));break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id),e.title!==""&&t.tag(2,U.LengthDelimited).string(e.title),e.ownerId!==""&&t.tag(3,U.LengthDelimited).string(e.ownerId),e.access!==0&&t.tag(4,U.Varint).int32(e.access),e.status!==0&&t.tag(5,U.Varint).int32(e.status),e.size!==0n&&t.tag(6,U.Varint).uint64(e.size),e.file&&cr.internalBinaryWrite(e.file,t.tag(7,U.LengthDelimited).fork(),n).join(),e.createdAt!==0n&&t.tag(8,U.Varint).uint64(e.createdAt),e.updatedAt!==0n&&t.tag(9,U.Varint).uint64(e.updatedAt);for(let i=0;i<e.assets.length;i++)cr.internalBinaryWrite(e.assets[i],t.tag(10,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Zl=new Bre,zre=class extends Be{constructor(){super("gooseai.CreateProjectRequest",[{no:1,name:"title",kind:"scalar",T:9},{no:2,name:"owner_id",kind:"scalar",opt:!0,T:9},{no:3,name:"access",kind:"enum",T:()=>["gooseai.ProjectAccess",vf,"PROJECT_ACCESS_"]},{no:4,name:"status",kind:"enum",T:()=>["gooseai.ProjectStatus",wf,"PROJECT_STATUS_"]},{no:5,name:"file",kind:"message",T:()=>cr}])}create(e){let t={title:"",access:0,status:0};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.title=e.string();break;case 2:i.ownerId=e.string();break;case 3:i.access=e.int32();break;case 4:i.status=e.int32();break;case 5:i.file=cr.internalBinaryRead(e,e.uint32(),n,i.file);break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.title!==""&&t.tag(1,U.LengthDelimited).string(e.title),e.ownerId!==void 0&&t.tag(2,U.LengthDelimited).string(e.ownerId),e.access!==0&&t.tag(3,U.Varint).int32(e.access),e.status!==0&&t.tag(4,U.Varint).int32(e.status),e.file&&cr.internalBinaryWrite(e.file,t.tag(5,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},R6=new zre,Ure=class extends Be{constructor(){super("gooseai.UpdateProjectRequest",[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"owner_id",kind:"scalar",opt:!0,T:9},{no:3,name:"title",kind:"scalar",opt:!0,T:9},{no:4,name:"access",kind:"enum",opt:!0,T:()=>["gooseai.ProjectAccess",vf,"PROJECT_ACCESS_"]},{no:5,name:"status",kind:"enum",opt:!0,T:()=>["gooseai.ProjectStatus",wf,"PROJECT_STATUS_"]},{no:6,name:"file",kind:"message",T:()=>cr}])}create(e){let t={id:""};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;case 2:i.ownerId=e.string();break;case 3:i.title=e.string();break;case 4:i.access=e.int32();break;case 5:i.status=e.int32();break;case 6:i.file=cr.internalBinaryRead(e,e.uint32(),n,i.file);break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id),e.ownerId!==void 0&&t.tag(2,U.LengthDelimited).string(e.ownerId),e.title!==void 0&&t.tag(3,U.LengthDelimited).string(e.title),e.access!==void 0&&t.tag(4,U.Varint).int32(e.access),e.status!==void 0&&t.tag(5,U.Varint).int32(e.status),e.file&&cr.internalBinaryWrite(e.file,t.tag(6,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},A6=new Ure,jre=class extends Be{constructor(){super("gooseai.ListProjectRequest",[{no:1,name:"owner_id",kind:"scalar",opt:!0,T:9}])}create(e){let t={};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.ownerId=e.string();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.ownerId!==void 0&&t.tag(1,U.LengthDelimited).string(e.ownerId);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},N6=new jre,$re=class extends Be{constructor(){super("gooseai.GetProjectRequest",[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"owner_id",kind:"scalar",opt:!0,T:9}])}create(e){let t={id:""};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;case 2:i.ownerId=e.string();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id),e.ownerId!==void 0&&t.tag(2,U.LengthDelimited).string(e.ownerId);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},D6=new $re,Vre=class extends Be{constructor(){super("gooseai.DeleteProjectRequest",[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"owner_id",kind:"scalar",opt:!0,T:9}])}create(e){let t={id:""};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;case 2:i.ownerId=e.string();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id),e.ownerId!==void 0&&t.tag(2,U.LengthDelimited).string(e.ownerId);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},O6=new Vre,Wre=class extends Be{constructor(){super("gooseai.QueryAssetsRequest",[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"owner_id",kind:"scalar",opt:!0,T:9},{no:3,name:"since",kind:"scalar",opt:!0,T:4,L:0},{no:4,name:"until",kind:"scalar",opt:!0,T:4,L:0},{no:5,name:"limit",kind:"scalar",opt:!0,T:4,L:0},{no:6,name:"start_key",kind:"scalar",opt:!0,T:9},{no:7,name:"use",kind:"enum",repeat:1,T:()=>["gooseai.ProjectAssetUse",hv,"PROJECT_ASSET_USE_"]},{no:8,name:"sort_dir",kind:"enum",T:()=>["gooseai.ProjectSortDir",f_,"PROJECT_SORT_DIR_"]},{no:9,name:"tags",kind:"map",K:9,V:{kind:"scalar",T:9}}])}create(e){let t={id:"",use:[],sortDir:0,tags:{}};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;case 2:i.ownerId=e.string();break;case 3:i.since=e.uint64().toBigInt();break;case 4:i.until=e.uint64().toBigInt();break;case 5:i.limit=e.uint64().toBigInt();break;case 6:i.startKey=e.string();break;case 7:if(o===U.LengthDelimited)for(let c=e.int32()+e.pos;e.pos<c;)i.use.push(e.int32());else i.use.push(e.int32());break;case 8:i.sortDir=e.int32();break;case 9:this.binaryReadMap9(i.tags,e,n);break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}binaryReadMap9(e,t,n){let r=t.uint32(),i=t.pos+r,a,s;for(;t.pos<i;){let[o,l]=t.tag();switch(o){case 1:a=t.string();break;case 2:s=t.string();break;default:throw new globalThis.Error("unknown map entry field for field gooseai.QueryAssetsRequest.tags")}}e[a??""]=s??""}internalBinaryWrite(e,t,n){if(e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id),e.ownerId!==void 0&&t.tag(2,U.LengthDelimited).string(e.ownerId),e.since!==void 0&&t.tag(3,U.Varint).uint64(e.since),e.until!==void 0&&t.tag(4,U.Varint).uint64(e.until),e.limit!==void 0&&t.tag(5,U.Varint).uint64(e.limit),e.startKey!==void 0&&t.tag(6,U.LengthDelimited).string(e.startKey),e.use.length){t.tag(7,U.LengthDelimited).fork();for(let i=0;i<e.use.length;i++)t.int32(e.use[i]);t.join()}e.sortDir!==0&&t.tag(8,U.Varint).int32(e.sortDir);for(let i of Object.keys(e.tags))t.tag(9,U.LengthDelimited).fork().tag(1,U.LengthDelimited).string(i).tag(2,U.LengthDelimited).string(e.tags[i]).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},M6=new Wre,Gre=class extends Be{constructor(){super("gooseai.QueryAssetsResponse",[{no:1,name:"assets",kind:"message",repeat:1,T:()=>cr},{no:2,name:"last_key",kind:"scalar",opt:!0,T:9}])}create(e){let t={assets:[]};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.assets.push(cr.internalBinaryRead(e,e.uint32(),n));break;case 2:i.lastKey=e.string();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){for(let i=0;i<e.assets.length;i++)cr.internalBinaryWrite(e.assets[i],t.tag(1,U.LengthDelimited).fork(),n).join();e.lastKey!==void 0&&t.tag(2,U.LengthDelimited).string(e.lastKey);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},L6=new Gre,Hre=class extends Be{constructor(){super("gooseai.TagAssetsRequest",[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"owner_id",kind:"scalar",opt:!0,T:9},{no:3,name:"asset_ids",kind:"scalar",repeat:2,T:9},{no:4,name:"tags",kind:"map",K:9,V:{kind:"scalar",T:9}}])}create(e){let t={id:"",assetIds:[],tags:{}};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;case 2:i.ownerId=e.string();break;case 3:i.assetIds.push(e.string());break;case 4:this.binaryReadMap4(i.tags,e,n);break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}binaryReadMap4(e,t,n){let r=t.uint32(),i=t.pos+r,a,s;for(;t.pos<i;){let[o,l]=t.tag();switch(o){case 1:a=t.string();break;case 2:s=t.string();break;default:throw new globalThis.Error("unknown map entry field for field gooseai.TagAssetsRequest.tags")}}e[a??""]=s??""}internalBinaryWrite(e,t,n){e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id),e.ownerId!==void 0&&t.tag(2,U.LengthDelimited).string(e.ownerId);for(let i=0;i<e.assetIds.length;i++)t.tag(3,U.LengthDelimited).string(e.assetIds[i]);for(let i of Object.keys(e.tags))t.tag(4,U.LengthDelimited).fork().tag(1,U.LengthDelimited).string(i).tag(2,U.LengthDelimited).string(e.tags[i]).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},F6=new Hre,qre=class extends Be{constructor(){super("gooseai.TagAssetsResponse",[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"owner_id",kind:"scalar",T:9},{no:3,name:"asset_ids",kind:"scalar",repeat:2,T:9}])}create(e){let t={id:"",ownerId:"",assetIds:[]};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;case 2:i.ownerId=e.string();break;case 3:i.assetIds.push(e.string());break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id),e.ownerId!==""&&t.tag(2,U.LengthDelimited).string(e.ownerId);for(let i=0;i<e.assetIds.length;i++)t.tag(3,U.LengthDelimited).string(e.assetIds[i]);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},B6=new qre,Kre=class extends Be{constructor(){super("gooseai.UntagAssetsRequest",[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"owner_id",kind:"scalar",opt:!0,T:9},{no:3,name:"asset_ids",kind:"scalar",repeat:2,T:9},{no:4,name:"tag_keys",kind:"scalar",repeat:2,T:9}])}create(e){let t={id:"",assetIds:[],tagKeys:[]};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;case 2:i.ownerId=e.string();break;case 3:i.assetIds.push(e.string());break;case 4:i.tagKeys.push(e.string());break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id),e.ownerId!==void 0&&t.tag(2,U.LengthDelimited).string(e.ownerId);for(let i=0;i<e.assetIds.length;i++)t.tag(3,U.LengthDelimited).string(e.assetIds[i]);for(let i=0;i<e.tagKeys.length;i++)t.tag(4,U.LengthDelimited).string(e.tagKeys[i]);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},z6=new Kre,Yre=class extends Be{constructor(){super("gooseai.UntagAssetsResponse",[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"owner_id",kind:"scalar",T:9},{no:3,name:"asset_ids",kind:"scalar",repeat:2,T:9}])}create(e){let t={id:"",ownerId:"",assetIds:[]};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;case 2:i.ownerId=e.string();break;case 3:i.assetIds.push(e.string());break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id),e.ownerId!==""&&t.tag(2,U.LengthDelimited).string(e.ownerId);for(let i=0;i<e.assetIds.length;i++)t.tag(3,U.LengthDelimited).string(e.assetIds[i]);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},U6=new Yre,Xre=class extends Be{constructor(){super("gooseai.DeleteAssetsRequest",[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"owner_id",kind:"scalar",opt:!0,T:9},{no:3,name:"asset_ids",kind:"scalar",repeat:2,T:9}])}create(e){let t={id:"",assetIds:[]};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;case 2:i.ownerId=e.string();break;case 3:i.assetIds.push(e.string());break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id),e.ownerId!==void 0&&t.tag(2,U.LengthDelimited).string(e.ownerId);for(let i=0;i<e.assetIds.length;i++)t.tag(3,U.LengthDelimited).string(e.assetIds[i]);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},j6=new Xre,Qre=class extends Be{constructor(){super("gooseai.DeleteAssetsResponse",[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"owner_id",kind:"scalar",T:9},{no:3,name:"asset_ids",kind:"scalar",repeat:2,T:9}])}create(e){let t={id:"",ownerId:"",assetIds:[]};return globalThis.Object.defineProperty(t,Fe,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;case 2:i.ownerId=e.string();break;case 3:i.assetIds.push(e.string());break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id),e.ownerId!==""&&t.tag(2,U.LengthDelimited).string(e.ownerId);for(let i=0;i<e.assetIds.length;i++)t.tag(3,U.LengthDelimited).string(e.assetIds[i]);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},$6=new Qre,gg=new lv("gooseai.ProjectService",[{name:"Create",options:{},I:R6,O:Zl},{name:"Update",options:{},I:A6,O:Zl},{name:"List",serverStreaming:!0,options:{},I:N6,O:Zl},{name:"Get",options:{},I:D6,O:Zl},{name:"Delete",options:{},I:O6,O:Zl},{name:"TagAssets",options:{},I:F6,O:B6},{name:"UntagAssets",options:{},I:z6,O:U6},{name:"QueryAssets",options:{},I:M6,O:L6},{name:"DeleteAssets",options:{},I:j6,O:$6}]),Zre=class{constructor(t){Ut(this,"typeName",gg.typeName);Ut(this,"methods",gg.methods);Ut(this,"options",gg.options);this._transport=t}create(t,n){let r=this.methods[0],i=this._transport.mergeOptions(n);return vi("unary",this._transport,r,i,t)}update(t,n){let r=this.methods[1],i=this._transport.mergeOptions(n);return vi("unary",this._transport,r,i,t)}list(t,n){let r=this.methods[2],i=this._transport.mergeOptions(n);return vi("serverStreaming",this._transport,r,i,t)}get(t,n){let r=this.methods[3],i=this._transport.mergeOptions(n);return vi("unary",this._transport,r,i,t)}delete(t,n){let r=this.methods[4],i=this._transport.mergeOptions(n);return vi("unary",this._transport,r,i,t)}tagAssets(t,n){let r=this.methods[5],i=this._transport.mergeOptions(n);return vi("unary",this._transport,r,i,t)}untagAssets(t,n){let r=this.methods[6],i=this._transport.mergeOptions(n);return vi("unary",this._transport,r,i,t)}queryAssets(t,n){let r=this.methods[7],i=this._transport.mergeOptions(n);return vi("unary",this._transport,r,i,t)}deleteAssets(t,n){let r=this.methods[8],i=this._transport.mergeOptions(n);return vi("unary",this._transport,r,i,t)}},HP=()=>4,qP=e=>({prompts:[{text:e,weight:1},{text:"",weight:-.75}],model:"stable-diffusion-xl-beta-v2-2-2",sampler:{id:"0",name:"DDIM"},style:"enhance",width:512,height:512,cfgScale:7,steps:50}),Jre=tne(({context:e,set:t})=>{let n=r=>{if(!r)return{createStableDiffusionImages:void 0,getStableDiffusionExistingImages:void 0,getStableDiffusionModels:void 0,deleteStableDiffusionImages:void 0,getStatus:()=>({indicator:"error",text:"Missing API key"})};let i=new Jte({baseUrl:"https://grpc.stability.ai",meta:{Authorization:`Bearer ${r}`,"stability-client-id":"StableStudio","stability-client-version":e.getGitHash()}}),a=new Lre(i),s=new qne(i),o=new Zre(i);return{createStableDiffusionImages:async l=>{let u=l?.count??HP(),c=qP(e.getStableDiffusionRandomPrompt()),h={...c,...l?.input},p=h.width??c.width,m=h.height??c.height,g=h.prompts?.map(({text:T=e.getStableDiffusionRandomPrompt(),weight:P})=>on.Prompt.create({prompt:{oneofKind:"text",text:T},parameters:{weight:P}}))??[];h.maskImage?.blob&&g.push(on.Prompt.create({parameters:{init:!1,weight:1},prompt:{oneofKind:"artifact",artifact:on.Artifact.create({type:on.ArtifactType.ARTIFACT_MASK,mime:"image/png",data:{oneofKind:"binary",binary:new Uint8Array(await h.maskImage.blob.arrayBuffer())}})}})),h.initialImage?.blob&&g.push(on.Prompt.create({parameters:{init:!0,weight:h.initialImage.weight},prompt:{oneofKind:"artifact",artifact:on.Artifact.create({type:on.ArtifactType.ARTIFACT_IMAGE,mime:"image/png",data:{oneofKind:"binary",binary:new Uint8Array(await h.initialImage.blob.arrayBuffer())}})}})),console.log(h.sampler.id?parseInt(h.sampler.id):0);let y=on.ImageParameters.create({width:BigInt(p),height:BigInt(m),steps:BigInt(h.steps),samples:BigInt(u),seed:Array.from({length:u},()=>h.seed??0),transform:on.TransformType.create({type:{oneofKind:"diffusion",diffusion:h.sampler.id?parseInt(h.sampler.id):0}}),parameters:[on.StepParameter.create({sampler:on.SamplerParameters.create({cfgScale:h.cfgScale}),scaledStep:0,schedule:on.ScheduleParameters.create({start:h.initialImage?1-(h.initialImage.weight??0):1})})]}),b=(h.style||h.width!==h.height)&&{extras:Wa.fromJson({$IPC:{preset:h.style,...h.width!==h.height&&{mode:"multistage"}}})},v=a.chainGenerate({requestId:"",stage:[{id:"Main",request:on.Request.create({prompt:g,engineId:h.model,requestedType:on.ArtifactType.ARTIFACT_IMAGE,params:{oneofKind:"image",image:y},...b}),onStatus:[{target:"Asset",reason:[],action:[on.StageAction.PASS,on.StageAction.RETURN]}]},{id:"Asset",request:on.Request.create({engineId:"asset-service",params:{oneofKind:"asset",asset:{projectId:"",action:on.AssetAction.ASSET_PUT,use:on.AssetUse.OUTPUT}}}),onStatus:[{action:[on.StageAction.RETURN],reason:[]}]}]}),x,k=[];for await(let T of v.responses)for(let P of T.artifacts){if(P.type===on.ArtifactType.ARTIFACT_TEXT&&P.finishReason===on.FinishReason.FILTER)throw new jt("Banned word detected!","BANNED_TERM");P.type===on.ArtifactType.ARTIFACT_IMAGE&&P.data.oneofKind==="binary"&&(x=T.requestId,k.push({input:{...h,seed:P.seed},id:P.uuid,blob:new Blob([P.data.binary],{type:"image/png"})}))}return x?{id:x,images:k}:void 0},getStableDiffusionExistingImages:async l=>{let{limit:u,exclusiveStartImageID:c}={limit:25,...l};if(u<=0)return[];let{response:h}=await o.queryAssets({id:"",limit:BigInt(u),startKey:c,use:[yk.ProjectAssetUse.OUTPUT],sortDir:yk.ProjectSortDir.DESC,tags:{}}),p=h.assets.reduce((m,g)=>{if(!g.request||g.request.params.oneofKind!=="image")return m;let y=g.request.prompt.reduce(($,O)=>O.prompt.oneofKind!=="artifact"||O.prompt.artifact.data.oneofKind!=="text"?$:[...$,{text:O.prompt.artifact.data.text,weight:O.parameters?.weight??1}],[]);if(y.length===0)return m;let b=g.request.requestId.split(":")[0];if(!b)return m;let v=g.id,x=new Date(Number(g.createdAt)*1e3),k=g.request.engineId,T=yg(g.request.extras?.fields).$IPC?.preset,P=g.request.params.image.width?Number(g.request.params.image.width):void 0,R=g.request.params.image.height?Number(g.request.params.image.height):void 0,N=g.request.params.image.parameters.reduce(($,O)=>O.sampler?.cfgScale?Number(O.sampler.cfgScale):void 0,void 0),B=g.request.params.image.steps?Number(g.request.params.image.steps):void 0,j=g.request.params.image.seed[0]?Number(g.request.params.image.seed[0]):void 0,W={prompts:y,model:k,style:T,width:P,height:R,cfgScale:N,steps:B,seed:j},H=g.uri?.replace("https://object.lga1.coreweave.com/stability-staging-assets","https://staging-cdn.stability.ai/assets")?.replace("https://object.lga1.coreweave.com/stability-assets","https://cdn.stability.ai/assets"),z={id:v,createdAt:x,input:W,blob:fetch(H).then($=>$.blob())};return{...m,[b]:{...m[b],...c===v&&{exclusiveStartImageID:v},images:[...m[b]?.images??[],z],id:b}}},{});return Promise.all(Object.values(p).map(async({id:m,images:g})=>({id:m,images:await Promise.all(g?.map(async({blob:y,...b})=>({...b,blob:await y}))),exclusiveStartImageID:g?.[g.length-1]?.id})))},getStableDiffusionModels:async()=>(await(await s.listEngines({})).response.engine).filter(l=>l.type===1&&l.ready),deleteStableDiffusionImages:async l=>{let u=l?.imageIDs;u&&await o.deleteAssets({id:"",assetIds:u})},getStatus:()=>({indicator:"success",text:"Ready"})}};return{...n(localStorage.getItem("stability-apiKey")??void 0),getStableDiffusionSamplers:()=>[{id:"0",name:"DDIM"},{id:"1",name:"DDPM"},{id:"2",name:"K Euler"},{id:"3",name:"K Euler Ancestral"},{id:"4",name:"K Heun"},{id:"5",name:"K DPM 2"},{id:"6",name:"K DPM 2 Ancestral"},{id:"7",name:"K LMS"},{id:"8",name:"K DPM++ 2S Ancestral"},{id:"9",name:"K DPM++ 2M"},{id:"10",name:"K DPM++ SDE"}],getStableDiffusionStyles:()=>[{id:"enhance",name:"Enhance",image:"https://dreamstudio.ai/presets/enhance.png"},{id:"anime",name:"Anime",image:"https://dreamstudio.ai/presets/anime.png"},{id:"photographic",name:"Photographic",image:"https://dreamstudio.ai/presets/photographic.png"},{id:"digital-art",name:"Digital art",image:"https://dreamstudio.ai/presets/digital-art.png"},{id:"comic-book",name:"Comic book",image:"https://dreamstudio.ai/presets/comic-book.png"},{id:"fantasy-art",name:"Fantasy art",image:"https://dreamstudio.ai/presets/fantasy-art.png"},{id:"analog-film",name:"Analog film",image:"https://dreamstudio.ai/presets/analog-film.png"},{id:"neon-punk",name:"Neon punk",image:"https://dreamstudio.ai/presets/neon-punk.png"},{id:"isometric",name:"Isometric",image:"https://dreamstudio.ai/presets/isometric.png"},{id:"low-poly",name:"Low poly",image:"https://dreamstudio.ai/presets/low-poly.png"},{id:"origami",name:"Origami",image:"https://dreamstudio.ai/presets/origami.png"},{id:"line-art",name:"Line art",image:"https://dreamstudio.ai/presets/line-art.png"},{id:"modeling-compound",name:"Craft clay",image:"https://dreamstudio.ai/presets/modeling-compound.png"},{id:"cinematic",name:"Cinematic",image:"https://dreamstudio.ai/presets/cinematic.png"},{id:"3d-model",name:"3D model",image:"https://dreamstudio.ai/presets/3d-model.png"},{id:"pixel-art",name:"Pixel art",image:"https://dreamstudio.ai/presets/pixel-art.png"}],getStableDiffusionDefaultCount:HP,getStableDiffusionDefaultInput:()=>qP(e.getStableDiffusionRandomPrompt()),settings:{apiKey:{type:"string",title:"API key",description:"You can find your Stability API key at https://dreamstudio.ai/account",placeholder:"sk-...",required:!0,password:!0,value:localStorage.getItem("stability-apiKey")??""}},setSetting:(r,i)=>{t(({settings:a})=>({settings:{...a,[r]:{...a[r],value:i}}})),r==="apiKey"&&typeof i=="string"&&(localStorage.setItem("stability-apiKey",i),t(a=>({...a,...n(i)})))},manifest:{author:"Stability AI",description:eie,name:"Stability AI",license:"MIT",link:"https://stability.ai",version:"0.0.0",icon:"https://stability.ai/favicon.ico"}}});function yg(e){if(e){if(e.kind?.oneofKind==="structValue")return yg(e.kind.structValue.fields);if(e.kind?.oneofKind==="listValue")return e.listValue.values.map(yg);if(e.kind?.oneofKind==="numberValue")return Number(e.kind.numberValue);if(e.kind?.oneofKind==="stringValue")return e.kind.stringValue;if(e.kind?.oneofKind==="boolValue")return e.kind.boolValue;if(e.kind?.oneofKind===void 0)return{...Object.keys(e).reduce((t,n)=>({...t,[n]:yg(e[n])}),{})}}}var eie=`
# Welcome to StableStudio!

## [ README](https://github.com/Stability-AI/StableStudio)  [ Discord](https://discord.com/channels/1002292111942635562/1108055793674227782)  [ DreamStudio](https://dreamstudio.ai)  [ Discussion](https://github.com/Stability-AI/StableStudio/discussions)

# Setup

To get started, you'll need to sign up for a [DreamStudio](https://dreamstudio.ai) account.

Once you're logged in, head to the [account page](https://dreamstudio.ai/account).

You should see a section called \`API keys\`...
![](/media/api_keys_screenshot.png)

If you don't already have a key, you can create one via the plus button...
![](/media/create_api_key_screenshot.png)

You can copy your API key by clicking the copy button...
![](/media/copy_api_key_screenshot.png)

You'll be asked to accept the terms of service.

Now, paste the key into the field below...

The plugin status should change to \`Ready\` once everything is working.
`;const tie=Object.freeze(Object.defineProperty({__proto__:null,createPlugin:Jre},Symbol.toStringTag,{value:"Module"}));var KP=e=>{let t,n=new Set,r=(s,o)=>{let l=typeof s=="function"?s(t):s;if(!Object.is(l,t)){let u=t;t=o??typeof l!="object"?l:Object.assign({},t,l),n.forEach(c=>c(t,u))}},i=()=>t,a={setState:r,getState:i,subscribe:s=>(n.add(s),()=>n.delete(s)),destroy:()=>{({VITE_USE_COMFYUI_PLUGIN:"true",VITE_GIT_HASH:"1fd0dce2a885646a25a052f41aa9e5d2456cbd89",BASE_URL:"/stablestudio/",MODE:"preview",DEV:!1,PROD:!0,SSR:!1}&&"preview")!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return t=e(r,i,a),a},nie=e=>e?KP(e):KP,rie=e=>t=>nie((n,r)=>e({set:n,get:r,context:t}));function Nb(e,t=""){return fetch(`data:${t};base64,${e}`).then(n=>n.blob())}function YP(e){return new Promise((t,n)=>{let r=new FileReader;r.onloadend=()=>t(r.result),r.onerror=n,r.readAsDataURL(e)})}async function iie(e){return await(await fetch(`${e}/sdapi/v1/options`,{method:"GET",headers:{"Content-Type":"application/json"}})).json()}async function aie(e,t){return await(await fetch(`${e}/sdapi/v1/options`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json()}async function sie(e,t){let n=(await(await fetch(`${e}/sdapi/v1/png-info`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image:t})})).json()).info.split(`
`),r={};if(n.length===0)return r;r.prompt=n[0];let i=1;return n.length===3&&(r.nagtivePrompt=n[1].split(":")[1].trim(),i=2),n[i].split(",").map(a=>{let s=a.trim().split(":");r[s[0]]=s[1].trim()}),r}async function oie(e){let t=Promise.race([fetch(`${e}/StableStudio/get-generated-images`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({limit:1})}),new Promise((n,r)=>setTimeout(()=>r(new Error("Request timed out")),1e3))]);try{return await t,t.ok}catch{return!1}}async function lie(e,t=!1,n){let{sampler:r,prompts:i,initialImage:a,maskImage:s,width:o,height:l,steps:u}=e?.input??{},c={seed:e?.input?.seed===0?-1:e?.input?.seed,cfgScale:e?.input?.cfgScale??7};if(t?(c.upscaling_resize_w=o??512,c.upscaling_resize_h=l??512,c.upscaler_1=n):(c.width=o??512,c.height=l??512,c.sampler_name=r?.name??"",c.sampler_index=r?.name??"",c.prompt=i?.find(h=>(h.text&&(h.weight??0)>0)??0>0)?.text??"",c.negative_prompt=i?.find(h=>(h.text&&(h.weight??0)<0)??0<0)?.text??"",c.steps=u??20,c.batch_size=e?.count,c.save_images=!0),a?.weight&&!t&&(c.denoising_strength=1-a.weight),a?.blob){let h=await YP(a?.blob);t?c.image=h.split(",")[1]:c.init_images=[h.split(",")[1]]}if(s?.blob){let h=await YP(s?.blob);c.mask=h.split(",")[1],c.inpainting_mask_invert=1,c.inpainting_fill=1,c.inpaint_full_res=!1}return c}var uie={name:"stable-diffusion-webui",author:"Terry Jia",link:"https://github.com/jtydhr88",icon:`${window.location.origin}/DummyImage.png`,version:"0.0.0",license:"MIT",description:"This plugin uses [`stable-diffusion-webui`](https://github.com/AUTOMATIC1111/stable-diffusion-webui) as its back-end for inference"},XP=[{label:"None",value:"None"},{label:"Lanczos",value:"Lanczos"},{label:"Nearest",value:"Nearest"},{label:"ESRGAN_4x",value:"ESRGAN_4x"},{label:"LDSR",value:"LDSR"},{label:"R-ESRGAN 4x+",value:"R-ESRGAN 4x+"},{label:"R-ESRGAN 4x+ Anime6B",value:"R-ESRGAN 4x+ Anime6B"},{label:"ScuNET GAN",value:"ScuNET GAN"},{label:"ScuNET PSNR",value:"ScuNET PSNR"},{label:"SwinIR_4x",value:"SwinIR_4x"}],cie=(e,t)=>{let n=t;return e&&(n=Number(e)),n},die=()=>4,hie=rie(({set:e,get:t})=>{let n=i=>({createStableDiffusionImages:async a=>{if(!a)throw new Error("options is required");let s=await iie(i),{model:o,sampler:l,initialImage:u}=a?.input??{};a.count=a?.count??die(),l?.name&&localStorage.setItem("webui-saved-sampler",l.name),o&&localStorage.setItem("webui-saved-model",o);let c=a?.input?.initialImage?.weight===1&&o==="esrgan-v1-x2plus";o&&o!==s.sd_model_checkpoint&&!c&&(localStorage.setItem("webui-saved-model",o),(await aie(i,{sd_model_checkpoint:o})).ok&&console.log("applied model"));let h=await lie(a,c,t().settings.upscaler.value),p=await(await fetch(u?c?`${i}/sdapi/v1/extra-single-image`:`${i}/sdapi/v1/img2img`:`${i}/sdapi/v1/txt2img`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)})).json(),m=[],g=new Date;if(c){let y=await Nb(p.image,"image/jpeg"),b={id:`${Math.random()*1e7}`,createdAt:g,blob:y,input:{model:o??""}};m.push(b)}else{let y=p.images.length>h.batch_size?1:0;for(let b=y;b<p.images.length;b++){let v=await Nb(p.images[b],"image/jpeg"),x={id:`${Math.random()*1e7}`,createdAt:g,blob:v,input:{prompts:a?.input?.prompts??[],steps:a?.input?.steps??0,seed:p.images[b].seed,model:o??"",width:a?.input?.width??512,height:a?.input?.height??512,cfgScale:a?.input?.cfgScale??7,sampler:l??{id:"",name:""}}};m.push(x)}}return{id:`${Math.random()*1e7}`,images:m}},getStableDiffusionModels:async()=>(await(await fetch(`${i}/sdapi/v1/sd-models`)).json()).map(a=>({id:a.title,name:a.model_name})),getStatus:async()=>{let a=await fetch(`${i}/sdapi/v1/options`),s=await oie(`${i}`);return a.ok?{indicator:s?"success":"info",text:`Ready ${s?"with":"without"} history plugin`}:{indicator:"error",text:"unable to connect webui on "+i}}}),r=localStorage.getItem("webui-host-url");return(!r||r==="")&&(r="http://127.0.0.1:7861"),{...n(r),getStableDiffusionDefaultCount:()=>4,getStableDiffusionDefaultInput:()=>({steps:20,sampler:{id:localStorage.getItem("webui-saved-sampler")??"",name:localStorage.getItem("webui-saved-sampler")??""},model:localStorage.getItem("webui-saved-model")??""}),getStableDiffusionSamplers:async()=>(await(await fetch(`${r}/sdapi/v1/samplers`)).json()).map(i=>({id:i.name,name:i.name})),getStableDiffusionExistingImages:async()=>{let i=await fetch(`${r}/StableStudio/get-generated-images`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({limit:t().settings.historyImagesCount.value})});i.ok||console.warn("unable to get existing data from webui");let a=await i.json(),s=[];for(let o=0;o<a.length;o++){let l=await sie(r,a[o].content),u=await Nb(a[o].content,"image/jpeg"),c=a[o].create_date*1e3,h=new Date(c),p={id:a[o].image_name,createdAt:h,blob:u,input:{prompts:[{text:l.prompt,weight:l["CFG scale"]}],style:"",steps:Number(l.Steps)??-1,seed:Number(l.Seed)??-1,model:l.Model??"",width:a[o].width,height:a[o].height}};s.push(p)}return[{id:`${Math.random()*1e7}`,images:s}]},settings:{baseUrl:{type:"string",title:"Host URL",placeholder:"http://127.0.0.1:7861",value:localStorage.getItem("webui-host-url")??"",description:"The URL of the `stable-diffusion-webui` host, usually http://127.0.0.1:7861"},upscaler:{type:"string",title:"Upscaler 1",options:XP,value:localStorage.getItem("upscaler1")??XP[0].value,description:"Select the upscaler used when downloading images at more than 1x size"},historyImagesCount:{type:"number",title:"History image count",description:"How many images should be fetched from local history?",min:0,max:50,step:1,variant:"slider",value:cie(localStorage.getItem("historyImagesCount"),20)}},setSetting:(i,a)=>{e(({settings:s})=>({settings:{...s,[i]:{...s[i],value:a}}})),i==="baseUrl"&&typeof a=="string"?(localStorage.setItem("webui-host-url",a),e(s=>({...s,...n(a)}))):i==="upscaler"&&typeof a=="string"?localStorage.setItem("upscaler1",a):i==="historyImagesCount"&&typeof a=="number"&&localStorage.setItem("historyImagesCount",a.toString())},manifest:uie}});const fie=Object.freeze(Object.defineProperty({__proto__:null,createPlugin:hie},Symbol.toStringTag,{value:"Module"}));var pie=Object.defineProperty,mie=(e,t)=>{for(var n in t)pie(e,n,{get:t[n],enumerable:!0})},QP=e=>{let t,n=new Set,r=(s,o)=>{let l=typeof s=="function"?s(t):s;if(!Object.is(l,t)){let u=t;t=o??typeof l!="object"?l:Object.assign({},t,l),n.forEach(c=>c(t,u))}},i=()=>t,a={setState:r,getState:i,subscribe:s=>(n.add(s),()=>n.delete(s)),destroy:()=>{({VITE_USE_COMFYUI_PLUGIN:"true",VITE_GIT_HASH:"1fd0dce2a885646a25a052f41aa9e5d2456cbd89",BASE_URL:"/stablestudio/",MODE:"preview",DEV:!1,PROD:!0,SSR:!1}&&"preview")!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return t=e(r,i,a),a},gie=e=>e?QP(e):QP,yie=e=>t=>gie((n,r)=>e({set:n,get:r,context:t}));function V6(e,t){return function(){return e.apply(t,arguments)}}var{toString:vie}=Object.prototype,{getPrototypeOf:p_}=Object,{iterator:fv,toStringTag:W6}=Symbol,pv=(e=>t=>{let n=vie.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ea=e=>(e=e.toLowerCase(),t=>pv(t)===e),mv=e=>t=>typeof t===e,{isArray:wc}=Array,Bh=mv("undefined");function bf(e){return e!==null&&!Bh(e)&&e.constructor!==null&&!Bh(e.constructor)&&Br(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}var G6=ea("ArrayBuffer");function wie(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&G6(e.buffer),t}var bie=mv("string"),Br=mv("function"),H6=mv("number"),xf=e=>e!==null&&typeof e=="object",xie=e=>e===!0||e===!1,vg=e=>{if(pv(e)!=="object")return!1;let t=p_(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(W6 in e)&&!(fv in e)},kie=e=>{if(!xf(e)||bf(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Sie=ea("Date"),Eie=ea("File"),Cie=ea("Blob"),_ie=ea("FileList"),Tie=e=>xf(e)&&Br(e.pipe),Iie=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Br(e.append)&&((t=pv(e))==="formdata"||t==="object"&&Br(e.toString)&&e.toString()==="[object FormData]"))},Pie=ea("URLSearchParams"),[Rie,Aie,Nie,Die]=["ReadableStream","Request","Response","Headers"].map(ea),Oie=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function kf(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),wc(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{if(bf(e))return;let a=n?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length,o;for(r=0;r<s;r++)o=a[r],t.call(null,e[o],o,e)}}function q6(e,t){if(bf(e))return null;t=t.toLowerCase();let n=Object.keys(e),r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}var Vo=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),K6=e=>!Bh(e)&&e!==Vo;function vk(){let{caseless:e}=K6(this)&&this||{},t={},n=(r,i)=>{let a=e&&q6(t,i)||i;vg(t[a])&&vg(r)?t[a]=vk(t[a],r):vg(r)?t[a]=vk({},r):wc(r)?t[a]=r.slice():t[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&kf(arguments[r],n);return t}var Mie=(e,t,n,{allOwnKeys:r}={})=>(kf(t,(i,a)=>{n&&Br(i)?e[a]=V6(i,n):e[a]=i},{allOwnKeys:r}),e),Lie=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Fie=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Bie=(e,t,n,r)=>{let i,a,s,o={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)s=i[a],(!r||r(s,e,t))&&!o[s]&&(t[s]=e[s],o[s]=!0);e=n!==!1&&p_(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},zie=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;let r=e.indexOf(t,n);return r!==-1&&r===n},Uie=e=>{if(!e)return null;if(wc(e))return e;let t=e.length;if(!H6(t))return null;let n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},jie=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&p_(Uint8Array)),$ie=(e,t)=>{let n=(e&&e[fv]).call(e),r;for(;(r=n.next())&&!r.done;){let i=r.value;t.call(e,i[0],i[1])}},Vie=(e,t)=>{let n,r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Wie=ea("HTMLFormElement"),Gie=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,r){return n.toUpperCase()+r}),ZP=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Hie=ea("RegExp"),Y6=(e,t)=>{let n=Object.getOwnPropertyDescriptors(e),r={};kf(n,(i,a)=>{let s;(s=t(i,a,e))!==!1&&(r[a]=s||i)}),Object.defineProperties(e,r)},qie=e=>{Y6(e,(t,n)=>{if(Br(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;let r=e[n];if(Br(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Kie=(e,t)=>{let n={},r=i=>{i.forEach(a=>{n[a]=!0})};return wc(e)?r(e):r(String(e).split(t)),n},Yie=()=>{},Xie=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Qie(e){return!!(e&&Br(e.append)&&e[W6]==="FormData"&&e[fv])}var Zie=e=>{let t=new Array(10),n=(r,i)=>{if(xf(r)){if(t.indexOf(r)>=0)return;if(bf(r))return r;if(!("toJSON"in r)){t[i]=r;let a=wc(r)?[]:{};return kf(r,(s,o)=>{let l=n(s,i+1);!Bh(l)&&(a[o]=l)}),t[i]=void 0,a}}return r};return n(e,0)},Jie=ea("AsyncFunction"),eae=e=>e&&(xf(e)||Br(e))&&Br(e.then)&&Br(e.catch),X6=((e,t)=>e?setImmediate:t?((n,r)=>(Vo.addEventListener("message",({source:i,data:a})=>{i===Vo&&a===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Vo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Br(Vo.postMessage)),tae=typeof queueMicrotask<"u"?queueMicrotask.bind(Vo):typeof process<"u"&&process.nextTick||X6,nae=e=>e!=null&&Br(e[fv]),we={isArray:wc,isArrayBuffer:G6,isBuffer:bf,isFormData:Iie,isArrayBufferView:wie,isString:bie,isNumber:H6,isBoolean:xie,isObject:xf,isPlainObject:vg,isEmptyObject:kie,isReadableStream:Rie,isRequest:Aie,isResponse:Nie,isHeaders:Die,isUndefined:Bh,isDate:Sie,isFile:Eie,isBlob:Cie,isRegExp:Hie,isFunction:Br,isStream:Tie,isURLSearchParams:Pie,isTypedArray:jie,isFileList:_ie,forEach:kf,merge:vk,extend:Mie,trim:Oie,stripBOM:Lie,inherits:Fie,toFlatObject:Bie,kindOf:pv,kindOfTest:ea,endsWith:zie,toArray:Uie,forEachEntry:$ie,matchAll:Vie,isHTMLForm:Wie,hasOwnProperty:ZP,hasOwnProp:ZP,reduceDescriptors:Y6,freezeMethods:qie,toObjectSet:Kie,toCamelCase:Gie,noop:Yie,toFiniteNumber:Xie,findKey:q6,global:Vo,isContextDefined:K6,isSpecCompliantForm:Qie,toJSONObject:Zie,isAsyncFn:Jie,isThenable:eae,setImmediate:X6,asap:tae,isIterable:nae};function ec(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}we.inherits(ec,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:we.toJSONObject(this.config),code:this.code,status:this.status}}});var Q6=ec.prototype,Z6={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Z6[e]={value:e}});Object.defineProperties(ec,Z6);Object.defineProperty(Q6,"isAxiosError",{value:!0});ec.from=(e,t,n,r,i,a)=>{let s=Object.create(Q6);return we.toFlatObject(e,s,function(o){return o!==Error.prototype},o=>o!=="isAxiosError"),ec.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};var wt=ec,rae=null;function wk(e){return we.isPlainObject(e)||we.isArray(e)}function J6(e){return we.endsWith(e,"[]")?e.slice(0,-2):e}function JP(e,t,n){return e?e.concat(t).map(function(r,i){return r=J6(r),!n&&i?"["+r+"]":r}).join(n?".":""):t}function iae(e){return we.isArray(e)&&!e.some(wk)}var aae=we.toFlatObject(we,{},null,function(e){return/^is[A-Z]/.test(e)});function sae(e,t,n){if(!we.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=we.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,g){return!we.isUndefined(g[m])});let r=n.metaTokens,i=n.visitor||u,a=n.dots,s=n.indexes,o=(n.Blob||typeof Blob<"u"&&Blob)&&we.isSpecCompliantForm(t);if(!we.isFunction(i))throw new TypeError("visitor must be a function");function l(m){if(m===null)return"";if(we.isDate(m))return m.toISOString();if(we.isBoolean(m))return m.toString();if(!o&&we.isBlob(m))throw new wt("Blob is not supported. Use a Buffer instead.");return we.isArrayBuffer(m)||we.isTypedArray(m)?o&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,g,y){let b=m;if(m&&!y&&typeof m=="object"){if(we.endsWith(g,"{}"))g=r?g:g.slice(0,-2),m=JSON.stringify(m);else if(we.isArray(m)&&iae(m)||(we.isFileList(m)||we.endsWith(g,"[]"))&&(b=we.toArray(m)))return g=J6(g),b.forEach(function(v,x){!(we.isUndefined(v)||v===null)&&t.append(s===!0?JP([g],x,a):s===null?g:g+"[]",l(v))}),!1}return wk(m)?!0:(t.append(JP(y,g,a),l(m)),!1)}let c=[],h=Object.assign(aae,{defaultVisitor:u,convertValue:l,isVisitable:wk});function p(m,g){if(!we.isUndefined(m)){if(c.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));c.push(m),we.forEach(m,function(y,b){(!(we.isUndefined(y)||y===null)&&i.call(t,y,we.isString(b)?b.trim():b,g,h))===!0&&p(y,g?g.concat(b):[b])}),c.pop()}}if(!we.isObject(e))throw new TypeError("data must be an object");return p(e),t}var gv=sae;function eR(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function eF(e,t){this._pairs=[],e&&gv(e,this,t)}var tF=eF.prototype;tF.append=function(e,t){this._pairs.push([e,t])};tF.toString=function(e){let t=e?function(n){return e.call(this,n,eR)}:eR;return this._pairs.map(function(n){return t(n[0])+"="+t(n[1])},"").join("&")};var nF=eF;function oae(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function rF(e,t,n){if(!t)return e;let r=n&&n.encode||oae;we.isFunction(n)&&(n={serialize:n});let i=n&&n.serialize,a;if(i?a=i(t,n):a=we.isURLSearchParams(t)?t.toString():new nF(t,n).toString(r),a){let s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}var lae=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){we.forEach(this.handlers,function(t){t!==null&&e(t)})}},tR=lae,iF={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},uae=typeof URLSearchParams<"u"?URLSearchParams:nF,cae=typeof FormData<"u"?FormData:null,dae=typeof Blob<"u"?Blob:null,hae={isBrowser:!0,classes:{URLSearchParams:uae,FormData:cae,Blob:dae},protocols:["http","https","file","blob","url","data"]},aF={};mie(aF,{hasBrowserEnv:()=>m_,hasStandardBrowserEnv:()=>fae,hasStandardBrowserWebWorkerEnv:()=>pae,navigator:()=>bk,origin:()=>mae});var m_=typeof window<"u"&&typeof document<"u",bk=typeof navigator=="object"&&navigator||void 0,fae=m_&&(!bk||["ReactNative","NativeScript","NS"].indexOf(bk.product)<0),pae=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),mae=m_&&window.location.href||"http://localhost",dr={...aF,...hae};function gae(e,t){return gv(e,new dr.classes.URLSearchParams,{visitor:function(n,r,i,a){return dr.isNode&&we.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function yae(e){return we.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function vae(e){let t={},n=Object.keys(e),r,i=n.length,a;for(r=0;r<i;r++)a=n[r],t[a]=e[a];return t}function wae(e){function t(n,r,i,a){let s=n[a++];if(s==="__proto__")return!0;let o=Number.isFinite(+s),l=a>=n.length;return s=!s&&we.isArray(i)?i.length:s,l?(we.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!o):((!i[s]||!we.isObject(i[s]))&&(i[s]=[]),t(n,r,i[s],a)&&we.isArray(i[s])&&(i[s]=vae(i[s])),!o)}if(we.isFormData(e)&&we.isFunction(e.entries)){let n={};return we.forEachEntry(e,(r,i)=>{t(yae(r),i,n,0)}),n}return null}var sF=wae;function bae(e,t,n){if(we.isString(e))try{return(t||JSON.parse)(e),we.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}var g_={transitional:iF,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){let n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=we.isObject(e);if(i&&we.isHTMLForm(e)&&(e=new FormData(e)),we.isFormData(e))return r?JSON.stringify(sF(e)):e;if(we.isArrayBuffer(e)||we.isBuffer(e)||we.isStream(e)||we.isFile(e)||we.isBlob(e)||we.isReadableStream(e))return e;if(we.isArrayBufferView(e))return e.buffer;if(we.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return gae(e,this.formSerializer).toString();if((a=we.isFileList(e))||n.indexOf("multipart/form-data")>-1){let s=this.env&&this.env.FormData;return gv(a?{"files[]":e}:e,s&&new s,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),bae(e)):e}],transformResponse:[function(e){let t=this.transitional||g_.transitional,n=t&&t.forcedJSONParsing,r=this.responseType==="json";if(we.isResponse(e)||we.isReadableStream(e))return e;if(e&&we.isString(e)&&(n&&!this.responseType||r)){let i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i)throw a.name==="SyntaxError"?wt.from(a,wt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dr.classes.FormData,Blob:dr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};we.forEach(["delete","get","head","post","put","patch"],e=>{g_.headers[e]={}});var y_=g_,xae=we.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),kae=e=>{let t={},n,r,i;return e&&e.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||t[n]&&xae[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},nR=Symbol("internals");function cd(e){return e&&String(e).trim().toLowerCase()}function wg(e){return e===!1||e==null?e:we.isArray(e)?e.map(wg):String(e)}function Sae(e){let t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}var Eae=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Db(e,t,n,r,i){if(we.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!we.isString(t)){if(we.isString(r))return t.indexOf(r)!==-1;if(we.isRegExp(r))return r.test(t)}}function Cae(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function _ae(e,t){let n=we.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,a,s){return this[r].call(this,t,i,a,s)},configurable:!0})})}var yv=class{constructor(e){e&&this.set(e)}set(e,t,n){let r=this;function i(s,o,l){let u=cd(o);if(!u)throw new Error("header name must be a non-empty string");let c=we.findKey(r,u);(!c||r[c]===void 0||l===!0||l===void 0&&r[c]!==!1)&&(r[c||o]=wg(s))}let a=(s,o)=>we.forEach(s,(l,u)=>i(l,u,o));if(we.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(we.isString(e)&&(e=e.trim())&&!Eae(e))a(kae(e),t);else if(we.isObject(e)&&we.isIterable(e)){let s={},o,l;for(let u of e){if(!we.isArray(u))throw TypeError("Object iterator must return a key-value pair");s[l=u[0]]=(o=s[l])?we.isArray(o)?[...o,u[1]]:[o,u[1]]:u[1]}a(s,t)}else e!=null&&i(t,e,n);return this}get(e,t){if(e=cd(e),e){let n=we.findKey(this,e);if(n){let r=this[n];if(!t)return r;if(t===!0)return Sae(r);if(we.isFunction(t))return t.call(this,r,n);if(we.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=cd(e),e){let n=we.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||Db(this,this[n],n,t)))}return!1}delete(e,t){let n=this,r=!1;function i(a){if(a=cd(a),a){let s=we.findKey(n,a);s&&(!t||Db(n,n[s],s,t))&&(delete n[s],r=!0)}}return we.isArray(e)?e.forEach(i):i(e),r}clear(e){let t=Object.keys(this),n=t.length,r=!1;for(;n--;){let i=t[n];(!e||Db(this,this[i],i,e,!0))&&(delete this[i],r=!0)}return r}normalize(e){let t=this,n={};return we.forEach(this,(r,i)=>{let a=we.findKey(n,i);if(a){t[a]=wg(r),delete t[i];return}let s=e?Cae(i):String(i).trim();s!==i&&delete t[i],t[s]=wg(r),n[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let t=Object.create(null);return we.forEach(this,(n,r)=>{n!=null&&n!==!1&&(t[r]=e&&we.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){let n=new this(e);return t.forEach(r=>n.set(r)),n}static accessor(e){let t=(this[nR]=this[nR]={accessors:{}}).accessors,n=this.prototype;function r(i){let a=cd(i);t[a]||(_ae(n,i),t[a]=!0)}return we.isArray(e)?e.forEach(r):r(e),this}};yv.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);we.reduceDescriptors(yv.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});we.freezeMethods(yv);var Yi=yv;function Ob(e,t){let n=this||y_,r=t||n,i=Yi.from(r.headers),a=r.data;return we.forEach(e,function(s){a=s.call(n,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function oF(e){return!!(e&&e.__CANCEL__)}function lF(e,t,n){wt.call(this,e??"canceled",wt.ERR_CANCELED,t,n),this.name="CanceledError"}we.inherits(lF,wt,{__CANCEL__:!0});var Sf=lF;function uF(e,t,n){let r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new wt("Request failed with status code "+n.status,[wt.ERR_BAD_REQUEST,wt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Tae(e){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Iae(e,t){e=e||10;let n=new Array(e),r=new Array(e),i=0,a=0,s;return t=t!==void 0?t:1e3,function(o){let l=Date.now(),u=r[a];s||(s=l),n[i]=o,r[i]=l;let c=a,h=0;for(;c!==i;)h+=n[c++],c=c%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),l-s<t)return;let p=u&&l-u;return p?Math.round(h*1e3/p):void 0}}var Pae=Iae;function Rae(e,t){let n=0,r=1e3/t,i,a,s=(o,l=Date.now())=>{n=l,i=null,a&&(clearTimeout(a),a=null),e(...o)};return[(...o)=>{let l=Date.now(),u=l-n;u>=r?s(o,l):(i=o,a||(a=setTimeout(()=>{a=null,s(i)},r-u)))},()=>i&&s(i)]}var Aae=Rae,M0=(e,t,n=3)=>{let r=0,i=Pae(50,250);return Aae(a=>{let s=a.loaded,o=a.lengthComputable?a.total:void 0,l=s-r,u=i(l),c=s<=o;r=s;let h={loaded:s,total:o,progress:o?s/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&c?(o-s)/u:void 0,event:a,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(h)},n)},rR=(e,t)=>{let n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},iR=e=>(...t)=>we.asap(()=>e(...t)),Nae=dr.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,dr.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(dr.origin),dr.navigator&&/(msie|trident)/i.test(dr.navigator.userAgent)):()=>!0,Dae=dr.hasStandardBrowserEnv?{write(e,t,n,r,i,a){let s=[e+"="+encodeURIComponent(t)];we.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),we.isString(r)&&s.push("path="+r),we.isString(i)&&s.push("domain="+i),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){let t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Oae(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Mae(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function cF(e,t,n){let r=!Oae(t);return e&&(r||n==!1)?Mae(e,t):t}var aR=e=>e instanceof Yi?{...e}:e;function ul(e,t){t=t||{};let n={};function r(u,c,h,p){return we.isPlainObject(u)&&we.isPlainObject(c)?we.merge.call({caseless:p},u,c):we.isPlainObject(c)?we.merge({},c):we.isArray(c)?c.slice():c}function i(u,c,h,p){if(we.isUndefined(c)){if(!we.isUndefined(u))return r(void 0,u,h,p)}else return r(u,c,h,p)}function a(u,c){if(!we.isUndefined(c))return r(void 0,c)}function s(u,c){if(we.isUndefined(c)){if(!we.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function o(u,c,h){if(h in t)return r(u,c);if(h in e)return r(void 0,u)}let l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(u,c,h)=>i(aR(u),aR(c),h,!0)};return we.forEach(Object.keys({...e,...t}),function(u){let c=l[u]||i,h=c(e[u],t[u],u);we.isUndefined(h)&&c!==o||(n[u]=h)}),n}var dF=e=>{let t=ul({},e),{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:o}=t;t.headers=s=Yi.from(s),t.url=rF(cF(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(we.isFormData(n)){if(dr.hasStandardBrowserEnv||dr.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){let[u,...c]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];s.setContentType([u||"multipart/form-data",...c].join("; "))}}if(dr.hasStandardBrowserEnv&&(r&&we.isFunction(r)&&(r=r(t)),r||r!==!1&&Nae(t.url))){let u=i&&a&&Dae.read(a);u&&s.set(i,u)}return t},Lae=typeof XMLHttpRequest<"u",Fae=Lae&&function(e){return new Promise(function(t,n){let r=dF(e),i=r.data,a=Yi.from(r.headers).normalize(),{responseType:s,onUploadProgress:o,onDownloadProgress:l}=r,u,c,h,p,m;function g(){p&&p(),m&&m(),r.cancelToken&&r.cancelToken.unsubscribe(u),r.signal&&r.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(r.method.toUpperCase(),r.url,!0),y.timeout=r.timeout;function b(){if(!y)return;let x=Yi.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),k={data:!s||s==="text"||s==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:x,config:e,request:y};uF(function(T){t(T),g()},function(T){n(T),g()},k),y=null}"onloadend"in y?y.onloadend=b:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(b)},y.onabort=function(){y&&(n(new wt("Request aborted",wt.ECONNABORTED,e,y)),y=null)},y.onerror=function(){n(new wt("Network Error",wt.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let x=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded",k=r.transitional||iF;r.timeoutErrorMessage&&(x=r.timeoutErrorMessage),n(new wt(x,k.clarifyTimeoutError?wt.ETIMEDOUT:wt.ECONNABORTED,e,y)),y=null},i===void 0&&a.setContentType(null),"setRequestHeader"in y&&we.forEach(a.toJSON(),function(x,k){y.setRequestHeader(k,x)}),we.isUndefined(r.withCredentials)||(y.withCredentials=!!r.withCredentials),s&&s!=="json"&&(y.responseType=r.responseType),l&&([h,m]=M0(l,!0),y.addEventListener("progress",h)),o&&y.upload&&([c,p]=M0(o),y.upload.addEventListener("progress",c),y.upload.addEventListener("loadend",p)),(r.cancelToken||r.signal)&&(u=x=>{y&&(n(!x||x.type?new Sf(null,e,y):x),y.abort(),y=null)},r.cancelToken&&r.cancelToken.subscribe(u),r.signal&&(r.signal.aborted?u():r.signal.addEventListener("abort",u)));let v=Tae(r.url);if(v&&dr.protocols.indexOf(v)===-1){n(new wt("Unsupported protocol "+v+":",wt.ERR_BAD_REQUEST,e));return}y.send(i||null)})},Bae=(e,t)=>{let{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i,a=function(u){if(!i){i=!0,o();let c=u instanceof Error?u:this.reason;r.abort(c instanceof wt?c:new Sf(c instanceof Error?c.message:c))}},s=t&&setTimeout(()=>{s=null,a(new wt(`timeout ${t} of ms exceeded`,wt.ETIMEDOUT))},t),o=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));let{signal:l}=r;return l.unsubscribe=()=>we.asap(o),l}},zae=Bae,Uae=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},jae=async function*(e,t){for await(let n of $ae(e))yield*Uae(n,t)},$ae=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}let t=e.getReader();try{for(;;){let{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},sR=(e,t,n,r)=>{let i=jae(e,t),a=0,s,o=l=>{s||(s=!0,r&&r(l))};return new ReadableStream({async pull(l){try{let{done:u,value:c}=await i.next();if(u){o(),l.close();return}let h=c.byteLength;if(n){let p=a+=h;n(p)}l.enqueue(new Uint8Array(c))}catch(u){throw o(u),u}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},vv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",hF=vv&&typeof ReadableStream=="function",Vae=vv&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),fF=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Wae=hF&&fF(()=>{let e=!1,t=new Request(dr.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),oR=64*1024,xk=hF&&fF(()=>we.isReadableStream(new Response("").body)),L0={stream:xk&&(e=>e.body)};vv&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!L0[t]&&(L0[t]=we.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new wt(`Response type '${t}' is not supported`,wt.ERR_NOT_SUPPORT,r)})})})(new Response);var Gae=async e=>{if(e==null)return 0;if(we.isBlob(e))return e.size;if(we.isSpecCompliantForm(e))return(await new Request(dr.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(we.isArrayBufferView(e)||we.isArrayBuffer(e))return e.byteLength;if(we.isURLSearchParams(e)&&(e=e+""),we.isString(e))return(await Vae(e)).byteLength},Hae=async(e,t)=>we.toFiniteNumber(e.getContentLength())??Gae(t),qae=vv&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:a,timeout:s,onDownloadProgress:o,onUploadProgress:l,responseType:u,headers:c,withCredentials:h="same-origin",fetchOptions:p}=dF(e);u=u?(u+"").toLowerCase():"text";let m=zae([i,a&&a.toAbortSignal()],s),g,y=m&&m.unsubscribe&&(()=>{m.unsubscribe()}),b;try{if(l&&Wae&&n!=="get"&&n!=="head"&&(b=await Hae(c,r))!==0){let P=new Request(t,{method:"POST",body:r,duplex:"half"}),R;if(we.isFormData(r)&&(R=P.headers.get("content-type"))&&c.setContentType(R),P.body){let[N,B]=rR(b,M0(iR(l)));r=sR(P.body,oR,N,B)}}we.isString(h)||(h=h?"include":"omit");let v="credentials"in Request.prototype;g=new Request(t,{...p,signal:m,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",credentials:v?h:void 0});let x=await fetch(g,p),k=xk&&(u==="stream"||u==="response");if(xk&&(o||k&&y)){let P={};["status","statusText","headers"].forEach(j=>{P[j]=x[j]});let R=we.toFiniteNumber(x.headers.get("content-length")),[N,B]=o&&rR(R,M0(iR(o),!0))||[];x=new Response(sR(x.body,oR,N,()=>{B&&B(),y&&y()}),P)}u=u||"text";let T=await L0[we.findKey(L0,u)||"text"](x,e);return!k&&y&&y(),await new Promise((P,R)=>{uF(P,R,{data:T,headers:Yi.from(x.headers),status:x.status,statusText:x.statusText,config:e,request:g})})}catch(v){throw y&&y(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new wt("Network Error",wt.ERR_NETWORK,e,g),{cause:v.cause||v}):wt.from(v,v&&v.code,e,g)}}),kk={http:rae,xhr:Fae,fetch:qae};we.forEach(kk,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});var lR=e=>`- ${e}`,Kae=e=>we.isFunction(e)||e===null||e===!1,pF={getAdapter:e=>{e=we.isArray(e)?e:[e];let{length:t}=e,n,r,i={};for(let a=0;a<t;a++){n=e[a];let s;if(r=n,!Kae(n)&&(r=kk[(s=String(n)).toLowerCase()],r===void 0))throw new wt(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+a]=r}if(!r){let a=Object.entries(i).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build")),s=t?a.length>1?`since :
`+a.map(lR).join(`
`):" "+lR(a[0]):"as no adapter specified";throw new wt("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:kk};function Mb(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Sf(null,e)}function uR(e){return Mb(e),e.headers=Yi.from(e.headers),e.data=Ob.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),pF.getAdapter(e.adapter||y_.adapter)(e).then(function(t){return Mb(e),t.data=Ob.call(e,e.transformResponse,t),t.headers=Yi.from(t.headers),t},function(t){return oF(t)||(Mb(e),t&&t.response&&(t.response.data=Ob.call(e,e.transformResponse,t.response),t.response.headers=Yi.from(t.response.headers))),Promise.reject(t)})}var mF="1.11.0",wv={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{wv[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var cR={};wv.transitional=function(e,t,n){function r(i,a){return"[Axios v"+mF+"] Transitional option '"+i+"'"+a+(n?". "+n:"")}return(i,a,s)=>{if(e===!1)throw new wt(r(a," has been removed"+(t?" in "+t:"")),wt.ERR_DEPRECATED);return t&&!cR[a]&&(cR[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,a,s):!0}};wv.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Yae(e,t,n){if(typeof e!="object")throw new wt("options must be an object",wt.ERR_BAD_OPTION_VALUE);let r=Object.keys(e),i=r.length;for(;i-- >0;){let a=r[i],s=t[a];if(s){let o=e[a],l=o===void 0||s(o,a,e);if(l!==!0)throw new wt("option "+a+" must be "+l,wt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new wt("Unknown option "+a,wt.ERR_BAD_OPTION)}}var bg={assertOptions:Yae,validators:wv},da=bg.validators,F0=class{constructor(e){this.defaults=e||{},this.interceptors={request:new tR,response:new tR}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;let i=r.stack?r.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ul(this.defaults,t);let{transitional:n,paramsSerializer:r,headers:i}=t;n!==void 0&&bg.assertOptions(n,{silentJSONParsing:da.transitional(da.boolean),forcedJSONParsing:da.transitional(da.boolean),clarifyTimeoutError:da.transitional(da.boolean)},!1),r!=null&&(we.isFunction(r)?t.paramsSerializer={serialize:r}:bg.assertOptions(r,{encode:da.function,serialize:da.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),bg.assertOptions(t,{baseUrl:da.spelling("baseURL"),withXsrfToken:da.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=i&&we.merge(i.common,i[t.method]);i&&we.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),t.headers=Yi.concat(a,i);let s=[],o=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(t)===!1||(o=o&&m.synchronous,s.unshift(m.fulfilled,m.rejected))});let l=[];this.interceptors.response.forEach(function(m){l.push(m.fulfilled,m.rejected)});let u,c=0,h;if(!o){let m=[uR.bind(this),void 0];for(m.unshift(...s),m.push(...l),h=m.length,u=Promise.resolve(t);c<h;)u=u.then(m[c++],m[c++]);return u}h=s.length;let p=t;for(c=0;c<h;){let m=s[c++],g=s[c++];try{p=m(p)}catch(y){g.call(this,y);break}}try{u=uR.call(this,p)}catch(m){return Promise.reject(m)}for(c=0,h=l.length;c<h;)u=u.then(l[c++],l[c++]);return u}getUri(e){e=ul(this.defaults,e);let t=cF(e.baseURL,e.url,e.allowAbsoluteUrls);return rF(t,e.params,e.paramsSerializer)}};we.forEach(["delete","get","head","options"],function(e){F0.prototype[e]=function(t,n){return this.request(ul(n||{},{method:e,url:t,data:(n||{}).data}))}});we.forEach(["post","put","patch"],function(e){function t(n){return function(r,i,a){return this.request(ul(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:r,data:i}))}}F0.prototype[e]=t(),F0.prototype[e+"Form"]=t(!0)});var xg=F0,gF=class{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(r){t=r});let n=this;this.promise.then(r=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](r);n._listeners=null}),this.promise.then=r=>{let i,a=new Promise(s=>{n.subscribe(s),i=s}).then(r);return a.cancel=function(){n.unsubscribe(i)},a},e(function(r,i,a){n.reason||(n.reason=new Sf(r,i,a),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){let e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new gF(function(t){e=t}),cancel:e}}},Xae=gF;function Qae(e){return function(t){return e.apply(null,t)}}function Zae(e){return we.isObject(e)&&e.isAxiosError===!0}var Sk={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Sk).forEach(([e,t])=>{Sk[t]=e});var Jae=Sk;function yF(e){let t=new xg(e),n=V6(xg.prototype.request,t);return we.extend(n,xg.prototype,t,{allOwnKeys:!0}),we.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return yF(ul(e,r))},n}var An=yF(y_);An.Axios=xg;An.CanceledError=Sf;An.CancelToken=Xae;An.isCancel=oF;An.VERSION=mF;An.toFormData=gv;An.AxiosError=wt;An.Cancel=An.CanceledError;An.all=function(e){return Promise.all(e)};An.spread=Qae;An.isAxiosError=Zae;An.mergeConfig=ul;An.AxiosHeaders=Yi;An.formToJSON=e=>sF(we.isHTMLForm(e)?new FormData(e):e);An.getAdapter=pF.getAdapter;An.HttpStatusCode=Jae;An.default=An;var Kl=An,ese={supports_preview_metadata:!0},tse=class extends Error{},nse=class extends Error{constructor(t){super("Prompt execution failed");Ut(this,"response");this.response=t}toString(){let t="";typeof this.response.error=="string"?t+=this.response.error:this.response.error&&(t+=this.response.error.message+": "+this.response.error.details);for(let[n,r]of Object.entries(this.response.node_errors??[])){t+=`
`+r.class_type+":";for(let i of r.errors)t+=`
    - `+i.message+": "+i.details}return t}},Xh,cy,vF,Qh,Ek,Mu,kg,Zh,rse=(Zh=class extends EventTarget{constructor(){super();$c(this,cy);$c(this,Qh);$c(this,Mu);$c(this,Xh,new Set);Ut(this,"api_host");Ut(this,"api_base");Ut(this,"initialClientId");Ut(this,"clientId");Ut(this,"user");Ut(this,"socket",null);Ut(this,"reportedUnknownMessageTypes",new Set);Ut(this,"serverFeatureFlags",{});Ut(this,"authToken");Ut(this,"apiKey");this.user="",this.api_host=location.host,this.api_base=location.pathname.split("/").slice(0,-1).join("/"),console.log("Running on",this.api_host),this.initialClientId=sessionStorage.getItem("clientId")}getClientFeatureFlags(){return{...ese}}internalURL(n){return this.api_base+"/internal"+n}apiURL(n){return this.api_base+"/api"+n}fileURL(n){return this.api_base+n}fetchApi(n,r){return r||(r={}),r.headers||(r.headers={}),r.cache||(r.cache="no-cache"),Array.isArray(r.headers)?r.headers.push(["Comfy-User",this.user]):r.headers instanceof Headers?r.headers.set("Comfy-User",this.user):r.headers["Comfy-User"]=this.user,fetch(this.apiURL(n),r)}addEventListener(n,r,i){super.addEventListener(n,r,i),X1(this,Xh).add(n)}removeEventListener(n,r,i){super.removeEventListener(n,r,i)}dispatchCustomEvent(n,r){let i=r===void 0?new CustomEvent(n):new CustomEvent(n,{detail:r});return super.dispatchEvent(i)}dispatchEvent(n){return super.dispatchEvent(n)}init(){xo(this,Qh,Ek).call(this)}async getExtensions(){return await(await this.fetchApi("/extensions",{cache:"no-store"})).json()}async getWorkflowTemplates(){return await(await this.fetchApi("/workflow_templates")).json()}async getCoreWorkflowTemplates(){let n=await Kl.get(this.fileURL("/templates/index.json"));return n.headers["content-type"]?.includes("application/json")?n.data:[]}async getEmbeddings(){return await(await this.fetchApi("/embeddings",{cache:"no-store"})).json()}async getNodeDefs(){return await(await this.fetchApi("/object_info",{cache:"no-store"})).json()}async queuePrompt(n,r,i){let{output:a,workflow:s}=r,o={client_id:this.clientId??"",prompt:a,...i?.partialExecutionTargets&&{partial_execution_targets:i.partialExecutionTargets},extra_data:{auth_token_comfy_org:this.authToken,api_key_comfy_org:this.apiKey,extra_pnginfo:{workflow:s}}};n===-1?o.front=!0:n!=0&&(o.number=n);let l=await this.fetchApi("/prompt",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(l.status!==200)throw new nse(await l.json());return await l.json()}async getModelFolders(){let n=await this.fetchApi("/experiment/models");if(n.status===404)return[];let r=["configs","custom_nodes"];return(await n.json()).filter(i=>!r.includes(i))}async getModels(n){let r=await this.fetchApi(`/experiment/models/${n}`);return r.status===404?[]:await r.json()}async viewMetadata(n,r){let i=await this.fetchApi(`/view_metadata/${n}?filename=${encodeURIComponent(r)}`),a=await i.text();if(!a)return null;try{return JSON.parse(a)}catch(s){return console.error("Error viewing metadata",i.status,i.statusText,a,s),null}}async getItems(n){return n==="queue"?this.getQueue():this.getHistory()}async getQueue(){try{let n=await(await this.fetchApi("/queue")).json();return{Running:n.queue_running.map(r=>({taskType:"Running",prompt:r,remove:{name:"Cancel",cb:()=>pi.interrupt(r[1])}})),Pending:n.queue_pending.map(r=>({taskType:"Pending",prompt:r}))}}catch(n){return console.error(n),{Running:[],Pending:[]}}}async getHistory(n=200){try{let r=await(await this.fetchApi(`/history?max_items=${n}`)).json();return{History:Object.values(r).map(i=>({...i,taskType:"History"}))}}catch(r){return console.error(r),{History:[]}}}async getSystemStats(){return await(await this.fetchApi("/system_stats")).json()}async getStableStudioOutputs(n=1,r=20){let i=new URLSearchParams({page:n.toString(),per_page:r.toString()});return await(await this.fetchApi(`/stablestudio/api/get-outputs?${i}`)).json()}async getOutputImage(n){return await(await this.fetchApi(`/view?type=output&filename=${encodeURIComponent(n)}`)).blob()}async getStableStudioSamplers(){return await(await this.fetchApi("/stablestudio/api/get_samplers")).json()}async uploadImage(n,r,i="input",a=!0){let s=new FormData;s.append("image",n,r),s.append("type",i),s.append("overwrite",a?"true":"false");let o=await this.fetchApi("/upload/image",{method:"POST",body:s});if(!o.ok)throw new Error(`Failed to upload image: ${o.status} ${o.statusText}`);return await o.json()}async deleteItem(n,r){await xo(this,Mu,kg).call(this,n,{delete:[r]})}async clearItems(n){await xo(this,Mu,kg).call(this,n,{clear:!0})}async interrupt(n){await xo(this,Mu,kg).call(this,"interrupt",n?{prompt_id:n}:void 0)}async getUserConfig(){return(await this.fetchApi("/users")).json()}createUser(n){return this.fetchApi("/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n})})}async getSettings(){let n=await this.fetchApi("/settings");if(n.status==401)throw new tse(n.statusText);return await n.json()}async getSetting(n){return(await this.fetchApi(`/settings/${encodeURIComponent(n)}`)).json()}async storeSettings(n){return this.fetchApi("/settings",{method:"POST",body:JSON.stringify(n)})}async storeSetting(n,r){return this.fetchApi(`/settings/${encodeURIComponent(n)}`,{method:"POST",body:JSON.stringify(r)})}async getUserData(n,r){return this.fetchApi(`/userdata/${encodeURIComponent(n)}`,r)}async storeUserData(n,r,i={overwrite:!0,stringify:!0,throwOnError:!0,full_info:!1}){let a=await this.fetchApi(`/userdata/${encodeURIComponent(n)}?overwrite=${i.overwrite}&full_info=${i.full_info}`,{method:"POST",body:i?.stringify?JSON.stringify(r):r,...i});if(a.status!==200&&i.throwOnError!==!1)throw new Error(`Error storing user data file '${n}': ${a.status} ${(await a).statusText}`);return a}async deleteUserData(n){return await this.fetchApi(`/userdata/${encodeURIComponent(n)}`,{method:"DELETE"})}async moveUserData(n,r,i={overwrite:!1}){return await this.fetchApi(`/userdata/${encodeURIComponent(n)}/move/${encodeURIComponent(r)}?overwrite=${i?.overwrite}`,{method:"POST"})}async listUserDataFullInfo(n){let r=await this.fetchApi(`/userdata?dir=${encodeURIComponent(n)}&recurse=true&split=false&full_info=true`);if(r.status===404)return[];if(r.status!==200)throw new Error(`Error getting user data list '${n}': ${r.status} ${r.statusText}`);return r.json()}async getLogs(){return(await Kl.get(this.internalURL("/logs"))).data}async getRawLogs(){return(await Kl.get(this.internalURL("/logs/raw"))).data}async subscribeLogs(n){return await Kl.patch(this.internalURL("/logs/subscribe"),{enabled:n,clientId:this.clientId})}async getFolderPaths(){return(await Kl.get(this.internalURL("/folder_paths"))).data}async getCustomNodesI18n(){return(await Kl.get(this.apiURL("/i18n"))).data}serverSupportsFeature(n){return this.serverFeatureFlags[n]===!0}getServerFeature(n,r){return this.serverFeatureFlags[n]??r}getServerFeatures(){return{...this.serverFeatureFlags}}},Xh=new WeakMap,cy=new WeakSet,vF=function(){setInterval(async()=>{try{let n=await(await this.fetchApi("/prompt")).json();this.dispatchCustomEvent("status",n)}catch{this.dispatchCustomEvent("status",null)}},1e3)},Qh=new WeakSet,Ek=function(n){if(this.socket)return;let r=!1,i=window.name;i&&(i="?clientId="+i),this.socket=new WebSocket(`ws${window.location.protocol==="https:"?"s":""}://${this.api_host}${this.api_base}/ws${i}`),this.socket.binaryType="arraybuffer",this.socket.addEventListener("open",()=>{r=!0,this.socket.send(JSON.stringify({type:"feature_flags",data:this.getClientFeatureFlags()})),n&&this.dispatchCustomEvent("reconnected")}),this.socket.addEventListener("error",()=>{this.socket&&this.socket.close(),!n&&!r&&xo(this,cy,vF).call(this)}),this.socket.addEventListener("close",()=>{setTimeout(()=>{this.socket=null,xo(this,Qh,Ek).call(this,!0)},300),r&&(this.dispatchCustomEvent("status",null),this.dispatchCustomEvent("reconnecting"))}),this.socket.addEventListener("message",a=>{try{if(a.data instanceof ArrayBuffer){let s=new DataView(a.data),o=s.getUint32(0),l;switch(o){case 3:let u=new TextDecoder,c=a.data.slice(4),h=s.getUint32(4);this.dispatchCustomEvent("progress_text",{nodeId:u.decode(c.slice(4,4+h)),text:u.decode(c.slice(4+h))});break;case 1:let p=s.getUint32(4),m=a.data.slice(8);switch(p){case 2:l="image/png";break;case 1:default:l="image/jpeg";break}let g=new Blob([m],{type:l});this.dispatchCustomEvent("b_preview",g);break;case 4:let y=new TextDecoder,b=s.getUint32(4),v=a.data.slice(8,8+b),x=JSON.parse(y.decode(v)),k=a.data.slice(8+b),T=x.image_type,P=new Blob([k],{type:T});this.dispatchCustomEvent("b_preview_with_metadata",{blob:P,nodeId:x.node_id,displayNodeId:x.display_node_id,parentNodeId:x.parent_node_id,realNodeId:x.real_node_id,promptId:x.prompt_id}),this.dispatchCustomEvent("b_preview",P);break;default:throw new Error(`Unknown binary websocket message of type ${o}`)}}else{let s=JSON.parse(a.data);switch(s.type){case"status":if(s.data.sid){let o=s.data.sid;this.clientId=o,window.name=o,sessionStorage.setItem("clientId",o)}this.dispatchCustomEvent("status",s.data.status??null);break;case"executing":this.dispatchCustomEvent("executing",s.data.display_node||s.data.node);break;case"execution_start":case"execution_error":case"execution_interrupted":case"execution_cached":case"execution_success":case"progress":case"progress_state":case"executed":case"graphChanged":case"promptQueued":case"logs":case"b_preview":this.dispatchCustomEvent(s.type,s.data);break;case"feature_flags":this.serverFeatureFlags=s.data,console.log("Server feature flags received:",this.serverFeatureFlags);break;default:if(X1(this,Xh).has(s.type))T3(Zh.prototype,this,"dispatchEvent").call(this,new CustomEvent(s.type,{detail:s.data}));else if(!this.reportedUnknownMessageTypes.has(s.type))throw this.reportedUnknownMessageTypes.add(s.type),new Error(`Unknown message type ${s.type}`)}}}catch(s){console.warn("Unhandled message:",a.data,s)}})},Mu=new WeakSet,kg=async function(n,r){try{await this.fetchApi("/"+n,{method:"POST",headers:{"Content-Type":"application/json"},body:r?JSON.stringify(r):void 0})}catch(i){console.error(i)}},Zh),pi=new rse,ise={3:{inputs:{seed:0x3b6b24b13f2b3,steps:20,cfg:8,sampler_name:"euler",scheduler:"normal",denoise:1,model:["4",0],positive:["6",0],negative:["7",0],latent_image:["5",0]},class_type:"KSampler",_meta:{title:"KSampler"}},4:{inputs:{ckpt_name:"AnythingV5Ink_ink.safetensors"},class_type:"CheckpointLoaderSimple",_meta:{title:"Load Checkpoint"}},5:{inputs:{width:512,height:512,batch_size:1},class_type:"EmptyLatentImage",_meta:{title:"Empty Latent Image"}},6:{inputs:{text:"beautiful scenery nature glass bottle landscape, , purple galaxy bottle,",clip:["4",1]},class_type:"CLIPTextEncode",_meta:{title:"CLIP Text Encode (Prompt)"}},7:{inputs:{text:"text, watermark",clip:["4",1]},class_type:"CLIPTextEncode",_meta:{title:"CLIP Text Encode (Prompt)"}},8:{inputs:{samples:["3",0],vae:["4",2]},class_type:"VAEDecode",_meta:{title:"VAE Decode"}},9:{inputs:{filename_prefix:"ComfyUI",images:["8",0]},class_type:"SaveImage",_meta:{title:"Save Image"}}},ase={3:{inputs:{seed:0x3ecff76c67017,steps:20,cfg:8,sampler_name:"dpmpp_2m",scheduler:"normal",denoise:.8700000000000001,model:["14",0],positive:["6",0],negative:["7",0],latent_image:["12",0]},class_type:"KSampler",_meta:{title:"KSampler"}},6:{inputs:{text:`photograph of victorian woman with wings, sky clouds, meadow grass
`,clip:["14",1]},class_type:"CLIPTextEncode",_meta:{title:"CLIP Text Encode (Prompt)"}},7:{inputs:{text:`watermark, text
`,clip:["14",1]},class_type:"CLIPTextEncode",_meta:{title:"CLIP Text Encode (Prompt)"}},8:{inputs:{samples:["3",0],vae:["14",2]},class_type:"VAEDecode",_meta:{title:"VAE Decode"}},9:{inputs:{filename_prefix:"ComfyUI",images:["8",0]},class_type:"SaveImage",_meta:{title:"Save Image"}},10:{inputs:{image:"example.png"},class_type:"LoadImage",_meta:{title:"Load Image"}},12:{inputs:{pixels:["18",0],vae:["14",2]},class_type:"VAEEncode",_meta:{title:"VAE Encode"}},14:{inputs:{ckpt_name:"v1-5-pruned-emaonly-fp16.safetensors"},class_type:"CheckpointLoaderSimple",_meta:{title:"Load Checkpoint"}},18:{inputs:{upscale_method:"nearest-exact",megapixels:.25,image:["10",0]},class_type:"ImageScaleToTotalPixels",_meta:{title:"Scale Image to Total Pixels"}}},sse=e=>`${window.location.pathname.startsWith("/stablestudio")?`${window.location.origin}/stablestudio`:window.location.origin}/${e.startsWith("/")?e.slice(1):e}`,ose={name:"comfyui",author:"Terry Jia",link:"https://github.com/jtydhr88",icon:sse("DummyImage.png"),version:"0.0.0",license:"MIT",description:"This plugin uses [`comfyui`](https://github.com/comfyanonymous/ComfyUI) as its back-end for inference"},dR=[{label:"None",value:"None"},{label:"Lanczos",value:"Lanczos"},{label:"Nearest",value:"Nearest"},{label:"ESRGAN_4x",value:"ESRGAN_4x"},{label:"LDSR",value:"LDSR"},{label:"R-ESRGAN 4x+",value:"R-ESRGAN 4x+"},{label:"R-ESRGAN 4x+ Anime6B",value:"R-ESRGAN 4x+ Anime6B"},{label:"ScuNET GAN",value:"ScuNET GAN"},{label:"ScuNET PSNR",value:"ScuNET PSNR"},{label:"SwinIR_4x",value:"SwinIR_4x"}],lse=(e,t)=>{let n=t;return e&&(n=Number(e)),n},use=yie(({set:e,get:t})=>{pi.init();let n=i=>({createStableDiffusionImages:async a=>{if(!a)throw new Error("options is required");try{let{initialImage:s}=a?.input??{},o=s?.blob?ase:ise,l=JSON.parse(JSON.stringify(o)),{prompts:u,model:c,sampler:h,width:p,height:m,steps:g,seed:y,cfgScale:b}=a?.input??{};if(c&&localStorage.setItem("comfyui-saved-model",c),h?.name&&localStorage.setItem("comfyui-saved-sampler",h.name),g!==void 0&&localStorage.setItem("comfyui-saved-steps",g.toString()),b!==void 0&&localStorage.setItem("comfyui-saved-cfgScale",b.toString()),p!==void 0&&localStorage.setItem("comfyui-saved-width",p.toString()),m!==void 0&&localStorage.setItem("comfyui-saved-height",m.toString()),y!==void 0&&localStorage.setItem("comfyui-saved-seed",y.toString()),u&&u.length>0){let H=u.find($=>$.weight&&$.weight>0);H&&l[6]&&(l[6].inputs.text=H.text||"");let z=u.find($=>$.weight&&$.weight<0);z&&l[7]&&(l[7].inputs.text=z.text||"")}if(c&&l[4]&&(l[4].inputs.ckpt_name=c),l[3]&&(h?.name&&(l[3].inputs.sampler_name=h.name),g&&(l[3].inputs.steps=g),y!==void 0&&(y===0?l[3].inputs.seed=Math.floor(Math.random()*1e15):l[3].inputs.seed=y),b&&(l[3].inputs.cfg=b)),s?.blob&&l[10]){let H=`stablestudio_${Date.now()}.png`;console.log("Uploading initial image...");let z=await pi.uploadImage(s.blob,H,"input",!0);console.log("Image uploaded:",z),l[10].inputs.image=z.name,l[3]&&s.weight!==void 0&&(l[3].inputs.denoise=1-s.weight)}l[5]&&(l[5].inputs.width=p||512,l[5].inputs.height=m||512,a.count&&a.count>0&&!s?.blob&&(l[5].inputs.batch_size=a.count));let v=s?.blob&&l[10],x=v&&a.count||1,k=[];console.log("Generation mode:",v?"image2image":"text2image"),console.log("Requested count:",a.count),console.log("Actual count (iterations):",x);for(let H=0;H<x;H++){v&&H>0&&l[3]&&(y===0||y===void 0?l[3].inputs.seed=Math.floor(Math.random()*1e15):l[3].inputs.seed=y+H);let z=await pi.queuePrompt(-1,{output:l,workflow:l});console.log(`Prompt ${H+1}/${x} queued:`,z),k.push(z.prompt_id)}let T=async()=>{let H=await pi.getQueue(),z=H.Running&&H.Running.length>0,$=H.Pending&&H.Pending.length>0;return console.log("Queue status:",{running:H.Running?.length||0,pending:H.Pending?.length||0}),!z&&!$},P=1e3,R=6e4,N=Date.now();for(;Date.now()-N<R;){if(await T()){console.log("Workflow execution completed!");break}await new Promise(H=>setTimeout(H,P))}let B=await pi.getHistory(20);console.log("History:",B);let j=[];for(let H of k){let z=B.History.find(O=>O.prompt&&O.prompt[1]===H);if(!z||!z.outputs){console.error(`Could not find prompt ${H} results in history`);continue}let $=z.outputs;for(let O in $){let te=$[O];if(te.images&&Array.isArray(te.images))for(let X of te.images)X.filename&&j.push({filename:X.filename,promptId:H,historyItem:z})}}console.log("Generated images:",j);let W=[];for(let H of j)try{let z=await pi.getOutputImage(H.filename),$=H.historyItem.prompt[2],O=$[6]?.inputs?.text||"",te=$[7]?.inputs?.text||"",X=$[3]?.inputs?.seed||0,le=$[3]?.inputs?.steps||20,de=$[3]?.inputs?.cfg||8,ie=$[3]?.inputs?.sampler_name||"euler",pe=$[4]?.inputs?.ckpt_name||$[14]?.inputs?.ckpt_name||"",F=$[5]?.inputs?.width||512,M=$[5]?.inputs?.height||512,Ce={id:H.filename,createdAt:new Date,blob:z,input:{prompts:[{text:O,weight:1},{text:te,weight:-1}],style:"",steps:le,seed:X,model:pe,width:F,height:M,cfgScale:de,sampler:{id:ie,name:ie}}};W.push(Ce)}catch(z){console.error("Error fetching image",z)}return{id:`${Math.random()*1e7}`,images:W}}catch(s){throw console.error("Error creating images:",s),s}},getStableDiffusionModels:async()=>{try{return(await pi.getModels("checkpoints")).map(a=>({id:a.name,name:a.name}))}catch(a){return console.error("Error fetching models:",a),[]}},getStatus:async()=>{try{return await pi.getSystemStats(),{indicator:"success",text:"Ready"}}catch{return{indicator:"error",text:"unable to connect comfyui on "+i}}}}),r=localStorage.getItem("comfyui-host-url");return(!r||r==="")&&(r="http://127.0.0.1:8188"),{...n(r),getStableDiffusionDefaultCount:()=>4,getStableDiffusionDefaultInput:()=>{let i=localStorage.getItem("comfyui-saved-steps"),a=localStorage.getItem("comfyui-saved-cfgScale"),s=localStorage.getItem("comfyui-saved-width"),o=localStorage.getItem("comfyui-saved-height"),l=localStorage.getItem("comfyui-saved-seed");return{steps:i?parseInt(i):20,cfgScale:a?parseFloat(a):8,width:s?parseInt(s):512,height:o?parseInt(o):512,seed:l?parseInt(l):0,sampler:{id:localStorage.getItem("comfyui-saved-sampler")??"euler",name:localStorage.getItem("comfyui-saved-sampler")??"euler"},model:localStorage.getItem("comfyui-saved-model")??""}},getStableDiffusionSamplers:async()=>{try{return((await pi.getStableStudioSamplers()).samplers||[]).map(i=>({id:i,name:i}))}catch(i){return console.error("Error fetching samplers:",i),[{id:"euler",name:"euler"},{id:"euler_cfg_pp",name:"euler_cfg_pp"},{id:"euler_ancestral",name:"euler_ancestral"},{id:"dpm_2",name:"dpm_2"},{id:"dpmpp_2m",name:"dpmpp_2m"},{id:"dpmpp_2s_ancestral",name:"dpmpp_2s_ancestral"}]}},getStableDiffusionExistingImages:async i=>{try{let{limit:a=10,exclusiveStartImageID:s}=i||{},o=1;if(s){let h=s.match(/page-(\d+)$/);h&&(o=parseInt(h[1])+1)}let l=await pi.getStableStudioOutputs(o,10),u=l.image_files||[],c=[];for(let h of u)try{let p=await pi.getOutputImage(h.filename),m={id:h.filename,createdAt:new Date(h.modified_time*1e3),blob:p,input:{prompts:[],style:"",steps:-1,seed:-1,model:"",width:512,height:512}};c.push(m)}catch(p){console.error(`Error processing image ${h.filename}:`,p)}return[{id:`page-${o}`,images:c,exclusiveStartImageID:l.pagination.has_next?`page-${o}`:void 0}]}catch(a){return console.error("Error fetching existing images:",a),[]}},settings:{baseUrl:{type:"string",title:"Host URL",placeholder:"http://127.0.0.1:8188",value:localStorage.getItem("comfyui-host-url")??"",description:"The URL of the `ComfyUI` host, usually http://127.0.0.1:8188"},upscaler:{type:"string",title:"Upscaler 1",options:dR,value:localStorage.getItem("upscaler1")??dR[0].value,description:"Select the upscaler used when downloading images at more than 1x size"},historyImagesCount:{type:"number",title:"History image count",description:"How many images should be fetched from local history?",min:0,max:50,step:1,variant:"slider",value:lse(localStorage.getItem("historyImagesCount"),20)}},setSetting:(i,a)=>{e(({settings:s})=>({settings:{...s,[i]:{...s[i],value:a}}})),i==="baseUrl"&&typeof a=="string"?(localStorage.setItem("comfyui-host-url",a),e(s=>({...s,...n(a)}))):i==="upscaler"&&typeof a=="string"?localStorage.setItem("upscaler1",a):i==="historyImagesCount"&&typeof a=="number"&&localStorage.setItem("historyImagesCount",a.toString())},manifest:ose}});const cse=Object.freeze(Object.defineProperty({__proto__:null,createPlugin:use},Symbol.toStringTag,{value:"Module"}));function dse(e,t){var n=Object.setPrototypeOf;n?n(e,t):e.__proto__=t}function hse(e,t){t===void 0&&(t=e.constructor);var n=Error.captureStackTrace;n&&n(e,t)}var fse=function(){var e=function(n,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},e(n,r)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),pse=function(e){fse(t,e);function t(n,r){var i=this.constructor,a=e.call(this,n,r)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),dse(a,i.prototype),hse(a),a}return t}(Error),zs;(e=>{const t={VITE_GIT_HASH:"1fd0dce2a885646a25a052f41aa9e5d2456cbd89",VITE_USE_EXAMPLE_PLUGIN:{}.VITE_USE_EXAMPLE_PLUGIN??"false",VITE_USE_WEBUI_PLUGIN:{}.VITE_USE_WEBUI_PLUGIN??"false",VITE_USE_COMFYUI_PLUGIN:"true"};function n(a){return t[`VITE_${a}`]}e.get=n;class r extends pse{constructor(s){s.map(o=>`\`${o}\` is \`undefined\`!`),super(s.join(`
`))}}e.MissingVariablesError=r;function i({children:a}){return useEffect(()=>{const s=Object.entries(t).filter(([,o])=>`${o??""}`=="").map(([o])=>o);if(s[0])throw new e.MissingVariablesError(s)},[]),E(it,{children:a})}e.Provider=i})(zs||(zs={}));var Fn;(e=>{e.get=()=>{const{rootPlugin:n,activePluginID:r,plugins:i}=Is.use.getState();return(r?i[r]?.plugin:n).getState()};function t(n=r=>r){const r=Is.use(({rootPlugin:i,activePluginID:a,plugins:s})=>a&&s[a]?.plugin?s[a].plugin:i);return tt.useStore(r,n)}e.use=t,e.useUnload=()=>useCallback(n=>{Is.use.getState().setPlugins(({[n]:r,...i})=>i),Is.use.getState().setActivePluginID()},[]),e.useSetup=()=>{const[n,r]=useState(void 0),[i,a]=useState(!1),s=useCallback(async o=>{try{a(!0);const u=(await lte(()=>import(o),[])).createPlugin({getGitHash:()=>zs.get("GIT_HASH"),getStableDiffusionRandomPrompt:()=>re.Image.Prompt.Random.get()}),c=ID.create();return Is.use.getState().setPlugins(h=>({...h,[c]:{enabled:!0,index:Object.keys(h).length,plugin:u}})),Is.use.getState().setActivePluginID(c),a(!1),u}catch(l){a(!1),r(l instanceof Error?l:new Error("Failed to load plugin"));return}},[]);return{error:n,setError:r,isLoading:i,loadFromURL:s,getFromURL:doNothing}}})(Fn||(Fn={}));var Is;(e=>{e.use=tt.create(t=>{let n;zs.get("USE_EXAMPLE_PLUGIN")==="true"?n=hte:zs.get("USE_WEBUI_PLUGIN")==="true"?n=fie:zs.get("USE_COMFYUI_PLUGIN")==="true"?n=cse:n=tie;const{createPlugin:r}=n;return{rootPlugin:r({getGitHash:()=>zs.get("GIT_HASH"),getStableDiffusionRandomPrompt:()=>re.Image.Prompt.Random.get()}),setActivePluginID:i=>t({activePluginID:i}),plugins:{},setPlugins:i=>t(typeof i=="function"?({plugins:a})=>({plugins:i(a)}):{plugins:i})}})})(Is||(Is={}));function mse({id:e,noTitle:t,noBrand:n,disabled:r,onIdleClick:i,onClick:a,children:s,...o}){const l=re.Image.Create.useIsEnabled(),{input:u}=re.Image.Input.use(e),c=useCallback(p=>{a?.(p),i?.(p)},[i,a]),h=useMemo(()=>u&&re.Image.Model.StableDiffusionV1.validate(u),[u]);return u?E(q.Button,{size:"lg",color:n?"zinc":"brand",icon:q.Icon.Dream,disabled:r||!l||!h,onClick:c,...o,children:s??(!t&&E(it,{children:"Dream"}))}):null}var Ck;(e=>{e.Button=mse;let t;(r=>{const o=ate(1,500,!0);r.wait=()=>o(()=>Promise.resolve())})(t||(t={})),e.execute=async({count:r=re.Image.Count.preset(),input:i,onStarted:a=doNothing,onException:s=doNothing,onSuccess:o=doNothing,onFinished:l=doNothing})=>{const{createStableDiffusionImages:u}=Fn.get();try{if(!u)throw new Error("Plugin not found");n.set(new Date),a(),await t.wait();const c=await re.Image.Input.resizeInit(i),h=await re.Image.Input.toInput(c?{...i,init:{base64:c,weight:i.init?.weight??1,mask:i.init?.mask??!1}}:i);re.Image.Input.isUpscaling(i)||(h.height=Math.ceil((h.height??512)/64)*64,h.width=Math.ceil((h.width??512)/64)*64);const p=[],m=await u({input:h,count:r});if(m instanceof Error)throw m;if(!m||!m?.images||m?.images?.length<=0)throw new Error;const g={};for(const y of m.images){const b=ID.create(),v={...re.Image.Input.initial(b),...i,seed:y.input?.seed??i.seed,id:b},x=await gse(y,v);x&&(p.push(x),g[b]=v)}return re.Image.Inputs.set({...re.Image.Inputs.get(),...g}),o(p),l(p),p}catch(c){const h=re.Image.Exception.create(c);return s(h),l(h),h}},e.use=()=>{const r=re.Image.Exception.Snackbar.use();return useCallback(async({inputID:i,onStarted:a=doNothing,onException:s=doNothing,onSuccess:o=doNothing,onFinished:l=doNothing,modifiers:u={}})=>{let c=re.Image.Input.get(i);if(!c)return;c={...c,...u};const h=re.Image.Output.requested(i,u);return(0,e.execute)({count:u.count??re.Image.Count.get(),input:c,onStarted:()=>{re.Image.Output.set(h),a(h)},onException:p=>{r(p),s(p),re.Image.Output.clear(h.id)},onSuccess:p=>{p.forEach(re.Image.add),o(p)},onFinished:p=>{re.Image.Output.received(h.id,p),l(p)}})},[r])},e.useIsEnabled=()=>Fn.use(({createStableDiffusionImages:r})=>!!r);let n;(r=>{r.get=()=>i.get().latest,r.set=a=>i.get().setLatest(a),r.use=()=>i.use(({latest:a})=>a,tt.shallow);let i;(a=>{const s=tt.create(o=>({setLatest:l=>o({latest:l})}));a.get=()=>s.getState(),a.use=s})(i||(i={}))})(n=e.Latest||(e.Latest={}))})(Ck||(Ck={}));function gse(e,t){return new Promise(n=>{const r=e.id,i=e.blob;if(!i||!r)return n();const a=document.createElement("canvas");a.width=t.width,a.height=t.height;const s=a.getContext("2d"),o=new window.Image;o.src=URL.createObjectURL(i),o.onload=()=>{s.drawImage(o,0,0,t.width,t.height,0,0,t.width,t.height),a.toBlob(l=>{if(l){const u=URL.createObjectURL(l);n({id:r,inputID:t.id,created:new Date,src:u,finishReason:0})}})}})}function zh(){const{image:e,setImage:t,fileName:n,setFileName:r,upscale:i,setUpscale:a}=zh.State.use(),s=re.Image.Session.useUpscale(e),[o,l]=useState(!1),u=re.Image.Download.use(e),c=e&&re.Image.Input.get(e.inputID),h=re.Image.Input.isUpscaling(c||{});useEffect(()=>{e&&(c&&r(re.Image.Download.fileName(c)),a(h))},[h,e,c,r,a]);const p=useCallback(async()=>{if(!e)return;l(!0);const g=await s();if(l(!1),Array.isArray(g))return g[0]},[s,e]),m=i&&!h;return E(q.Modal,{modalName:"Download",open:!!e,onClose:()=>t(),children:e&&ne(q.Modal.Panel,{className:"flex w-[25rem] grow",children:[E(q.Modal.TopBar,{onClose:()=>t(),children:E(q.Modal.Title,{className:"text-lg",children:"Download"})}),ne("div",{className:"flex flex-col gap-3 p-2",children:[ne("div",{className:"flex items-center justify-between",children:[ne("div",{className:"flex flex-col gap-1",children:[E(q.Label,{className:"mb-0 ml-0",children:"File name"}),E(q.Input,{fullWidth:!0,onFocus:g=>{const y=g.target.value,b=y.slice(y.lastIndexOf("."));g.target.setSelectionRange(0,y.length-b.length)},placeholder:"File name",value:n,onChange:r})]}),ne("div",{className:"flex flex-col gap-1",children:[E(q.Label,{className:"mb-0 ml-0",children:"Upscale"}),E(q.Dropdown,{fullWidth:!0,className:"mx-0",options:[{label:"1x",value:"1x"},{label:"2x",value:"2x"}],value:i?"2x":"1x",onChange:g=>a(g.value==="2x"),disabled:h})]})]}),E(q.Button,{fullWidth:!0,size:"lg",color:"brand",icon:q.Icon.Download,loading:o,badgeRight:m&&E(q.Badge,{color:"brand",children:"0.2"}),onClick:()=>{!e||!c||(m?p().then(g=>{g&&u(g),t()}):(u(),t()))},children:o?"Upscaling...":m?"Upscale and download":"Download"})]})]})})}(e=>{(t=>{t.use=tt.create(n=>({setImage:r=>n(i=>({...i,image:r})),setFileName:r=>n(i=>({...i,fileName:r})),setUpscale:r=>n(i=>({...i,upscale:r})),upscale:!1}))})(e.State||(e.State={}))})(zh||(zh={}));var _k;(e=>{e.Modal=zh,e.fileName=t=>{const r=(t.prompts.map(({text:s})=>s).join(" ")??"").slice(0,50),i=t.model.replace("stable-diffusion-","").replace("stable-","");return`${t.seed}_${r}_${i}.png`},e.execute=async(t,n,r)=>{const i=await re.Image.blobURL(t);if(!i)return;const a=document.createElement("a");a.href=i,a.download=r??(0,e.fileName)(n),a.click()},e.use=t=>{const{image:n,fileName:r,setImage:i}=zh.State.use();return useCallback(async a=>{if(a){const o=re.Image.Input.get(a.inputID);if(o)return(0,e.execute)(a,o)}if(!t)return;const s=re.Image.Input.get(t.inputID);s&&(t===n?await(0,e.execute)(t,s,r):i(t))},[r,t,n,i])}})(_k||(_k={}));class yse extends Error{constructor(t,n="UNKNOWN",r){super(t),this.name="RpcError",Object.setPrototypeOf(this,new.target.prototype),this.code=n,this.meta=r??{}}toString(){const t=[this.name+": "+this.message];this.code&&(t.push(""),t.push("Code: "+this.code)),this.serviceName&&this.methodName&&t.push("Method: "+this.serviceName+"/"+this.methodName);let n=Object.entries(this.meta);if(n.length){t.push(""),t.push("Meta:");for(let[r,i]of n)t.push(`  ${r}: ${i}`)}return t.join(`
`)}}var Tk;(e=>{e.use=()=>{const{enqueueSnackbar:t}=q.Snackbar.use();return useCallback(n=>t(n.description,{variant:"error"}),[t])}})(Tk||(Tk={}));var Ik;(e=>{e.Snackbar=Tk;const t="Something went wrong on our end, please try again later";function n(o){if(!o&&typeof o!="object")return!1;const l=o;return l.cause instanceof Error&&(l.status===void 0||typeof l.status=="string")&&typeof l.description=="string"}e.is=n;function r(o={}){if(console.error(o),o instanceof yse||o instanceof Error&&o.name==="RpcError"){const u=o;return{cause:u,description:i(u),status:a(u)?"BANNED_TERM":s(u)?"OUT_OF_CREDITS":u.code}}const l=o instanceof Error?o:new Error(toJSON(o));return{cause:l,description:l.message}}e.create=r;function i(o){switch(!0){case o.message.includes("Completion canceled by user."):return"Canceled";case o.message.includes("Unable to remove the only API key remaining."):return"Sorry, you can't delete your only API key";case o.message.includes("Unable to get organization for request."):return"We couldn't find the organization you're asking for";case s(o):return"Not enough credits";case a(o):return"Something isn't quite right with your prompts";case o.message.includes("Unable to get user for request."):return"We couldn't find the user you're asking for";case o.message.includes("Unable to locate request organization."):return"We couldn't find the organization you're asking for ";case o.message.includes("Error filtering prompts."):return"Something isn't quite right with your prompts";case o.message.includes("Invalid prompts detected"):return"Something isn't quite right with your prompts";case o.message.includes("no prompts provided"):return"You have to provide at least one prompt";case o.message.includes("Unable to create a new billing ticket for this request."):return"We couldn't create a charge for some reason";case o.message.includes("cannot use empty Id for project file"):return"You have to specify a project";case o.message.includes("Incorrect time range provided."):return"Something was wrong with the times you provided";case o.message.includes("must provide image parameters"):return"Something isn't right with the image you provided";case o.message.includes("cannot create project with deleted status"):return"That project was already deleted";case o.message.includes("Incorrect amount value."):return"You can't charge less than $0.00";case o.message.includes('API key with ID "'):return"We couldn't find the API key you're asking for";case o.message.includes('Unable to find organization with ID "'):return"We couldn't find the organization you're asking for";case o.message.includes("No auto-charge intent."):return"You aren't set up for auto-charging";case o.message.includes("You do not have permission to access this resource."):return"You don't the right permissions";case o.message.includes("EmailNotVerifiedMessage"):return"You still need to verify your email address";case o.message.includes("user is not a member of the requested organization"):return"You aren't a member of that organization";case o.message.includes("You have insufficient privileges to access this resource."):return"You don't have the right permissions";case o.message.includes("You have too many API keys."):return"There are too many API keys";case o.message.includes("Unable to set default organization."):return"We couldn't set your default organization";case o.message.includes("Unable to update client settings."):return"We couldn't update your settings";case o.message.includes("Unable to connect to the prompt filter requested"):return"We couldn't properly filter your prompt";case o.message.includes("Unable to generate cost env for this request."):return"We couldn't generate a cost estimate for your request";case o.message.includes("Unable to connect to the engine requested"):return"Something's wrong with the model your're trying to use";case o.message.includes("Unable to connect to the classifier requested"):return"We couldn't use the classifier you're asking for";case o.message.includes("An unexpected server error occurred."):return t;case o.message.includes("Unable to create a new API key."):return"We couldn't create an API key for some reason";case o.message.includes("Unable to delete the API key."):return"We couldn't delete the API key for some reason";case o.message.includes("Unable to create an auto-charge intent:"):return"We couldn't set up auto-charge for some reason";case o.message.includes("Unable to get auto-charge intent."):return"We couldn't get your auto-charge settings";case o.message.includes("Unable to create a checkout session for this charge."):return"We couldn't create a charge for some reason";case o.message.includes("Unable to get charges."):return"We couldn't get your charges";case o.message.includes("Unable to delete account, contact support"):return"We couldn't delete your account, please contact support";case o.message.includes("image dimensions must be multiples of 64"):return"We somehow sent an image with the wrong dimensions";default:return t}}function a(o){return o.code==="BANNED_TERM"}e.isBannedTermError=a;function s(o){return o.message.includes("does not have enough balance")}e.isOutOfCreditsError=s})(Ik||(Ik={}));var Uh;(e=>{e.useImage=()=>Jd.use(({image:t})=>t),e.useStart=()=>{const t=Jd.use(({setImage:n})=>n);return useCallback(n=>t(n),[t])},e.useStop=()=>{const t=Jd.use(({setImage:n})=>n);return useCallback(n=>t(void 0),[t])}})(Uh||(Uh={}));var Jd;(e=>{e.use=tt.create(t=>({image:void 0,setImage:n=>t({image:n})}))})(Jd||(Jd={}));function v_({image:e,src:t,onLoadingChange:n,onClick:r,className:i}){const a=useRef(null),s=Uh.useStart(),o=Uh.useStop(),[l,u]=useState(!0),c=t??e?.src;return useEffect(()=>{!a.current?.complete&&u(!0)},[c]),useEffect(()=>{n?.(l)},[l,n]),c?E("img",{src:c,onDragStart:()=>s(e),onDragEnd:()=>o(e),onClick:r,ref:h=>{a.current=h,h&&(h.onload=()=>u(!1))},className:classes("h-full w-full object-cover opacity-0 duration-500",!l&&"opacity-100",i)}):null}v_.Dragging=Uh;/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function B0(){return B0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B0.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function z0(){return z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z0.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yl(e,t,n){var r,i=(r=n.initialDeps)!=null?r:[],a;return function(){var s;n.key&&n.debug!=null&&n.debug()&&(s=Date.now());var o=e(),l=o.length!==i.length||o.some(function(g,y){return i[y]!==g});if(!l)return a;i=o;var u;if(n.key&&n.debug!=null&&n.debug()&&(u=Date.now()),a=t.apply(void 0,o),n.key&&n.debug!=null&&n.debug()){var c=Math.round((Date.now()-s)*100)/100,h=Math.round((Date.now()-u)*100)/100,p=h/16,m=function(y,b){for(y=String(y);y.length<b;)y=" "+y;return y};console.info("%c "+m(h,5)+" /"+m(c,5)+" ms",`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(`+Math.max(0,Math.min(120-120*p,120))+"deg 100% 31%);",n?.key)}return n==null||n.onChange==null||n.onChange(a),a}}function Lb(e,t){if(e===void 0)throw new Error("Unexpected undefined"+(t?": "+t:""));return e}var vse=function(t,n){return Math.abs(t-n)<1};/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var wse=function(t){return t},bse=function(t){for(var n=Math.max(t.startIndex-t.overscan,0),r=Math.min(t.endIndex+t.overscan,t.count-1),i=[],a=n;a<=r;a++)i.push(a);return i},xse=function(t,n){var r=t.scrollElement;if(r){var i=function(o){var l=o.width,u=o.height;n({width:Math.round(l),height:Math.round(u)})};i(r.getBoundingClientRect());var a=new ResizeObserver(function(s){var o=s[0];if(o!=null&&o.borderBoxSize){var l=o.borderBoxSize[0];if(l){i({width:l.inlineSize,height:l.blockSize});return}}i(r.getBoundingClientRect())});return a.observe(r,{box:"border-box"}),function(){a.unobserve(r)}}},kse=function(t,n){var r=t.scrollElement;if(r){var i=function(){n(r[t.options.horizontal?"scrollLeft":"scrollTop"])};return i(),r.addEventListener("scroll",i,{passive:!0}),function(){r.removeEventListener("scroll",i)}}},Sse=function(t,n,r){if(n!=null&&n.borderBoxSize){var i=n.borderBoxSize[0];if(i){var a=Math.round(i[r.options.horizontal?"inlineSize":"blockSize"]);return a}}return Math.round(t.getBoundingClientRect()[r.options.horizontal?"width":"height"])},Ese=function(t,n,r){var i,a,s=n.adjustments,o=s===void 0?0:s,l=n.behavior,u=t+o;(i=r.scrollElement)==null||i.scrollTo==null||i.scrollTo((a={},a[r.options.horizontal?"left":"top"]=u,a.behavior=l,a))},Cse=function(t){var n=this;this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=function(){var r=null,i=function(){return r||(typeof ResizeObserver<"u"?r=new ResizeObserver(function(s){s.forEach(function(o){n._measureElement(o.target,o)})}):null)};return{disconnect:function(){var s;return(s=i())==null?void 0:s.disconnect()},observe:function(s){var o;return(o=i())==null?void 0:o.observe(s,{box:"border-box"})},unobserve:function(s){var o;return(o=i())==null?void 0:o.unobserve(s)}}}(),this.range={startIndex:0,endIndex:0},this.setOptions=function(r){Object.entries(r).forEach(function(i){var a=i[0],s=i[1];typeof s>"u"&&delete r[a]}),n.options=z0({debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:wse,rangeExtractor:bse,onChange:function(){},measureElement:Sse,initialRect:{width:0,height:0},scrollMargin:0,scrollingDelay:150,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1},r)},this.notify=function(){n.options.onChange==null||n.options.onChange(n)},this.cleanup=function(){n.unsubs.filter(Boolean).forEach(function(r){return r()}),n.unsubs=[],n.scrollElement=null},this._didMount=function(){return n.measureElementCache.forEach(n.observer.observe),function(){n.observer.disconnect(),n.cleanup()}},this._willUpdate=function(){var r=n.options.getScrollElement();n.scrollElement!==r&&(n.cleanup(),n.scrollElement=r,n._scrollToOffset(n.scrollOffset,{adjustments:void 0,behavior:void 0}),n.unsubs.push(n.options.observeElementRect(n,function(i){var a=n.scrollRect;n.scrollRect=i,(n.options.horizontal?i.width!==a.width:i.height!==a.height)&&n.maybeNotify()})),n.unsubs.push(n.options.observeElementOffset(n,function(i){n.scrollAdjustments=0,n.scrollOffset!==i&&(n.isScrollingTimeoutId!==null&&(clearTimeout(n.isScrollingTimeoutId),n.isScrollingTimeoutId=null),n.isScrolling=!0,n.scrollDirection=n.scrollOffset<i?"forward":"backward",n.scrollOffset=i,n.maybeNotify(),n.isScrollingTimeoutId=setTimeout(function(){n.isScrollingTimeoutId=null,n.isScrolling=!1,n.scrollDirection=null,n.maybeNotify()},n.options.scrollingDelay))})))},this.getSize=function(){return n.scrollRect[n.options.horizontal?"width":"height"]},this.memoOptions=Yl(function(){return[n.options.count,n.options.paddingStart,n.options.scrollMargin,n.options.getItemKey]},function(r,i,a,s){return n.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:i,scrollMargin:a,getItemKey:s}},{key:!1}),this.getFurthestMeasurement=function(r,i){for(var a=new Map,s=new Map,o=i-1;o>=0;o--){var l=r[o];if(!a.has(l.lane)){var u=s.get(l.lane);if(u==null||l.end>u.end?s.set(l.lane,l):l.end<u.end&&a.set(l.lane,!0),a.size===n.options.lanes)break}}return s.size===n.options.lanes?Array.from(s.values()).sort(function(c,h){return c.end-h.end})[0]:void 0},this.getMeasurements=Yl(function(){return[n.memoOptions(),n.itemSizeCache]},function(r,i){var a=r.count,s=r.paddingStart,o=r.scrollMargin,l=r.getItemKey,u=n.pendingMeasuredCacheIndexes.length>0?Math.min.apply(Math,n.pendingMeasuredCacheIndexes):0;n.pendingMeasuredCacheIndexes=[];for(var c=n.measurementsCache.slice(0,u),h=u;h<a;h++){var p=l(h),m=n.options.lanes===1?c[h-1]:n.getFurthestMeasurement(c,h),g=m?m.end:s+o,y=i.get(p),b=typeof y=="number"?y:n.options.estimateSize(h),v=g+b,x=m?m.lane:h%n.options.lanes;c[h]={index:h,start:g,size:b,end:v,key:p,lane:x}}return n.measurementsCache=c,c},{key:!1,debug:function(){return n.options.debug}}),this.calculateRange=Yl(function(){return[n.getMeasurements(),n.getSize(),n.scrollOffset]},function(r,i,a){return n.range=_se({measurements:r,outerSize:i,scrollOffset:a})},{key:!1,debug:function(){return n.options.debug}}),this.maybeNotify=Yl(function(){var r=n.calculateRange();return[r.startIndex,r.endIndex,n.isScrolling]},function(){n.notify()},{key:!1,debug:function(){return n.options.debug},initialDeps:[this.range.startIndex,this.range.endIndex,this.isScrolling]}),this.getIndexes=Yl(function(){return[n.options.rangeExtractor,n.calculateRange(),n.options.overscan,n.options.count]},function(r,i,a,s){return r(z0({},i,{overscan:a,count:s}))},{key:!1,debug:function(){return n.options.debug}}),this.indexFromElement=function(r){var i=n.options.indexAttribute,a=r.getAttribute(i);return a?parseInt(a,10):(console.warn("Missing attribute name '"+i+"={index}' on measured element."),-1)},this._measureElement=function(r,i){var a,s=n.indexFromElement(r),o=n.measurementsCache[s];if(o){var l=n.measureElementCache.get(o.key);if(!r.isConnected){n.observer.unobserve(r),r===l&&n.measureElementCache.delete(o.key);return}l!==r&&(l&&n.observer.unobserve(l),n.observer.observe(r),n.measureElementCache.set(o.key,r));var u=n.options.measureElement(r,i,n),c=(a=n.itemSizeCache.get(o.key))!=null?a:o.size,h=u-c;h!==0&&(o.start<n.scrollOffset&&n._scrollToOffset(n.scrollOffset,{adjustments:n.scrollAdjustments+=h,behavior:void 0}),n.pendingMeasuredCacheIndexes.push(s),n.itemSizeCache=new Map(n.itemSizeCache.set(o.key,u)),n.notify())}},this.measureElement=function(r){r&&n._measureElement(r,void 0)},this.getVirtualItems=Yl(function(){return[n.getIndexes(),n.getMeasurements()]},function(r,i){for(var a=[],s=0,o=r.length;s<o;s++){var l=r[s],u=i[l];a.push(u)}return a},{key:!1,debug:function(){return n.options.debug}}),this.getVirtualItemForOffset=function(r){var i=n.getMeasurements();return Lb(i[wF(0,i.length-1,function(a){return Lb(i[a]).start},r)])},this.getOffsetForAlignment=function(r,i){var a=n.getSize();i==="auto"&&(r<=n.scrollOffset?i="start":r>=n.scrollOffset+a?i="end":i="start"),i==="start"?r=r:i==="end"?r=r-a:i==="center"&&(r=r-a/2);var s=n.options.horizontal?"scrollWidth":"scrollHeight",o=n.scrollElement?"document"in n.scrollElement?n.scrollElement.document.documentElement[s]:n.scrollElement[s]:0,l=o-n.getSize();return Math.max(Math.min(l,r),0)},this.getOffsetForIndex=function(r,i){i===void 0&&(i="auto"),r=Math.max(0,Math.min(r,n.options.count-1));var a=Lb(n.getMeasurements()[r]);if(i==="auto")if(a.end>=n.scrollOffset+n.getSize()-n.options.scrollPaddingEnd)i="end";else if(a.start<=n.scrollOffset+n.options.scrollPaddingStart)i="start";else return[n.scrollOffset,i];var s=i==="end"?a.end+n.options.scrollPaddingEnd:a.start-n.options.scrollPaddingStart;return[n.getOffsetForAlignment(s,i),i]},this.isDynamicMode=function(){return n.measureElementCache.size>0},this.cancelScrollToIndex=function(){n.scrollToIndexTimeoutId!==null&&(clearTimeout(n.scrollToIndexTimeoutId),n.scrollToIndexTimeoutId=null)},this.scrollToOffset=function(r,i){var a=i===void 0?{}:i,s=a.align,o=s===void 0?"start":s,l=a.behavior;n.cancelScrollToIndex(),l==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n._scrollToOffset(n.getOffsetForAlignment(r,o),{adjustments:void 0,behavior:l})},this.scrollToIndex=function(r,i){var a=i===void 0?{}:i,s=a.align,o=s===void 0?"auto":s,l=a.behavior;r=Math.max(0,Math.min(r,n.options.count-1)),n.cancelScrollToIndex(),l==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");var u=n.getOffsetForIndex(r,o),c=u[0],h=u[1];n._scrollToOffset(c,{adjustments:void 0,behavior:l}),l!=="smooth"&&n.isDynamicMode()&&(n.scrollToIndexTimeoutId=setTimeout(function(){n.scrollToIndexTimeoutId=null;var p=n.measureElementCache.has(n.options.getItemKey(r));if(p){var m=n.getOffsetForIndex(r,h),g=m[0];vse(g,n.scrollOffset)||n.scrollToIndex(r,{align:h,behavior:l})}else n.scrollToIndex(r,{align:h,behavior:l})}))},this.scrollBy=function(r,i){var a=i===void 0?{}:i,s=a.behavior;n.cancelScrollToIndex(),s==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n._scrollToOffset(n.scrollOffset+r,{adjustments:void 0,behavior:s})},this.getTotalSize=function(){var r;return(((r=n.getMeasurements()[n.options.count-1])==null?void 0:r.end)||n.options.paddingStart)-n.options.scrollMargin+n.options.paddingEnd},this._scrollToOffset=function(r,i){var a=i.adjustments,s=i.behavior;n.options.scrollToFn(r,{behavior:s,adjustments:a},n)},this.measure=function(){n.itemSizeCache=new Map,n.notify()},this.setOptions(t),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(function(r){n.itemSizeCache.set(r.key,r.size)}),this.maybeNotify()},wF=function(t,n,r,i){for(;t<=n;){var a=(t+n)/2|0,s=r(a);if(s<i)t=a+1;else if(s>i)n=a-1;else return a}return t>0?t-1:0};function _se(e){for(var t=e.measurements,n=e.outerSize,r=e.scrollOffset,i=t.length-1,a=function(u){return t[u].start},s=wF(0,i,a,r),o=s;o<i&&t[o].end<r+n;)o++;return{startIndex:s,endIndex:o}}/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Tse=typeof document<"u"?Y.useLayoutEffect:Y.useEffect;function Ise(e){var t=Y.useReducer(function(){return{}},{})[1],n=B0({},e,{onChange:function(s){t(),e.onChange==null||e.onChange(s)}}),r=Y.useState(function(){return new Cse(n)}),i=r[0];return i.setOptions(n),Y.useEffect(function(){return i._didMount()},[]),Tse(function(){return i._willUpdate()}),i}function Pse(e){return Ise(B0({observeElementRect:xse,observeElementOffset:kse,scrollToFn:Ese},e))}class bc{constructor(){this.listeners=[],this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.push(t),this.onSubscribe(),()=>{this.listeners=this.listeners.filter(n=>n!==t),this.onUnsubscribe()}}hasListeners(){return this.listeners.length>0}onSubscribe(){}onUnsubscribe(){}}const jh=typeof window>"u"||"Deno"in window;function wi(){}function Rse(e,t){return typeof e=="function"?e(t):e}function Pk(e){return typeof e=="number"&&e>=0&&e!==1/0}function bF(e,t){return Math.max(e+(t||0)-Date.now(),0)}function gu(e,t,n){return Ef(e)?typeof t=="function"?{...n,queryKey:e,queryFn:t}:{...t,queryKey:e}:e}function Ase(e,t,n){return Ef(e)?typeof t=="function"?{...n,mutationKey:e,mutationFn:t}:{...t,mutationKey:e}:typeof e=="function"?{...t,mutationFn:e}:{...e}}function Ps(e,t,n){return Ef(e)?[{...t,queryKey:e},n]:[e||{},t]}function hR(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:s,stale:o}=e;if(Ef(s)){if(r){if(t.queryHash!==w_(s,t.options))return!1}else if(!U0(t.queryKey,s))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||typeof i<"u"&&i!==t.state.fetchStatus||a&&!a(t))}function fR(e,t){const{exact:n,fetching:r,predicate:i,mutationKey:a}=e;if(Ef(a)){if(!t.options.mutationKey)return!1;if(n){if(Wo(t.options.mutationKey)!==Wo(a))return!1}else if(!U0(t.options.mutationKey,a))return!1}return!(typeof r=="boolean"&&t.state.status==="loading"!==r||i&&!i(t))}function w_(e,t){return(t?.queryKeyHashFn||Wo)(e)}function Wo(e){return JSON.stringify(e,(t,n)=>Ak(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function U0(e,t){return xF(e,t)}function xF(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!xF(e[n],t[n])):!1}function kF(e,t){if(e===t)return e;const n=pR(e)&&pR(t);if(n||Ak(e)&&Ak(t)){const r=n?e.length:Object.keys(e).length,i=n?t:Object.keys(t),a=i.length,s=n?[]:{};let o=0;for(let l=0;l<a;l++){const u=n?l:i[l];s[u]=kF(e[u],t[u]),s[u]===e[u]&&o++}return r===a&&o===r?e:s}return t}function Rk(e,t){if(e&&!t||t&&!e)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function pR(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ak(e){if(!mR(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!mR(n)||!n.hasOwnProperty("isPrototypeOf"))}function mR(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ef(e){return Array.isArray(e)}function SF(e){return new Promise(t=>{setTimeout(t,e)})}function gR(e){SF(0).then(e)}function Nse(){if(typeof AbortController=="function")return new AbortController}function Nk(e,t,n){return n.isDataEqual!=null&&n.isDataEqual(e,t)?e:typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?kF(e,t):t}class Dse extends bc{constructor(){super(),this.setup=t=>{if(!jh&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var n;this.setup=t,(n=this.cleanup)==null||n.call(this),this.cleanup=t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(t){this.focused=t,t&&this.onFocus()}onFocus(){this.listeners.forEach(t=>{t()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const j0=new Dse;class Ose extends bc{constructor(){super(),this.setup=t=>{if(!jh&&window.addEventListener){const n=()=>t();return window.addEventListener("online",n,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var n;this.setup=t,(n=this.cleanup)==null||n.call(this),this.cleanup=t(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(t){this.online=t,t&&this.onOnline()}onOnline(){this.listeners.forEach(t=>{t()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const $0=new Ose;function Mse(e){return Math.min(1e3*2**e,3e4)}function bv(e){return(e??"online")==="online"?$0.isOnline():!0}class EF{constructor(t){this.revert=t?.revert,this.silent=t?.silent}}function Sg(e){return e instanceof EF}function CF(e){let t=!1,n=0,r=!1,i,a,s;const o=new Promise((b,v)=>{a=b,s=v}),l=b=>{r||(m(new EF(b)),e.abort==null||e.abort())},u=()=>{t=!0},c=()=>{t=!1},h=()=>!j0.isFocused()||e.networkMode!=="always"&&!$0.isOnline(),p=b=>{r||(r=!0,e.onSuccess==null||e.onSuccess(b),i?.(),a(b))},m=b=>{r||(r=!0,e.onError==null||e.onError(b),i?.(),s(b))},g=()=>new Promise(b=>{i=v=>{const x=r||!h();return x&&b(v),x},e.onPause==null||e.onPause()}).then(()=>{i=void 0,r||e.onContinue==null||e.onContinue()}),y=()=>{if(r)return;let b;try{b=e.fn()}catch(v){b=Promise.reject(v)}Promise.resolve(b).then(p).catch(v=>{var x,k;if(r)return;const T=(x=e.retry)!=null?x:3,P=(k=e.retryDelay)!=null?k:Mse,R=typeof P=="function"?P(n,v):P,N=T===!0||typeof T=="number"&&n<T||typeof T=="function"&&T(n,v);if(t||!N){m(v);return}n++,e.onFail==null||e.onFail(n,v),SF(R).then(()=>{if(h())return g()}).then(()=>{t?m(v):y()})})};return bv(e.networkMode)?y():g().then(y),{promise:o,cancel:l,continue:()=>i?.()?o:Promise.resolve(),cancelRetry:u,continueRetry:c}}const b_=console;function Lse(){let e=[],t=0,n=c=>{c()},r=c=>{c()};const i=c=>{let h;t++;try{h=c()}finally{t--,t||o()}return h},a=c=>{t?e.push(c):gR(()=>{n(c)})},s=c=>(...h)=>{a(()=>{c(...h)})},o=()=>{const c=e;e=[],c.length&&gR(()=>{r(()=>{c.forEach(h=>{n(h)})})})};return{batch:i,batchCalls:s,schedule:a,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c}}}const vn=Lse();class _F{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Pk(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(t){this.cacheTime=Math.max(this.cacheTime||0,t??(jh?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}let Fse=class extends _F{constructor(t){super(),this.abortSignalConsumed=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.logger=t.logger||b_,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||Bse(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(t,n){const r=Nk(this.state.data,t,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(t,n){this.dispatch({type:"setState",state:t,setStateOptions:n})}cancel(t){var n;const r=this.promise;return(n=this.retryer)==null||n.cancel(t),r?r.then(wi).catch(wi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(t=>t.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(t=>t.getCurrentResult().isStale)}isStaleByTime(t=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!bF(this.state.dataUpdatedAt,t)}onFocus(){var t;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}onOnline(){var t;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}addObserver(t){this.observers.indexOf(t)===-1&&(this.observers.push(t),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.indexOf(t)!==-1&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(t,n){var r,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var a;return(a=this.retryer)==null||a.continueRetry(),this.promise}}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(g=>g.options.queryFn);m&&this.setOptions(m.options)}Array.isArray(this.options.queryKey);const s=Nse(),o={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},l=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>{if(s)return this.abortSignalConsumed=!0,s.signal}})};l(o);const u=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(o)):Promise.reject("Missing queryFn"),c={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:u};if(l(c),(r=this.options.behavior)==null||r.onFetch(c),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=c.fetchOptions)==null?void 0:i.meta)){var h;this.dispatch({type:"fetch",meta:(h=c.fetchOptions)==null?void 0:h.meta})}const p=m=>{if(Sg(m)&&m.silent||this.dispatch({type:"error",error:m}),!Sg(m)){var g,y,b,v;(g=(y=this.cache.config).onError)==null||g.call(y,m,this),(b=(v=this.cache.config).onSettled)==null||b.call(v,this.state.data,m,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=CF({fn:c.fetchFn,abort:s?.abort.bind(s),onSuccess:m=>{var g,y,b,v;if(typeof m>"u"){p(new Error(this.queryHash+" data is undefined"));return}this.setData(m),(g=(y=this.cache.config).onSuccess)==null||g.call(y,m,this),(b=(v=this.cache.config).onSettled)==null||b.call(v,m,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:p,onFail:(m,g)=>{this.dispatch({type:"failed",failureCount:m,error:g})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(t){const n=r=>{var i,a;switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=t.meta)!=null?i:null,fetchStatus:bv(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(a=t.dataUpdatedAt)!=null?a:Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Sg(s)&&s.revert&&this.revertState?{...this.revertState}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),vn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(t)}),this.cache.notify({query:this,type:"updated",action:t})})}};function Bse(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=typeof t<"u",r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class zse extends bc{constructor(t){super(),this.config=t||{},this.queries=[],this.queriesMap={}}build(t,n,r){var i;const a=n.queryKey,s=(i=n.queryHash)!=null?i:w_(a,n);let o=this.get(s);return o||(o=new Fse({cache:this,logger:t.getLogger(),queryKey:a,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){this.queriesMap[t.queryHash]||(this.queriesMap[t.queryHash]=t,this.queries.push(t),this.notify({type:"added",query:t}))}remove(t){const n=this.queriesMap[t.queryHash];n&&(t.destroy(),this.queries=this.queries.filter(r=>r!==t),n===t&&delete this.queriesMap[t.queryHash],this.notify({type:"removed",query:t}))}clear(){vn.batch(()=>{this.queries.forEach(t=>{this.remove(t)})})}get(t){return this.queriesMap[t]}getAll(){return this.queries}find(t,n){const[r]=Ps(t,n);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(i=>hR(r,i))}findAll(t,n){const[r]=Ps(t,n);return Object.keys(r).length>0?this.queries.filter(i=>hR(r,i)):this.queries}notify(t){vn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){vn.batch(()=>{this.queries.forEach(t=>{t.onFocus()})})}onOnline(){vn.batch(()=>{this.queries.forEach(t=>{t.onOnline()})})}}class Use extends _F{constructor(t){super(),this.defaultOptions=t.defaultOptions,this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.logger=t.logger||b_,this.observers=[],this.state=t.state||TF(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(t){this.dispatch({type:"setState",state:t})}addObserver(t){this.observers.indexOf(t)===-1&&(this.observers.push(t),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.observers=this.observers.filter(n=>n!==t),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var t,n;return(t=(n=this.retryer)==null?void 0:n.continue())!=null?t:this.execute()}async execute(){const t=()=>{var N;return this.retryer=CF({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(B,j)=>{this.dispatch({type:"failed",failureCount:B,error:j})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(N=this.options.retry)!=null?N:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var r,i,a,s,o,l,u,c;if(!n){var h,p,m,g;this.dispatch({type:"loading",variables:this.options.variables}),await((h=(p=this.mutationCache.config).onMutate)==null?void 0:h.call(p,this.state.variables,this));const B=await((m=(g=this.options).onMutate)==null?void 0:m.call(g,this.state.variables));B!==this.state.context&&this.dispatch({type:"loading",context:B,variables:this.state.variables})}const N=await t();return await((r=(i=this.mutationCache.config).onSuccess)==null?void 0:r.call(i,N,this.state.variables,this.state.context,this)),await((a=(s=this.options).onSuccess)==null?void 0:a.call(s,N,this.state.variables,this.state.context)),await((o=(l=this.mutationCache.config).onSettled)==null?void 0:o.call(l,N,null,this.state.variables,this.state.context,this)),await((u=(c=this.options).onSettled)==null?void 0:u.call(c,N,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:N}),N}catch(N){try{var y,b,v,x,k,T,P,R;throw await((y=(b=this.mutationCache.config).onError)==null?void 0:y.call(b,N,this.state.variables,this.state.context,this)),await((v=(x=this.options).onError)==null?void 0:v.call(x,N,this.state.variables,this.state.context)),await((k=(T=this.mutationCache.config).onSettled)==null?void 0:k.call(T,void 0,N,this.state.variables,this.state.context,this)),await((P=(R=this.options).onSettled)==null?void 0:P.call(R,void 0,N,this.state.variables,this.state.context)),N}finally{this.dispatch({type:"error",error:N})}}}dispatch(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!bv(this.options.networkMode),status:"loading",variables:t.variables};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"};case"setState":return{...r,...t.state}}};this.state=n(this.state),vn.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(t)}),this.mutationCache.notify({mutation:this,type:"updated",action:t})})}}function TF(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class jse extends bc{constructor(t){super(),this.config=t||{},this.mutations=[],this.mutationId=0}build(t,n,r){const i=new Use({mutationCache:this,logger:t.getLogger(),mutationId:++this.mutationId,options:t.defaultMutationOptions(n),state:r,defaultOptions:n.mutationKey?t.getMutationDefaults(n.mutationKey):void 0});return this.add(i),i}add(t){this.mutations.push(t),this.notify({type:"added",mutation:t})}remove(t){this.mutations=this.mutations.filter(n=>n!==t),this.notify({type:"removed",mutation:t})}clear(){vn.batch(()=>{this.mutations.forEach(t=>{this.remove(t)})})}getAll(){return this.mutations}find(t){return typeof t.exact>"u"&&(t.exact=!0),this.mutations.find(n=>fR(t,n))}findAll(t){return this.mutations.filter(n=>fR(t,n))}notify(t){vn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){var t;return this.resuming=((t=this.resuming)!=null?t:Promise.resolve()).then(()=>{const n=this.mutations.filter(r=>r.state.isPaused);return vn.batch(()=>n.reduce((r,i)=>r.then(()=>i.continue().catch(wi)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function Dk(){return{onFetch:e=>{e.fetchFn=()=>{var t,n,r,i,a,s;const o=(t=e.fetchOptions)==null||(n=t.meta)==null?void 0:n.refetchPage,l=(r=e.fetchOptions)==null||(i=r.meta)==null?void 0:i.fetchMore,u=l?.pageParam,c=l?.direction==="forward",h=l?.direction==="backward",p=((a=e.state.data)==null?void 0:a.pages)||[],m=((s=e.state.data)==null?void 0:s.pageParams)||[];let g=m,y=!1;const b=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>{var N;if((N=e.signal)!=null&&N.aborted)y=!0;else{var B;(B=e.signal)==null||B.addEventListener("abort",()=>{y=!0})}return e.signal}})},v=e.options.queryFn||(()=>Promise.reject("Missing queryFn")),x=(R,N,B,j)=>(g=j?[N,...g]:[...g,N],j?[B,...R]:[...R,B]),k=(R,N,B,j)=>{if(y)return Promise.reject("Cancelled");if(typeof B>"u"&&!N&&R.length)return Promise.resolve(R);const W={queryKey:e.queryKey,pageParam:B,meta:e.options.meta};b(W);const H=v(W);return Promise.resolve(H).then($=>x(R,B,$,j))};let T;if(!p.length)T=k([]);else if(c){const R=typeof u<"u",N=R?u:Ok(e.options,p);T=k(p,R,N)}else if(h){const R=typeof u<"u",N=R?u:IF(e.options,p);T=k(p,R,N,!0)}else{g=[];const R=typeof e.options.getNextPageParam>"u";T=(o&&p[0]?o(p[0],0,p):!0)?k([],R,m[0]):Promise.resolve(x([],m[0],p[0]));for(let B=1;B<p.length;B++)T=T.then(j=>{if(o&&p[B]?o(p[B],B,p):!0){const H=R?m[B]:Ok(e.options,j);return k(j,R,H)}return Promise.resolve(x(j,m[B],p[B]))})}return T.then(R=>({pages:R,pageParams:g}))}}}}function Ok(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function IF(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}function $se(e,t){if(e.getNextPageParam&&Array.isArray(t)){const n=Ok(e,t);return typeof n<"u"&&n!==null&&n!==!1}}function Vse(e,t){if(e.getPreviousPageParam&&Array.isArray(t)){const n=IF(e,t);return typeof n<"u"&&n!==null&&n!==!1}}class Wse{constructor(t={}){this.queryCache=t.queryCache||new zse,this.mutationCache=t.mutationCache||new jse,this.logger=t.logger||b_,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=j0.subscribe(()=>{j0.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=$0.subscribe(()=>{$0.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var t,n;this.mountCount--,this.mountCount===0&&((t=this.unsubscribeFocus)==null||t.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(t,n){const[r]=Ps(t,n);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(t){return this.mutationCache.findAll({...t,fetching:!0}).length}getQueryData(t,n){var r;return(r=this.queryCache.find(t,n))==null?void 0:r.state.data}ensureQueryData(t,n,r){const i=gu(t,n,r),a=this.getQueryData(i.queryKey);return a?Promise.resolve(a):this.fetchQuery(i)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(t,n,r){const i=this.queryCache.find(t),a=i?.state.data,s=Rse(n,a);if(typeof s>"u")return;const o=gu(t),l=this.defaultQueryOptions(o);return this.queryCache.build(this,l).setData(s,{...r,manual:!0})}setQueriesData(t,n,r){return vn.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(t,n){var r;return(r=this.queryCache.find(t,n))==null?void 0:r.state}removeQueries(t,n){const[r]=Ps(t,n),i=this.queryCache;vn.batch(()=>{i.findAll(r).forEach(a=>{i.remove(a)})})}resetQueries(t,n,r){const[i,a]=Ps(t,n,r),s=this.queryCache,o={type:"active",...i};return vn.batch(()=>(s.findAll(i).forEach(l=>{l.reset()}),this.refetchQueries(o,a)))}cancelQueries(t,n,r){const[i,a={}]=Ps(t,n,r);typeof a.revert>"u"&&(a.revert=!0);const s=vn.batch(()=>this.queryCache.findAll(i).map(o=>o.cancel(a)));return Promise.all(s).then(wi).catch(wi)}invalidateQueries(t,n,r){const[i,a]=Ps(t,n,r);return vn.batch(()=>{var s,o;if(this.queryCache.findAll(i).forEach(u=>{u.invalidate()}),i.refetchType==="none")return Promise.resolve();const l={...i,type:(s=(o=i.refetchType)!=null?o:i.type)!=null?s:"active"};return this.refetchQueries(l,a)})}refetchQueries(t,n,r){const[i,a]=Ps(t,n,r),s=vn.batch(()=>this.queryCache.findAll(i).filter(l=>!l.isDisabled()).map(l=>{var u;return l.fetch(void 0,{...a,cancelRefetch:(u=a?.cancelRefetch)!=null?u:!0,meta:{refetchPage:i.refetchPage}})}));let o=Promise.all(s).then(wi);return a!=null&&a.throwOnError||(o=o.catch(wi)),o}fetchQuery(t,n,r){const i=gu(t,n,r),a=this.defaultQueryOptions(i);typeof a.retry>"u"&&(a.retry=!1);const s=this.queryCache.build(this,a);return s.isStaleByTime(a.staleTime)?s.fetch(a):Promise.resolve(s.state.data)}prefetchQuery(t,n,r){return this.fetchQuery(t,n,r).then(wi).catch(wi)}fetchInfiniteQuery(t,n,r){const i=gu(t,n,r);return i.behavior=Dk(),this.fetchQuery(i)}prefetchInfiniteQuery(t,n,r){return this.fetchInfiniteQuery(t,n,r).then(wi).catch(wi)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(t){this.defaultOptions=t}setQueryDefaults(t,n){const r=this.queryDefaults.find(i=>Wo(t)===Wo(i.queryKey));r?r.defaultOptions=n:this.queryDefaults.push({queryKey:t,defaultOptions:n})}getQueryDefaults(t){if(!t)return;const n=this.queryDefaults.find(r=>U0(t,r.queryKey));return n?.defaultOptions}setMutationDefaults(t,n){const r=this.mutationDefaults.find(i=>Wo(t)===Wo(i.mutationKey));r?r.defaultOptions=n:this.mutationDefaults.push({mutationKey:t,defaultOptions:n})}getMutationDefaults(t){if(!t)return;const n=this.mutationDefaults.find(r=>U0(t,r.mutationKey));return n?.defaultOptions}defaultQueryOptions(t){if(t!=null&&t._defaulted)return t;const n={...this.defaultOptions.queries,...this.getQueryDefaults(t?.queryKey),...t,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=w_(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...this.defaultOptions.mutations,...this.getMutationDefaults(t?.mutationKey),...t,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class PF extends bc{constructor(t,n){super(),this.client=t,this.options=n,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(n)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.length===1&&(this.currentQuery.addObserver(this),yR(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.listeners.length||this.destroy()}shouldFetchOnReconnect(){return Mk(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Mk(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=[],this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(t,n){const r=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(t),Rk(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const a=this.hasListeners();a&&vR(this.currentQuery,i,this.options,r)&&this.executeFetch(),this.updateResult(n),a&&(this.currentQuery!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const s=this.computeRefetchInterval();a&&(this.currentQuery!==i||this.options.enabled!==r.enabled||s!==this.currentRefetchInterval)&&this.updateRefetchInterval(s)}getOptimisticResult(t){const n=this.client.getQueryCache().build(this.client,t);return this.createResult(n,t)}getCurrentResult(){return this.currentResult}trackResult(t){const n={};return Object.keys(t).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),t[r])})}),n}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:t,...n}={}){return this.fetch({...n,meta:{refetchPage:t}})}fetchOptimistic(t){const n=this.client.defaultQueryOptions(t),r=this.client.getQueryCache().build(this.client,n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(t){var n;return this.executeFetch({...t,cancelRefetch:(n=t.cancelRefetch)!=null?n:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(t){this.updateQuery();let n=this.currentQuery.fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(wi)),n}updateStaleTimeout(){if(this.clearStaleTimeout(),jh||this.currentResult.isStale||!Pk(this.options.staleTime))return;const n=bF(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},n)}computeRefetchInterval(){var t;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(t=this.options.refetchInterval)!=null?t:!1}updateRefetchInterval(t){this.clearRefetchInterval(),this.currentRefetchInterval=t,!(jh||this.options.enabled===!1||!Pk(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||j0.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(t,n){const r=this.currentQuery,i=this.options,a=this.currentResult,s=this.currentResultState,o=this.currentResultOptions,l=t!==r,u=l?t.state:this.currentQueryInitialState,c=l?this.currentResult:this.previousQueryResult,{state:h}=t;let{dataUpdatedAt:p,error:m,errorUpdatedAt:g,fetchStatus:y,status:b}=h,v=!1,x=!1,k;if(n._optimisticResults){const B=this.hasListeners(),j=!B&&yR(t,n),W=B&&vR(t,r,n,i);(j||W)&&(y=bv(t.options.networkMode)?"fetching":"paused",p||(b="loading")),n._optimisticResults==="isRestoring"&&(y="idle")}if(n.keepPreviousData&&!h.dataUpdatedAt&&c!=null&&c.isSuccess&&b!=="error")k=c.data,p=c.dataUpdatedAt,b=c.status,v=!0;else if(n.select&&typeof h.data<"u")if(a&&h.data===s?.data&&n.select===this.selectFn)k=this.selectResult;else try{this.selectFn=n.select,k=n.select(h.data),k=Nk(a?.data,k,n),this.selectResult=k,this.selectError=null}catch(B){this.selectError=B}else k=h.data;if(typeof n.placeholderData<"u"&&typeof k>"u"&&b==="loading"){let B;if(a!=null&&a.isPlaceholderData&&n.placeholderData===o?.placeholderData)B=a.data;else if(B=typeof n.placeholderData=="function"?n.placeholderData():n.placeholderData,n.select&&typeof B<"u")try{B=n.select(B),this.selectError=null}catch(j){this.selectError=j}typeof B<"u"&&(b="success",k=Nk(a?.data,B,n),x=!0)}this.selectError&&(m=this.selectError,k=this.selectResult,g=Date.now(),b="error");const T=y==="fetching",P=b==="loading",R=b==="error";return{status:b,fetchStatus:y,isLoading:P,isSuccess:b==="success",isError:R,isInitialLoading:P&&T,data:k,dataUpdatedAt:p,error:m,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:T,isRefetching:T&&!P,isLoadingError:R&&h.dataUpdatedAt===0,isPaused:y==="paused",isPlaceholderData:x,isPreviousData:v,isRefetchError:R&&h.dataUpdatedAt!==0,isStale:x_(t,n),refetch:this.refetch,remove:this.remove}}updateResult(t){const n=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,Rk(r,n))return;this.currentResult=r;const i={cache:!0},a=()=>{if(!n)return!0;const{notifyOnChangeProps:s}=this.options;if(s==="all"||!s&&!this.trackedProps.size)return!0;const o=new Set(s??this.trackedProps);return this.options.useErrorBoundary&&o.add("error"),Object.keys(this.currentResult).some(l=>{const u=l;return this.currentResult[u]!==n[u]&&o.has(u)})};t?.listeners!==!1&&a()&&(i.listeners=!0),this.notify({...i,...t})}updateQuery(){const t=this.client.getQueryCache().build(this.client,this.options);if(t===this.currentQuery)return;const n=this.currentQuery;this.currentQuery=t,this.currentQueryInitialState=t.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(n?.removeObserver(this),t.addObserver(this))}onQueryUpdate(t){const n={};t.type==="success"?n.onSuccess=!t.manual:t.type==="error"&&!Sg(t.error)&&(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()}notify(t){vn.batch(()=>{if(t.onSuccess){var n,r,i,a;(n=(r=this.options).onSuccess)==null||n.call(r,this.currentResult.data),(i=(a=this.options).onSettled)==null||i.call(a,this.currentResult.data,null)}else if(t.onError){var s,o,l,u;(s=(o=this.options).onError)==null||s.call(o,this.currentResult.error),(l=(u=this.options).onSettled)==null||l.call(u,void 0,this.currentResult.error)}t.listeners&&this.listeners.forEach(c=>{c(this.currentResult)}),t.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function Gse(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function yR(e,t){return Gse(e,t)||e.state.dataUpdatedAt>0&&Mk(e,t,t.refetchOnMount)}function Mk(e,t,n){if(t.enabled!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&x_(e,t)}return!1}function vR(e,t,n,r){return n.enabled!==!1&&(e!==t||r.enabled===!1)&&(!n.suspense||e.state.status!=="error")&&x_(e,n)}function x_(e,t){return e.isStaleByTime(t.staleTime)}class Hse extends PF{constructor(t,n){super(t,n)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t,n){super.setOptions({...t,behavior:Dk()},n)}getOptimisticResult(t){return t.behavior=Dk(),super.getOptimisticResult(t)}fetchNextPage({pageParam:t,...n}={}){return this.fetch({...n,meta:{fetchMore:{direction:"forward",pageParam:t}}})}fetchPreviousPage({pageParam:t,...n}={}){return this.fetch({...n,meta:{fetchMore:{direction:"backward",pageParam:t}}})}createResult(t,n){var r,i,a,s,o,l;const{state:u}=t,c=super.createResult(t,n),{isFetching:h,isRefetching:p}=c,m=h&&((r=u.fetchMeta)==null||(i=r.fetchMore)==null?void 0:i.direction)==="forward",g=h&&((a=u.fetchMeta)==null||(s=a.fetchMore)==null?void 0:s.direction)==="backward";return{...c,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:$se(n,(o=u.data)==null?void 0:o.pages),hasPreviousPage:Vse(n,(l=u.data)==null?void 0:l.pages),isFetchingNextPage:m,isFetchingPreviousPage:g,isRefetching:p&&!m&&!g}}}let qse=class extends bc{constructor(t,n){super(),this.client=t,this.setOptions(n),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var n;const r=this.options;this.options=this.client.defaultMutationOptions(t),Rk(r,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(n=this.currentMutation)==null||n.setOptions(this.options)}onUnsubscribe(){if(!this.listeners.length){var t;(t=this.currentMutation)==null||t.removeObserver(this)}}onMutationUpdate(t){this.updateResult();const n={listeners:!0};t.type==="success"?n.onSuccess=!0:t.type==="error"&&(n.onError=!0),this.notify(n)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(t,n){return this.mutateOptions=n,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof t<"u"?t:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const t=this.currentMutation?this.currentMutation.state:TF(),n={...t,isLoading:t.status==="loading",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=n}notify(t){vn.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(t.onSuccess){var n,r,i,a;(n=(r=this.mutateOptions).onSuccess)==null||n.call(r,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(i=(a=this.mutateOptions).onSettled)==null||i.call(a,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(t.onError){var s,o,l,u;(s=(o=this.mutateOptions).onError)==null||s.call(o,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(l=(u=this.mutateOptions).onSettled)==null||l.call(u,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}t.listeners&&this.listeners.forEach(c=>{c(this.currentResult)})})}};const RF=OO.useSyncExternalStore,wR=Y.createContext(void 0),AF=Y.createContext(!1);function NF(e,t){return e||(t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=wR),window.ReactQueryClientContext):wR)}const k_=({context:e}={})=>{const t=Y.useContext(NF(e,Y.useContext(AF)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Kse=({client:e,children:t,context:n,contextSharing:r=!1})=>{Y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]);const i=NF(n,r);return Y.createElement(AF.Provider,{value:!n&&r},Y.createElement(i.Provider,{value:e},t))},DF=Y.createContext(!1),Yse=()=>Y.useContext(DF);DF.Provider;function Xse(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}const Qse=Y.createContext(Xse()),Zse=()=>Y.useContext(Qse);function OF(e,t){return typeof e=="function"?e(...t):!!e}const Jse=(e,t)=>{(e.suspense||e.useErrorBoundary)&&(t.isReset()||(e.retryOnMount=!1))},eoe=e=>{Y.useEffect(()=>{e.clearReset()},[e])},toe=({result:e,errorResetBoundary:t,useErrorBoundary:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&OF(n,[e.error,r]),noe=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},roe=(e,t)=>e.isLoading&&e.isFetching&&!t,ioe=(e,t,n)=>e?.suspense&&roe(t,n),aoe=(e,t,n)=>t.fetchOptimistic(e).then(({data:r})=>{e.onSuccess==null||e.onSuccess(r),e.onSettled==null||e.onSettled(r,null)}).catch(r=>{n.clearReset(),e.onError==null||e.onError(r),e.onSettled==null||e.onSettled(void 0,r)});function MF(e,t){const n=k_({context:e.context}),r=Yse(),i=Zse(),a=n.defaultQueryOptions(e);a._optimisticResults=r?"isRestoring":"optimistic",a.onError&&(a.onError=vn.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=vn.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=vn.batchCalls(a.onSettled)),noe(a),Jse(a,i),eoe(i);const[s]=Y.useState(()=>new t(n,a)),o=s.getOptimisticResult(a);if(RF(Y.useCallback(l=>r?()=>{}:s.subscribe(vn.batchCalls(l)),[s,r]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),Y.useEffect(()=>{s.setOptions(a,{listeners:!1})},[a,s]),ioe(a,o,r))throw aoe(a,s,i);if(toe({result:o,errorResetBoundary:i,useErrorBoundary:a.useErrorBoundary,query:s.getCurrentQuery()}))throw o.error;return a.notifyOnChangeProps?o:s.trackResult(o)}function S_(e,t,n){const r=gu(e,t,n);return MF(r,PF)}function soe(e,t,n){const r=Ase(e,t,n),i=k_({context:r.context}),[a]=Y.useState(()=>new qse(i,r));Y.useEffect(()=>{a.setOptions(r)},[a,r]);const s=RF(Y.useCallback(l=>a.subscribe(vn.batchCalls(l)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),o=Y.useCallback((l,u)=>{a.mutate(l,u).catch(ooe)},[a]);if(s.error&&OF(a.options.useErrorBoundary,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}function ooe(){}function loe(e,t,n){const r=gu(e,t,n);return MF(r,Hse)}function uoe({variant:e,deleteTooltip:t,className:n,images:r,outline:i}){const[a,s]=useState(!1),o=re.Images.Delete.use(),l=re.Images.Delete.useIsEnabled();return useMemo(()=>l?a?ne("div",{className:classes("-py-1 rounded bg-black/75 px-1",n),children:[E(re.Image.Controls.Button,{alwaysShow:e==="group",name:t??"Delete image",icon:u=>E(q.Icon.Check,{...u,className:classes(u.className,"h-6 w-6 origin-center scale-[0.9] text-red-500/75 opacity-100 hover:text-red-500/100")}),onClick:()=>{o.mutate(r),s(!1)},transparent:!0,noBg:!0}),E(re.Image.Controls.Button,{name:"Cancel",onClick:()=>s(!1),icon:u=>E(q.Icon.X,{...u,className:classes(u.className,"opacity-100")}),transparent:!0,noBg:!0})]}):E(re.Image.Controls.Button,{name:t??"Delete image",icon:q.Icon.Trash,onClick:()=>s(!0),transparent:!i,outline:i,noBg:i}):null,[a,n,e,t,i,o,r])}var Lk;(e=>{e.Button=uoe,e.use=()=>{const t=Fn.use(({deleteStableDiffusionImages:r})=>r),n=k_();return soe(async r=>{if(t)return re.Image.Output.remove(r),n.setQueryData(["Generation.Images.use","defaultProject","descending"],i=>({pages:i?.pages.map(a=>({...a,data:a.data.filter(s=>!r.includes(s.id??""))}))??[],pageParams:i?.pageParams??[]})),t({imageIDs:r})})},e.useIsEnabled=()=>Fn.use(({deleteStableDiffusionImages:t})=>!!t)})(Lk||(Lk={}));var LF={exports:{}};(function(e,t){(function(n,r){r()})(Hr,function(){function n(u,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function r(u,c,h){var p=new XMLHttpRequest;p.open("GET",u),p.responseType="blob",p.onload=function(){l(p.response,c,h)},p.onerror=function(){console.error("could not download file")},p.send()}function i(u){var c=new XMLHttpRequest;c.open("HEAD",u,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function a(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(c)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Hr=="object"&&Hr.global===Hr?Hr:void 0,o=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(u,c,h){var p=s.URL||s.webkitURL,m=document.createElement("a");c=c||u.name||"download",m.download=c,m.rel="noopener",typeof u=="string"?(m.href=u,m.origin===location.origin?a(m):i(m.href)?r(u,c,h):a(m,m.target="_blank")):(m.href=p.createObjectURL(u),setTimeout(function(){p.revokeObjectURL(m.href)},4e4),setTimeout(function(){a(m)},0))}:"msSaveOrOpenBlob"in navigator?function(u,c,h){if(c=c||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,h),c);else if(i(u))r(u,c,h);else{var p=document.createElement("a");p.href=u,p.target="_blank",setTimeout(function(){a(p)})}}:function(u,c,h,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof u=="string")return r(u,c,h);var m=u.type==="application/octet-stream",g=/constructor/i.test(s.HTMLElement)||s.safari,y=/CriOS\/[\d]+/.test(navigator.userAgent);if((y||m&&g||o)&&typeof FileReader<"u"){var b=new FileReader;b.onloadend=function(){var k=b.result;k=y?k:k.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=k:location=k,p=null},b.readAsDataURL(u)}else{var v=s.URL||s.webkitURL,x=v.createObjectURL(u);p?p.location=x:location.href=x,p=null,setTimeout(function(){v.revokeObjectURL(x)},4e4)}});s.saveAs=l.saveAs=l,e.exports=l})})(LF);var coe=LF.exports;function vm(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var FF={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,a){function s(u,c){if(!i[u]){if(!r[u]){var h=typeof vm=="function"&&vm;if(!c&&h)return h(u,!0);if(o)return o(u,!0);var p=new Error("Cannot find module '"+u+"'");throw p.code="MODULE_NOT_FOUND",p}var m=i[u]={exports:{}};r[u][0].call(m.exports,function(g){var y=r[u][1][g];return s(y||g)},m,m.exports,n,r,i,a)}return i[u].exports}for(var o=typeof vm=="function"&&vm,l=0;l<a.length;l++)s(a[l]);return s}({1:[function(n,r,i){var a=n("./utils"),s=n("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,c,h,p,m,g,y,b=[],v=0,x=l.length,k=x,T=a.getTypeOf(l)!=="string";v<l.length;)k=x-v,h=T?(u=l[v++],c=v<x?l[v++]:0,v<x?l[v++]:0):(u=l.charCodeAt(v++),c=v<x?l.charCodeAt(v++):0,v<x?l.charCodeAt(v++):0),p=u>>2,m=(3&u)<<4|c>>4,g=1<k?(15&c)<<2|h>>6:64,y=2<k?63&h:64,b.push(o.charAt(p)+o.charAt(m)+o.charAt(g)+o.charAt(y));return b.join("")},i.decode=function(l){var u,c,h,p,m,g,y=0,b=0,v="data:";if(l.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var x,k=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&k--,l.charAt(l.length-2)===o.charAt(64)&&k--,k%1!=0)throw new Error("Invalid base64 input, bad content length.");for(x=s.uint8array?new Uint8Array(0|k):new Array(0|k);y<l.length;)u=o.indexOf(l.charAt(y++))<<2|(p=o.indexOf(l.charAt(y++)))>>4,c=(15&p)<<4|(m=o.indexOf(l.charAt(y++)))>>2,h=(3&m)<<6|(g=o.indexOf(l.charAt(y++))),x[b++]=u,m!==64&&(x[b++]=c),g!==64&&(x[b++]=h);return x}},{"./support":30,"./utils":32}],2:[function(n,r,i){var a=n("./external"),s=n("./stream/DataWorker"),o=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function u(c,h,p,m,g){this.compressedSize=c,this.uncompressedSize=h,this.crc32=p,this.compression=m,this.compressedContent=g}u.prototype={getContentWorker:function(){var c=new s(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),h=this;return c.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new s(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(c,h,p){return c.pipe(new o).pipe(new l("uncompressedSize")).pipe(h.compressWorker(p)).pipe(new l("compressedSize")).withStreamInfo("compression",h)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var a=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var a=n("./utils"),s=function(){for(var o,l=[],u=0;u<256;u++){o=u;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;l[u]=o}return l}();r.exports=function(o,l){return o!==void 0&&o.length?a.getTypeOf(o)!=="string"?function(u,c,h,p){var m=s,g=p+h;u^=-1;for(var y=p;y<g;y++)u=u>>>8^m[255&(u^c[y])];return-1^u}(0|l,o,o.length,0):function(u,c,h,p){var m=s,g=p+h;u^=-1;for(var y=p;y<g;y++)u=u>>>8^m[255&(u^c.charCodeAt(y))];return-1^u}(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var a=null;a=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:a}},{lie:37}],7:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),o=n("./utils"),l=n("./stream/GenericWorker"),u=a?"uint8array":"array";function c(h,p){l.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=p,this.meta={}}i.magic="\b\0",o.inherits(c,l),c.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(u,h.data),!1)},c.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(p){h.push({data:p,meta:h.meta})}},i.compressWorker=function(h){return new c("Deflate",h)},i.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function a(m,g){var y,b="";for(y=0;y<g;y++)b+=String.fromCharCode(255&m),m>>>=8;return b}function s(m,g,y,b,v,x){var k,T,P=m.file,R=m.compression,N=x!==u.utf8encode,B=o.transformTo("string",x(P.name)),j=o.transformTo("string",u.utf8encode(P.name)),W=P.comment,H=o.transformTo("string",x(W)),z=o.transformTo("string",u.utf8encode(W)),$=j.length!==P.name.length,O=z.length!==W.length,te="",X="",le="",de=P.dir,ie=P.date,pe={crc32:0,compressedSize:0,uncompressedSize:0};g&&!y||(pe.crc32=m.crc32,pe.compressedSize=m.compressedSize,pe.uncompressedSize=m.uncompressedSize);var F=0;g&&(F|=8),N||!$&&!O||(F|=2048);var M=0,Ce=0;de&&(M|=16),v==="UNIX"?(Ce=798,M|=function(Te,Qe){var pt=Te;return Te||(pt=Qe?16893:33204),(65535&pt)<<16}(P.unixPermissions,de)):(Ce=20,M|=function(Te){return 63&(Te||0)}(P.dosPermissions)),k=ie.getUTCHours(),k<<=6,k|=ie.getUTCMinutes(),k<<=5,k|=ie.getUTCSeconds()/2,T=ie.getUTCFullYear()-1980,T<<=4,T|=ie.getUTCMonth()+1,T<<=5,T|=ie.getUTCDate(),$&&(X=a(1,1)+a(c(B),4)+j,te+="up"+a(X.length,2)+X),O&&(le=a(1,1)+a(c(H),4)+z,te+="uc"+a(le.length,2)+le);var _e="";return _e+=`
\0`,_e+=a(F,2),_e+=R.magic,_e+=a(k,2),_e+=a(T,2),_e+=a(pe.crc32,4),_e+=a(pe.compressedSize,4),_e+=a(pe.uncompressedSize,4),_e+=a(B.length,2),_e+=a(te.length,2),{fileRecord:h.LOCAL_FILE_HEADER+_e+B+te,dirRecord:h.CENTRAL_FILE_HEADER+a(Ce,2)+_e+a(H.length,2)+"\0\0\0\0"+a(M,4)+a(b,4)+B+te+H}}var o=n("../utils"),l=n("../stream/GenericWorker"),u=n("../utf8"),c=n("../crc32"),h=n("../signature");function p(m,g,y,b){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=y,this.encodeFileName=b,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(p,l),p.prototype.push=function(m){var g=m.meta.percent||0,y=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,l.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:y?(g+100*(y-b-1))/y:100}}))},p.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var g=this.streamFiles&&!m.file.dir;if(g){var y=s(m,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(m){this.accumulate=!1;var g=this.streamFiles&&!m.file.dir,y=s(m,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),g)this.push({data:function(b){return h.DATA_DESCRIPTOR+a(b.crc32,4)+a(b.compressedSize,4)+a(b.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var m=this.bytesWritten,g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var y=this.bytesWritten-m,b=function(v,x,k,T,P){var R=o.transformTo("string",P(T));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(v,2)+a(v,2)+a(x,4)+a(k,4)+a(R.length,2)+R}(this.dirRecords.length,y,m,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(m){this._sources.push(m);var g=this;return m.on("data",function(y){g.processChunk(y)}),m.on("end",function(){g.closedSource(g.previous.streamInfo),g._sources.length?g.prepareNextSource():g.end()}),m.on("error",function(y){g.error(y)}),this},p.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(m){var g=this._sources;if(!l.prototype.error.call(this,m))return!1;for(var y=0;y<g.length;y++)try{g[y].error(m)}catch{}return!0},p.prototype.lock=function(){l.prototype.lock.call(this);for(var m=this._sources,g=0;g<m.length;g++)m[g].lock()},r.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var a=n("../compressions"),s=n("./ZipFileWorker");i.generateWorker=function(o,l,u){var c=new s(l.streamFiles,u,l.platform,l.encodeFileName),h=0;try{o.forEach(function(p,m){h++;var g=function(x,k){var T=x||k,P=a[T];if(!P)throw new Error(T+" is not a valid compression method !");return P}(m.options.compression,l.compression),y=m.options.compressionOptions||l.compressionOptions||{},b=m.dir,v=m.date;m._compressWorker(g,y).withStreamInfo("file",{name:p,dir:b,date:v,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(c)}),c.entriesCount=h}catch(p){c.error(p)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new a;for(var o in this)typeof this[o]!="function"&&(s[o]=this[o]);return s}}(a.prototype=n("./object")).loadAsync=n("./load"),a.support=n("./support"),a.defaults=n("./defaults"),a.version="3.10.1",a.loadAsync=function(s,o){return new a().loadAsync(s,o)},a.external=n("./external"),r.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var a=n("./utils"),s=n("./external"),o=n("./utf8"),l=n("./zipEntries"),u=n("./stream/Crc32Probe"),c=n("./nodejsUtils");function h(p){return new s.Promise(function(m,g){var y=p.decompressed.getContentWorker().pipe(new u);y.on("error",function(b){g(b)}).on("end",function(){y.streamInfo.crc32!==p.decompressed.crc32?g(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}r.exports=function(p,m){var g=this;return m=a.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),c.isNode&&c.isStream(p)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",p,!0,m.optimizedBinaryString,m.base64).then(function(y){var b=new l(m);return b.load(y),b}).then(function(y){var b=[s.Promise.resolve(y)],v=y.files;if(m.checkCRC32)for(var x=0;x<v.length;x++)b.push(h(v[x]));return s.Promise.all(b)}).then(function(y){for(var b=y.shift(),v=b.files,x=0;x<v.length;x++){var k=v[x],T=k.fileNameStr,P=a.resolve(k.fileNameStr);g.file(P,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:m.createFolders}),k.dir||(g.file(P).unsafeOriginalName=T)}return b.zipComment.length&&(g.comment=b.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var a=n("../utils"),s=n("../stream/GenericWorker");function o(l,u){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}a.inherits(o,s),o.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(c){u.push({data:c,meta:{percent:0}})}).on("error",function(c){u.isPaused?this.generatedError=c:u.error(c)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},o.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var a=n("readable-stream").Readable;function s(o,l,u){a.call(this,l),this._helper=o;var c=this;o.on("data",function(h,p){c.push(h)||c._helper.pause(),u&&u(p)}).on("error",function(h){c.emit("error",h)}).on("end",function(){c.push(null)})}n("../utils").inherits(s,a),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,s);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,s)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var s=new Buffer(a);return s.fill(0),s},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(n,r,i){function a(P,R,N){var B,j=o.getTypeOf(R),W=o.extend(N||{},c);W.date=W.date||new Date,W.compression!==null&&(W.compression=W.compression.toUpperCase()),typeof W.unixPermissions=="string"&&(W.unixPermissions=parseInt(W.unixPermissions,8)),W.unixPermissions&&16384&W.unixPermissions&&(W.dir=!0),W.dosPermissions&&16&W.dosPermissions&&(W.dir=!0),W.dir&&(P=v(P)),W.createFolders&&(B=b(P))&&x.call(this,B,!0);var H=j==="string"&&W.binary===!1&&W.base64===!1;N&&N.binary!==void 0||(W.binary=!H),(R instanceof h&&R.uncompressedSize===0||W.dir||!R||R.length===0)&&(W.base64=!1,W.binary=!0,R="",W.compression="STORE",j="string");var z=null;z=R instanceof h||R instanceof l?R:g.isNode&&g.isStream(R)?new y(P,R):o.prepareContent(P,R,W.binary,W.optimizedBinaryString,W.base64);var $=new p(P,z,W);this.files[P]=$}var s=n("./utf8"),o=n("./utils"),l=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),c=n("./defaults"),h=n("./compressedObject"),p=n("./zipObject"),m=n("./generate"),g=n("./nodejsUtils"),y=n("./nodejs/NodejsStreamInputAdapter"),b=function(P){P.slice(-1)==="/"&&(P=P.substring(0,P.length-1));var R=P.lastIndexOf("/");return 0<R?P.substring(0,R):""},v=function(P){return P.slice(-1)!=="/"&&(P+="/"),P},x=function(P,R){return R=R!==void 0?R:c.createFolders,P=v(P),this.files[P]||a.call(this,P,null,{dir:!0,createFolders:R}),this.files[P]};function k(P){return Object.prototype.toString.call(P)==="[object RegExp]"}var T={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(P){var R,N,B;for(R in this.files)B=this.files[R],(N=R.slice(this.root.length,R.length))&&R.slice(0,this.root.length)===this.root&&P(N,B)},filter:function(P){var R=[];return this.forEach(function(N,B){P(N,B)&&R.push(B)}),R},file:function(P,R,N){if(arguments.length!==1)return P=this.root+P,a.call(this,P,R,N),this;if(k(P)){var B=P;return this.filter(function(W,H){return!H.dir&&B.test(W)})}var j=this.files[this.root+P];return j&&!j.dir?j:null},folder:function(P){if(!P)return this;if(k(P))return this.filter(function(j,W){return W.dir&&P.test(j)});var R=this.root+P,N=x.call(this,R),B=this.clone();return B.root=N.name,B},remove:function(P){P=this.root+P;var R=this.files[P];if(R||(P.slice(-1)!=="/"&&(P+="/"),R=this.files[P]),R&&!R.dir)delete this.files[P];else for(var N=this.filter(function(j,W){return W.name.slice(0,P.length)===P}),B=0;B<N.length;B++)delete this.files[N[B].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(P){var R,N={};try{if((N=o.extend(P||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=N.type.toLowerCase(),N.compression=N.compression.toUpperCase(),N.type==="binarystring"&&(N.type="string"),!N.type)throw new Error("No output type specified.");o.checkSupport(N.type),N.platform!=="darwin"&&N.platform!=="freebsd"&&N.platform!=="linux"&&N.platform!=="sunos"||(N.platform="UNIX"),N.platform==="win32"&&(N.platform="DOS");var B=N.comment||this.comment||"";R=m.generateWorker(this,N,B)}catch(j){(R=new l("error")).error(j)}return new u(R,N.type||"string",N.mimeType)},generateAsync:function(P,R){return this.generateInternalStream(P).accumulate(R)},generateNodeStream:function(P,R){return(P=P||{}).type||(P.type="nodebuffer"),this.generateInternalStream(P).toNodejsStream(R)}};r.exports=T},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var a=n("./DataReader");function s(o){a.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}n("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data[this.zero+o]},s.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),u=o.charCodeAt(1),c=o.charCodeAt(2),h=o.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===l&&this.data[p+1]===u&&this.data[p+2]===c&&this.data[p+3]===h)return p-this.zero;return-1},s.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),u=o.charCodeAt(1),c=o.charCodeAt(2),h=o.charCodeAt(3),p=this.readData(4);return l===p[0]&&u===p[1]&&c===p[2]&&h===p[3]},s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var a=n("../utils");function s(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,u=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=o,u},readString:function(o){return a.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=s},{"../utils":32}],19:[function(n,r,i){var a=n("./Uint8ArrayReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var a=n("./DataReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},s.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},s.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var a=n("./ArrayReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var a=n("../utils"),s=n("../support"),o=n("./ArrayReader"),l=n("./StringReader"),u=n("./NodeBufferReader"),c=n("./Uint8ArrayReader");r.exports=function(h){var p=a.getTypeOf(h);return a.checkSupport(p),p!=="string"||s.uint8array?p==="nodebuffer"?new u(h):s.uint8array?new c(a.transformTo("uint8array",h)):new o(a.transformTo("array",h)):new l(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var a=n("./GenericWorker"),s=n("../utils");function o(l){a.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(o,a),o.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var a=n("./GenericWorker"),s=n("../crc32");function o(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(o,a),o.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var a=n("../utils"),s=n("./GenericWorker");function o(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}a.inherits(o,s),o.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}s.prototype.processChunk.call(this,l)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var a=n("../utils"),s=n("./GenericWorker");function o(l){s.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){u.dataIsReady=!0,u.data=c,u.max=c&&c.length||0,u.type=a.getTypeOf(c),u.isPaused||u._tickAndRepeat()},function(c){u.error(c)})}a.inherits(o,s),o.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function a(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,o){return this._listeners[s].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,o){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,o)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var o=this;return s.on("data",function(l){o.processChunk(l)}),s.on("end",function(){o.end()}),s.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,o){return this.extraStreamInfo[s]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=a},{}],29:[function(n,r,i){var a=n("../utils"),s=n("./ConvertWorker"),o=n("./GenericWorker"),l=n("../base64"),u=n("../support"),c=n("../external"),h=null;if(u.nodestream)try{h=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(g,y){return new c.Promise(function(b,v){var x=[],k=g._internalType,T=g._outputType,P=g._mimeType;g.on("data",function(R,N){x.push(R),y&&y(N)}).on("error",function(R){x=[],v(R)}).on("end",function(){try{var R=function(N,B,j){switch(N){case"blob":return a.newBlob(a.transformTo("arraybuffer",B),j);case"base64":return l.encode(B);default:return a.transformTo(N,B)}}(T,function(N,B){var j,W=0,H=null,z=0;for(j=0;j<B.length;j++)z+=B[j].length;switch(N){case"string":return B.join("");case"array":return Array.prototype.concat.apply([],B);case"uint8array":for(H=new Uint8Array(z),j=0;j<B.length;j++)H.set(B[j],W),W+=B[j].length;return H;case"nodebuffer":return Buffer.concat(B);default:throw new Error("concat : unsupported type '"+N+"'")}}(k,x),P);b(R)}catch(N){v(N)}x=[]}).resume()})}function m(g,y,b){var v=y;switch(y){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=y,this._mimeType=b,a.checkSupport(v),this._worker=g.pipe(new s(v)),g.lock()}catch(x){this._worker=new o("error"),this._worker.error(x)}}m.prototype={accumulate:function(g){return p(this,g)},on:function(g,y){var b=this;return g==="data"?this._worker.on(g,function(v){y.call(b,v.data,v.meta)}):this._worker.on(g,function(){a.delay(y,arguments,b)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},g)}},r.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(a),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var a=n("./utils"),s=n("./support"),o=n("./nodejsUtils"),l=n("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;u[254]=u[254]=1;function h(){l.call(this,"utf-8 decode"),this.leftOver=null}function p(){l.call(this,"utf-8 encode")}i.utf8encode=function(m){return s.nodebuffer?o.newBufferFrom(m,"utf-8"):function(g){var y,b,v,x,k,T=g.length,P=0;for(x=0;x<T;x++)(64512&(b=g.charCodeAt(x)))==55296&&x+1<T&&(64512&(v=g.charCodeAt(x+1)))==56320&&(b=65536+(b-55296<<10)+(v-56320),x++),P+=b<128?1:b<2048?2:b<65536?3:4;for(y=s.uint8array?new Uint8Array(P):new Array(P),x=k=0;k<P;x++)(64512&(b=g.charCodeAt(x)))==55296&&x+1<T&&(64512&(v=g.charCodeAt(x+1)))==56320&&(b=65536+(b-55296<<10)+(v-56320),x++),b<128?y[k++]=b:(b<2048?y[k++]=192|b>>>6:(b<65536?y[k++]=224|b>>>12:(y[k++]=240|b>>>18,y[k++]=128|b>>>12&63),y[k++]=128|b>>>6&63),y[k++]=128|63&b);return y}(m)},i.utf8decode=function(m){return s.nodebuffer?a.transformTo("nodebuffer",m).toString("utf-8"):function(g){var y,b,v,x,k=g.length,T=new Array(2*k);for(y=b=0;y<k;)if((v=g[y++])<128)T[b++]=v;else if(4<(x=u[v]))T[b++]=65533,y+=x-1;else{for(v&=x===2?31:x===3?15:7;1<x&&y<k;)v=v<<6|63&g[y++],x--;1<x?T[b++]=65533:v<65536?T[b++]=v:(v-=65536,T[b++]=55296|v>>10&1023,T[b++]=56320|1023&v)}return T.length!==b&&(T.subarray?T=T.subarray(0,b):T.length=b),a.applyFromCharCode(T)}(m=a.transformTo(s.uint8array?"uint8array":"array",m))},a.inherits(h,l),h.prototype.processChunk=function(m){var g=a.transformTo(s.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var y=g;(g=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),g.set(y,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var b=function(x,k){var T;for((k=k||x.length)>x.length&&(k=x.length),T=k-1;0<=T&&(192&x[T])==128;)T--;return T<0||T===0?k:T+u[x[T]]>k?T:k}(g),v=g;b!==g.length&&(s.uint8array?(v=g.subarray(0,b),this.leftOver=g.subarray(b,g.length)):(v=g.slice(0,b),this.leftOver=g.slice(b,g.length))),this.push({data:i.utf8decode(v),meta:m.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=h,a.inherits(p,l),p.prototype.processChunk=function(m){this.push({data:i.utf8encode(m.data),meta:m.meta})},i.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var a=n("./support"),s=n("./base64"),o=n("./nodejsUtils"),l=n("./external");function u(y){return y}function c(y,b){for(var v=0;v<y.length;++v)b[v]=255&y.charCodeAt(v);return b}n("setimmediate"),i.newBlob=function(y,b){i.checkSupport("blob");try{return new Blob([y],{type:b})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(y),v.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(y,b,v){var x=[],k=0,T=y.length;if(T<=v)return String.fromCharCode.apply(null,y);for(;k<T;)b==="array"||b==="nodebuffer"?x.push(String.fromCharCode.apply(null,y.slice(k,Math.min(k+v,T)))):x.push(String.fromCharCode.apply(null,y.subarray(k,Math.min(k+v,T)))),k+=v;return x.join("")},stringifyByChar:function(y){for(var b="",v=0;v<y.length;v++)b+=String.fromCharCode(y[v]);return b},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function p(y){var b=65536,v=i.getTypeOf(y),x=!0;if(v==="uint8array"?x=h.applyCanBeUsed.uint8array:v==="nodebuffer"&&(x=h.applyCanBeUsed.nodebuffer),x)for(;1<b;)try{return h.stringifyByChunk(y,v,b)}catch{b=Math.floor(b/2)}return h.stringifyByChar(y)}function m(y,b){for(var v=0;v<y.length;v++)b[v]=y[v];return b}i.applyFromCharCode=p;var g={};g.string={string:u,array:function(y){return c(y,new Array(y.length))},arraybuffer:function(y){return g.string.uint8array(y).buffer},uint8array:function(y){return c(y,new Uint8Array(y.length))},nodebuffer:function(y){return c(y,o.allocBuffer(y.length))}},g.array={string:p,array:u,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return o.newBufferFrom(y)}},g.arraybuffer={string:function(y){return p(new Uint8Array(y))},array:function(y){return m(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:u,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return o.newBufferFrom(new Uint8Array(y))}},g.uint8array={string:p,array:function(y){return m(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:u,nodebuffer:function(y){return o.newBufferFrom(y)}},g.nodebuffer={string:p,array:function(y){return m(y,new Array(y.length))},arraybuffer:function(y){return g.nodebuffer.uint8array(y).buffer},uint8array:function(y){return m(y,new Uint8Array(y.length))},nodebuffer:u},i.transformTo=function(y,b){if(b=b||"",!y)return b;i.checkSupport(y);var v=i.getTypeOf(b);return g[v][y](b)},i.resolve=function(y){for(var b=y.split("/"),v=[],x=0;x<b.length;x++){var k=b[x];k==="."||k===""&&x!==0&&x!==b.length-1||(k===".."?v.pop():v.push(k))}return v.join("/")},i.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":a.nodebuffer&&o.isBuffer(y)?"nodebuffer":a.uint8array&&y instanceof Uint8Array?"uint8array":a.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(y){if(!a[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(y){var b,v,x="";for(v=0;v<(y||"").length;v++)x+="\\x"+((b=y.charCodeAt(v))<16?"0":"")+b.toString(16).toUpperCase();return x},i.delay=function(y,b,v){setImmediate(function(){y.apply(v||null,b||[])})},i.inherits=function(y,b){function v(){}v.prototype=b.prototype,y.prototype=new v},i.extend=function(){var y,b,v={};for(y=0;y<arguments.length;y++)for(b in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],b)&&v[b]===void 0&&(v[b]=arguments[y][b]);return v},i.prepareContent=function(y,b,v,x,k){return l.Promise.resolve(b).then(function(T){return a.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1)&&typeof FileReader<"u"?new l.Promise(function(P,R){var N=new FileReader;N.onload=function(B){P(B.target.result)},N.onerror=function(B){R(B.target.error)},N.readAsArrayBuffer(T)}):T}).then(function(T){var P=i.getTypeOf(T);return P?(P==="arraybuffer"?T=i.transformTo("uint8array",T):P==="string"&&(k?T=s.decode(T):v&&x!==!0&&(T=function(R){return c(R,a.uint8array?new Uint8Array(R.length):new Array(R.length))}(T))),T):l.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var a=n("./reader/readerFor"),s=n("./utils"),o=n("./signature"),l=n("./zipEntry"),u=n("./support");function c(h){this.files=[],this.loadOptions=h}c.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(p)+", expected "+s.pretty(h)+")")}},isSignature:function(h,p){var m=this.reader.index;this.reader.setIndex(h);var g=this.reader.readString(4)===p;return this.reader.setIndex(m),g},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),p=u.uint8array?"uint8array":"array",m=s.transformTo(p,h);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,p,m,g=this.zip64EndOfCentralSize-44;0<g;)h=this.reader.readInt(2),p=this.reader.readInt(4),m=this.reader.readData(p),this.zip64ExtensibleData[h]={id:h,length:p,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,p;for(h=0;h<this.files.length;h++)p=this.files[h],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(h=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var p=h;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var g=p-m;if(0<g)this.isSignature(p,o.CENTRAL_FILE_HEADER)||(this.reader.zero=g);else if(g<0)throw new Error("Corrupted zip: missing "+Math.abs(g)+" bytes.")},prepareReader:function(h){this.reader=a(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var a=n("./reader/readerFor"),s=n("./utils"),o=n("./compressedObject"),l=n("./crc32"),u=n("./utf8"),c=n("./compressions"),h=n("./support");function p(m,g){this.options=m,this.loadOptions=g}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var g,y;if(m.skip(22),this.fileNameLength=m.readInt(2),y=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((g=function(b){for(var v in c)if(Object.prototype.hasOwnProperty.call(c,v)&&c[v].magic===b)return c[v];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,g,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var g=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(g),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=a(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var g,y,b,v=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<v;)g=m.readInt(2),y=m.readInt(2),b=m.readData(y),this.extraFields[g]={id:g,length:y,value:b};m.setIndex(v)},handleUTF8:function(){var m=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var y=s.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var v=s.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var g=a(m.value);return g.readInt(1)!==1||l(this.fileName)!==g.readInt(4)?null:u.utf8decode(g.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var g=a(m.value);return g.readInt(1)!==1||l(this.fileComment)!==g.readInt(4)?null:u.utf8decode(g.readData(m.length-5))}return null}},r.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function a(g,y,b){this.name=g,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=y,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var s=n("./stream/StreamHelper"),o=n("./stream/DataWorker"),l=n("./utf8"),u=n("./compressedObject"),c=n("./stream/GenericWorker");a.prototype={internalStream:function(g){var y=null,b="string";try{if(!g)throw new Error("No output type specified.");var v=(b=g.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),y=this._decompressWorker();var x=!this._dataBinary;x&&!v&&(y=y.pipe(new l.Utf8EncodeWorker)),!x&&v&&(y=y.pipe(new l.Utf8DecodeWorker))}catch(k){(y=new c("error")).error(k)}return new s(y,b,"")},async:function(g,y){return this.internalStream(g).accumulate(y)},nodeStream:function(g,y){return this.internalStream(g||"nodebuffer").toNodejsStream(y)},_compressWorker:function(g,y){if(this._data instanceof u&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(b,g,y)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof c?this._data:new o(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<h.length;m++)a.prototype[h[m]]=p;r.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(a){var s,o,l=a.MutationObserver||a.WebKitMutationObserver;if(l){var u=0,c=new l(g),h=a.document.createTextNode("");c.observe(h,{characterData:!0}),s=function(){h.data=u=++u%2}}else if(a.setImmediate||a.MessageChannel===void 0)s="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var y=a.document.createElement("script");y.onreadystatechange=function(){g(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},a.document.documentElement.appendChild(y)}:function(){setTimeout(g,0)};else{var p=new a.MessageChannel;p.port1.onmessage=g,s=function(){p.port2.postMessage(0)}}var m=[];function g(){var y,b;o=!0;for(var v=m.length;v;){for(b=m,m=[],y=-1;++y<v;)b[y]();v=m.length}o=!1}r.exports=function(y){m.push(y)!==1||o||s()}}).call(this,typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var a=n("immediate");function s(){}var o={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function h(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,v!==s&&y(this,v)}function p(v,x,k){this.promise=v,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}function m(v,x,k){a(function(){var T;try{T=x(k)}catch(P){return o.reject(v,P)}T===v?o.reject(v,new TypeError("Cannot resolve promise with itself")):o.resolve(v,T)})}function g(v){var x=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof x=="function")return function(){x.apply(v,arguments)}}function y(v,x){var k=!1;function T(N){k||(k=!0,o.reject(v,N))}function P(N){k||(k=!0,o.resolve(v,N))}var R=b(function(){x(P,T)});R.status==="error"&&T(R.value)}function b(v,x){var k={};try{k.value=v(x),k.status="success"}catch(T){k.status="error",k.value=T}return k}(r.exports=h).prototype.finally=function(v){if(typeof v!="function")return this;var x=this.constructor;return this.then(function(k){return x.resolve(v()).then(function(){return k})},function(k){return x.resolve(v()).then(function(){throw k})})},h.prototype.catch=function(v){return this.then(null,v)},h.prototype.then=function(v,x){if(typeof v!="function"&&this.state===u||typeof x!="function"&&this.state===l)return this;var k=new this.constructor(s);return this.state!==c?m(k,this.state===u?v:x,this.outcome):this.queue.push(new p(k,v,x)),k},p.prototype.callFulfilled=function(v){o.resolve(this.promise,v)},p.prototype.otherCallFulfilled=function(v){m(this.promise,this.onFulfilled,v)},p.prototype.callRejected=function(v){o.reject(this.promise,v)},p.prototype.otherCallRejected=function(v){m(this.promise,this.onRejected,v)},o.resolve=function(v,x){var k=b(g,x);if(k.status==="error")return o.reject(v,k.value);var T=k.value;if(T)y(v,T);else{v.state=u,v.outcome=x;for(var P=-1,R=v.queue.length;++P<R;)v.queue[P].callFulfilled(x)}return v},o.reject=function(v,x){v.state=l,v.outcome=x;for(var k=-1,T=v.queue.length;++k<T;)v.queue[k].callRejected(x);return v},h.resolve=function(v){return v instanceof this?v:o.resolve(new this(s),v)},h.reject=function(v){var x=new this(s);return o.reject(x,v)},h.all=function(v){var x=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=v.length,T=!1;if(!k)return this.resolve([]);for(var P=new Array(k),R=0,N=-1,B=new this(s);++N<k;)j(v[N],N);return B;function j(W,H){x.resolve(W).then(function(z){P[H]=z,++R!==k||T||(T=!0,o.resolve(B,P))},function(z){T||(T=!0,o.reject(B,z))})}},h.race=function(v){var x=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=v.length,T=!1;if(!k)return this.resolve([]);for(var P=-1,R=new this(s);++P<k;)N=v[P],x.resolve(N).then(function(B){T||(T=!0,o.resolve(R,B))},function(B){T||(T=!0,o.reject(R,B))});var N;return R}},{immediate:36}],38:[function(n,r,i){var a={};(0,n("./lib/utils/common").assign)(a,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var a=n("./zlib/deflate"),s=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/messages"),u=n("./zlib/zstream"),c=Object.prototype.toString,h=0,p=-1,m=0,g=8;function y(v){if(!(this instanceof y))return new y(v);this.options=s.assign({level:p,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},v||{});var x=this.options;x.raw&&0<x.windowBits?x.windowBits=-x.windowBits:x.gzip&&0<x.windowBits&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var k=a.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(k!==h)throw new Error(l[k]);if(x.header&&a.deflateSetHeader(this.strm,x.header),x.dictionary){var T;if(T=typeof x.dictionary=="string"?o.string2buf(x.dictionary):c.call(x.dictionary)==="[object ArrayBuffer]"?new Uint8Array(x.dictionary):x.dictionary,(k=a.deflateSetDictionary(this.strm,T))!==h)throw new Error(l[k]);this._dict_set=!0}}function b(v,x){var k=new y(x);if(k.push(v,!0),k.err)throw k.msg||l[k.err];return k.result}y.prototype.push=function(v,x){var k,T,P=this.strm,R=this.options.chunkSize;if(this.ended)return!1;T=x===~~x?x:x===!0?4:0,typeof v=="string"?P.input=o.string2buf(v):c.call(v)==="[object ArrayBuffer]"?P.input=new Uint8Array(v):P.input=v,P.next_in=0,P.avail_in=P.input.length;do{if(P.avail_out===0&&(P.output=new s.Buf8(R),P.next_out=0,P.avail_out=R),(k=a.deflate(P,T))!==1&&k!==h)return this.onEnd(k),!(this.ended=!0);P.avail_out!==0&&(P.avail_in!==0||T!==4&&T!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(s.shrinkBuf(P.output,P.next_out))):this.onData(s.shrinkBuf(P.output,P.next_out)))}while((0<P.avail_in||P.avail_out===0)&&k!==1);return T===4?(k=a.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===h):T!==2||(this.onEnd(h),!(P.avail_out=0))},y.prototype.onData=function(v){this.chunks.push(v)},y.prototype.onEnd=function(v){v===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Deflate=y,i.deflate=b,i.deflateRaw=function(v,x){return(x=x||{}).raw=!0,b(v,x)},i.gzip=function(v,x){return(x=x||{}).gzip=!0,b(v,x)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var a=n("./zlib/inflate"),s=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/constants"),u=n("./zlib/messages"),c=n("./zlib/zstream"),h=n("./zlib/gzheader"),p=Object.prototype.toString;function m(y){if(!(this instanceof m))return new m(y);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},y||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||y&&y.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&!(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var v=a.inflateInit2(this.strm,b.windowBits);if(v!==l.Z_OK)throw new Error(u[v]);this.header=new h,a.inflateGetHeader(this.strm,this.header)}function g(y,b){var v=new m(b);if(v.push(y,!0),v.err)throw v.msg||u[v.err];return v.result}m.prototype.push=function(y,b){var v,x,k,T,P,R,N=this.strm,B=this.options.chunkSize,j=this.options.dictionary,W=!1;if(this.ended)return!1;x=b===~~b?b:b===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof y=="string"?N.input=o.binstring2buf(y):p.call(y)==="[object ArrayBuffer]"?N.input=new Uint8Array(y):N.input=y,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new s.Buf8(B),N.next_out=0,N.avail_out=B),(v=a.inflate(N,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&j&&(R=typeof j=="string"?o.string2buf(j):p.call(j)==="[object ArrayBuffer]"?new Uint8Array(j):j,v=a.inflateSetDictionary(this.strm,R)),v===l.Z_BUF_ERROR&&W===!0&&(v=l.Z_OK,W=!1),v!==l.Z_STREAM_END&&v!==l.Z_OK)return this.onEnd(v),!(this.ended=!0);N.next_out&&(N.avail_out!==0&&v!==l.Z_STREAM_END&&(N.avail_in!==0||x!==l.Z_FINISH&&x!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(k=o.utf8border(N.output,N.next_out),T=N.next_out-k,P=o.buf2string(N.output,k),N.next_out=T,N.avail_out=B-T,T&&s.arraySet(N.output,N.output,k,T,0),this.onData(P)):this.onData(s.shrinkBuf(N.output,N.next_out)))),N.avail_in===0&&N.avail_out===0&&(W=!0)}while((0<N.avail_in||N.avail_out===0)&&v!==l.Z_STREAM_END);return v===l.Z_STREAM_END&&(x=l.Z_FINISH),x===l.Z_FINISH?(v=a.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===l.Z_OK):x!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(N.avail_out=0))},m.prototype.onData=function(y){this.chunks.push(y)},m.prototype.onEnd=function(y){y===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Inflate=m,i.inflate=g,i.inflateRaw=function(y,b){return(b=b||{}).raw=!0,g(y,b)},i.ungzip=g},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var c=u.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var h in c)c.hasOwnProperty(h)&&(l[h]=c[h])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var s={arraySet:function(l,u,c,h,p){if(u.subarray&&l.subarray)l.set(u.subarray(c,c+h),p);else for(var m=0;m<h;m++)l[p+m]=u[c+m]},flattenChunks:function(l){var u,c,h,p,m,g;for(u=h=0,c=l.length;u<c;u++)h+=l[u].length;for(g=new Uint8Array(h),u=p=0,c=l.length;u<c;u++)m=l[u],g.set(m,p),p+=m.length;return g}},o={arraySet:function(l,u,c,h,p){for(var m=0;m<h;m++)l[p+m]=u[c+m]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(a)},{}],42:[function(n,r,i){var a=n("./common"),s=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new a.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(h,p){if(p<65537&&(h.subarray&&o||!h.subarray&&s))return String.fromCharCode.apply(null,a.shrinkBuf(h,p));for(var m="",g=0;g<p;g++)m+=String.fromCharCode(h[g]);return m}l[254]=l[254]=1,i.string2buf=function(h){var p,m,g,y,b,v=h.length,x=0;for(y=0;y<v;y++)(64512&(m=h.charCodeAt(y)))==55296&&y+1<v&&(64512&(g=h.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(g-56320),y++),x+=m<128?1:m<2048?2:m<65536?3:4;for(p=new a.Buf8(x),y=b=0;b<x;y++)(64512&(m=h.charCodeAt(y)))==55296&&y+1<v&&(64512&(g=h.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(g-56320),y++),m<128?p[b++]=m:(m<2048?p[b++]=192|m>>>6:(m<65536?p[b++]=224|m>>>12:(p[b++]=240|m>>>18,p[b++]=128|m>>>12&63),p[b++]=128|m>>>6&63),p[b++]=128|63&m);return p},i.buf2binstring=function(h){return c(h,h.length)},i.binstring2buf=function(h){for(var p=new a.Buf8(h.length),m=0,g=p.length;m<g;m++)p[m]=h.charCodeAt(m);return p},i.buf2string=function(h,p){var m,g,y,b,v=p||h.length,x=new Array(2*v);for(m=g=0;m<v;)if((y=h[m++])<128)x[g++]=y;else if(4<(b=l[y]))x[g++]=65533,m+=b-1;else{for(y&=b===2?31:b===3?15:7;1<b&&m<v;)y=y<<6|63&h[m++],b--;1<b?x[g++]=65533:y<65536?x[g++]=y:(y-=65536,x[g++]=55296|y>>10&1023,x[g++]=56320|1023&y)}return c(x,g)},i.utf8border=function(h,p){var m;for((p=p||h.length)>h.length&&(p=h.length),m=p-1;0<=m&&(192&h[m])==128;)m--;return m<0||m===0?p:m+l[h[m]]>p?m:p}},{"./common":41}],43:[function(n,r,i){r.exports=function(a,s,o,l){for(var u=65535&a|0,c=a>>>16&65535|0,h=0;o!==0;){for(o-=h=2e3<o?2e3:o;c=c+(u=u+s[l++]|0)|0,--h;);u%=65521,c%=65521}return u|c<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var a=function(){for(var s,o=[],l=0;l<256;l++){s=l;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;o[l]=s}return o}();r.exports=function(s,o,l,u){var c=a,h=u+l;s^=-1;for(var p=u;p<h;p++)s=s>>>8^c[255&(s^o[p])];return-1^s}},{}],46:[function(n,r,i){var a,s=n("../utils/common"),o=n("./trees"),l=n("./adler32"),u=n("./crc32"),c=n("./messages"),h=0,p=4,m=0,g=-2,y=-1,b=4,v=2,x=8,k=9,T=286,P=30,R=19,N=2*T+1,B=15,j=3,W=258,H=W+j+1,z=42,$=113,O=1,te=2,X=3,le=4;function de(L,xe){return L.msg=c[xe],xe}function ie(L){return(L<<1)-(4<L?9:0)}function pe(L){for(var xe=L.length;0<=--xe;)L[xe]=0}function F(L){var xe=L.state,ve=xe.pending;ve>L.avail_out&&(ve=L.avail_out),ve!==0&&(s.arraySet(L.output,xe.pending_buf,xe.pending_out,ve,L.next_out),L.next_out+=ve,xe.pending_out+=ve,L.total_out+=ve,L.avail_out-=ve,xe.pending-=ve,xe.pending===0&&(xe.pending_out=0))}function M(L,xe){o._tr_flush_block(L,0<=L.block_start?L.block_start:-1,L.strstart-L.block_start,xe),L.block_start=L.strstart,F(L.strm)}function Ce(L,xe){L.pending_buf[L.pending++]=xe}function _e(L,xe){L.pending_buf[L.pending++]=xe>>>8&255,L.pending_buf[L.pending++]=255&xe}function Te(L,xe){var ve,Q,K=L.max_chain_length,se=L.strstart,ke=L.prev_length,Ee=L.nice_match,he=L.strstart>L.w_size-H?L.strstart-(L.w_size-H):0,Re=L.window,ze=L.w_mask,Ie=L.prev,Ye=L.strstart+W,D=Re[se+ke-1],C=Re[se+ke];L.prev_length>=L.good_match&&(K>>=2),Ee>L.lookahead&&(Ee=L.lookahead);do if(Re[(ve=xe)+ke]===C&&Re[ve+ke-1]===D&&Re[ve]===Re[se]&&Re[++ve]===Re[se+1]){se+=2,ve++;do;while(Re[++se]===Re[++ve]&&Re[++se]===Re[++ve]&&Re[++se]===Re[++ve]&&Re[++se]===Re[++ve]&&Re[++se]===Re[++ve]&&Re[++se]===Re[++ve]&&Re[++se]===Re[++ve]&&Re[++se]===Re[++ve]&&se<Ye);if(Q=W-(Ye-se),se=Ye-W,ke<Q){if(L.match_start=xe,Ee<=(ke=Q))break;D=Re[se+ke-1],C=Re[se+ke]}}while((xe=Ie[xe&ze])>he&&--K!=0);return ke<=L.lookahead?ke:L.lookahead}function Qe(L){var xe,ve,Q,K,se,ke,Ee,he,Re,ze,Ie=L.w_size;do{if(K=L.window_size-L.lookahead-L.strstart,L.strstart>=Ie+(Ie-H)){for(s.arraySet(L.window,L.window,Ie,Ie,0),L.match_start-=Ie,L.strstart-=Ie,L.block_start-=Ie,xe=ve=L.hash_size;Q=L.head[--xe],L.head[xe]=Ie<=Q?Q-Ie:0,--ve;);for(xe=ve=Ie;Q=L.prev[--xe],L.prev[xe]=Ie<=Q?Q-Ie:0,--ve;);K+=Ie}if(L.strm.avail_in===0)break;if(ke=L.strm,Ee=L.window,he=L.strstart+L.lookahead,Re=K,ze=void 0,ze=ke.avail_in,Re<ze&&(ze=Re),ve=ze===0?0:(ke.avail_in-=ze,s.arraySet(Ee,ke.input,ke.next_in,ze,he),ke.state.wrap===1?ke.adler=l(ke.adler,Ee,ze,he):ke.state.wrap===2&&(ke.adler=u(ke.adler,Ee,ze,he)),ke.next_in+=ze,ke.total_in+=ze,ze),L.lookahead+=ve,L.lookahead+L.insert>=j)for(se=L.strstart-L.insert,L.ins_h=L.window[se],L.ins_h=(L.ins_h<<L.hash_shift^L.window[se+1])&L.hash_mask;L.insert&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[se+j-1])&L.hash_mask,L.prev[se&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=se,se++,L.insert--,!(L.lookahead+L.insert<j)););}while(L.lookahead<H&&L.strm.avail_in!==0)}function pt(L,xe){for(var ve,Q;;){if(L.lookahead<H){if(Qe(L),L.lookahead<H&&xe===h)return O;if(L.lookahead===0)break}if(ve=0,L.lookahead>=j&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+j-1])&L.hash_mask,ve=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),ve!==0&&L.strstart-ve<=L.w_size-H&&(L.match_length=Te(L,ve)),L.match_length>=j)if(Q=o._tr_tally(L,L.strstart-L.match_start,L.match_length-j),L.lookahead-=L.match_length,L.match_length<=L.max_lazy_match&&L.lookahead>=j){for(L.match_length--;L.strstart++,L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+j-1])&L.hash_mask,ve=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart,--L.match_length!=0;);L.strstart++}else L.strstart+=L.match_length,L.match_length=0,L.ins_h=L.window[L.strstart],L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+1])&L.hash_mask;else Q=o._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++;if(Q&&(M(L,!1),L.strm.avail_out===0))return O}return L.insert=L.strstart<j-1?L.strstart:j-1,xe===p?(M(L,!0),L.strm.avail_out===0?X:le):L.last_lit&&(M(L,!1),L.strm.avail_out===0)?O:te}function Je(L,xe){for(var ve,Q,K;;){if(L.lookahead<H){if(Qe(L),L.lookahead<H&&xe===h)return O;if(L.lookahead===0)break}if(ve=0,L.lookahead>=j&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+j-1])&L.hash_mask,ve=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),L.prev_length=L.match_length,L.prev_match=L.match_start,L.match_length=j-1,ve!==0&&L.prev_length<L.max_lazy_match&&L.strstart-ve<=L.w_size-H&&(L.match_length=Te(L,ve),L.match_length<=5&&(L.strategy===1||L.match_length===j&&4096<L.strstart-L.match_start)&&(L.match_length=j-1)),L.prev_length>=j&&L.match_length<=L.prev_length){for(K=L.strstart+L.lookahead-j,Q=o._tr_tally(L,L.strstart-1-L.prev_match,L.prev_length-j),L.lookahead-=L.prev_length-1,L.prev_length-=2;++L.strstart<=K&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+j-1])&L.hash_mask,ve=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),--L.prev_length!=0;);if(L.match_available=0,L.match_length=j-1,L.strstart++,Q&&(M(L,!1),L.strm.avail_out===0))return O}else if(L.match_available){if((Q=o._tr_tally(L,0,L.window[L.strstart-1]))&&M(L,!1),L.strstart++,L.lookahead--,L.strm.avail_out===0)return O}else L.match_available=1,L.strstart++,L.lookahead--}return L.match_available&&(Q=o._tr_tally(L,0,L.window[L.strstart-1]),L.match_available=0),L.insert=L.strstart<j-1?L.strstart:j-1,xe===p?(M(L,!0),L.strm.avail_out===0?X:le):L.last_lit&&(M(L,!1),L.strm.avail_out===0)?O:te}function st(L,xe,ve,Q,K){this.good_length=L,this.max_lazy=xe,this.nice_length=ve,this.max_chain=Q,this.func=K}function Et(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*N),this.dyn_dtree=new s.Buf16(2*(2*P+1)),this.bl_tree=new s.Buf16(2*(2*R+1)),pe(this.dyn_ltree),pe(this.dyn_dtree),pe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(B+1),this.heap=new s.Buf16(2*T+1),pe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*T+1),pe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function dt(L){var xe;return L&&L.state?(L.total_in=L.total_out=0,L.data_type=v,(xe=L.state).pending=0,xe.pending_out=0,xe.wrap<0&&(xe.wrap=-xe.wrap),xe.status=xe.wrap?z:$,L.adler=xe.wrap===2?0:1,xe.last_flush=h,o._tr_init(xe),m):de(L,g)}function bn(L){var xe=dt(L);return xe===m&&function(ve){ve.window_size=2*ve.w_size,pe(ve.head),ve.max_lazy_match=a[ve.level].max_lazy,ve.good_match=a[ve.level].good_length,ve.nice_match=a[ve.level].nice_length,ve.max_chain_length=a[ve.level].max_chain,ve.strstart=0,ve.block_start=0,ve.lookahead=0,ve.insert=0,ve.match_length=ve.prev_length=j-1,ve.match_available=0,ve.ins_h=0}(L.state),xe}function Ct(L,xe,ve,Q,K,se){if(!L)return g;var ke=1;if(xe===y&&(xe=6),Q<0?(ke=0,Q=-Q):15<Q&&(ke=2,Q-=16),K<1||k<K||ve!==x||Q<8||15<Q||xe<0||9<xe||se<0||b<se)return de(L,g);Q===8&&(Q=9);var Ee=new Et;return(L.state=Ee).strm=L,Ee.wrap=ke,Ee.gzhead=null,Ee.w_bits=Q,Ee.w_size=1<<Ee.w_bits,Ee.w_mask=Ee.w_size-1,Ee.hash_bits=K+7,Ee.hash_size=1<<Ee.hash_bits,Ee.hash_mask=Ee.hash_size-1,Ee.hash_shift=~~((Ee.hash_bits+j-1)/j),Ee.window=new s.Buf8(2*Ee.w_size),Ee.head=new s.Buf16(Ee.hash_size),Ee.prev=new s.Buf16(Ee.w_size),Ee.lit_bufsize=1<<K+6,Ee.pending_buf_size=4*Ee.lit_bufsize,Ee.pending_buf=new s.Buf8(Ee.pending_buf_size),Ee.d_buf=1*Ee.lit_bufsize,Ee.l_buf=3*Ee.lit_bufsize,Ee.level=xe,Ee.strategy=se,Ee.method=ve,bn(L)}a=[new st(0,0,0,0,function(L,xe){var ve=65535;for(ve>L.pending_buf_size-5&&(ve=L.pending_buf_size-5);;){if(L.lookahead<=1){if(Qe(L),L.lookahead===0&&xe===h)return O;if(L.lookahead===0)break}L.strstart+=L.lookahead,L.lookahead=0;var Q=L.block_start+ve;if((L.strstart===0||L.strstart>=Q)&&(L.lookahead=L.strstart-Q,L.strstart=Q,M(L,!1),L.strm.avail_out===0)||L.strstart-L.block_start>=L.w_size-H&&(M(L,!1),L.strm.avail_out===0))return O}return L.insert=0,xe===p?(M(L,!0),L.strm.avail_out===0?X:le):(L.strstart>L.block_start&&(M(L,!1),L.strm.avail_out),O)}),new st(4,4,8,4,pt),new st(4,5,16,8,pt),new st(4,6,32,32,pt),new st(4,4,16,16,Je),new st(8,16,32,32,Je),new st(8,16,128,128,Je),new st(8,32,128,256,Je),new st(32,128,258,1024,Je),new st(32,258,258,4096,Je)],i.deflateInit=function(L,xe){return Ct(L,xe,x,15,8,0)},i.deflateInit2=Ct,i.deflateReset=bn,i.deflateResetKeep=dt,i.deflateSetHeader=function(L,xe){return L&&L.state?L.state.wrap!==2?g:(L.state.gzhead=xe,m):g},i.deflate=function(L,xe){var ve,Q,K,se;if(!L||!L.state||5<xe||xe<0)return L?de(L,g):g;if(Q=L.state,!L.output||!L.input&&L.avail_in!==0||Q.status===666&&xe!==p)return de(L,L.avail_out===0?-5:g);if(Q.strm=L,ve=Q.last_flush,Q.last_flush=xe,Q.status===z)if(Q.wrap===2)L.adler=0,Ce(Q,31),Ce(Q,139),Ce(Q,8),Q.gzhead?(Ce(Q,(Q.gzhead.text?1:0)+(Q.gzhead.hcrc?2:0)+(Q.gzhead.extra?4:0)+(Q.gzhead.name?8:0)+(Q.gzhead.comment?16:0)),Ce(Q,255&Q.gzhead.time),Ce(Q,Q.gzhead.time>>8&255),Ce(Q,Q.gzhead.time>>16&255),Ce(Q,Q.gzhead.time>>24&255),Ce(Q,Q.level===9?2:2<=Q.strategy||Q.level<2?4:0),Ce(Q,255&Q.gzhead.os),Q.gzhead.extra&&Q.gzhead.extra.length&&(Ce(Q,255&Q.gzhead.extra.length),Ce(Q,Q.gzhead.extra.length>>8&255)),Q.gzhead.hcrc&&(L.adler=u(L.adler,Q.pending_buf,Q.pending,0)),Q.gzindex=0,Q.status=69):(Ce(Q,0),Ce(Q,0),Ce(Q,0),Ce(Q,0),Ce(Q,0),Ce(Q,Q.level===9?2:2<=Q.strategy||Q.level<2?4:0),Ce(Q,3),Q.status=$);else{var ke=x+(Q.w_bits-8<<4)<<8;ke|=(2<=Q.strategy||Q.level<2?0:Q.level<6?1:Q.level===6?2:3)<<6,Q.strstart!==0&&(ke|=32),ke+=31-ke%31,Q.status=$,_e(Q,ke),Q.strstart!==0&&(_e(Q,L.adler>>>16),_e(Q,65535&L.adler)),L.adler=1}if(Q.status===69)if(Q.gzhead.extra){for(K=Q.pending;Q.gzindex<(65535&Q.gzhead.extra.length)&&(Q.pending!==Q.pending_buf_size||(Q.gzhead.hcrc&&Q.pending>K&&(L.adler=u(L.adler,Q.pending_buf,Q.pending-K,K)),F(L),K=Q.pending,Q.pending!==Q.pending_buf_size));)Ce(Q,255&Q.gzhead.extra[Q.gzindex]),Q.gzindex++;Q.gzhead.hcrc&&Q.pending>K&&(L.adler=u(L.adler,Q.pending_buf,Q.pending-K,K)),Q.gzindex===Q.gzhead.extra.length&&(Q.gzindex=0,Q.status=73)}else Q.status=73;if(Q.status===73)if(Q.gzhead.name){K=Q.pending;do{if(Q.pending===Q.pending_buf_size&&(Q.gzhead.hcrc&&Q.pending>K&&(L.adler=u(L.adler,Q.pending_buf,Q.pending-K,K)),F(L),K=Q.pending,Q.pending===Q.pending_buf_size)){se=1;break}se=Q.gzindex<Q.gzhead.name.length?255&Q.gzhead.name.charCodeAt(Q.gzindex++):0,Ce(Q,se)}while(se!==0);Q.gzhead.hcrc&&Q.pending>K&&(L.adler=u(L.adler,Q.pending_buf,Q.pending-K,K)),se===0&&(Q.gzindex=0,Q.status=91)}else Q.status=91;if(Q.status===91)if(Q.gzhead.comment){K=Q.pending;do{if(Q.pending===Q.pending_buf_size&&(Q.gzhead.hcrc&&Q.pending>K&&(L.adler=u(L.adler,Q.pending_buf,Q.pending-K,K)),F(L),K=Q.pending,Q.pending===Q.pending_buf_size)){se=1;break}se=Q.gzindex<Q.gzhead.comment.length?255&Q.gzhead.comment.charCodeAt(Q.gzindex++):0,Ce(Q,se)}while(se!==0);Q.gzhead.hcrc&&Q.pending>K&&(L.adler=u(L.adler,Q.pending_buf,Q.pending-K,K)),se===0&&(Q.status=103)}else Q.status=103;if(Q.status===103&&(Q.gzhead.hcrc?(Q.pending+2>Q.pending_buf_size&&F(L),Q.pending+2<=Q.pending_buf_size&&(Ce(Q,255&L.adler),Ce(Q,L.adler>>8&255),L.adler=0,Q.status=$)):Q.status=$),Q.pending!==0){if(F(L),L.avail_out===0)return Q.last_flush=-1,m}else if(L.avail_in===0&&ie(xe)<=ie(ve)&&xe!==p)return de(L,-5);if(Q.status===666&&L.avail_in!==0)return de(L,-5);if(L.avail_in!==0||Q.lookahead!==0||xe!==h&&Q.status!==666){var Ee=Q.strategy===2?function(he,Re){for(var ze;;){if(he.lookahead===0&&(Qe(he),he.lookahead===0)){if(Re===h)return O;break}if(he.match_length=0,ze=o._tr_tally(he,0,he.window[he.strstart]),he.lookahead--,he.strstart++,ze&&(M(he,!1),he.strm.avail_out===0))return O}return he.insert=0,Re===p?(M(he,!0),he.strm.avail_out===0?X:le):he.last_lit&&(M(he,!1),he.strm.avail_out===0)?O:te}(Q,xe):Q.strategy===3?function(he,Re){for(var ze,Ie,Ye,D,C=he.window;;){if(he.lookahead<=W){if(Qe(he),he.lookahead<=W&&Re===h)return O;if(he.lookahead===0)break}if(he.match_length=0,he.lookahead>=j&&0<he.strstart&&(Ie=C[Ye=he.strstart-1])===C[++Ye]&&Ie===C[++Ye]&&Ie===C[++Ye]){D=he.strstart+W;do;while(Ie===C[++Ye]&&Ie===C[++Ye]&&Ie===C[++Ye]&&Ie===C[++Ye]&&Ie===C[++Ye]&&Ie===C[++Ye]&&Ie===C[++Ye]&&Ie===C[++Ye]&&Ye<D);he.match_length=W-(D-Ye),he.match_length>he.lookahead&&(he.match_length=he.lookahead)}if(he.match_length>=j?(ze=o._tr_tally(he,1,he.match_length-j),he.lookahead-=he.match_length,he.strstart+=he.match_length,he.match_length=0):(ze=o._tr_tally(he,0,he.window[he.strstart]),he.lookahead--,he.strstart++),ze&&(M(he,!1),he.strm.avail_out===0))return O}return he.insert=0,Re===p?(M(he,!0),he.strm.avail_out===0?X:le):he.last_lit&&(M(he,!1),he.strm.avail_out===0)?O:te}(Q,xe):a[Q.level].func(Q,xe);if(Ee!==X&&Ee!==le||(Q.status=666),Ee===O||Ee===X)return L.avail_out===0&&(Q.last_flush=-1),m;if(Ee===te&&(xe===1?o._tr_align(Q):xe!==5&&(o._tr_stored_block(Q,0,0,!1),xe===3&&(pe(Q.head),Q.lookahead===0&&(Q.strstart=0,Q.block_start=0,Q.insert=0))),F(L),L.avail_out===0))return Q.last_flush=-1,m}return xe!==p?m:Q.wrap<=0?1:(Q.wrap===2?(Ce(Q,255&L.adler),Ce(Q,L.adler>>8&255),Ce(Q,L.adler>>16&255),Ce(Q,L.adler>>24&255),Ce(Q,255&L.total_in),Ce(Q,L.total_in>>8&255),Ce(Q,L.total_in>>16&255),Ce(Q,L.total_in>>24&255)):(_e(Q,L.adler>>>16),_e(Q,65535&L.adler)),F(L),0<Q.wrap&&(Q.wrap=-Q.wrap),Q.pending!==0?m:1)},i.deflateEnd=function(L){var xe;return L&&L.state?(xe=L.state.status)!==z&&xe!==69&&xe!==73&&xe!==91&&xe!==103&&xe!==$&&xe!==666?de(L,g):(L.state=null,xe===$?de(L,-3):m):g},i.deflateSetDictionary=function(L,xe){var ve,Q,K,se,ke,Ee,he,Re,ze=xe.length;if(!L||!L.state||(se=(ve=L.state).wrap)===2||se===1&&ve.status!==z||ve.lookahead)return g;for(se===1&&(L.adler=l(L.adler,xe,ze,0)),ve.wrap=0,ze>=ve.w_size&&(se===0&&(pe(ve.head),ve.strstart=0,ve.block_start=0,ve.insert=0),Re=new s.Buf8(ve.w_size),s.arraySet(Re,xe,ze-ve.w_size,ve.w_size,0),xe=Re,ze=ve.w_size),ke=L.avail_in,Ee=L.next_in,he=L.input,L.avail_in=ze,L.next_in=0,L.input=xe,Qe(ve);ve.lookahead>=j;){for(Q=ve.strstart,K=ve.lookahead-(j-1);ve.ins_h=(ve.ins_h<<ve.hash_shift^ve.window[Q+j-1])&ve.hash_mask,ve.prev[Q&ve.w_mask]=ve.head[ve.ins_h],ve.head[ve.ins_h]=Q,Q++,--K;);ve.strstart=Q,ve.lookahead=j-1,Qe(ve)}return ve.strstart+=ve.lookahead,ve.block_start=ve.strstart,ve.insert=ve.lookahead,ve.lookahead=0,ve.match_length=ve.prev_length=j-1,ve.match_available=0,L.next_in=Ee,L.input=he,L.avail_in=ke,ve.wrap=se,m},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(a,s){var o,l,u,c,h,p,m,g,y,b,v,x,k,T,P,R,N,B,j,W,H,z,$,O,te;o=a.state,l=a.next_in,O=a.input,u=l+(a.avail_in-5),c=a.next_out,te=a.output,h=c-(s-a.avail_out),p=c+(a.avail_out-257),m=o.dmax,g=o.wsize,y=o.whave,b=o.wnext,v=o.window,x=o.hold,k=o.bits,T=o.lencode,P=o.distcode,R=(1<<o.lenbits)-1,N=(1<<o.distbits)-1;e:do{k<15&&(x+=O[l++]<<k,k+=8,x+=O[l++]<<k,k+=8),B=T[x&R];t:for(;;){if(x>>>=j=B>>>24,k-=j,(j=B>>>16&255)===0)te[c++]=65535&B;else{if(!(16&j)){if(!(64&j)){B=T[(65535&B)+(x&(1<<j)-1)];continue t}if(32&j){o.mode=12;break e}a.msg="invalid literal/length code",o.mode=30;break e}W=65535&B,(j&=15)&&(k<j&&(x+=O[l++]<<k,k+=8),W+=x&(1<<j)-1,x>>>=j,k-=j),k<15&&(x+=O[l++]<<k,k+=8,x+=O[l++]<<k,k+=8),B=P[x&N];n:for(;;){if(x>>>=j=B>>>24,k-=j,!(16&(j=B>>>16&255))){if(!(64&j)){B=P[(65535&B)+(x&(1<<j)-1)];continue n}a.msg="invalid distance code",o.mode=30;break e}if(H=65535&B,k<(j&=15)&&(x+=O[l++]<<k,(k+=8)<j&&(x+=O[l++]<<k,k+=8)),m<(H+=x&(1<<j)-1)){a.msg="invalid distance too far back",o.mode=30;break e}if(x>>>=j,k-=j,(j=c-h)<H){if(y<(j=H-j)&&o.sane){a.msg="invalid distance too far back",o.mode=30;break e}if($=v,(z=0)===b){if(z+=g-j,j<W){for(W-=j;te[c++]=v[z++],--j;);z=c-H,$=te}}else if(b<j){if(z+=g+b-j,(j-=b)<W){for(W-=j;te[c++]=v[z++],--j;);if(z=0,b<W){for(W-=j=b;te[c++]=v[z++],--j;);z=c-H,$=te}}}else if(z+=b-j,j<W){for(W-=j;te[c++]=v[z++],--j;);z=c-H,$=te}for(;2<W;)te[c++]=$[z++],te[c++]=$[z++],te[c++]=$[z++],W-=3;W&&(te[c++]=$[z++],1<W&&(te[c++]=$[z++]))}else{for(z=c-H;te[c++]=te[z++],te[c++]=te[z++],te[c++]=te[z++],2<(W-=3););W&&(te[c++]=te[z++],1<W&&(te[c++]=te[z++]))}break}}break}}while(l<u&&c<p);l-=W=k>>3,x&=(1<<(k-=W<<3))-1,a.next_in=l,a.next_out=c,a.avail_in=l<u?u-l+5:5-(l-u),a.avail_out=c<p?p-c+257:257-(c-p),o.hold=x,o.bits=k}},{}],49:[function(n,r,i){var a=n("../utils/common"),s=n("./adler32"),o=n("./crc32"),l=n("./inffast"),u=n("./inftrees"),c=1,h=2,p=0,m=-2,g=1,y=852,b=592;function v(z){return(z>>>24&255)+(z>>>8&65280)+((65280&z)<<8)+((255&z)<<24)}function x(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function k(z){var $;return z&&z.state?($=z.state,z.total_in=z.total_out=$.total=0,z.msg="",$.wrap&&(z.adler=1&$.wrap),$.mode=g,$.last=0,$.havedict=0,$.dmax=32768,$.head=null,$.hold=0,$.bits=0,$.lencode=$.lendyn=new a.Buf32(y),$.distcode=$.distdyn=new a.Buf32(b),$.sane=1,$.back=-1,p):m}function T(z){var $;return z&&z.state?(($=z.state).wsize=0,$.whave=0,$.wnext=0,k(z)):m}function P(z,$){var O,te;return z&&z.state?(te=z.state,$<0?(O=0,$=-$):(O=1+($>>4),$<48&&($&=15)),$&&($<8||15<$)?m:(te.window!==null&&te.wbits!==$&&(te.window=null),te.wrap=O,te.wbits=$,T(z))):m}function R(z,$){var O,te;return z?(te=new x,(z.state=te).window=null,(O=P(z,$))!==p&&(z.state=null),O):m}var N,B,j=!0;function W(z){if(j){var $;for(N=new a.Buf32(512),B=new a.Buf32(32),$=0;$<144;)z.lens[$++]=8;for(;$<256;)z.lens[$++]=9;for(;$<280;)z.lens[$++]=7;for(;$<288;)z.lens[$++]=8;for(u(c,z.lens,0,288,N,0,z.work,{bits:9}),$=0;$<32;)z.lens[$++]=5;u(h,z.lens,0,32,B,0,z.work,{bits:5}),j=!1}z.lencode=N,z.lenbits=9,z.distcode=B,z.distbits=5}function H(z,$,O,te){var X,le=z.state;return le.window===null&&(le.wsize=1<<le.wbits,le.wnext=0,le.whave=0,le.window=new a.Buf8(le.wsize)),te>=le.wsize?(a.arraySet(le.window,$,O-le.wsize,le.wsize,0),le.wnext=0,le.whave=le.wsize):(te<(X=le.wsize-le.wnext)&&(X=te),a.arraySet(le.window,$,O-te,X,le.wnext),(te-=X)?(a.arraySet(le.window,$,O-te,te,0),le.wnext=te,le.whave=le.wsize):(le.wnext+=X,le.wnext===le.wsize&&(le.wnext=0),le.whave<le.wsize&&(le.whave+=X))),0}i.inflateReset=T,i.inflateReset2=P,i.inflateResetKeep=k,i.inflateInit=function(z){return R(z,15)},i.inflateInit2=R,i.inflate=function(z,$){var O,te,X,le,de,ie,pe,F,M,Ce,_e,Te,Qe,pt,Je,st,Et,dt,bn,Ct,L,xe,ve,Q,K=0,se=new a.Buf8(4),ke=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!z||!z.state||!z.output||!z.input&&z.avail_in!==0)return m;(O=z.state).mode===12&&(O.mode=13),de=z.next_out,X=z.output,pe=z.avail_out,le=z.next_in,te=z.input,ie=z.avail_in,F=O.hold,M=O.bits,Ce=ie,_e=pe,xe=p;e:for(;;)switch(O.mode){case g:if(O.wrap===0){O.mode=13;break}for(;M<16;){if(ie===0)break e;ie--,F+=te[le++]<<M,M+=8}if(2&O.wrap&&F===35615){se[O.check=0]=255&F,se[1]=F>>>8&255,O.check=o(O.check,se,2,0),M=F=0,O.mode=2;break}if(O.flags=0,O.head&&(O.head.done=!1),!(1&O.wrap)||(((255&F)<<8)+(F>>8))%31){z.msg="incorrect header check",O.mode=30;break}if((15&F)!=8){z.msg="unknown compression method",O.mode=30;break}if(M-=4,L=8+(15&(F>>>=4)),O.wbits===0)O.wbits=L;else if(L>O.wbits){z.msg="invalid window size",O.mode=30;break}O.dmax=1<<L,z.adler=O.check=1,O.mode=512&F?10:12,M=F=0;break;case 2:for(;M<16;){if(ie===0)break e;ie--,F+=te[le++]<<M,M+=8}if(O.flags=F,(255&O.flags)!=8){z.msg="unknown compression method",O.mode=30;break}if(57344&O.flags){z.msg="unknown header flags set",O.mode=30;break}O.head&&(O.head.text=F>>8&1),512&O.flags&&(se[0]=255&F,se[1]=F>>>8&255,O.check=o(O.check,se,2,0)),M=F=0,O.mode=3;case 3:for(;M<32;){if(ie===0)break e;ie--,F+=te[le++]<<M,M+=8}O.head&&(O.head.time=F),512&O.flags&&(se[0]=255&F,se[1]=F>>>8&255,se[2]=F>>>16&255,se[3]=F>>>24&255,O.check=o(O.check,se,4,0)),M=F=0,O.mode=4;case 4:for(;M<16;){if(ie===0)break e;ie--,F+=te[le++]<<M,M+=8}O.head&&(O.head.xflags=255&F,O.head.os=F>>8),512&O.flags&&(se[0]=255&F,se[1]=F>>>8&255,O.check=o(O.check,se,2,0)),M=F=0,O.mode=5;case 5:if(1024&O.flags){for(;M<16;){if(ie===0)break e;ie--,F+=te[le++]<<M,M+=8}O.length=F,O.head&&(O.head.extra_len=F),512&O.flags&&(se[0]=255&F,se[1]=F>>>8&255,O.check=o(O.check,se,2,0)),M=F=0}else O.head&&(O.head.extra=null);O.mode=6;case 6:if(1024&O.flags&&(ie<(Te=O.length)&&(Te=ie),Te&&(O.head&&(L=O.head.extra_len-O.length,O.head.extra||(O.head.extra=new Array(O.head.extra_len)),a.arraySet(O.head.extra,te,le,Te,L)),512&O.flags&&(O.check=o(O.check,te,Te,le)),ie-=Te,le+=Te,O.length-=Te),O.length))break e;O.length=0,O.mode=7;case 7:if(2048&O.flags){if(ie===0)break e;for(Te=0;L=te[le+Te++],O.head&&L&&O.length<65536&&(O.head.name+=String.fromCharCode(L)),L&&Te<ie;);if(512&O.flags&&(O.check=o(O.check,te,Te,le)),ie-=Te,le+=Te,L)break e}else O.head&&(O.head.name=null);O.length=0,O.mode=8;case 8:if(4096&O.flags){if(ie===0)break e;for(Te=0;L=te[le+Te++],O.head&&L&&O.length<65536&&(O.head.comment+=String.fromCharCode(L)),L&&Te<ie;);if(512&O.flags&&(O.check=o(O.check,te,Te,le)),ie-=Te,le+=Te,L)break e}else O.head&&(O.head.comment=null);O.mode=9;case 9:if(512&O.flags){for(;M<16;){if(ie===0)break e;ie--,F+=te[le++]<<M,M+=8}if(F!==(65535&O.check)){z.msg="header crc mismatch",O.mode=30;break}M=F=0}O.head&&(O.head.hcrc=O.flags>>9&1,O.head.done=!0),z.adler=O.check=0,O.mode=12;break;case 10:for(;M<32;){if(ie===0)break e;ie--,F+=te[le++]<<M,M+=8}z.adler=O.check=v(F),M=F=0,O.mode=11;case 11:if(O.havedict===0)return z.next_out=de,z.avail_out=pe,z.next_in=le,z.avail_in=ie,O.hold=F,O.bits=M,2;z.adler=O.check=1,O.mode=12;case 12:if($===5||$===6)break e;case 13:if(O.last){F>>>=7&M,M-=7&M,O.mode=27;break}for(;M<3;){if(ie===0)break e;ie--,F+=te[le++]<<M,M+=8}switch(O.last=1&F,M-=1,3&(F>>>=1)){case 0:O.mode=14;break;case 1:if(W(O),O.mode=20,$!==6)break;F>>>=2,M-=2;break e;case 2:O.mode=17;break;case 3:z.msg="invalid block type",O.mode=30}F>>>=2,M-=2;break;case 14:for(F>>>=7&M,M-=7&M;M<32;){if(ie===0)break e;ie--,F+=te[le++]<<M,M+=8}if((65535&F)!=(F>>>16^65535)){z.msg="invalid stored block lengths",O.mode=30;break}if(O.length=65535&F,M=F=0,O.mode=15,$===6)break e;case 15:O.mode=16;case 16:if(Te=O.length){if(ie<Te&&(Te=ie),pe<Te&&(Te=pe),Te===0)break e;a.arraySet(X,te,le,Te,de),ie-=Te,le+=Te,pe-=Te,de+=Te,O.length-=Te;break}O.mode=12;break;case 17:for(;M<14;){if(ie===0)break e;ie--,F+=te[le++]<<M,M+=8}if(O.nlen=257+(31&F),F>>>=5,M-=5,O.ndist=1+(31&F),F>>>=5,M-=5,O.ncode=4+(15&F),F>>>=4,M-=4,286<O.nlen||30<O.ndist){z.msg="too many length or distance symbols",O.mode=30;break}O.have=0,O.mode=18;case 18:for(;O.have<O.ncode;){for(;M<3;){if(ie===0)break e;ie--,F+=te[le++]<<M,M+=8}O.lens[ke[O.have++]]=7&F,F>>>=3,M-=3}for(;O.have<19;)O.lens[ke[O.have++]]=0;if(O.lencode=O.lendyn,O.lenbits=7,ve={bits:O.lenbits},xe=u(0,O.lens,0,19,O.lencode,0,O.work,ve),O.lenbits=ve.bits,xe){z.msg="invalid code lengths set",O.mode=30;break}O.have=0,O.mode=19;case 19:for(;O.have<O.nlen+O.ndist;){for(;st=(K=O.lencode[F&(1<<O.lenbits)-1])>>>16&255,Et=65535&K,!((Je=K>>>24)<=M);){if(ie===0)break e;ie--,F+=te[le++]<<M,M+=8}if(Et<16)F>>>=Je,M-=Je,O.lens[O.have++]=Et;else{if(Et===16){for(Q=Je+2;M<Q;){if(ie===0)break e;ie--,F+=te[le++]<<M,M+=8}if(F>>>=Je,M-=Je,O.have===0){z.msg="invalid bit length repeat",O.mode=30;break}L=O.lens[O.have-1],Te=3+(3&F),F>>>=2,M-=2}else if(Et===17){for(Q=Je+3;M<Q;){if(ie===0)break e;ie--,F+=te[le++]<<M,M+=8}M-=Je,L=0,Te=3+(7&(F>>>=Je)),F>>>=3,M-=3}else{for(Q=Je+7;M<Q;){if(ie===0)break e;ie--,F+=te[le++]<<M,M+=8}M-=Je,L=0,Te=11+(127&(F>>>=Je)),F>>>=7,M-=7}if(O.have+Te>O.nlen+O.ndist){z.msg="invalid bit length repeat",O.mode=30;break}for(;Te--;)O.lens[O.have++]=L}}if(O.mode===30)break;if(O.lens[256]===0){z.msg="invalid code -- missing end-of-block",O.mode=30;break}if(O.lenbits=9,ve={bits:O.lenbits},xe=u(c,O.lens,0,O.nlen,O.lencode,0,O.work,ve),O.lenbits=ve.bits,xe){z.msg="invalid literal/lengths set",O.mode=30;break}if(O.distbits=6,O.distcode=O.distdyn,ve={bits:O.distbits},xe=u(h,O.lens,O.nlen,O.ndist,O.distcode,0,O.work,ve),O.distbits=ve.bits,xe){z.msg="invalid distances set",O.mode=30;break}if(O.mode=20,$===6)break e;case 20:O.mode=21;case 21:if(6<=ie&&258<=pe){z.next_out=de,z.avail_out=pe,z.next_in=le,z.avail_in=ie,O.hold=F,O.bits=M,l(z,_e),de=z.next_out,X=z.output,pe=z.avail_out,le=z.next_in,te=z.input,ie=z.avail_in,F=O.hold,M=O.bits,O.mode===12&&(O.back=-1);break}for(O.back=0;st=(K=O.lencode[F&(1<<O.lenbits)-1])>>>16&255,Et=65535&K,!((Je=K>>>24)<=M);){if(ie===0)break e;ie--,F+=te[le++]<<M,M+=8}if(st&&!(240&st)){for(dt=Je,bn=st,Ct=Et;st=(K=O.lencode[Ct+((F&(1<<dt+bn)-1)>>dt)])>>>16&255,Et=65535&K,!(dt+(Je=K>>>24)<=M);){if(ie===0)break e;ie--,F+=te[le++]<<M,M+=8}F>>>=dt,M-=dt,O.back+=dt}if(F>>>=Je,M-=Je,O.back+=Je,O.length=Et,st===0){O.mode=26;break}if(32&st){O.back=-1,O.mode=12;break}if(64&st){z.msg="invalid literal/length code",O.mode=30;break}O.extra=15&st,O.mode=22;case 22:if(O.extra){for(Q=O.extra;M<Q;){if(ie===0)break e;ie--,F+=te[le++]<<M,M+=8}O.length+=F&(1<<O.extra)-1,F>>>=O.extra,M-=O.extra,O.back+=O.extra}O.was=O.length,O.mode=23;case 23:for(;st=(K=O.distcode[F&(1<<O.distbits)-1])>>>16&255,Et=65535&K,!((Je=K>>>24)<=M);){if(ie===0)break e;ie--,F+=te[le++]<<M,M+=8}if(!(240&st)){for(dt=Je,bn=st,Ct=Et;st=(K=O.distcode[Ct+((F&(1<<dt+bn)-1)>>dt)])>>>16&255,Et=65535&K,!(dt+(Je=K>>>24)<=M);){if(ie===0)break e;ie--,F+=te[le++]<<M,M+=8}F>>>=dt,M-=dt,O.back+=dt}if(F>>>=Je,M-=Je,O.back+=Je,64&st){z.msg="invalid distance code",O.mode=30;break}O.offset=Et,O.extra=15&st,O.mode=24;case 24:if(O.extra){for(Q=O.extra;M<Q;){if(ie===0)break e;ie--,F+=te[le++]<<M,M+=8}O.offset+=F&(1<<O.extra)-1,F>>>=O.extra,M-=O.extra,O.back+=O.extra}if(O.offset>O.dmax){z.msg="invalid distance too far back",O.mode=30;break}O.mode=25;case 25:if(pe===0)break e;if(Te=_e-pe,O.offset>Te){if((Te=O.offset-Te)>O.whave&&O.sane){z.msg="invalid distance too far back",O.mode=30;break}Qe=Te>O.wnext?(Te-=O.wnext,O.wsize-Te):O.wnext-Te,Te>O.length&&(Te=O.length),pt=O.window}else pt=X,Qe=de-O.offset,Te=O.length;for(pe<Te&&(Te=pe),pe-=Te,O.length-=Te;X[de++]=pt[Qe++],--Te;);O.length===0&&(O.mode=21);break;case 26:if(pe===0)break e;X[de++]=O.length,pe--,O.mode=21;break;case 27:if(O.wrap){for(;M<32;){if(ie===0)break e;ie--,F|=te[le++]<<M,M+=8}if(_e-=pe,z.total_out+=_e,O.total+=_e,_e&&(z.adler=O.check=O.flags?o(O.check,X,_e,de-_e):s(O.check,X,_e,de-_e)),_e=pe,(O.flags?F:v(F))!==O.check){z.msg="incorrect data check",O.mode=30;break}M=F=0}O.mode=28;case 28:if(O.wrap&&O.flags){for(;M<32;){if(ie===0)break e;ie--,F+=te[le++]<<M,M+=8}if(F!==(4294967295&O.total)){z.msg="incorrect length check",O.mode=30;break}M=F=0}O.mode=29;case 29:xe=1;break e;case 30:xe=-3;break e;case 31:return-4;case 32:default:return m}return z.next_out=de,z.avail_out=pe,z.next_in=le,z.avail_in=ie,O.hold=F,O.bits=M,(O.wsize||_e!==z.avail_out&&O.mode<30&&(O.mode<27||$!==4))&&H(z,z.output,z.next_out,_e-z.avail_out)?(O.mode=31,-4):(Ce-=z.avail_in,_e-=z.avail_out,z.total_in+=Ce,z.total_out+=_e,O.total+=_e,O.wrap&&_e&&(z.adler=O.check=O.flags?o(O.check,X,_e,z.next_out-_e):s(O.check,X,_e,z.next_out-_e)),z.data_type=O.bits+(O.last?64:0)+(O.mode===12?128:0)+(O.mode===20||O.mode===15?256:0),(Ce==0&&_e===0||$===4)&&xe===p&&(xe=-5),xe)},i.inflateEnd=function(z){if(!z||!z.state)return m;var $=z.state;return $.window&&($.window=null),z.state=null,p},i.inflateGetHeader=function(z,$){var O;return z&&z.state&&2&(O=z.state).wrap?((O.head=$).done=!1,p):m},i.inflateSetDictionary=function(z,$){var O,te=$.length;return z&&z.state?(O=z.state).wrap!==0&&O.mode!==11?m:O.mode===11&&s(1,$,te,0)!==O.check?-3:H(z,$,te,te)?(O.mode=31,-4):(O.havedict=1,p):m},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var a=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(c,h,p,m,g,y,b,v){var x,k,T,P,R,N,B,j,W,H=v.bits,z=0,$=0,O=0,te=0,X=0,le=0,de=0,ie=0,pe=0,F=0,M=null,Ce=0,_e=new a.Buf16(16),Te=new a.Buf16(16),Qe=null,pt=0;for(z=0;z<=15;z++)_e[z]=0;for($=0;$<m;$++)_e[h[p+$]]++;for(X=H,te=15;1<=te&&_e[te]===0;te--);if(te<X&&(X=te),te===0)return g[y++]=20971520,g[y++]=20971520,v.bits=1,0;for(O=1;O<te&&_e[O]===0;O++);for(X<O&&(X=O),z=ie=1;z<=15;z++)if(ie<<=1,(ie-=_e[z])<0)return-1;if(0<ie&&(c===0||te!==1))return-1;for(Te[1]=0,z=1;z<15;z++)Te[z+1]=Te[z]+_e[z];for($=0;$<m;$++)h[p+$]!==0&&(b[Te[h[p+$]]++]=$);if(N=c===0?(M=Qe=b,19):c===1?(M=s,Ce-=257,Qe=o,pt-=257,256):(M=l,Qe=u,-1),z=O,R=y,de=$=F=0,T=-1,P=(pe=1<<(le=X))-1,c===1&&852<pe||c===2&&592<pe)return 1;for(;;){for(B=z-de,W=b[$]<N?(j=0,b[$]):b[$]>N?(j=Qe[pt+b[$]],M[Ce+b[$]]):(j=96,0),x=1<<z-de,O=k=1<<le;g[R+(F>>de)+(k-=x)]=B<<24|j<<16|W|0,k!==0;);for(x=1<<z-1;F&x;)x>>=1;if(x!==0?(F&=x-1,F+=x):F=0,$++,--_e[z]==0){if(z===te)break;z=h[p+b[$]]}if(X<z&&(F&P)!==T){for(de===0&&(de=X),R+=O,ie=1<<(le=z-de);le+de<te&&!((ie-=_e[le+de])<=0);)le++,ie<<=1;if(pe+=1<<le,c===1&&852<pe||c===2&&592<pe)return 1;g[T=F&P]=X<<24|le<<16|R-y|0}}return F!==0&&(g[R+F]=z-de<<24|64<<16|0),v.bits=X,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var a=n("../utils/common"),s=0,o=1;function l(K){for(var se=K.length;0<=--se;)K[se]=0}var u=0,c=29,h=256,p=h+1+c,m=30,g=19,y=2*p+1,b=15,v=16,x=7,k=256,T=16,P=17,R=18,N=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],B=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],H=new Array(2*(p+2));l(H);var z=new Array(2*m);l(z);var $=new Array(512);l($);var O=new Array(256);l(O);var te=new Array(c);l(te);var X,le,de,ie=new Array(m);function pe(K,se,ke,Ee,he){this.static_tree=K,this.extra_bits=se,this.extra_base=ke,this.elems=Ee,this.max_length=he,this.has_stree=K&&K.length}function F(K,se){this.dyn_tree=K,this.max_code=0,this.stat_desc=se}function M(K){return K<256?$[K]:$[256+(K>>>7)]}function Ce(K,se){K.pending_buf[K.pending++]=255&se,K.pending_buf[K.pending++]=se>>>8&255}function _e(K,se,ke){K.bi_valid>v-ke?(K.bi_buf|=se<<K.bi_valid&65535,Ce(K,K.bi_buf),K.bi_buf=se>>v-K.bi_valid,K.bi_valid+=ke-v):(K.bi_buf|=se<<K.bi_valid&65535,K.bi_valid+=ke)}function Te(K,se,ke){_e(K,ke[2*se],ke[2*se+1])}function Qe(K,se){for(var ke=0;ke|=1&K,K>>>=1,ke<<=1,0<--se;);return ke>>>1}function pt(K,se,ke){var Ee,he,Re=new Array(b+1),ze=0;for(Ee=1;Ee<=b;Ee++)Re[Ee]=ze=ze+ke[Ee-1]<<1;for(he=0;he<=se;he++){var Ie=K[2*he+1];Ie!==0&&(K[2*he]=Qe(Re[Ie]++,Ie))}}function Je(K){var se;for(se=0;se<p;se++)K.dyn_ltree[2*se]=0;for(se=0;se<m;se++)K.dyn_dtree[2*se]=0;for(se=0;se<g;se++)K.bl_tree[2*se]=0;K.dyn_ltree[2*k]=1,K.opt_len=K.static_len=0,K.last_lit=K.matches=0}function st(K){8<K.bi_valid?Ce(K,K.bi_buf):0<K.bi_valid&&(K.pending_buf[K.pending++]=K.bi_buf),K.bi_buf=0,K.bi_valid=0}function Et(K,se,ke,Ee){var he=2*se,Re=2*ke;return K[he]<K[Re]||K[he]===K[Re]&&Ee[se]<=Ee[ke]}function dt(K,se,ke){for(var Ee=K.heap[ke],he=ke<<1;he<=K.heap_len&&(he<K.heap_len&&Et(se,K.heap[he+1],K.heap[he],K.depth)&&he++,!Et(se,Ee,K.heap[he],K.depth));)K.heap[ke]=K.heap[he],ke=he,he<<=1;K.heap[ke]=Ee}function bn(K,se,ke){var Ee,he,Re,ze,Ie=0;if(K.last_lit!==0)for(;Ee=K.pending_buf[K.d_buf+2*Ie]<<8|K.pending_buf[K.d_buf+2*Ie+1],he=K.pending_buf[K.l_buf+Ie],Ie++,Ee===0?Te(K,he,se):(Te(K,(Re=O[he])+h+1,se),(ze=N[Re])!==0&&_e(K,he-=te[Re],ze),Te(K,Re=M(--Ee),ke),(ze=B[Re])!==0&&_e(K,Ee-=ie[Re],ze)),Ie<K.last_lit;);Te(K,k,se)}function Ct(K,se){var ke,Ee,he,Re=se.dyn_tree,ze=se.stat_desc.static_tree,Ie=se.stat_desc.has_stree,Ye=se.stat_desc.elems,D=-1;for(K.heap_len=0,K.heap_max=y,ke=0;ke<Ye;ke++)Re[2*ke]!==0?(K.heap[++K.heap_len]=D=ke,K.depth[ke]=0):Re[2*ke+1]=0;for(;K.heap_len<2;)Re[2*(he=K.heap[++K.heap_len]=D<2?++D:0)]=1,K.depth[he]=0,K.opt_len--,Ie&&(K.static_len-=ze[2*he+1]);for(se.max_code=D,ke=K.heap_len>>1;1<=ke;ke--)dt(K,Re,ke);for(he=Ye;ke=K.heap[1],K.heap[1]=K.heap[K.heap_len--],dt(K,Re,1),Ee=K.heap[1],K.heap[--K.heap_max]=ke,K.heap[--K.heap_max]=Ee,Re[2*he]=Re[2*ke]+Re[2*Ee],K.depth[he]=(K.depth[ke]>=K.depth[Ee]?K.depth[ke]:K.depth[Ee])+1,Re[2*ke+1]=Re[2*Ee+1]=he,K.heap[1]=he++,dt(K,Re,1),2<=K.heap_len;);K.heap[--K.heap_max]=K.heap[1],function(C,I){var V,J,fe,me,Ze,St,ct=I.dyn_tree,rt=I.max_code,xt=I.stat_desc.static_tree,jr=I.stat_desc.has_stree,Mv=I.stat_desc.extra_bits,Pf=I.stat_desc.extra_base,uo=I.stat_desc.max_length,Sl=0;for(me=0;me<=b;me++)C.bl_count[me]=0;for(ct[2*C.heap[C.heap_max]+1]=0,V=C.heap_max+1;V<y;V++)uo<(me=ct[2*ct[2*(J=C.heap[V])+1]+1]+1)&&(me=uo,Sl++),ct[2*J+1]=me,rt<J||(C.bl_count[me]++,Ze=0,Pf<=J&&(Ze=Mv[J-Pf]),St=ct[2*J],C.opt_len+=St*(me+Ze),jr&&(C.static_len+=St*(xt[2*J+1]+Ze)));if(Sl!==0){do{for(me=uo-1;C.bl_count[me]===0;)me--;C.bl_count[me]--,C.bl_count[me+1]+=2,C.bl_count[uo]--,Sl-=2}while(0<Sl);for(me=uo;me!==0;me--)for(J=C.bl_count[me];J!==0;)rt<(fe=C.heap[--V])||(ct[2*fe+1]!==me&&(C.opt_len+=(me-ct[2*fe+1])*ct[2*fe],ct[2*fe+1]=me),J--)}}(K,se),pt(Re,D,K.bl_count)}function L(K,se,ke){var Ee,he,Re=-1,ze=se[1],Ie=0,Ye=7,D=4;for(ze===0&&(Ye=138,D=3),se[2*(ke+1)+1]=65535,Ee=0;Ee<=ke;Ee++)he=ze,ze=se[2*(Ee+1)+1],++Ie<Ye&&he===ze||(Ie<D?K.bl_tree[2*he]+=Ie:he!==0?(he!==Re&&K.bl_tree[2*he]++,K.bl_tree[2*T]++):Ie<=10?K.bl_tree[2*P]++:K.bl_tree[2*R]++,Re=he,D=(Ie=0)===ze?(Ye=138,3):he===ze?(Ye=6,3):(Ye=7,4))}function xe(K,se,ke){var Ee,he,Re=-1,ze=se[1],Ie=0,Ye=7,D=4;for(ze===0&&(Ye=138,D=3),Ee=0;Ee<=ke;Ee++)if(he=ze,ze=se[2*(Ee+1)+1],!(++Ie<Ye&&he===ze)){if(Ie<D)for(;Te(K,he,K.bl_tree),--Ie!=0;);else he!==0?(he!==Re&&(Te(K,he,K.bl_tree),Ie--),Te(K,T,K.bl_tree),_e(K,Ie-3,2)):Ie<=10?(Te(K,P,K.bl_tree),_e(K,Ie-3,3)):(Te(K,R,K.bl_tree),_e(K,Ie-11,7));Re=he,D=(Ie=0)===ze?(Ye=138,3):he===ze?(Ye=6,3):(Ye=7,4)}}l(ie);var ve=!1;function Q(K,se,ke,Ee){_e(K,(u<<1)+(Ee?1:0),3),function(he,Re,ze,Ie){st(he),Ie&&(Ce(he,ze),Ce(he,~ze)),a.arraySet(he.pending_buf,he.window,Re,ze,he.pending),he.pending+=ze}(K,se,ke,!0)}i._tr_init=function(K){ve||(function(){var se,ke,Ee,he,Re,ze=new Array(b+1);for(he=Ee=0;he<c-1;he++)for(te[he]=Ee,se=0;se<1<<N[he];se++)O[Ee++]=he;for(O[Ee-1]=he,he=Re=0;he<16;he++)for(ie[he]=Re,se=0;se<1<<B[he];se++)$[Re++]=he;for(Re>>=7;he<m;he++)for(ie[he]=Re<<7,se=0;se<1<<B[he]-7;se++)$[256+Re++]=he;for(ke=0;ke<=b;ke++)ze[ke]=0;for(se=0;se<=143;)H[2*se+1]=8,se++,ze[8]++;for(;se<=255;)H[2*se+1]=9,se++,ze[9]++;for(;se<=279;)H[2*se+1]=7,se++,ze[7]++;for(;se<=287;)H[2*se+1]=8,se++,ze[8]++;for(pt(H,p+1,ze),se=0;se<m;se++)z[2*se+1]=5,z[2*se]=Qe(se,5);X=new pe(H,N,h+1,p,b),le=new pe(z,B,0,m,b),de=new pe(new Array(0),j,0,g,x)}(),ve=!0),K.l_desc=new F(K.dyn_ltree,X),K.d_desc=new F(K.dyn_dtree,le),K.bl_desc=new F(K.bl_tree,de),K.bi_buf=0,K.bi_valid=0,Je(K)},i._tr_stored_block=Q,i._tr_flush_block=function(K,se,ke,Ee){var he,Re,ze=0;0<K.level?(K.strm.data_type===2&&(K.strm.data_type=function(Ie){var Ye,D=4093624447;for(Ye=0;Ye<=31;Ye++,D>>>=1)if(1&D&&Ie.dyn_ltree[2*Ye]!==0)return s;if(Ie.dyn_ltree[18]!==0||Ie.dyn_ltree[20]!==0||Ie.dyn_ltree[26]!==0)return o;for(Ye=32;Ye<h;Ye++)if(Ie.dyn_ltree[2*Ye]!==0)return o;return s}(K)),Ct(K,K.l_desc),Ct(K,K.d_desc),ze=function(Ie){var Ye;for(L(Ie,Ie.dyn_ltree,Ie.l_desc.max_code),L(Ie,Ie.dyn_dtree,Ie.d_desc.max_code),Ct(Ie,Ie.bl_desc),Ye=g-1;3<=Ye&&Ie.bl_tree[2*W[Ye]+1]===0;Ye--);return Ie.opt_len+=3*(Ye+1)+5+5+4,Ye}(K),he=K.opt_len+3+7>>>3,(Re=K.static_len+3+7>>>3)<=he&&(he=Re)):he=Re=ke+5,ke+4<=he&&se!==-1?Q(K,se,ke,Ee):K.strategy===4||Re===he?(_e(K,2+(Ee?1:0),3),bn(K,H,z)):(_e(K,4+(Ee?1:0),3),function(Ie,Ye,D,C){var I;for(_e(Ie,Ye-257,5),_e(Ie,D-1,5),_e(Ie,C-4,4),I=0;I<C;I++)_e(Ie,Ie.bl_tree[2*W[I]+1],3);xe(Ie,Ie.dyn_ltree,Ye-1),xe(Ie,Ie.dyn_dtree,D-1)}(K,K.l_desc.max_code+1,K.d_desc.max_code+1,ze+1),bn(K,K.dyn_ltree,K.dyn_dtree)),Je(K),Ee&&st(K)},i._tr_tally=function(K,se,ke){return K.pending_buf[K.d_buf+2*K.last_lit]=se>>>8&255,K.pending_buf[K.d_buf+2*K.last_lit+1]=255&se,K.pending_buf[K.l_buf+K.last_lit]=255&ke,K.last_lit++,se===0?K.dyn_ltree[2*ke]++:(K.matches++,se--,K.dyn_ltree[2*(O[ke]+h+1)]++,K.dyn_dtree[2*M(se)]++),K.last_lit===K.lit_bufsize-1},i._tr_align=function(K){_e(K,2,3),Te(K,k,H),function(se){se.bi_valid===16?(Ce(se,se.bi_buf),se.bi_buf=0,se.bi_valid=0):8<=se.bi_valid&&(se.pending_buf[se.pending++]=255&se.bi_buf,se.bi_buf>>=8,se.bi_valid-=8)}(K)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(a){(function(s,o){if(!s.setImmediate){var l,u,c,h,p=1,m={},g=!1,y=s.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(s);b=b&&b.setTimeout?b:s,l={}.toString.call(s.process)==="[object process]"?function(T){process.nextTick(function(){x(T)})}:function(){if(s.postMessage&&!s.importScripts){var T=!0,P=s.onmessage;return s.onmessage=function(){T=!1},s.postMessage("","*"),s.onmessage=P,T}}()?(h="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",k,!1):s.attachEvent("onmessage",k),function(T){s.postMessage(h+T,"*")}):s.MessageChannel?((c=new MessageChannel).port1.onmessage=function(T){x(T.data)},function(T){c.port2.postMessage(T)}):y&&"onreadystatechange"in y.createElement("script")?(u=y.documentElement,function(T){var P=y.createElement("script");P.onreadystatechange=function(){x(T),P.onreadystatechange=null,u.removeChild(P),P=null},u.appendChild(P)}):function(T){setTimeout(x,0,T)},b.setImmediate=function(T){typeof T!="function"&&(T=new Function(""+T));for(var P=new Array(arguments.length-1),R=0;R<P.length;R++)P[R]=arguments[R+1];var N={callback:T,args:P};return m[p]=N,l(p),p++},b.clearImmediate=v}function v(T){delete m[T]}function x(T){if(g)setTimeout(x,0,T);else{var P=m[T];if(P){g=!0;try{(function(R){var N=R.callback,B=R.args;switch(B.length){case 0:N();break;case 1:N(B[0]);break;case 2:N(B[0],B[1]);break;case 3:N(B[0],B[1],B[2]);break;default:N.apply(o,B)}})(P)}finally{v(T),g=!1}}}}function k(T){T.source===s&&typeof T.data=="string"&&T.data.indexOf(h)===0&&x(+T.data.slice(h.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(FF);var doe=FF.exports;const hoe=Zi(doe);var Fk;(e=>{function t({images:n=[],...r}){const[i,a]=useState(!1),s=(0,e.use)();return n[0]?ne(q.Button,{...r,icon:q.Icon.Download,loading:i,onClick:()=>{a(!0),s(n,()=>a(!1))},children:["Download",ne("span",{className:"opacity-muted",children:["(",n.length,")"]})]}):null}e.Button=t,e.use=()=>{const[n]=re.Image.Inputs.use();return useCallback(async(r,i)=>{if(!r[0])return;const a=new hoe;let s=0;for(const c of r){const h=c?.src;if(!h)return;const m=await(await fetch(h)).blob(),g=n[c.inputID];if(!g)continue;const y=re.Image.Download.fileName(g).replace(".png",`_${s}.png`);a.file(y,m,{binary:!0}),s++}const l=`DreamStudio_${new Date().toISOString().slice(0,10)}.zip`,u=await a.generateAsync({type:"blob"});coe.saveAs(u,l),i?.()},[])}})(Fk||(Fk={}));var Bk;(e=>{e.Zip=Fk,e.execute=async t=>t.forEach(n=>{const r=re.Image.Input.get(n.inputID);r&&re.Image.Download.execute(n,r)}),e.use=t=>useCallback(()=>(0,e.execute)(t),[t])})(Bk||(Bk={}));function V0(){const e=V0.useClose(),{image:t,open:n,setImage:r}=$h.use(({image:i,open:a,setImage:s})=>({image:i,open:a,setImage:s}),tt.shallow);return E(q.Modal,{modalName:"Images",open:n,onClose:e,children:ne(q.Modal.Panel,{className:"flex h-full w-full grow overflow-hidden overflow-y-auto sm:max-h-[calc(100vh-5rem)] sm:max-w-[calc(100vw-5rem)]",children:[E(q.Modal.TopBar,{onClose:e}),E(re.Image.Modal.Content,{image:t,setImage:r,onClose:e})]})})}(e=>{e.useClose=()=>{const{setOpen:t,setImage:n}=$h.use(({setOpen:r,setImage:i})=>({setOpen:r,setImage:i}),tt.shallow);return useCallback(()=>{t(!1),n()},[t,n])},e.useOpen=()=>{const{setOpen:t,setImage:n}=$h.use(({setOpen:r,setImage:i})=>({setOpen:r,setImage:i}),tt.shallow);return useCallback(r=>{n(r),t(!0)},[t,n])}})(V0||(V0={}));var $h;(e=>{e.use=tt.create(t=>({open:!1,setOpen:n=>t({open:n}),setImage:n=>t({image:n})}))})($h||($h={}));var tc;(e=>{const t=()=>50;e.initial=(n=new Date)=>({forward:!1,limit:t()}),e.next=n=>({...n,forward:!0}),e.previous=n=>({...n,forward:!1})})(tc||(tc={}));BigInt.prototype.toJSON=function(){return this.toString()};var zk;(e=>{e.use=t=>{const n=useMemo(()=>tc.next(tc.initial()),[]),r=Fn.use(({getStableDiffusionExistingImages:i})=>i);return useMemo(()=>{if(r)return async i=>{const a=i?.pageParam??n,s=await r({limit:a.limit,exclusiveStartImageID:a.stopID});if(!s)return{forward:!1,limit:25,data:[]};const o={},l=[],u=[];for(const c of s){let h=ID.create();for(const p of c.images??[]){const m={...re.Image.Input.initial(ID.create()),...p.input&&{prompts:p.input.prompts,model:p.input.model,height:p.input.height,width:p.input.width,seed:p.input.seed,steps:p.input.steps,strength:p.input.initialImage?.weight??1,cfgScale:p.input.cfgScale,extras:{$IPC:{preset:p.input.style}}}};o[m.id]=m,h=m.id,l.push({id:p.id,inputID:m.id,created:p.createdAt,finishReason:0,src:p.blob?URL.createObjectURL(p.blob):void 0})}u.push({count:c.images?.length??0,id:c.id,imageIDs:c.images?.map(p=>p.id)??[],inputID:h,completedAt:c.images?.find(p=>p.createdAt)?.createdAt})}return re.Images.add(l),re.Image.Inputs.set(c=>({...c,...o})),re.Image.Outputs.set(u),{...a,stopID:s[0]?.exclusiveStartImageID,data:l}}},[r,n])}})(zk||(zk={}));var Uk;(e=>{e.use=()=>{const t=zk.use();return loe({enabled:!!t,queryKey:["Generation.Images.Query.use"],queryFn:t,staleTime:1/0,cacheTime:1/0,getNextPageParam:n=>n.stopID?tc.next(n):void 0,getPreviousPageParam:n=>n.stopID?tc.previous(n):void 0,select:useCallback(n=>({pages:[...n.pages].reverse(),pageParams:[...n.pageParams].reverse()}),[])})}})(Uk||(Uk={}));function foe({onScrollToTop:e,onScrollBack:t,showTop:n,showBottom:r,outputs:i}){const[a,s]=useState(i[0]?.id),o=useMemo(()=>{if(!a)return[];const l=i.findIndex(u=>u.id===a);return i.slice(0,l)},[a,i]);return useEffect(()=>{n&&s(i[0]?.id)},[n]),ne(ff,{children:[n&&E("div",{className:"absolute top-0 z-[999] my-3 flex w-full justify-center px-3",children:ne(Or.div,{onClick:e,className:"bg-brand-500 hover:bg-brand-400 group pointer-events-auto flex h-[2.5rem] cursor-pointer select-none items-center justify-between gap-2 rounded-lg py-1.5 px-3 backdrop-blur-lg transition-colors duration-100",initial:{y:-50},animate:{opacity:1,y:0},exit:{opacity:0},children:[E(q.Icon.ChevronUp,{size:18,className:"-mr-1"}),E("h1",{children:"Scroll to top"}),o.length>0&&ne("div",{className:"ml-1 flex items-center",children:[o.sort((l,u)=>(u.requestedAt??u.completedAt??0).valueOf()-(l.requestedAt??l.completedAt??0).valueOf()).slice(0,3).map((l,u)=>E(poe,{output:l,index:u},l.id)),o.length>3&&ne("div",{className:"relative ml-1",children:[ne("h1",{className:"absolute left-0 top-[50%] ml-1 -translate-y-1/2",children:["+",o.length-3]}),ne("h1",{className:"ml-1 font-mono opacity-0",children:["+",o.length-3]})]})]})]})},"top"),r&&E("div",{className:"absolute bottom-0 z-[999] my-3 flex w-full justify-center px-3",children:ne(Or.div,{onClick:t,className:"group pointer-events-auto flex h-[2.5rem] cursor-pointer select-none items-center justify-between gap-2 rounded-lg bg-zinc-900/75 py-1.5 px-3 backdrop-blur-lg transition-colors duration-100 hover:bg-zinc-900",initial:{y:50},animate:{opacity:1,y:0},exit:{opacity:0},children:[E(q.Icon.ChevronDown,{size:18,className:"-mr-1"}),E("h1",{children:"Scroll back"})]})},"bottom")]})}function poe({output:e,index:t}){const r=re.Images.useFromIDs(...e.imageIDs)[0];return E("div",{className:"ring-brand-500 group-hover:ring-brand-400 overflow-hidden rounded-md ring-[3px] duration-100",style:{marginLeft:-4,zIndex:999-t},children:E(re.Image,{className:"pointer-events-none",hideControls:!0,width:24,height:24,image:r})})}var yu;(e=>{const t=tt.create(n=>({images:{},addImages:r=>n(i=>({images:{...i.images,...r.reduce((a,s)=>({...a,[s.id]:s}),{})}}))}));e.get=t.getState,e.use=t})(yu||(yu={}));function Vh({className:e}){const n=re.Image.Create.Latest.use()?0:1,r=re.Image.Outputs.use(),i=r.length+n,{isFetching:a,fetchPreviousPage:s,hasPreviousPage:o}=Uk.use(),l=useRef(null),u=useRef(0),c=useRef(-1),h=useRef(!1),p=useRef({});useLayoutEffect(()=>{u.current=l.current?.offsetTop??0},[]);const m=Pse({getScrollElement:()=>l.current,estimateSize:k=>p.current[k]??400,count:i,scrollMargin:u.current,paddingEnd:40,overscan:4}),g=m.getVirtualItems(),y=useMemo(()=>(g[0]?.index??0)>3&&c.current===-1,[g]),b=useCallback(()=>{c.current=m.scrollOffset??0,m.scrollToOffset(0,{behavior:"smooth"})},[m]),v=useCallback(()=>{h.current=!0,m.scrollToOffset(c.current,{behavior:"smooth",align:"start"})},[m]);useEffect(()=>{c.current!==-1&&h.current&&(m.scrollToOffset(c.current),c.current===m.scrollOffset&&(c.current=-1,h.current=!1))},[g,m]),useEffect(()=>{y&&(c.current=-1)},[y]),useEffect(()=>{const k=g[g.length-1]?.index;k&&k>=r.length-10&&!a&&o&&s()},[g,r.length,o,a,s]);const x=useMemo(()=>g.map(k=>{const T=k.index===0&&!!n,P=r[k.index-n]?.id;if(!P&&!T)return null;const R=T?re.Image.Outputs.nextID():P;return E(Or.div,{"data-index":k.index,ref:N=>{m.measureElement(N),N&&(p.current[k.index]=N.getBoundingClientRect().height)},layoutId:R,layout:"preserve-aspect",className:classes("relative flex flex-col gap-4",k.index===i-1&&"pb-12"),initial:{opacity:0,y:-300},animate:{opacity:1,y:0},exit:{opacity:0},transition:{type:"spring",stiffness:500,damping:50,mass:2},children:E(re.Image.Output,{placeholder:T,divider:k.index!==0,outputID:P})},R)}),[m,g,n,r]);return ne(it,{children:[E(re.Images.Modal,{}),E(re.Images.Scroll,{onScrollToTop:b,onScrollBack:v,showTop:y,showBottom:c.current!==-1,outputs:r}),E("div",{ref:l,className:classes("relative flex grow flex-col gap-4 overflow-y-auto p-6 dark:bg-zinc-800",e),children:E("div",{className:"relative w-full",style:{height:m.getTotalSize()},children:E("div",{className:"absolute top-0 left-0 w-full",style:{transform:`translateY(${(g[0]?.start??0)-m.options.scrollMargin}px)`},children:x})})})]})}(e=>{e.Delete=Lk,e.Download=Bk,e.Modal=V0,e.State=yu,e.Scroll=foe,e.add=t=>yu.get().addImages(t),e.use=()=>yu.use(({images:t})=>Object.values(t),tt.shallow),e.useFromIDs=(...t)=>yu.use(({images:n})=>t.filter(r=>r!==void 0).map(r=>n[r]).filter(r=>r!==void 0),tt.shallow)})(Vh||(Vh={}));var jk;(e=>{function t({id:n}){const{setInput:r,importInit:i,input:a}=re.Image.Input.use(n),[s,o]=useState(!1),l=re.Image.HTMLElement.Dragging.useImage(),u=re.Image.Session.useSetLastStrength(),c=re.Image.Session.useSetInitialImage(),h=useMemo(()=>!!a?.init||!!l,[a?.init,l]),p=useMemo(()=>a?.width&&a?.height?a.width/a.height:1,[a]),m=useMemo(()=>({onDragOver:g=>{g.preventDefault(),o(!0)},onDragLeave:g=>{g.preventDefault(),o(!1)},onDrop:g=>{g.preventDefault(),o(!1);const y=g.dataTransfer?.files[0],b=y&&URL.createObjectURL(y);c(b??l)}}),[c,l]);return a?E(Ot.Sidebar.Section,{divider:!0,collapsable:!0,padding:"sm",title:a.init?"Image":"Upload image",defaultExpanded:h,button:g=>a.init?E(q.Button,{...g,icon:q.Icon.Trash,onClick:()=>{r(y=>{y.init=null})}}):E(q.Button,{...g,icon:q.Icon.Upload,onClick:i}),children:E("div",{className:"flex flex-col",children:E("div",{className:"flex flex-col overflow-hidden rounded border border-zinc-700 bg-zinc-800 p-2",children:a.init&&!s?ne(it,{children:[ne("div",{onClick:i,...m,className:"hover:opacity-muted group relative flex aspect-square max-h-[140px] cursor-pointer items-center justify-center overflow-hidden rounded bg-black/20",children:[E("div",{className:"relative h-full max-h-[140px] overflow-hidden",style:{aspectRatio:p,background:"hsl(0, 0%, 50%)","--blur":`${Math.pow(1-a.strength,8)*50+(1-a.strength)*3}px`},css:css`
                      &::after {
                        content: "";
                        position: absolute;
                        top: 0;
                        left: 0;
                        width: 100%;
                        height: 100%;
                        backdrop-filter: blur(var(--blur));
                      }
                    `,children:E("img",{src:"base64"in a.init?a.init.base64:a.init.src,id:"init-img",className:"absolute h-full w-full object-cover",style:{aspectRatio:p}})}),E(q.Icon.Upload,{className:"absolute top-1/2 left-1/2 z-10 hidden -translate-x-1/2 -translate-y-1/2 transform text-white mix-blend-overlay group-hover:block",size:24})]}),E("div",{className:"mt-2",children:E(q.Slider,{value:a.strength*100,min:0,max:100,step:1,percentage:!0,title:"Image strength",onChange:g=>{const y=g/100;u(y),r(b=>{b.strength=g/100})}})})]}):E("div",{className:classes("group flex cursor-pointer flex-col items-center justify-center gap-4 rounded bg-zinc-800 py-4 px-3 text-center"),...m,onClick:i,children:s?ne(it,{children:[E(q.Icon.Upload,{size:28,className:"pointer-events-none"}),E("h3",{className:"pointer-events-none",children:"Drop image here to create variations"})]}):ne(it,{children:[E(q.Icon.Upload,{size:28,className:"opacity-75 duration-100 group-hover:opacity-100"}),E("h3",{className:"opacity-75 duration-100 group-hover:opacity-100",children:"Upload an image to create variations"})]})})})})}):null}e.Section=t})(jk||(jk={}));var $k;(e=>{e.Sidebar=jk})($k||($k={}));const moe=bz(yV);var E_=Object.defineProperty,goe=Object.getOwnPropertyDescriptor,yoe=Object.getOwnPropertyNames,voe=Object.prototype.hasOwnProperty,woe=(e,t)=>{for(var n in t)E_(e,n,{get:t[n],enumerable:!0})},boe=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of yoe(t))!voe.call(e,i)&&i!==n&&E_(e,i,{get:()=>t[i],enumerable:!(r=goe(t,i))||r.enumerable});return e},xoe=e=>boe(E_({},"__esModule",{value:!0}),e),BF={};woe(BF,{temporal:()=>_oe});var koe=xoe(BF),Soe=moe,Eoe=(e,t,n,{equality:r,onSave:i,limit:a,pastStates:s=[],futureStates:o=[]}={})=>(0,Soe.createStore)((l,u)=>({pastStates:s,futureStates:o,undo:(c=1)=>{const h=u().pastStates.slice(),p=u().futureStates.slice();if(h.length!==0){for(let m=0;m<c;m++){const g=h.pop();g&&(p.push(n(t())),e(g))}l({pastStates:h,futureStates:p})}},redo:(c=1)=>{const h=u().pastStates.slice(),p=u().futureStates.slice();if(p.length!==0){for(let m=0;m<c;m++){const g=p.pop();g&&(h.push(n(t())),e(g))}l({pastStates:h,futureStates:p})}},clear:()=>{l({pastStates:[],futureStates:[]})},trackingStatus:"tracking",pause:()=>{l({trackingStatus:"paused"})},resume:()=>{l({trackingStatus:"tracking"})},setOnSave:c=>{l({__onSave:c})},__onSave:i,__handleSet:c=>{const h=u().trackingStatus,p=u().__onSave,m=u().pastStates.slice(),g=n(t());h==="tracking"&&!r?.(g,c)&&(a&&m.length>=a&&m.shift(),m.push(c),p?.(c,g),l({pastStates:m,futureStates:[]}))}})),Coe=(e,{partialize:t=i=>i,handleSet:n=i=>i,...r}={})=>(a,s,o)=>{o.temporal=Eoe(a,s,t,r);const l=n(o.temporal.getState().__handleSet),u=o.setState;return o.setState=(c,h)=>{const p=t(s());u(c,h),l(p)},e((c,h)=>{const p=t(s());a(c,h),l(p)},s,o)},_oe=Coe,Vk;(e=>{e.use=()=>{const{undo:t,redo:n}=nc.use();Xe.use(useMemo(()=>({name:["History","Undo"],keys:["Meta","z"],icon:q.Icon.Undo,action:()=>t()}),[t])),Xe.use(useMemo(()=>({name:["History","Redo"],keys:["Meta","Shift","z"],icon:q.Icon.Redo,action:()=>n()}),[n]))}})(Vk||(Vk={}));var nc;(e=>{e.Shortcuts=Vk,e.use=()=>{const{undo:n,redo:r}=Rs.use.temporal.getState();return useMemo(()=>({undo:n,redo:r}),[n,r])};function t(n){const r=ID.create(),i=()=>Rs.use.getState().trackedStates[r],a=c=>Rs.use.getState().setTrackedState(r,c),s=c=>Rs.use.subscribe(({trackedStates:h},p)=>c(h[r],p.trackedStates[r])),o=()=>Rs.use.temporal.getState().clear(),l=()=>Rs.use.getState().setTrackedState(r,n(a)),u={setState:a,getState:i,subscribe:s};return l(),o(),of(u)}e.create=t})(nc||(nc={}));var Rs;(e=>{e.use=of(koe.temporal(t=>({trackedStates:{},setTrackedState:(n,r)=>t(({trackedStates:i})=>{const a=i[n],s=typeof a=="object"?a:{},o=typeof r=="function"?r(a):r;return{trackedStates:{...i,[n]:{...s,...o}}}})}),{limit:1e3,handleSet:t=>throttle(t,1e3)}))})(Rs||(Rs={}));var Os;(e=>{e.get=()=>t.use.getState().inputs,e.set=(...n)=>t.use.getState().setInputs(...n),e.copy=(n,r)=>(0,e.set)(i=>{const a=i[n];return{...i,...a&&{[r]:{...a,id:r}}}}),e.use=()=>{const n=t.use(({inputs:r})=>r,tt.shallow);return React.useMemo(()=>[n,e.set],[n])},e.useFromIDs=(...n)=>t.use(({inputs:r})=>n.map(i=>r[i]),tt.shallow);let t;(n=>{n.use=nc.create(r=>({inputs:{},setInputs:i=>r(({inputs:a})=>({inputs:typeof i=="function"?i(a):i}))}))})(t=e.State||(e.State={}))})(Os||(Os={}));var W0;(e=>{e.Image=$k,e.upscaleEngines=["esrgan-v1-x2plus","stable-diffusion-x2-latent-upscaler","stable-diffusion-x4-latent-upscaler"],e.initial=i=>re.Image.Model.StableDiffusionV1.Input.initial(i),e.promptText=i=>i.prompts.map(a=>a.text).join(" "),e.isUpscaling=i=>e.upscaleEngines.includes(i.model),e.get=i=>Os.get()[i],e.set=(i,a)=>Os.set(s=>({...s,[i]:copy(s[i]??(0,e.initial)(i),a)}));function t(i){const a=Os.State.use(({inputs:p})=>{if(!i)return;const m=p[i]??(0,e.initial)(i);return p[i]||Os.set(g=>({...g,[i]:m})),m},tt.shallow),s=useCallback(p=>Os.set(m=>i!==void 0&&a!==void 0?{...m,[i]:copy(a,p)}:m),[i,a]),o=useCallback((p=0)=>s(m=>{const g=m.prompts[p];g&&(m.prompts[p]={...g,text:re.Image.Prompt.Random.get()})}),[s]),l=useCallback(()=>s(p=>{p.prompts.push({weight:1})}),[s]),u=useCallback((p,m)=>s(g=>{const y=g.prompts[p],b=g.prompts[m];y===void 0||b===void 0||(g.prompts[p]=b,g.prompts[m]=y)}),[s]),c=useCallback((p=0)=>s(m=>{m.prompts.splice(p,1)}),[s]),h=useCallback(()=>{const p=document.createElement("input");p.type="file",p.accept="image/*",p.onchange=async()=>{const m=p.files?.[0];if(!m)return;const g=URL.createObjectURL(m);s(y=>{y.init={src:g,mask:!1,weight:1}})},p.click()},[s]);return useMemo(()=>({input:a,setInput:s,shuffle:o,addPrompt:l,swapPrompts:u,deletePrompt:c,importInit:h}),[a,s,o,l,u,c,h])}e.use=t,e.resizeInit=async i=>{if(!i.init)return;let a="";const s=re.Image.Input.isUpscaling(i);if("base64"in i.init)a=i.init.base64;else if(i.init.src.startsWith("blob:"))a=i.init.src;else{const y=await fetch(i.init.src);a=URL.createObjectURL(await y.blob())}const o=new window.Image;o.src=a,await new Promise(y=>{o.onload=y});const l=document.createElement("canvas");l.width=s?o.width:Math.ceil(i.width/64)*64,l.height=s?o.height:Math.ceil(i.height/64)*64;const u=l.getContext("2d");if(!u)return;if(u.fillStyle="#333",u.fillRect(0,0,l.width,l.height),s)return u.drawImage(o,0,0,l.width,l.height),console.log({width:l.width,height:l.height}),l.toDataURL("image/png");const c=Math.max(i.width/o.width,i.height/o.height),h=o.width*c,p=o.height*c,m=(i.width-h)/2,g=(i.height-p)/2;return u.drawImage(o,m,g,h,p),l.toDataURL("image/png")};async function n(i){const a={sampler:i.sampler,cfgScale:i.cfgScale,height:i.height,width:i.width,model:i.model,seed:i.seed,steps:i.steps,style:i.extras?.$IPC?.preset};return a.prompts=(0,e.isUpscaling)(i)?[]:i.prompts.filter(s=>s.text&&s.weight),i.mask&&(a.maskImage={blob:await r("base64"in i.mask?i.mask.base64:i.mask.src),weight:1}),i.init&&(a.initialImage={blob:await r("base64"in i.init?i.init.base64:i.init.src),weight:i.strength}),(0,e.isUpscaling)(i)||(a.height=i.height),a}e.toInput=n;async function r(i){if(i.startsWith("http")||i.startsWith("blob"))return(await fetch(i)).blob();{const a=window.Buffer.from(i.split(";base64,").pop(),"base64");return new Blob([a])}}})(W0||(W0={}));function zF({image:e,setImage:t,onClose:n}){const[r,i]=useState(!0),a=re.Images.use(),{input:s}=re.Image.Input.use(e?.inputID),o=re.Image.Models.useAreEnabled(),l=re.Image.Styles.useAreEnabled(),u=re.Image.Style.useFromID(s?.extras?.$IPC?.preset),c=re.Image.Session.useCreateVariations(e),h=re.Image.Session.useSetInitialImage(),p=ee.Import.use(e),m=re.Image.Download.use(e);useEffect(()=>{if(e?.src){const k=new Image;k.src=e.src,k.onload=()=>i(!1),i(!0)}},[e?.src]);const g=useMemo(()=>a.findIndex(k=>k.src===e?.src),[e?.src,a]),y=useCallback(()=>{if(g>-1){const k=g-1;a[k]&&t(a[k])}},[g,a,t]),b=useCallback(()=>{if(g>-1){const k=g+1;a[k]&&t(a[k])}},[g,a,t]);Xe.use(useMemo(()=>({name:["Navigate","Previous Image"],keys:["ArrowLeft"],action:y}),[y])),Xe.use(useMemo(()=>({name:["Navigate","Next Image"],keys:["ArrowRight"],action:b}),[b]));const v=useMemo(()=>{if(s?.width&&s?.height){const k=(N,B)=>B?k(B,N%B):N,T=k(s.width,s.height),P=s.width/T,R=s.height/T;return`${P} : ${R}`}return""},[s?.width,s?.height]),x=useCallback(()=>{n?.(),c()},[n,c]);return!e||!s?null:ne("div",{className:"flex max-h-screen min-h-0 w-fit flex-col gap-4 overflow-y-auto p-4 sm:flex-row",children:[ne("div",{className:"group relative flex aspect-square shrink-0 grow flex-col justify-center overflow-hidden rounded bg-black/75 sm:min-h-0 sm:shrink sm:basis-0",children:[E("img",{src:e.src,className:classes("h-full w-full grow basis-0 object-contain duration-100 sm:h-[999999px] sm:min-h-0 sm:w-[999999px]",r?"opacity-0":"opacity-100")}),r&&E("div",{className:"absolute inset-0 flex items-center justify-center",children:E(q.Loading.Spinner,{className:"h-10 w-10"})}),a.length>0&&ne("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-between p-2 opacity-0 duration-100 group-hover:opacity-100",children:[E(q.Button,{className:"pointer-events-auto",icon:q.Icon.ChevronLeft,disabled:r||g<=0,onClick:y}),E(q.Button,{className:"pointer-events-auto",icon:q.Icon.ChevronRight,disabled:r||g===-1||g===a.length-1,onClick:b})]})]}),ne("div",{className:"flex min-h-0 shrink-0 flex-col gap-4 overflow-y-auto overflow-x-hidden sm:max-w-[22rem]",children:[E("div",{className:"flex flex-col gap-4 border-b border-zinc-800 pb-4",children:s.prompts.filter(k=>k.text).map((k,T)=>"text"in k&&k.text&&s&&ne("div",{className:"flex flex-col gap-2",children:[E("h1",{className:"opacity-muted select-none",children:s.prompts.length>1?k.weight>0?`Prompt ${T+1}`:"Negative prompt":"Prompt"}),E("p",{children:k.text})]},T))}),E("div",{className:"flex items-center justify-between gap-4 border-b border-zinc-800 pb-4",children:ne("div",{className:"flex flex-row items-center gap-1",children:[E(re.Image.Variations.Create.Button,{outline:!0,id:s.id,onClick:x,className:"shrink-0",noTitle:!0}),E(q.Button,{outline:!0,icon:q.Icon.Edit,label:"Edit image",onClick:p}),E(q.Button,{outline:!0,icon:q.Icon.Image,disabled:r,label:"Set as init image",onClick:()=>{h(e.src),n?.()}}),E(re.Image.Prompt.Reuse.Button,{inputID:s.id,onClick:n}),E(q.Button,{outline:!0,icon:q.Icon.Download,disabled:r,label:"Download",onClick:()=>m()})]})}),(o&&s.model||l&&u)&&ne("div",{className:"flex flex-wrap gap-1",children:[o&&s.model&&E(bR,{children:s.model}),l&&u&&ne(bR,{className:"flex items-center gap-1",children:[u.image&&E("img",{src:u.image,className:"h-4 w-4 rounded",alt:u.name}),E("h1",{children:u.name})]})]}),ne("div",{className:"grid grid-cols-2 gap-4",children:[E(dd,{name:"Ratio",value:v}),E(dd,{name:"Size",value:`${s.width}  ${s.height}`}),!re.Image.Input.isUpscaling(s)&&ne(it,{children:[s.cfgScale&&E(dd,{name:"Prompt strength",value:s.cfgScale?.toString()}),s.seed&&E(dd,{name:"Seed",value:s.seed?.toString()}),E(dd,{name:"Steps",value:s.steps.toString()})]})]})]})]})}function dd({name:e,value:t,className:n}){return ne("h1",{className:classes("flex flex-row items-center gap-2",n),children:[typeof e=="string"?E("span",{className:"opacity-muted select-none",children:e}):e,E("span",{className:"text-white/90",children:t})]})}function bR({children:e,className:t}){return E("span",{className:classes("w-fit rounded border border-zinc-800 px-1.5 py-0.5 text-sm",t),children:e})}function G0(){const[e,t]=G0.useImage();return E(q.Modal,{modalName:"Image",open:!!e,onClose:()=>t(),children:e&&ne(q.Modal.Panel,{className:"flex h-full min-h-0 w-full overflow-y-auto sm:max-h-[calc(100vh-5rem)] sm:max-w-[calc(100vw-5rem)] sm:grow",children:[E(q.Modal.TopBar,{onClose:()=>t()}),E(zF,{image:e,setImage:t,onClose:()=>t()})]})})}(e=>{e.Content=zF,e.useImage=()=>t.use(({image:n,setImage:r})=>[n,r],tt.shallow);let t;(n=>{n.use=tt.create(r=>({setImage:i=>r(a=>({...a,image:i}))}))})(t||(t={}))})(G0||(G0={}));function Toe({id:e,className:t}){const{setInput:n,input:r}=re.Image.Input.use(e),{data:i,isLoading:a}=re.Image.Models.use(),s=useCallback(l=>{n(u=>{console.log("model",l),u.model=l})},[n]),o=useMemo(()=>[...(i??[]).map(({id:l,name:u})=>({value:l,name:l==="stable-diffusion-xl-v2-2"?ne(it,{children:["SDXL",E(q.New,{children:"Preview"})]}):l==="stable-diffusion-xl-beta-v2-2-2"?ne(it,{children:["SDXL Beta",E(q.New,{children:"Preview"})]}):l==="stable-diffusion-xl-tiling-v2-2"?ne(it,{children:["SDXL Tiling",E(q.New,{children:"Preview"})]}):u}))],[i]);return r?E(q.Popout,{title:"Model",label:"Model",placeholder:a?"Loading...":"Select a Model",value:r.model,className:t,onClick:s,options:o,anchor:"bottom",children:!i&&E("div",{className:"flex flex-col items-center justify-center px-16 py-32",children:E("div",{className:"text-muted-white pb-3",children:"Loading models..."})})}):null}var Wk;(e=>{(t=>{t.initialWithStyle=n=>re.Image.Style.apply({input:(0,t.initial)(n)}),t.initial=n=>{const r=Fn.get().getStableDiffusionDefaultInput?.(),i=r?.prompts?.map(({text:a,weight:s})=>({text:a??re.Image.Prompt.Random.get(),weight:s??1}));return{id:n,prompts:i??[{text:re.Image.Prompt.Random.get(),weight:1},{text:"",weight:-.75}],model:r?.model??"stable-diffusion-xl-beta-v2-2-2",sampler:r?.sampler??{id:"0",name:"DDIM"},height:r?.width??512,width:r?.height??512,steps:r?.steps??50,seed:r?.seed??0,guidance:!1,strength:1,mask:null,init:null,extras:{$IPC:{preset:"enhance"}}}}})(e.Input||(e.Input={})),e.price=t=>{if(re.Image.Input.isUpscaling(t))return .2;const{steps:n,width:r,height:i}=t;return t.model.includes("-xl-")?(r*i-169527)*n/30*54e-9*100:(r*i-169527)*n/30*216e-10*100},e.baseResolution=t=>{if(t.includes("512"))return 512;if(t.includes("768"))return 768;switch(t){case"stable-diffusion-v1-5":return 512;case"stable-diffusion-v1-4":return 512}return 512},e.validate=({height:t,width:n,steps:r,mask:i,init:a,prompts:s})=>t>0&&t<=2048&&n>0&&n<=2048&&r>0&&r<=150&&(i===null||i.mask)&&(a===null||!a.mask)&&(i&&a||!i)&&s.filter(({weight:o,text:l})=>o>0&&l&&l!=="").length>0&&(s.filter(({text:o})=>o&&o.length>0).length>0||a!==null)})(Wk||(Wk={}));var Gk;(e=>{e.use=()=>{const t=Fn.use(({getStableDiffusionModels:n})=>n);return S_({enabled:!!t,queryKey:["Generation.Image.Models.use"],queryFn:async()=>await t?.()??[]})},e.useAreEnabled=()=>Fn.use(({getStableDiffusionModels:t})=>!!t)})(Gk||(Gk={}));var Hk;(e=>{e.StableDiffusionV1=Wk,e.Dropdown=Toe})(Hk||(Hk={}));function Wh(e){return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wh(e)}function lr(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function kt(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function vt(e){kt(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Wh(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Ioe(e,t){kt(2,arguments);var n=vt(e),r=lr(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Poe(e,t){kt(2,arguments);var n=vt(e),r=lr(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),a=new Date(n.getTime());a.setMonth(n.getMonth()+r+1,0);var s=a.getDate();return i>=s?a:(n.setFullYear(a.getFullYear(),a.getMonth(),i),n)}function hd(e,t){if(kt(2,arguments),!t||Wh(t)!=="object")return new Date(NaN);var n=t.years?lr(t.years):0,r=t.months?lr(t.months):0,i=t.weeks?lr(t.weeks):0,a=t.days?lr(t.days):0,s=t.hours?lr(t.hours):0,o=t.minutes?lr(t.minutes):0,l=t.seconds?lr(t.seconds):0,u=vt(e),c=r||n?Poe(u,r+n*12):u,h=a||i?Ioe(c,a+i*7):c,p=o+s*60,m=l+p*60,g=m*1e3,y=new Date(h.getTime()+g);return y}function Roe(e,t){kt(2,arguments);var n=vt(e).getTime(),r=lr(t);return new Date(n+r)}var Aoe={};function Cf(){return Aoe}function Gh(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function xR(e){kt(1,arguments);var t=vt(e);return t.setHours(0,0,0,0),t}var Noe=864e5;function Doe(e,t){kt(2,arguments);var n=xR(e),r=xR(t),i=n.getTime()-Gh(n),a=r.getTime()-Gh(r);return Math.round((i-a)/Noe)}function tl(e,t){kt(2,arguments);var n=vt(e),r=vt(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}var Ooe=6e4,Moe=36e5;function Loe(e){return kt(1,arguments),e instanceof Date||Wh(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Foe(e){if(kt(1,arguments),!Loe(e)&&typeof e!="number")return!1;var t=vt(e);return!isNaN(Number(t))}function Boe(e,t){kt(2,arguments);var n=vt(e),r=vt(t),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return i*12+a}function zoe(e,t){kt(2,arguments);var n=vt(e),r=vt(t);return n.getFullYear()-r.getFullYear()}function kR(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function Uoe(e,t){kt(2,arguments);var n=vt(e),r=vt(t),i=kR(n,r),a=Math.abs(Doe(n,r));n.setDate(n.getDate()-i*a);var s=+(kR(n,r)===-i),o=i*(a-s);return o===0?0:o}function C_(e,t){return kt(2,arguments),vt(e).getTime()-vt(t).getTime()}var SR={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},joe="trunc";function __(e){return e?SR[e]:SR[joe]}function $oe(e,t,n){kt(2,arguments);var r=C_(e,t)/Moe;return __(n?.roundingMethod)(r)}function Voe(e,t,n){kt(2,arguments);var r=C_(e,t)/Ooe;return __(n?.roundingMethod)(r)}function Woe(e){kt(1,arguments);var t=vt(e);return t.setHours(23,59,59,999),t}function Goe(e){kt(1,arguments);var t=vt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Hoe(e){kt(1,arguments);var t=vt(e);return Woe(t).getTime()===Goe(t).getTime()}function UF(e,t){kt(2,arguments);var n=vt(e),r=vt(t),i=tl(n,r),a=Math.abs(Boe(n,r)),s;if(a<1)s=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*a);var o=tl(n,r)===-i;Hoe(vt(e))&&a===1&&tl(e,r)===1&&(o=!1),s=i*(a-Number(o))}return s===0?0:s}function jF(e,t,n){kt(2,arguments);var r=C_(e,t)/1e3;return __(n?.roundingMethod)(r)}function qoe(e,t){kt(2,arguments);var n=vt(e),r=vt(t),i=tl(n,r),a=Math.abs(zoe(n,r));n.setFullYear(1584),r.setFullYear(1584);var s=tl(n,r)===-i,o=i*(a-Number(s));return o===0?0:o}function Koe(e,t){kt(2,arguments);var n=lr(t);return Roe(e,-n)}var Yoe=864e5;function Xoe(e){kt(1,arguments);var t=vt(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),i=n-r;return Math.floor(i/Yoe)+1}function H0(e){kt(1,arguments);var t=1,n=vt(e),r=n.getUTCDay(),i=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function $F(e){kt(1,arguments);var t=vt(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=H0(r),a=new Date(0);a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0);var s=H0(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function Qoe(e){kt(1,arguments);var t=$F(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=H0(n);return r}var Zoe=6048e5;function Joe(e){kt(1,arguments);var t=vt(e),n=H0(t).getTime()-Qoe(t).getTime();return Math.round(n/Zoe)+1}function q0(e,t){var n,r,i,a,s,o,l,u;kt(1,arguments);var c=Cf(),h=lr((n=(r=(i=(a=t?.weekStartsOn)!==null&&a!==void 0?a:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=vt(e),m=p.getUTCDay(),g=(m<h?7:0)+m-h;return p.setUTCDate(p.getUTCDate()-g),p.setUTCHours(0,0,0,0),p}function VF(e,t){var n,r,i,a,s,o,l,u;kt(1,arguments);var c=vt(e),h=c.getUTCFullYear(),p=Cf(),m=lr((n=(r=(i=(a=t?.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&i!==void 0?i:p.firstWeekContainsDate)!==null&&r!==void 0?r:(l=p.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(h+1,0,m),g.setUTCHours(0,0,0,0);var y=q0(g,t),b=new Date(0);b.setUTCFullYear(h,0,m),b.setUTCHours(0,0,0,0);var v=q0(b,t);return c.getTime()>=y.getTime()?h+1:c.getTime()>=v.getTime()?h:h-1}function ele(e,t){var n,r,i,a,s,o,l,u;kt(1,arguments);var c=Cf(),h=lr((n=(r=(i=(a=t?.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=VF(e,t),m=new Date(0);m.setUTCFullYear(p,0,h),m.setUTCHours(0,0,0,0);var g=q0(m,t);return g}var tle=6048e5;function nle(e,t){kt(1,arguments);var n=vt(e),r=q0(n,t).getTime()-ele(n,t).getTime();return Math.round(r/tle)+1}function Lt(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var rle={y:function(t,n){var r=t.getUTCFullYear(),i=r>0?r:1-r;return Lt(n==="yy"?i%100:i,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):Lt(r+1,2)},d:function(t,n){return Lt(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return Lt(t.getUTCHours()%12||12,n.length)},H:function(t,n){return Lt(t.getUTCHours(),n.length)},m:function(t,n){return Lt(t.getUTCMinutes(),n.length)},s:function(t,n){return Lt(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,i=t.getUTCMilliseconds(),a=Math.floor(i*Math.pow(10,r-3));return Lt(a,n.length)}};const vs=rle;var Xl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ile={G:function(t,n,r){var i=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var i=t.getUTCFullYear(),a=i>0?i:1-i;return r.ordinalNumber(a,{unit:"year"})}return vs.y(t,n)},Y:function(t,n,r,i){var a=VF(t,i),s=a>0?a:1-a;if(n==="YY"){var o=s%100;return Lt(o,2)}return n==="Yo"?r.ordinalNumber(s,{unit:"year"}):Lt(s,n.length)},R:function(t,n){var r=$F(t);return Lt(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return Lt(r,n.length)},Q:function(t,n,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return Lt(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,n,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return Lt(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,n,r){var i=t.getUTCMonth();switch(n){case"M":case"MM":return vs.M(t,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(t,n,r){var i=t.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return Lt(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(t,n,r,i){var a=nle(t,i);return n==="wo"?r.ordinalNumber(a,{unit:"week"}):Lt(a,n.length)},I:function(t,n,r){var i=Joe(t);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):Lt(i,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):vs.d(t,n)},D:function(t,n,r){var i=Xoe(t);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):Lt(i,n.length)},E:function(t,n,r){var i=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(t,n,r,i){var a=t.getUTCDay(),s=(a-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return Lt(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,n,r,i){var a=t.getUTCDay(),s=(a-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return Lt(s,n.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,n,r){var i=t.getUTCDay(),a=i===0?7:i;switch(n){case"i":return String(a);case"ii":return Lt(a,n.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(t,n,r){var i=t.getUTCHours(),a=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,n,r){var i=t.getUTCHours(),a;switch(i===12?a=Xl.noon:i===0?a=Xl.midnight:a=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,n,r){var i=t.getUTCHours(),a;switch(i>=17?a=Xl.evening:i>=12?a=Xl.afternoon:i>=4?a=Xl.morning:a=Xl.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var i=t.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return vs.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):vs.H(t,n)},K:function(t,n,r){var i=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):Lt(i,n.length)},k:function(t,n,r){var i=t.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):Lt(i,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):vs.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):vs.s(t,n)},S:function(t,n){return vs.S(t,n)},X:function(t,n,r,i){var a=i._originalDate||t,s=a.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return CR(s);case"XXXX":case"XX":return Oo(s);case"XXXXX":case"XXX":default:return Oo(s,":")}},x:function(t,n,r,i){var a=i._originalDate||t,s=a.getTimezoneOffset();switch(n){case"x":return CR(s);case"xxxx":case"xx":return Oo(s);case"xxxxx":case"xxx":default:return Oo(s,":")}},O:function(t,n,r,i){var a=i._originalDate||t,s=a.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+ER(s,":");case"OOOO":default:return"GMT"+Oo(s,":")}},z:function(t,n,r,i){var a=i._originalDate||t,s=a.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+ER(s,":");case"zzzz":default:return"GMT"+Oo(s,":")}},t:function(t,n,r,i){var a=i._originalDate||t,s=Math.floor(a.getTime()/1e3);return Lt(s,n.length)},T:function(t,n,r,i){var a=i._originalDate||t,s=a.getTime();return Lt(s,n.length)}};function ER(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),a=r%60;if(a===0)return n+String(i);var s=t||"";return n+String(i)+s+Lt(a,2)}function CR(e,t){if(e%60===0){var n=e>0?"-":"+";return n+Lt(Math.abs(e)/60,2)}return Oo(e,t)}function Oo(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e),a=Lt(Math.floor(i/60),2),s=Lt(i%60,2);return r+a+n+s}const ale=ile;var _R=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},WF=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},sle=function(t,n){var r=t.match(/(P+)(p+)?/)||[],i=r[1],a=r[2];if(!a)return _R(t,n);var s;switch(i){case"P":s=n.dateTime({width:"short"});break;case"PP":s=n.dateTime({width:"medium"});break;case"PPP":s=n.dateTime({width:"long"});break;case"PPPP":default:s=n.dateTime({width:"full"});break}return s.replace("{{date}}",_R(i,n)).replace("{{time}}",WF(a,n))},ole={p:WF,P:sle};const lle=ole;var ule=["D","DD"],cle=["YY","YYYY"];function dle(e){return ule.indexOf(e)!==-1}function hle(e){return cle.indexOf(e)!==-1}function TR(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var fle={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ple=function(t,n,r){var i,a=fle[t];return typeof a=="string"?i=a:n===1?i=a.one:i=a.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const mle=ple;function Fb(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var gle={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},yle={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},vle={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wle={date:Fb({formats:gle,defaultWidth:"full"}),time:Fb({formats:yle,defaultWidth:"full"}),dateTime:Fb({formats:vle,defaultWidth:"full"})};const ble=wle;var xle={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},kle=function(t,n,r,i){return xle[t]};const Sle=kle;function fd(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,s=n!=null&&n.width?String(n.width):a;i=e.formattingValues[s]||e.formattingValues[a]}else{var o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[o]}var u=e.argumentCallback?e.argumentCallback(t):t;return i[u]}}var Ele={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Cle={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_le={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Tle={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ile={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ple={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Rle=function(t,n){var r=Number(t),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Ale={ordinalNumber:Rle,era:fd({values:Ele,defaultWidth:"wide"}),quarter:fd({values:Cle,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:fd({values:_le,defaultWidth:"wide"}),day:fd({values:Tle,defaultWidth:"wide"}),dayPeriod:fd({values:Ile,defaultWidth:"wide",formattingValues:Ple,defaultFormattingWidth:"wide"})};const Nle=Ale;function pd(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;var s=a[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?Ole(o,function(h){return h.test(s)}):Dle(o,function(h){return h.test(s)}),u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var c=t.slice(s.length);return{value:u,rest:c}}}function Dle(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function Ole(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function Mle(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var i=r[0],a=t.match(e.parsePattern);if(!a)return null;var s=e.valueCallback?e.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;var o=t.slice(i.length);return{value:s,rest:o}}}var Lle=/^(\d+)(th|st|nd|rd)?/i,Fle=/\d+/i,Ble={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},zle={any:[/^b/i,/^(a|c)/i]},Ule={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},jle={any:[/1/i,/2/i,/3/i,/4/i]},$le={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Vle={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Wle={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Gle={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Hle={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},qle={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Kle={ordinalNumber:Mle({matchPattern:Lle,parsePattern:Fle,valueCallback:function(t){return parseInt(t,10)}}),era:pd({matchPatterns:Ble,defaultMatchWidth:"wide",parsePatterns:zle,defaultParseWidth:"any"}),quarter:pd({matchPatterns:Ule,defaultMatchWidth:"wide",parsePatterns:jle,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:pd({matchPatterns:$le,defaultMatchWidth:"wide",parsePatterns:Vle,defaultParseWidth:"any"}),day:pd({matchPatterns:Wle,defaultMatchWidth:"wide",parsePatterns:Gle,defaultParseWidth:"any"}),dayPeriod:pd({matchPatterns:Hle,defaultMatchWidth:"any",parsePatterns:qle,defaultParseWidth:"any"})};const Yle=Kle;var Xle={code:"en-US",formatDistance:mle,formatLong:ble,formatRelative:Sle,localize:Nle,match:Yle,options:{weekStartsOn:0,firstWeekContainsDate:1}};const GF=Xle;var Qle=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Zle=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Jle=/^'([^]*?)'?$/,eue=/''/g,tue=/[a-zA-Z]/;function nue(e,t,n){var r,i,a,s,o,l,u,c,h,p,m,g,y,b,v,x,k,T;kt(2,arguments);var P=String(t),R=Cf(),N=(r=(i=n?.locale)!==null&&i!==void 0?i:R.locale)!==null&&r!==void 0?r:GF,B=lr((a=(s=(o=(l=n?.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&o!==void 0?o:R.firstWeekContainsDate)!==null&&s!==void 0?s:(h=R.locale)===null||h===void 0||(p=h.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(B>=1&&B<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var j=lr((m=(g=(y=(b=n?.weekStartsOn)!==null&&b!==void 0?b:n==null||(v=n.locale)===null||v===void 0||(x=v.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&y!==void 0?y:R.weekStartsOn)!==null&&g!==void 0?g:(k=R.locale)===null||k===void 0||(T=k.options)===null||T===void 0?void 0:T.weekStartsOn)!==null&&m!==void 0?m:0);if(!(j>=0&&j<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!N.localize)throw new RangeError("locale must contain localize property");if(!N.formatLong)throw new RangeError("locale must contain formatLong property");var W=vt(e);if(!Foe(W))throw new RangeError("Invalid time value");var H=Gh(W),z=Koe(W,H),$={firstWeekContainsDate:B,weekStartsOn:j,locale:N,_originalDate:W},O=P.match(Zle).map(function(te){var X=te[0];if(X==="p"||X==="P"){var le=lle[X];return le(te,N.formatLong)}return te}).join("").match(Qle).map(function(te){if(te==="''")return"'";var X=te[0];if(X==="'")return rue(te);var le=ale[X];if(le)return!(n!=null&&n.useAdditionalWeekYearTokens)&&hle(te)&&TR(te,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&dle(te)&&TR(te,t,String(e)),le(z,te,N.localize,$);if(X.match(tue))throw new RangeError("Format string contains an unescaped latin alphabet character `"+X+"`");return te}).join("");return O}function rue(e){var t=e.match(Jle);return t?t[1].replace(eue,"'"):e}function HF(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function iue(e){return HF({},e)}var IR=1440,aue=2520,Bb=43200,sue=86400;function oue(e,t,n){var r,i;kt(2,arguments);var a=Cf(),s=(r=(i=n?.locale)!==null&&i!==void 0?i:a.locale)!==null&&r!==void 0?r:GF;if(!s.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=tl(e,t);if(isNaN(o))throw new RangeError("Invalid time value");var l=HF(iue(n),{addSuffix:!!n?.addSuffix,comparison:o}),u,c;o>0?(u=vt(t),c=vt(e)):(u=vt(e),c=vt(t));var h=jF(c,u),p=(Gh(c)-Gh(u))/1e3,m=Math.round((h-p)/60),g;if(m<2)return n!=null&&n.includeSeconds?h<5?s.formatDistance("lessThanXSeconds",5,l):h<10?s.formatDistance("lessThanXSeconds",10,l):h<20?s.formatDistance("lessThanXSeconds",20,l):h<40?s.formatDistance("halfAMinute",0,l):h<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):m===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",m,l);if(m<45)return s.formatDistance("xMinutes",m,l);if(m<90)return s.formatDistance("aboutXHours",1,l);if(m<IR){var y=Math.round(m/60);return s.formatDistance("aboutXHours",y,l)}else{if(m<aue)return s.formatDistance("xDays",1,l);if(m<Bb){var b=Math.round(m/IR);return s.formatDistance("xDays",b,l)}else if(m<sue)return g=Math.round(m/Bb),s.formatDistance("aboutXMonths",g,l)}if(g=UF(c,u),g<12){var v=Math.round(m/Bb);return s.formatDistance("xMonths",v,l)}else{var x=g%12,k=Math.floor(g/12);return x<3?s.formatDistance("aboutXYears",k,l):x<9?s.formatDistance("overXYears",k,l):s.formatDistance("almostXYears",k+1,l)}}function lue(e){kt(1,arguments);var t=vt(e.start),n=vt(e.end);if(isNaN(t.getTime()))throw new RangeError("Start Date is invalid");if(isNaN(n.getTime()))throw new RangeError("End Date is invalid");var r={};r.years=Math.abs(qoe(n,t));var i=tl(n,t),a=hd(t,{years:i*r.years});r.months=Math.abs(UF(n,a));var s=hd(a,{months:i*r.months});r.days=Math.abs(Uoe(n,s));var o=hd(s,{days:i*r.days});r.hours=Math.abs($oe(n,o));var l=hd(o,{hours:i*r.hours});r.minutes=Math.abs(Voe(n,l));var u=hd(l,{minutes:i*r.minutes});return r.seconds=Math.abs(jF(n,u)),r}function uue({dateTime:e}){const[t,n]=React.useState(()=>new Date);return useEffect(()=>{const r=setInterval(()=>n(new Date),1e4);return()=>clearInterval(r)}),useMemo(()=>{const r=()=>e?(lue({start:e,end:t}).days??0>0?nue(e,"LLL d, p"):oue(e,new Date,{addSuffix:!0})).replace("about ",""):void 0;return E(q.Divider,{className:"mb-2 mt-4",children:r()})},[e,t])}var Ar;(e=>{const t=tt.create((n,r)=>({outputs:{},setOutputs:i=>n(a=>({outputs:{...a.outputs,...i.reduce((s,o)=>({...s,[o.id]:o}),{})}})),nextID:ID.create(),requested:(i,a)=>{const s=r().nextID,o={id:s,inputID:i,requestedAt:new Date,completedAt:void 0,count:a?.count??re.Image.Count.get(),imageIDs:[]};return n(l=>({nextID:ID.create(),outputs:{...l.outputs,[s]:o}})),re.Image.Input.set(i,l=>({...l,...a})),o},remove:i=>{n(a=>{const s={...a.outputs};return Object.values(s).filter(o=>o.imageIDs.length>0).forEach(o=>{o.imageIDs=o.imageIDs.filter(l=>!i.includes(l)),o.count=o.imageIDs.length,o.imageIDs.length===0?delete s[o.id]:s[o.id]=o}),{...a,outputs:s}})},received:(i,a)=>n(s=>{const o=s.outputs[i];return{outputs:{...s.outputs,...o&&{[i]:{...o,completedAt:new Date,imageIDs:[],...re.Image.Exception.is(a)?{exception:a}:{imageIDs:a.map(l=>l.id)}}}}}}),clear:i=>n(a=>{const s={...a.outputs};return delete s[i],{...a,outputs:s}})}));e.use=t,e.get=t.getState})(Ar||(Ar={}));var qk;(e=>{e.set=t=>Ar.get().setOutputs(t),e.nextID=()=>Ar.get().nextID,e.use=()=>Ar.use(({outputs:t})=>Object.values(t).sort((n,r)=>n.requestedAt&&r.requestedAt?r.requestedAt.valueOf()-n.requestedAt.valueOf():n.requestedAt?-1:r.requestedAt?1:n.completedAt&&r.completedAt?r.completedAt.valueOf()-n.completedAt.valueOf():n.completedAt?-1:r.completedAt?1:0)),e.useIsGenerating=()=>Ar.use(({outputs:t})=>Object.values(t).some(re.Image.Output.isGenerating),tt.shallow)})(qk||(qk={}));function Kk({outputID:e,placeholder:t,divider:n}){const r=re.Image.Output.use(e),{input:i}=re.Image.Input.use(r?.inputID),a=re.Image.Output.useIsGenerating(e),s=!t&&a,o=re.Images.useFromIDs(...r?.imageIDs??[]),l=r?.completedAt??r?.requestedAt,u=re.Images.Download.use(o),[c]=re.Image.Count.use(),h=(t?c:r?.count)??0,p=useMemo(()=>Math.floor(Math.random()*re.Image.Prompt.Examples.images.length),[]),m=useMemo(()=>{const b=Array.from({length:h},(v,x)=>o[x]??{inputID:i?.id}).map((v,x,k)=>E(re.Image,{preserveAspectRatio:!0,placeholder:t,image:v,scale:1,example:re.Image.Prompt.Examples.images[(p+x)%re.Image.Prompt.Examples.images.length]},keys("image",k.length,k.length-x)));return E("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4",children:b})},[h,o,i?.id,t,p]),g=useMemo(()=>ne("div",{className:"grid grid-cols-3 place-items-end gap-2 overflow-hidden",children:[i?.id&&E(re.Image.Prompt,{readOnly:!0,allowUseAgain:!0,id:i.id,variant:"display",className:"col-span-2 w-full duration-150"}),!t&&!s&&ne("div",{className:"flex w-full flex-row items-center justify-end gap-2",children:[E(q.Tooltip,{content:`Download ${o.length} images`,children:E(q.Button,{outline:!0,className:"shrink-0",icon:q.Icon.Download,onClick:u})}),E(re.Images.Delete.Button,{deleteTooltip:`Delete ${o.length} images`,className:"shrink-0 bg-black/20",images:o.map(({id:y})=>y),outline:!0})]})]}),[i?.id,t,s,o,u]);return useMemo(()=>ne("div",{className:"flex flex-col gap-4",children:[n&&E(uue,{dateTime:l}),g,m]}),[n,l,g,m])}(e=>{e.set=t=>Ar.get().setOutputs([t]),e.get=t=>Ar.get().outputs[t],e.requested=Ar.get().requested,e.received=Ar.get().received,e.remove=Ar.get().remove,e.clear=Ar.get().clear,e.isGenerating=({requestedAt:t,completedAt:n,exception:r,imageIDs:i,count:a})=>t&&!n&&!r&&i.length!==a,e.use=t=>Ar.use(({outputs:n})=>t?n[t]:void 0,tt.shallow),e.useIsGenerating=t=>Ar.use(({outputs:n})=>{if(!t)return!1;const r=n[t];return!!r&&(0,e.isGenerating)(r)},tt.shallow)})(Kk||(Kk={}));var Yk;(e=>{e.images=[{src:"/examples/king.png",prompt:"Bronze statue of a king, with regal attire, a crown, and a stern expression, highly detailed, dramatic lighting, commanding presence"},{src:"/examples/aurora.png",prompt:"Aurora borealis, vibrant lights dancing in the night sky, ethereal, abstract, high detail, nature art"},{src:"/examples/cake.png",prompt:"Chocolate cake with rich, fudgy frosting and perfectly layered cake, garnished with fresh berries and drizzled with melted chocolate, decadent, sweet, high detail, food photography"},{src:"/examples/center.png",prompt:"Contemporary cultural center with a distinct form, featuring a vibrant public plaza and innovative exhibition spaces, futuristic, visually stunning, architectural drawings"},{src:"/examples/chili.png",prompt:"Bowl of hearty chili with tender chunks of beef, rich tomato sauce, and a mix of spices, topped with grated cheddar cheese and green onions, high detail, focused on texture and heat, comfort food, food photography"},{src:"/examples/dragon.png",prompt:"Majestic dragon, perched atop a cliff overlooking a fiery landscape, with smoke and ash rising into the air, intense, detailed, scales, dynamic, epic"},{src:"/examples/flowers.png",prompt:"Vibrant flower field in full bloom, surrounded by rolling hills and a brilliant blue sky, colorful, serene, high detail, spring landscape"},{src:"/examples/forest.png",prompt:"Oil painting of a enchanted forest, with glowing mushrooms, fireflies, and a unicorn, soft brushstrokes, pastel colors, dream-like atmosphere"},{src:"/examples/moon.png",prompt:"Ethereal aurora borealis over a snowy mountain range, with a full moon shining in the background, mystical, peaceful, serene, winter landscape, high detail"},{src:"/examples/motorcycle.png",prompt:"Vintage motorcycle with gleaming chrome and polished leather, captured in soft natural light with selective focus on the engine, classic, retro, detailed"},{src:"/examples/racecar.png",prompt:"Race car with sleek design, captured in a high speed motion blur, dramatic lighting and shallow depth of field, motorsports, adrenaline, studio lighting"},{src:"/examples/river.png",prompt:"Rushing rapids in a crystal clear river, surrounded by towering trees and lush vegetation, energetic, serene, high detail, river landscape"},{src:"/examples/robot.png",prompt:"Towering robot statue in a desolate wasteland, with dust storms and abandoned vehicles in the distance, mechanical, dystopian, high detail, post-apocalyptic landscape"},{src:"/examples/seascape.png",prompt:"Wooden sculpture of a seascape, with waves, boats, and sea creatures, intricate carving, textured surface, high-resolution, natural lighting"},{src:"/examples/spaceship.png",prompt:"Crashed spaceship in a dense forest, surrounded by tall trees and exotic vegetation, futuristic, detailed, high detail, sci-fi landscape"},{src:"/examples/sushi.png",prompt:"Platter of sushi rolls with colorful and flavorful ingredients, including avocado, tuna, salmon, and crab, arranged with precision and beauty, high resolution, Asian-style, focused on texture and color, food photography"},{src:"/examples/train.png",prompt:"Steam locomotive in a snowy mountain range, surrounded by tall peaks and crisp clear air, nostalgic, detailed, high detail, winter landscape"}]})(Yk||(Yk={}));var Xk;(e=>{e.get=(n=[],r=10)=>{const i=t[Math.floor(Math.random()*t.length)];return r>0&&n.find(a=>a===i)?(0,e.get)(n,r-1):i},e.is=n=>!!n&&t.includes(n);const t=["Stunning sunset over a futuristic city, with towering skyscrapers and flying vehicles, golden hour lighting and dramatic clouds, high detail, moody atmosphere","Mystical forest with glowing mushrooms and a babbling brook, surrounded by towering trees and shrouded in mist, ethereal, dreamlike, stylized","Majestic dragon, perched atop a cliff overlooking a fiery landscape, with smoke and ash rising into the air, intense, detailed, scales, dynamic, epic","Serene beach scene with crystal clear water and white sand, tropical palm trees swaying in the breeze, perfect paradise, seascape","Post-apocalyptic wasteland with rusted and abandoned vehicles, dust storms and towering dust clouds, gritty, dark, dramatic, apocalyptic, stylized","Mystical underwater world with vibrant coral and exotic sea creatures, sun beams shining through the water, mysterious, magical, otherworldly","Snowy winter wonderland with a lone cabin in the distance, surrounded by frosty trees and fresh snowfall, peaceful, serene, detailed, winter landscape","Mysterious and abandoned temple in the jungle, surrounded by lush vegetation and tall trees, atmospheric, ancient, moody","Vibrant and bustling city street with busy traffic, bright lights, and towering skyscrapers, chaotic, fast-paced, cityscape, high detail","Gothic cathedral in a stormy night, with lightning illuminating the sky and rain pouring down, dramatic, atmospheric, high detail, moody","Fantasy castle on a hilltop, surrounded by rolling hills and a beautiful sunset, magical, serene, high detail, romantic, stylized","Vast desert with sand dunes and a lone oasis in the distance, hot sun and clear blue sky, peaceful, serene, desertscape, high resolution","Ethereal aurora borealis over a snowy mountain range, with a full moon shining in the background, mystical, peaceful, serene, winter landscape, high detail","Giant robots fighting in a futuristic city, with buildings falling and explosions all around, intense, fast-paced, dramatic, stylized, futuristic","Medieval market square with vendors selling goods, colorful banners, and bustling crowds, lively, busy, historic, high detail, architectural","Abandoned prison on a cliff, with a stormy sea below, eerie, moody, atmospheric, architectural, stylized","Beautiful waterfall in a lush jungle, with sunlight shining through the trees, serene, peaceful, tropical, jungle landscape, high detail","Surreal carnival scene with bright lights, strange creatures, and a full moon, dreamlike, vibrant, stylized, surreal, high detail","Breathtaking mountain range with a clear river running through it, surrounded by tall trees and misty clouds, serene, peaceful, mountain landscape, high detail","Historic battlefield with armies clashing and smoke rising, intense, fast-paced, dramatic, historic, high detail","Enchanted forest with glowing fireflies and a babbling brook, surrounded by towering trees and shrouded in mist, magical, ethereal, dreamlike, stylized","Sunken ship in a vibrant coral reef, with schools of colorful fish swimming by, mysterious, magical, high detail","Futuristic city with towering skyscrapers and flying vehicles, set against a vibrant sunset, futuristic, serene, high detail","Volcanic island with a boiling crater and ash clouds rising into the air, intense, dramatic, natural disaster, high detail, volcanic landscape","Lonely lighthouse on a rocky coast during a storm, with waves crashing and lightning flashing, moody, atmospheric, seascape, high detail","Ruined castle on a cliff overlooking the sea, with a stormy sky and crashing waves, eerie, moody, atmospheric","Vibrant street fair with colorful stalls and bustling crowds, lively, busy, high detail","Mysterious underground cave with glowing crystals and an underground river, dark, mysterious, underground landscape, high detail","Glorious sunrise over a cityscape, with the city slowly coming to life and the sky turning orange and pink, serene, peaceful, cityscape, high detail","Breathtaking view of a snowy mountain range, with crisp clear air and a brilliant blue sky, serene, peaceful, majestic, high detail, winter landscape","Enchanting waterfall in a lush jungle, surrounded by exotic plants and wildlife, tranquil, serene, high detail, tropical landscape","Glowing aurora borealis over a frozen lake, with towering mountains in the distance, ethereal, magical, winter landscape, high detail","Rushing rapids in a crystal clear river, surrounded by towering trees and lush vegetation, energetic, serene, high detail, river landscape","Vibrant flower field in full bloom, surrounded by rolling hills and a brilliant blue sky, colorful, serene, high detail, spring landscape","Glimpses of a herd of wild elephants crossing a savanna, surrounded by tall grass and a brilliant orange sunset, majestic, peaceful, high detail, safari landscape","Tranquil pond surrounded by tall trees, with a beautiful lily pad garden and calm reflection of the sky, serene, peaceful, high detail, water landscape","Giant redwoods in a misty forest, with towering trees and lush vegetation, peaceful, serene, high detail, forest landscape","Breathtaking view of a desert landscape, with towering sand dunes and a brilliant blue sky, serene, vast, high detail, desert landscape","Stunning sunset over an ocean horizon, with orange and pink hues spreading across the sky, peaceful, serene, high detail, seascape","Massive airship floating above a sprawling metropolis, with towering skyscrapers and busy streets below, futuristic, detailed, high resolution, urban landscape","Steampunk submarine exploring a coral reef, surrounded by exotic sea creatures and vibrant coral, detailed, surreal, steampunk style","Medieval castle on a cliff, surrounded by a moat and rolling green hills, majestic, medieval, high detail","Towering robot statue in a desolate wasteland, with dust storms and abandoned vehicles in the distance, mechanical, dystopian, high detail, post-apocalyptic landscape","Massive statue of a dragon in a lush jungle, surrounded by exotic plants and tall trees, mysterious, ancient, high detail, tropical landscape","Ancient temple in a mountain range, surrounded by misty clouds and tall peaks, mysterious, ancient, high detail","Crashed spaceship in a dense forest, surrounded by tall trees and exotic vegetation, futuristic, detailed, high detail, sci-fi landscape","Lighthouse on a stormy beach, surrounded by crashing waves and dramatic clouds, intense, detailed, high detail, coastal landscape","Steam locomotive in a snowy mountain range, surrounded by tall peaks and crisp clear air, nostalgic, detailed, high detail, winter landscape","Old western town in the desert, surrounded by towering sand dunes and a brilliant blue sky, nostalgic, detailed, high detail, western landscape","Futuristic cyborg, sleek metal enhancements and glowing circuits, standing in high-tech laboratory, intense, detailed, high resolution, sci-fi portrait","Medieval knight, armor and shining sword, standing on battle-scarred battlefield, intense, detailed, high detail, portrait","Powerful sorceress, flowing robes and mystical staff, standing in dark and ominous forest, mysterious, detailed, high detail, fantasy portrait","Rogue adventurer, backpack and rugged appearance, standing in dense jungle, adventurous, detailed, high detail, portrait","Wise wizard, long beard and mysterious tome, standing in dimly lit library, wise, detailed, high detail, portrait","Daring astronaut, space suit and helmet, standing in front of futuristic spaceship, adventurous, detailed, high detail, portrait","Skilled archer, bow and quiver of arrows, standing in forest clearing, intense, detailed, high detail, portrait","Daring treasure hunter, map and compass, standing in desolate desert, adventurous, detailed, high detail, portrait","Cosmic swirl of stars and galaxies, swirling in endless black void, otherworldly, abstract, high detail, space","Psychedelic mandala of patterns and shapes, kaleidoscopic, trippy, detailed, abstract art","Fractal landscape of geometric shapes and patterns, complex, intricate, abstract, digital art","Glowing nebula of vibrant gas and dust, celestial, otherworldly, abstract, space art","Hypnotic vortex of swirling colors, intense, detailed, abstract, digital art","Aurora borealis, vibrant lights dancing in the night sky, ethereal, abstract, high detail, nature art","Phantasmagoric carnival, carnival attractions shifting and changing, dreamlike, abstract, high detail, surreal art","Radiant nebula, star clusters and gas clouds shining brightly, celestial, otherworldly, abstract, space art","Iconic Parisian street with quaint cafes and bistros, charming, romantic, high detail, cityscape","Golden hour New York City skyline, towering skyscrapers and bustling streets, iconic, dramatic","Beautiful Venice canals with gondolas and bridges, charming, romantic, high detail, cityscape","Majestic Machu Picchu, set against a backdrop of towering mountains, breathtaking, high detail, landscape","Breathtaking view of the Grand Canyon, vast and awe-inspiring, high detail, landscape","Charming Santorini island with pristine beaches and iconic white buildings, Mediterranean, high detail, seascape","The iconic Great Wall of China, stretching along the countryside, historical, high detail, landscape","Stunning view of the Sydney Opera House, with the harbor and cityscape in the background, iconic, high detail, cityscape","The stunning Taj Mahal, set against a backdrop of lush greenery, historic, high detail, landmark","Breathtaking view of the Serengeti with roaming wildlife, vast, high detail, nature landscape","Giant rubber duck floating in the ocean with a small island on its back, surrounded by tropical palm trees and crystal clear water, bright and sunny day, calm seas, vivid colors, cinematic lighting, high detail","Giant hamster wheel in the middle of a city, with skyscrapers and busy streets in the background, centralized, low details, stylized graphics, night time, lit up, neon lights, no shadows","Humongous teacup and saucer floating in the sky, surrounded by clouds and rainbows, abstract, surreal, dreamlike, stylized oil painting style, vivid colors, detailed, high resolution, wide angled, otherworldly, fantastic","Giant ice cream cone melting and creating a river through a city, with boats floating down it, dramatic, intense, chaotic, high detail, fast-paced, wide angled, aerial view, colorful, fun, stylized graphics","Giant snail racing a car, high speed, intense, dynamic, detailed, cartoon style, wide angled, overhead view, vibrant colors, whimsical, absurd, surreal, fun","A group of giant robots playing a game of soccer, intense, dynamic, high detail, 3D, stylized, futuristic, metallic, robots, absurd, fantastic, wide angled, overhead view, colorful, fun","A city built entirely out of food, colorful, detailed, stylized, fun, absurd, vivid, delicious, overhead view, centralized, wide angled, vibrant, fantastical","Giant fruit and vegetable parade, with various different fruits and vegetables marching down a city street, colorful, detailed, stylized, absurd, fun, vivid, delicious, overhead view, centralized, wide angled","Giant caterpillar riding a bicycle, surreal, absurd, whimsical, stylized, detailed, vivid, high resolution, centralized, overhead view, colorful, fun","A bustling city made entirely of candy, with gumdrop buildings and sugar-coated streets, bright colors, whimsical, playful, detailed","A floating city in the clouds, with airships docking at sky-high platforms and clouds serving as roads, futuristic, whimsical, high-altitude, detailed","An underground city, filled with steam-powered trains, strange creatures, and intricate tunnels and cave systems, dark, detailed, subterranean, steampunk","A jungle city, with vines and roots serving as roads and buildings made of leaves, colorful, detailed, natural, tropical","A city made of ice, with ice slides, frozen rivers, and snow-covered buildings, winter, magical, detailed, cold","A pirate port, with ships setting sail, blacksmiths crafting weapons, and treasure-filled caves, adventurous, detailed, historic, swashbuckling","A space station, with spaceships coming and going, astronauts on EVA missions, and maintenance robots hard at work, futuristic, high-tech, detailed, intergalactic","A dragon's lair, with dragons hoarding treasure, sleeping on piles of gold, and shooting fire from their nostrils, mythical, detailed, adventurous, fantastical","Bowl of steaming hot ramen with a perfect egg in the center, surrounded by thin slices of meat, green onions, and nori, with a flavorful broth and perfect noodles, high detail, focused on texture and steam","Delectable pizza with melted cheese, juicy tomato sauce, and an array of toppings including pepperoni, mushrooms, and black olives, served hot and fresh, high resolution, stylized, focused on ingredients and melted cheese","Sizzling hot sirloin steak with a perfect crust, seared to perfection and topped with herbs and spices, served with a side of roasted vegetables and mashed potatoes, juicy, delicious, high detail","Assorted fruit platter with ripe, juicy strawberries, sweet grapes, tangy citrus, and juicy watermelon, set on a bed of greens and accented with mint leaves, high resolution, vibrant, natural","Chocolate cake with rich, fudgy frosting and perfectly layered cake, garnished with fresh berries and drizzled with melted chocolate, decadent, sweet, high detail, food photography","Baked salmon fillet with a perfectly crispy skin and tender, flaky flesh, served with a side of steamed vegetables and quinoa, healthy, flavorful, high detail, food photography","Bowl of hearty chili with tender chunks of beef, rich tomato sauce, and a mix of spices, topped with grated cheddar cheese and green onions, high detail, focused on texture and heat, comfort food","Platter of sushi rolls with colorful and flavorful ingredients, including avocado, tuna, salmon, and crab, arranged with precision and beauty, high resolution, Asian-style, focused on texture and color","Stuffed bell peppers filled with tender ground beef, flavorful rice, and melted cheese, baked to perfection, juicy, flavorful, high detail, food photography","Tasty tacos filled with seasoned beef, fresh salsa, melted cheese, and crunchy lettuce, served on a warm corn tortilla, Mexican-style, high resolution, focused on texture and flavor, food photography","Contemporary living room with large windows overlooking a cityscape, neutral color palette, minimalistic design, sleek modern furniture, gallery wall of abstract art, warm lighting, high detail, open floor plan","Rustic kitchen with exposed brick wall, reclaimed wood cabinetry, large farmhouse sink, industrial lighting fixtures, antique baking tools on open shelving, cast iron cookware, vintage accents, warm and inviting, detailed textures","Luxurious bathroom with freestanding bathtub, rain shower, heated flooring, marble tiles, brass fixtures, floating vanity with double sink, elegant chandelier, high contrast lighting, spa-like atmosphere, high resolution","Elegant dining room with crystal chandelier, dark wood table, velvet upholstered chairs, large statement art piece, tall windows with lush garden view, sophisticated color scheme, detailed textures, candlelit ambiance","Industrial-style office with concrete floors, raw steel beams, large wooden desk, leather office chair, wall of bookshelves, minimalist design, warm lighting, high detail, organized and professional","Cozy bedroom with four-poster bed, plush bedding, soft lighting, large windows with natural light, statement wallpaper, decorative throw pillows, high resolution textures, intimate and relaxing","Glamorous dressing room with large mirror, Hollywood lights, plush velvet seating, glass shelves displaying designer shoes, hanging rods for clothes, detailed textures, high contrast lighting, organized and stylish","Modern nursery with minimalistic design, white crib, rocking chair, wall mounted bookshelves, abstract art, neutral color palette, warm lighting, high detail, cozy and inviting","Minimalistic home gym with rubber flooring, wall-mounted TV, weight bench, medicine ball, dumbbells, yoga mats, high-tech equipment, high detail, organized and efficient","Traditional library with floor-to-ceiling bookcases, rolling ladder, large wooden desk, leather armchair, antique rug, warm lighting, high resolution textures, intellectual and inviting atmosphere","Contemporary glass and steel building with sleek lines and an innovative facade, surrounded by an urban landscape, modern, high resolution","Sleek and modern shopping center with an emphasis on natural light, an open-air interior, and eco-friendly features, contemporary, high detail, architectural renderings","High-rise residential building with a unique form and facade, featuring terraces and stunning views, minimalist, high-end, architectural design","Contemporary office building with a focus on sustainability, including green roofs and walls, modern, cutting-edge, architectural illustration","Contemporary cultural center with a distinct form, featuring a vibrant public plaza and innovative exhibition spaces, futuristic, visually stunning, architectural drawings","Stylish and modern apartment building with a clean, minimalist design and a focus on natural light, contemporary, high-end, architectural rendering","Innovative mixed-use development featuring an interplay of form and function, with cutting-edge technology and sustainability features, contemporary, visually striking, architectural illustration","Stylish and contemporary hotel with a unique form and facade, featuring luxury amenities and stunning views, modern, visually stunning","Sleek and modern shopping mall with a focus on sustainable design, featuring natural light and innovative materials, contemporary, cutting-edge, architectural drawings","Innovative and contemporary transportation hub with a unique form, featuring cutting-edge technology and sustainable features, modern, visually stunning, architectural illustration","Race car with sleek design, captured in a high speed motion blur, dramatic lighting and shallow depth of field, motorsports, adrenaline, studio lighting","Vintage hot rod with custom flame paint job, captured in low key lighting with selective focus on the chrome details, classic car, retro, high resolution","Luxury sports car with aerodynamic curves, shot in a high contrast, high key lighting with shallow depth of field, exotic, detailed, sporty, studio lighting","Majestic yacht with sleek lines, captured in a serene sunset light, with a shallow depth of field, boating, lifestyle","Futuristic flying car with smooth lines, shot in a low light high contrast studio setting, science fiction, cutting edge, high detail, moody atmosphere","Sturdy pickup truck, captured in a dramatic golden hour light with deep shadows, off-roading, rugged, dramatic, high resolution","Vintage motorcycle with gleaming chrome and polished leather, captured in soft natural light with selective focus on the engine, classic, retro, detailed","Luxury sports car with aggressive lines, shot in a high contrast, high key lighting with shallow depth of field, detailed, sporty, sleek, studio lighting","Massive semi-truck with chrome details, captured in a high key lighting with shallow depth of field, transportation, commercial, detailed, high resolution","Vintage sports car with classic curves, captured in a moody, low key light with selective focus on the grille, classic, retro, moody, detailed","Oil painting of a bustling harbor town, with fishing boats, seagulls, and a lighthouse in the background, high contrast, dramatic lighting, heavily textured brushstrokes","Watercolor painting of a rolling countryside, with fields of flowers, a red barn, and a white picket fence, soft and delicate brushstrokes, pastel colors","Acrylic painting of a mountain landscape, with a stormy sky and a cabin nestled in the forest, high contrast, bold brushstrokes, high-resolution","Oil painting of a sunset over the ocean, with orange and pink hues, gently rolling waves, and palm trees, heavily textured brushstrokes, dramatic lighting","Pen and ink drawing of a cityscape, with tall skyscrapers and bustling city life, high-contrast, detailed linework, dramatic lighting","Oil painting of a enchanted forest, with glowing mushrooms, fireflies, and a unicorn, soft brushstrokes, pastel colors, dream-like atmosphere","Watercolor painting of a desert landscape, with sand dunes, mountains, and a blazing sun, soft and delicate brushstrokes, warm and vibrant colors","Acrylic painting of a futuristic city, with neon lights, advanced technology, and flying cars, bold brushstrokes, high-contrast, highly stylized","Oil painting of a tranquil lake surrounded by mountains, with a cabin on the shore, boats, and a sunset, heavily textured brushstrokes, warm and vibrant colors","Pen and ink drawing of a mystical underwater world, with schools of fish, coral reefs, and a mermaid, highly detailed linework, high-contrast, stylized","Watercolor painting of a rolling countryside, with fields of wheat, a red barn, and a white picket fence, soft and delicate brushstrokes, warm and vibrant colors","Bronze statue of a powerful warrior, with a sword in hand, chiseled muscles, and a determined expression, highly detailed, dramatic lighting, intense gaze","Marble statue of a serene goddess, with flowing robes, delicate features, and a tranquil expression, highly detailed, soft lighting, grace and beauty","Wooden sculpture of a majestic animal, with intricate carving, textured fur, and piercing eyes, highly detailed, natural lighting, raw and powerful","Stone statue of a mythological creature, with wings, horns, and a fierce expression, highly detailed, dramatic lighting, intense and otherworldly","Bronze statue of a philosopher, with a wise expression, long beard, and a tome, highly detailed, soft lighting, introspective gaze","Marble statue of a dancers, with fluid movements, intricate details, and grace, highly detailed, dramatic lighting, intense expression","Wooden sculpture of a seascape, with waves, boats, and sea creatures, intricate carving, textured surface, high-resolution, natural lighting","Bronze statue of a king, with regal attire, a crown, and a stern expression, highly detailed, dramatic lighting, commanding presence","Wooden sculpture of a tree, with intricate branches, textured bark, and a strong trunk, highly detailed, natural lighting, grounding presence"]})(Xk||(Xk={}));var K0;(e=>{function t({inputID:n,onClick:r,...i}){const{input:a}=re.Image.Input.use(n),s=useMemo(()=>`Reuse prompt${a?.prompts.length??0>1?"s":""}`,[a?.prompts.length]),o=useCallback(l=>{r?.(l),re.Image.Session.setCurrentInput(u=>{let c=re.Image.Input.get(n)?.prompts;c&&(c=c.filter(h=>h.text!==""),c.filter(h=>h.weight<0).length<=0&&c.push({text:"",weight:-.75}),u.prompts=c)})},[n,r]);return E(q.Button,{outline:!0,icon:q.Icon.ArrowLeftCircle,label:s,onClick:o,...i})}e.Button=t})(K0||(K0={}));var Qk;(e=>{function t({id:n}){const{input:r}=re.Image.Input.use(n);return r?E(Ot.Sidebar.Section,{divider:!0,defaultExpanded:!0,padding:"sm",children:E(re.Image.Prompts,{id:n})}):null}e.Section=t})(Qk||(Qk={}));function Zk({id:e}){const{input:t}=re.Image.Input.use(e);return t?E("div",{className:"flex w-full flex-col items-center gap-2",children:t.prompts.map((n,r)=>E(re.Image.Prompt,{id:e,index:r,variant:"advanced"},keys(r,t.prompts.length)))}):null}(e=>{e.random=(t,n=[],r=10,i=[])=>[re.Image.Prompt.Random.get(n,r),...i,...t<i.length?(0,e.random)(t-1,[...n,...i],r-1):[]]})(Zk||(Zk={}));function Jk({id:e,index:t=0,variant:n="simple",allowUseAgain:r,className:i}){const{deletePrompt:a,shuffle:s,setInput:o,input:l}=re.Image.Input.use(e),u=l?.prompts[t]?.text,c=l?.prompts[t]?.weight??1,h=useMemo(()=>re.Image.Prompt.Random.is(u),[u]),[p,m]=useState(c>=0),g=useCallback(k=>o(T=>{T.prompts[t].text=k}),[o,t]),y=useCallback(k=>{const T=k.target.value.length;k.target.setSelectionRange(h?0:T,T)},[h]),b=useMemo(()=>E(q.Tooltip,{content:"Shuffle prompt",delay:500,children:E(q.Button,{transparent:!0,icon:q.Icon.Dices,onClick:()=>s(t),className:classes(l?.prompts.length===1&&"-mr-1","p-0")})}),[s,t,l?.prompts.length]),v=n==="display"?ne("div",{className:"flex flex-row items-center gap-3 truncate",children:[E("p",{className:"w-full truncate text-base",children:u}),l?.id&&r&&E(K0.Button,{inputID:l?.id})]}):E("div",{className:"flex flex-row",children:E(mC,{transparent:!0,autoSize:!0,className:"w-full px-0 py-0",placeholder:c>0?"What do you want to see?":"What do you want to avoid?",value:u,onChange:g,onFocus:y},keys(e,t))}),x=useMemo(()=>{const k=E(q.Button,{transparent:!0,icon:q.Icon.Trash,onClick:()=>a(t),className:"p-0 hover:text-red-500"});return E("div",{className:"flex flex-row items-center",children:l?.prompts.length===1?E(it,{children:c>=0&&b}):ne(it,{children:[c>=0&&b,n==="advanced"&&t>1&&k]})})},[l?.prompts.length,c,b,n,a,t]);return l?n==="display"?E("div",{className:classes("flex items-center justify-between gap-2 text-lg",i),children:v}):E("div",{className:classes("group flex w-full gap-1 rounded border border-zinc-700 px-3 py-2 dark:bg-zinc-800",i),children:ne("div",{className:"flex w-full flex-col gap-2",children:[l.prompts.length>1&&ne("div",{className:"flex select-none flex-row items-center",children:[E(q.Button,{className:"mr-auto p-0",transparent:!0,onClick:()=>m(!p),icon:k=>E(q.Icon.ChevronRight,{...k,className:classes(k.className,c>=0?"text-green-500":"text-red-500",p&&"rotate-90","p-0")}),children:E("h1",{className:"w-full font-light",children:(l.prompts[t]?.weight??0)>0?l.prompts.filter(k=>k.weight>0).length===1?"Prompt":`Prompt ${t+1}`:"Negative prompt"})}),E("div",{className:"pointer-events-none opacity-0 group-hover:pointer-events-auto group-hover:opacity-100",children:x})]}),p&&v]})}):null}(e=>{e.Random=Xk,e.Reuse=K0,e.Sidebar=Qk,e.Examples=Yk})(Jk||(Jk={}));function cue({id:e,className:t}){const{setInput:n,input:r}=re.Image.Input.use(e),{data:i}=re.Image.Samplers.use(),a=useMemo(()=>[...(i??[]).map(({id:o,name:l})=>({name:l,value:o}))],[i]),s=useCallback(o=>{n(l=>{l.sampler=i?.find(u=>u.id===o)})},[n,i]);return r?E(q.Popout,{title:"Sampler",label:"Sampler",placeholder:"Select a sampler",value:r.sampler?.id,className:t,onClick:s,options:a,anchor:"bottom",children:!i&&E("div",{className:"flex flex-col items-center justify-center px-16 py-32",children:E("div",{className:"text-muted-white pb-3",children:"Loading samplers..."})})}):null}var eS;(e=>{e.use=()=>{const t=Fn.use(({getStableDiffusionSamplers:n})=>n);return S_({enabled:!!t,queryKey:["Generation.Image.Samplers.use"],queryFn:async()=>await t?.()??[]})},e.useAreEnabled=()=>Fn.use(({getStableDiffusionModels:t})=>!!t)})(eS||(eS={}));var tS;(e=>{e.Dropdown=cue})(tS||(tS={}));var nS;(e=>{e.use=()=>{const{miniSearch:t,lastAdded:n}=Y0.use(({miniSearch:h,lastAdded:p})=>({miniSearch:h,lastAdded:p})),[r,i]=useState(!1),[a,s]=useState([]),[o,l]=useState(void 0);useEffect(()=>i(!!o),[o]);const u=useCallback(h=>{const p=h===void 0||h===""?void 0:h;l(p),i(!!p),s([])},[l]),c=useCallback(()=>u(),[u]);return Ph(()=>{if(!o)return s([]);s(t.search(o).map(({id:h})=>h)),i(!1)},250,[o,t,n]),useMemo(()=>({loading:r,matches:a,text:o,setText:u,clear:c}),[a,r,o,u,c])},e.useMakeSearchable=()=>{const[t]=re.Image.Inputs.use(),{miniSearch:n,setLastAdded:r}=Y0.use(({miniSearch:i,setLastAdded:a})=>({miniSearch:i,setLastAdded:a}));return useCallback((...i)=>{const a=i.reduce((o,l)=>{if(!l.id)return o;const u=t[l.inputID]?.prompts.map(({text:c})=>c).join(" ");return u?[...o,{id:l.id,prompt:u}]:o},[]);if(!a.length)return;a.forEach(({id:o,prompt:l})=>{n.has(o)&&n.remove({id:o,prompt:l}),n.add({id:o,prompt:l})});const s=a[a.length-1]?.id;s&&r(s)},[t,n,r])}})(nS||(nS={}));var Y0;(e=>{e.use=tt.create(t=>({miniSearch:new GL({idField:"id",fields:["prompt"],storeFields:[]}),lastAdded:void 0,setLastAdded:n=>t({lastAdded:n})}))})(Y0||(Y0={}));var rS;(e=>{e.getCurrentInput=()=>re.Image.Input.get(mi.use.getState().currentInputID),e.setCurrentInput=t=>{const n=(0,e.getCurrentInput)()?.id;n&&re.Image.Input.set(n,t)},e.useCurrentInput=()=>{const t=mi.use(({currentInputID:n})=>n,tt.shallow);return re.Image.Input.use(t)},e.useLastInput=()=>{const t=mi.use(({previousInputIDs:[n]})=>n);return re.Image.Input.use(t)},e.useInputIDs=()=>mi.use(({currentInputID:t,previousInputIDs:n})=>[t,...n],tt.shallow),e.useReset=()=>mi.use(({reset:t})=>t),e.useImageFilter=()=>{const t=(0,e.useInputIDs)();return useCallback((n,r=!1)=>t.includes(n.inputID)!==r,[t])},e.useSetLastStrength=()=>mi.use(({setLastStrength:t})=>t),e.useSetInitialImage=()=>{const t=mi.use(({lastStrength:n})=>n);return useCallback(n=>{(0,e.setCurrentInput)(r=>{const i=typeof n=="string"?n:n?.src;i&&(r.strength=t,r.init={src:i,mask:!1,weight:1})})},[t])},e.useCreateDream=()=>{const t=re.Image.Create.use();return useCallback(async n=>{const r=(0,e.getCurrentInput)();if(r)return mi.get().newCurrentInput(),t({inputID:r.id,modifiers:n})},[t])},e.useCreateVariations=t=>{const n=(0,e.useCreateDream)();return useCallback(async()=>{if(!t)return;const{currentInputID:r,lastStrength:i,setVariationsSourceImage:a}=mi.get(),s=re.Image.Input.get(t.inputID);if(!s)return;const o=s.prompts.filter(l=>l.text!=="");return o.filter(l=>l.weight<0).length<=0&&o.push({text:"",weight:-.75}),a(t),re.Image.Input.set(r,()=>({...s,id:r,strength:i,prompts:o,seed:0,...t.src&&{init:{src:t.src,mask:!1,weight:1}}})),n()},[t,n])},e.useUpscale=t=>{const n=(0,e.useCreateDream)(),[r]=re.Image.Upscale.use();return useCallback(async()=>{if(!t)return;const{setVariationsSourceImage:i}=mi.get(),a=re.Image.Input.get(t.inputID);if(!a)return;i(t);const s=re.Image.Upscale.getScale(r);return n({prompts:a.prompts.filter(o=>o.text!==""),strength:1,width:a.width*s,height:a.height*s,count:1,model:r,...t.src&&{init:{src:t.src,mask:!1,weight:1}}})},[t,n,r])}})(rS||(rS={}));var mi;(e=>{e.get=()=>e.use.getState(),e.use=tt.create(t=>{const n=()=>({currentInputID:ID.create(),newCurrentInput:()=>{const r=ID.create();return t(i=>(re.Image.Inputs.copy(i.currentInputID,r),{currentInputID:r,previousInputIDs:[i.currentInputID,...i.previousInputIDs]})),{newID:r}},generatingInputID:void 0,previousInputIDs:[],lastStrength:.35,setLastStrength:r=>t({lastStrength:r}),variationsSourceImage:void 0,setVariationsSourceImage:r=>t({variationsSourceImage:r}),reset:()=>t(n,!0)});return n()})})(mi||(mi={}));function due({id:e,...t}){const{setInput:n,input:r}=re.Image.Input.use(e),i=re.Image.Models.useAreEnabled(),a=re.Image.Samplers.useAreEnabled(),s=useCallback(c=>{n(h=>{h.cfgScale=c})},[n]),o=useCallback(c=>{n(h=>{h.steps=c})},[n]),l=useCallback(c=>n(h=>{h.seed=c}),[n]),u=useCallback(c=>n(h=>{c===""&&(h.seed=0)}),[n]);return r?E(Ot.Sidebar.Section,{title:"Advanced",divider:!1,collapsable:!0,icon:c=>c.expanded?h=>E(q.Icon.EyeOff,{...h,className:classes(h.className,"ml-1")}):h=>E(q.Icon.Eye,{...h,className:classes(h.className,"ml-1")}),className:c=>c.expanded?"":"mb-2",...t,children:ne("div",{className:"flex flex-col gap-4",children:[ne("div",{className:"grid grid-cols-2 gap-8",children:[E(q.Tooltip,{delay:750,placement:"right",content:ne("h1",{children:["Prompt strength determines how much the",E("br",{})," final image will portray your prompts."]}),children:E(q.NumberInput,{icon:q.Icon.Scale,label:"Prompt strength",placeholder:"Auto",fullWidth:!0,number:!0,min:1,step:.1,max:30,value:r.cfgScale,onNumberChange:s})}),E(q.Tooltip,{delay:750,content:ne("h1",{children:["Generation steps is how many times the image ",E("br",{})," is sampled. More steps may be more accurate."]}),placement:"right",children:E(q.NumberInput,{icon:q.Icon.Steps,label:"Generation steps",fullWidth:!0,number:!0,min:10,step:1,max:150,value:r.steps,onNumberChange:o})})]}),E("div",{className:"flex flex-col gap-4",children:E("div",{className:"grid grid-cols-2 items-end gap-8",children:E(q.Tooltip,{delay:750,content:ne("h1",{children:["Seed determines the initial noise. Using the same seed with",E("br",{})," the same settings will create a very similar image."]}),placement:"right",children:E(q.NumberInput,{icon:q.Icon.Sprout,placeholder:"Auto",label:"Seed",fullWidth:!0,number:!0,min:1,step:1,max:4294967295,value:r.seed!==0?r.seed:"",onChange:u,onNumberChange:l,iconRight:c=>r.seed!==0?E(q.Tooltip,{content:"Clear Seed",children:E(q.Icon.X,{...c,className:classes(c.className,"cursor-pointer duration-100 hover:opacity-100"),onClick:()=>l(0)})}):null})})})}),i&&E("div",{className:"-mx-2",children:E(re.Image.Model.Dropdown,{id:e})}),a&&E("div",{className:"-mx-2",children:E(re.Image.Sampler.Dropdown,{id:e})})]})}):null}function X0(){const{input:e}=re.Image.Session.useCurrentInput(),t=re.Image.Session.useCreateDream(),n=ro();return e?.id?E(Ot.Sidebar.Tab.Set,{defaultActive:!0,name:"Generate",route:"/generate",position:"left",index:0,icon:q.Icon.Generate,enabled:n.pathname.startsWith("/generate")||n.pathname.startsWith("/edit"),bottom:E(Ot.Sidebar.Tab.Bottom,{children:E(re.Image.Create.Button,{id:e.id,onIdleClick:()=>t(),fullWidth:!0})}),children:E(X0.Tab,{id:e.id})}):null}(e=>{function t({id:n,variant:r="generate"}){const[i,a]=useState(!0),s=re.Image.Styles.useAreEnabled();return ne(it,{children:[s&&E(Ot.Sidebar.Section,{divider:!0,defaultExpanded:!0,padding:"sm",children:E("div",{className:"flex flex-col gap-2",children:E(re.Image.Style.Dropdown,{id:n})})}),E(re.Image.Prompt.Sidebar.Section,{id:n}),r==="generate"&&E(re.Image.Input.Image.Sidebar.Section,{id:n}),E(Ot.Sidebar.Section,{divider:!1,collapsable:!0,defaultExpanded:!0,title:"Settings",onChange:a,children:ne("div",{className:"flex flex-col gap-4",children:[r==="generate"&&E(re.Image.Size,{id:n}),E(re.Image.Count.Slider,{})]})}),i&&E(due,{id:n})]})}e.Tab=t})(X0||(X0={}));var iS;(e=>{e.useStyle=({scale:t=1,height:n=512,width:r=n,preserveAspectRatio:i})=>useMemo(()=>{if(i)return{aspectRatio:`${r} / ${n}`};const a=r/n,s=t*n,o=t*Math.max(Math.min(n*2,n*a),n*(3/5));return{width:o,height:s,flexBasis:o,maxWidth:1.5*o}},[t,r,n,i])})(iS||(iS={}));function Q0({id:e,fullControl:t,toggleFullControl:n}){const{input:r}=re.Image.Input.use(e),{closest:i,ratios:a}=Z0.use(e,t),[s,o]=React.useState(null),[l,u]=React.useState(!1),c=useCallback(h=>{s&&clearTimeout(s),e&&re.Image.Input.set(e,p=>{const m=a[h]?.input.width,g=a[h]?.input.height;m&&(p.width=m),g&&(p.height=g)}),o(setTimeout(()=>{o(null),u(!1)},500)),u(!0)},[e,a,s]);return useEffect(()=>{c(i?.index??0)},[r?.model]),!i||a.length<=1?null:ne(it,{children:[ne("div",{className:"flex shrink flex-row items-center justify-between",onDoubleClick:n,children:[E("div",{className:"flex w-1/3 items-center justify-start",children:E(q.Icon.Rectangle,{className:"opacity-muted-extra w-[28px]"})}),E(q.Tooltip,{delay:500,content:`${r?.width}  ${r?.height}`,forceOpen:l,children:ne("h1",{className:"select-none",children:[i.width,E("span",{className:"opacity-muted",children:" : "}),i.height]})}),E("div",{className:"flex w-1/3 items-center justify-end",children:E(q.Icon.Rectangle,{className:"opacity-muted-extra w-[28px] rotate-90"})})]}),E(q.Slider,{noFill:!0,max:Math.max(2,a.length-1),value:a.length===1?1:i.index,onChange:c,disabled:a.length===1,className:classes(a.length===1&&"opacity-20")})]})}(e=>{e.toSize=({ratio:t,bounds:n,area:r})=>{if(!r){const o=t.width/t.height,l=n.length.min,u=o>=1?Math.max(l,Math.round(l*o)):l,c=o<1?Math.max(l,Math.round(l/o)):l;return{width:u,height:c}}const i=Math.sqrt(r),a=Math.sqrt(r),s=o=>({width:clamp(n.length.min,Math.round(i*o),n.length.max),height:clamp(n.length.min,Math.round(a*o),n.length.max),actual:i*o/(a*o)});return i<n.length.min&&a<n.length.min?s(Math.min(n.length.min/i,n.length.min/a)):i<n.length.min?s(n.length.min/i):a<n.length.min?s(n.length.min/a):s(1)}})(Q0||(Q0={}));var Z0;(e=>{const t=[{width:1,height:1},{width:4,height:3},{width:3,height:2},{width:4,height:5},{width:16,height:9},{width:1.85,height:1},{width:7,height:4},{width:2,height:1},{width:3,height:1},{width:4,height:1}];e.use=(n,r=!1)=>{const{input:i}=re.Image.Input.use(n),a=re.Image.Size.Bounds.use(n),s=useMemo(()=>{if(!i?.width||!i?.height||!a)return[];const l=h=>({...h,input:Q0.toSize({ratio:h,bounds:a,...r&&{area:i.width*i.height}})}),u=(r?t:t.slice(0,-2)).map(l).filter(({input:h})=>h.width*h.height<=a.area.max),c=u.map(({width:h,height:p,input:m})=>({width:p,height:h,input:{width:m.height,height:m.width}}));return[...u,...c.slice(1)].sort((h,p)=>p.width/p.height-h.width/h.height)},[r,a,i?.width,i?.height]);return{closest:useMemo(()=>{if(!i?.width||!i?.height||!s[0])return;const l=i.width/i.height;return s.reduce((u,c,h)=>{const p=Math.abs(l-c.width/c.height);return p<u.difference?{...c,index:h,difference:p}:u},{index:0,difference:1/0,...s[0]})},[s,i?.width,i?.height]),ratios:s}}})(Z0||(Z0={}));function Hh({id:e}){const[t,n]=useState(!1),r=useCallback(()=>n(u=>!1),[]),{setInput:i,input:a}=re.Image.Input.use(e),s=Hh.Bounds.use(e),o=useCallback(u=>{i(c=>{c.width=u})},[i]),l=useCallback(u=>{i(c=>{c.height=u})},[i]);return!s||!a?null:ne(it,{children:[E(re.Image.Size.Ratio,{id:e,fullControl:t,toggleFullControl:r}),ne("div",{className:classes("hidden grid-cols-2 items-end gap-8",t&&"grid"),children:[E(q.Slider,{title:"Width",disabled:s.width.max===0,min:s.width.min,value:a.width,max:s.width.max,onChange:o}),E(q.Slider,{title:"Height",disabled:s.width.max===0,min:s.height.min,value:a.height,max:s.height.max,onChange:l})]})]})}(e=>{e.Display=iS,e.Ratio=Q0,e.Ratios=Z0,(t=>{t.get=n=>{if(!n?.model)return;if(n.model.includes("xl"))return{length:{min:512,max:896},area:{max:512*896},ratio:{min:.57,max:1.75},width:{min:512,max:896},height:{min:512,max:896}};const r=1024*1024,i=2048,a=re.Image.Model.StableDiffusionV1.baseResolution(n.model);return{length:{min:a,max:i},width:{min:a,max:r/n.height},height:{min:a,max:r/n.width},area:{min:a*a,max:r},ratio:{min:a/i,max:i/a}}},t.use=n=>{const{input:r}=re.Image.Input.use(n);return useMemo(()=>r&&(0,t.get)(r),[r])}})(e.Bounds||(e.Bounds={}))})(Hh||(Hh={}));function hue(){return ne("div",{className:"pointer-events-none absolute inset-0 flex flex-col items-center justify-center gap-1 bg-black/30",children:[E(q.Icon.AlertTriangle,{className:"text-red-500",size:48}),E("h1",{children:"Image was flagged as inappropriate"}),E("h2",{className:"text-sm opacity-75",children:"You have not been charged"})]})}function aS({showing:e,loading:t,variant:n,example:r,onClick:i,input:a}){return e?ne("div",{className:classes("pointer-events-none absolute flex h-full w-full items-center justify-center rounded-md border border-zinc-700 opacity-0 duration-150",(n!=="editor"||t)&&"bg-zinc-900/50",(n==="editor"||e)&&"opacity-100"),children:[n==="editor"&&E(q.Checkered,{className:"-z-[1] bg-fixed"}),r&&ne(it,{children:[E("img",{className:classes("absolute h-full w-full object-cover opacity-25 duration-150",t&&"opacity-0"),src:r.src}),E("div",{className:classes("absolute bottom-0 left-0 right-0 truncate whitespace-nowrap p-3 italic text-white opacity-75 duration-150",t&&"opacity-0"),children:r.prompt})]}),n!=="editor"&&E("div",{className:"absolute flex h-full w-full items-center justify-center",children:i&&r&&!t&&a?E(re.Image.Create.Button,{id:a,icon:q.Icon.Dream,onIdleClick:i,className:"pointer-events-auto",children:"Try template"}):E(q.Logo,{className:classes("absolute h-12 w-12 opacity-50 duration-150",t&&"opacity-0",n==="small"&&"h-8 w-8")})}),E("div",{className:"absolute flex h-full w-full items-center justify-center",children:t&&E(q.Loading.Spinner,{className:classes(n==="small"?"h-1/2 w-1/2":"h-10 w-10")})})]}):null}(e=>{e.Filter=hue})(aS||(aS={}));var sS;(e=>{e.use=()=>{const t=Fn.use(({getStableDiffusionStyles:n})=>n);return S_({enabled:!!t,queryKey:["Generation.Image.Styles.use"],queryFn:async()=>await t?.()??[]})},e.useAreEnabled=()=>Fn.use(({getStableDiffusionStyles:t})=>!!t)})(sS||(sS={}));var oS;(e=>{e.apply=({input:n,styleID:r})=>({...n,extras:{...n.extras,$IPC:r?{preset:r}:void 0}}),e.isApplied=({input:n,preset:r})=>(n.extras?.$IPC?.preset??"none")===r.id,e.useFromID=n=>{const{data:r}=re.Image.Styles.use();return n?r?.find(i=>i.id===n):void 0};function t({className:n,id:r}){const{data:i}=re.Image.Styles.use(),{input:a,setInput:s}=re.Image.Input.use(r),o=useMemo(()=>[{value:"none",name:"Choose style"},...i?.map(l=>({value:l.id,name:l.name,image:l.image}))??[]],[i]);return E(q.Popout,{title:"Styles",label:"Style",options:o,value:a?.extras?.$IPC?.preset,placeholder:"Choose style",className:classes(n),onClick:l=>s(u=>(0,e.apply)({input:u,styleID:l}))})}e.Dropdown=t})(oS||(oS={}));function fue(){return null}var lS;(e=>{function t(n){return E(q.Tooltip,{placement:"top",content:E("div",{className:"-mr-1 flex flex-row items-center gap-2",children:E("p",{children:"Upscale image"})}),children:E(re.Image.Create.Button,{...n,noBadge:!0,size:"md",icon:q.Icon.Upscale,noTitle:!0})})}e.Button=t})(lS||(lS={}));var uS;(e=>{e.Create=lS})(uS||(uS={}));var J0;(e=>{e.preset=()=>"esrgan-v1-x2plus",e.getScale=t=>t.includes("x2")?2:t.includes("x4")?4:t.includes("x8")?8:1,e.get=()=>zb.getState().upscaler,e.set=t=>zb.getState().setUpscaler(t),e.use=()=>zb(({upscaler:t,setUpscaler:n})=>[t,n],tt.shallow)})(J0||(J0={}));const zb=tt.create(e=>({upscaler:J0.preset(),setUpscaler:t=>e({upscaler:t})}));var cS;(e=>{function t(n){return E("div",{className:"pointer-events-auto mr-auto flex flex-row items-center gap-1",children:E(q.Tooltip,{placement:"top",content:E("div",{className:"-mr-1 flex flex-row items-center gap-2",children:E("p",{children:"Generate variations"})}),children:E(re.Image.Create.Button,{...n,noBadge:!0,size:"md",icon:q.Icon.Variation,children:!n.noTitle&&E(it,{children:"Variations"})})})})}e.Button=t})(cS||(cS={}));var dS;(e=>{e.Create=cS})(dS||(dS={}));function qh({image:e,hideControls:t,placeholder:n,scale:r,preserveAspectRatio:i,width:a,height:s,onClick:o,className:l}){const{input:u}=W0.use(e?.inputID),c=Hh.Display.useStyle({scale:r,preserveAspectRatio:i,width:a??u?.width,height:s??u?.height}),h=e?.src&&(c.width&&c.height?qh.cropped(e.src,c.width,c.height):e.src),[p,m]=useState(!0),y=n||!h,b=useMemo(()=>u&&re.Image.Input.isUpscaling(u),[u]);useEffect(()=>m(!0),[e?.src]);const v=re.Images.Modal.useOpen(),x=useCallback(()=>{o?.(),!p&&e?.id&&v(e)},[o,e,p,v]),k=useMemo(()=>e?.id&&ne("div",{className:"absolute h-full w-full",children:[E(v_,{src:h,image:e,onClick:x,onLoadingChange:m}),b&&E("div",{className:"absolute bottom-3 left-3 flex items-end justify-end",children:ne(q.Badge,{className:"bg-zinc-800/50 backdrop-blur-md",children:["Upscaled ",u?.width,"x",u?.height]})})]}),[e,h,x,b,u?.width,u?.height]),T=useMemo(()=>e?.id&&!p&&!t&&E(sv,{image:e}),[e,p,t]),P=useMemo(()=>E(qh.SpecialEffects,{showing:y,loading:!n&&y,variant:(c.height??512)<48?"small":void 0}),[n,y,c.height]);return useMemo(()=>E("div",{style:c,className:classes("group relative shrink grow overflow-hidden rounded bg-zinc-900",l),children:ne("div",{className:classes("group relative h-full w-full overflow-hidden rounded-md shadow-md",!p&&"cursor-pointer",l),children:[k,T,P]})}),[c,l,p,k,T,P])}(e=>{e.ClipBoard=dk,e.Controls=sv,e.Count=Ju,e.Create=Ck,e.Download=_k,e.HTMLElement=v_,e.Input=W0,e.Inputs=Os,e.Modal=G0,e.Model=Hk,e.Models=Gk,e.Output=Kk,e.Outputs=qk,e.Style=oS,e.Styles=sS,e.Prompt=Jk,e.Prompts=Zk,e.Sampler=tS,e.Samplers=eS,e.Search=nS,e.Session=rS,e.Sidebar=X0,e.Size=Hh,e.SpecialEffects=aS,e.TopBar=fue,e.Variations=dS,e.Upscales=uS,e.Upscale=J0,e.Exception=Ik,e.get=t=>Vh.State.use(({images:n})=>n[t]),e.add=t=>Vh.add([t]),e.cropped=(t,n,r)=>t.startsWith("blob:")?t:`${t}?resize&width=${n}&height=${r}&fit=cover`,e.blob=async t=>{const n=t?.src;return n?(await fetch(n)).blob():void 0},e.blobURL=async t=>{const n=await e.blob(t);return n&&URL.createObjectURL(n)}})(qh||(qh={}));function re(){const e=re.Image.Session.useCreateDream();return Xe.use(useMemo(()=>({name:["Generate"],keys:["Meta","Enter"],icon:q.Icon.Wand,action:()=>e(),options:{ignoredElementWhitelist:["INPUT","TEXTAREA"]}}),[e])),ne(it,{children:[E(re.Image.TopBar,{}),E(re.Image.Modal,{}),E(re.Image.Download.Modal,{}),E("div",{className:"relative z-[1] flex h-full grow flex-col overflow-hidden bg-zinc-800",children:E(re.Images,{})})]})}(e=>{e.Image=qh,e.Images=Vh})(re||(re={}));function pue({id:e,showHandles:t}){const{input:n}=re.Image.Input.use(e),r=ee.Selection.useSelected(e),[i]=ee.Entity.use(e),a=re.Image.Output.useIsGenerating(i?i?.outputID:void 0);return n?E(it,{children:ne("div",{className:classes("pointer-events-none relative h-full w-full"),children:[E(re.Image.SpecialEffects,{showing:!0,variant:"editor",loading:a,border:r}),!r&&E("div",{className:"h-full w-full border-[2px] border-dashed border-white/50"}),E("div",{className:classes("relative h-full w-full opacity-0 duration-150",r&&!a&&"opacity-100"),children:r&&t&&!n.model.includes("xl")&&ne(it,{children:[E(ws,{className:"top-0 left-0"}),E(ws,{className:"top-0 left-1/2"}),E(ws,{className:"top-0 left-full"}),E(ws,{className:"top-1/2 left-0"}),E(ws,{className:"top-1/2 left-full"}),E(ws,{className:"top-full left-0"}),E(ws,{className:"top-full left-1/2"}),E(ws,{className:"top-full left-full"})]})})]})}):null}function ws({className:e}){const t=ee.Entity.Handle.size();return E("div",{style:{width:t,height:t},className:classes("absolute z-[10] -translate-x-1/2 -translate-y-1/2 bg-white drop-shadow",e)})}var hS;(e=>{e.use=t=>{const n=ee.Entities.useFlatten(),r=ee.Entities.use(),[i,a]=ee.Entity.use(t),s=ee.Image.Create.use(),{autoFlatten:o}=ee.State.use();return useCallback(l=>{if(!i||!l.src)return;const u=re.Image.Input.get(l.inputID)?.prompts[0].text??"Image",c=r.filter(p=>p.type==="image"&&p.x<i.x+i.width&&p.x+p.width>i.x&&p.y<i.y+i.height&&p.y+p.height>i.y&&p.element?.src&&p.visible&&p.id!==t),h=new window.Image;h.src=l.src,h.onload=()=>{const p={element:h,width:h.width,height:h.height};c.length>=1&&o?(c.push({...ee.Image.preset(),index:r.length,x:i.x,y:i.y,width:i.width,height:i.height,original:p,element:h,title:u}),n(c)):s({title:u,x:i.x,y:i.y,width:i.width,height:i.height,original:p,element:h})},a(p=>{p.locked=!1,p.outputID=void 0,p.choicesPage=0})},[o,s,r,i,n,t,a])}})(hS||(hS={}));var fS;(e=>{e.use=()=>{const t=ee.Dream.Create.use();Xe.use(useMemo(()=>({name:["Dream","Create"],icon:q.Icon.Plus,keys:["Meta","d"],action:()=>t()}),[t]))}})(fS||(fS={}));var pS;(e=>{e.Shortcuts=fS,e.use=()=>{const[t,n]=re.Image.Inputs.use(),r=ee.Entities.use(),i=ee.Entities.useSet(),a=ee.Selection.useSelect(),s=ee.Camera.Center.useGet();return useCallback(o=>{const l=o?.dream?.id??ID.create(),u=o?.inputID?t[o.inputID]:void 0,c=s(),h=(g={...ee.Dream.preset(),...o?.dream,id:l,index:r.length},y=10)=>{if(y===0||o?.allowOverlap)return g;const b=c?{...g,x:c.x-g.width/2,y:c.y-g.height/2}:g,v=r.find(({x:k,y:T,width:P,height:R})=>b.x===k&&b.y===T&&b.width===P&&b.height===R),x=20;return v?h({...b,x:b.x+x*(Math.random()*2-1),y:b.y+x*(Math.random()*2-1)},y-1):b},p=h();p.height=u?.height??p.height,p.width=u?.width??p.width;const m={...re.Image.Input.initial(l),...u,id:l,seed:0};return n(g=>({...g,[l]:m})),i(g=>new Map(g).set(l,p)),a(l),p},[t,s,r,i,n,a])}})(pS||(pS={}));function qF({id:e}){const[t,n]=ee.Entity.use(e),r=ee.Selection.useSelected(e),i=ee.Dream.Choose.use(e),a=re.Image.Output.use(t?.outputID),s=a?.imageIDs.length??0,o=s>ee.Dream.Results.pageSize()-1?Math.ceil(s/ee.Dream.Results.pageSize()):s,l=t?.lastMode!=="txt2img"?s:o,u=t?.choicesPage??0,c=useCallback(g=>{n(y=>{y.choicesPage=g})},[n]),h=useCallback(()=>{n(g=>{g.outputID=void 0,g.locked=!1})},[n]),m=re.Images.useFromIDs(...a?.imageIDs??[])?.[u];return E("div",{className:classes("fixed left-[50%] bottom-6 z-[10] flex -translate-x-1/2 flex-row items-center justify-center gap-3 overflow-visible"),children:E(ff,{children:l>1&&r&&E(Or.div,{className:"border-brand-500 pointer-events-auto relative flex flex-col gap-3 rounded-md border-2 bg-zinc-50 p-2 text-black shadow-lg dark:bg-zinc-900 dark:text-white dark:shadow-none",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{type:"spring",stiffness:500,damping:30},children:ne("div",{className:"flex w-full flex-row gap-2",children:[E(q.Button,{color:"brand",size:"lg",onClick:()=>m?.src&&i(m),children:"Select"}),E(q.Button,{translucent:!0,className:"hover:bg-zinc-800",size:"lg",onClick:h,children:"Cancel"}),E("div",{className:"w-px grow bg-zinc-700"}),ne("div",{className:"flex flex-row items-center justify-between px-2 font-mono text-lg tracking-widest",children:[u+1,ne("span",{className:"opacity-75",children:["/",l]})]}),E(q.Button,{icon:q.Icon.ChevronLeft,onClick:()=>c(u>0?u-1:l-1),transparent:!0,size:"lg"}),E(q.Button,{icon:q.Icon.ChevronRight,onClick:()=>c(u>=l-1?0:u+1),transparent:!0,size:"lg"})]})})})})}var mS;(e=>{e.use=t=>{const n=re.Image.Create.use(),r=ee.Entities.use(),[i,a]=ee.Entity.use(t);return useCallback(()=>{if(!i||!re.Image.Input.get(t))return;a(l=>l.locked=!0);const o=ee.Canvas.Render.getGenerationMetadata(r.filter(l=>l.type==="image"&&l.visible).reverse(),i,1);re.Image.Input.set(t,l=>{l.init=o?.init?{base64:o.init,mask:!1,weight:1}:null,l.mask=o?.mask?{base64:o.mask,mask:!0,weight:1}:null}),n({inputID:t,modifiers:{strength:0},onStarted(l){l&&a(u=>{u.outputID=l.id})},onException(){a(l=>l.locked=!1)}})},[i,a,r,n,t])}})(mS||(mS={}));function PR({choice:e,onChoose:t,filtered:n}){const[r,i]=useState(e);return useEffect(()=>{const a=new Image;a.src=e,a.onload=()=>i(e)},[e]),ne("div",{className:"group relative z-[0] h-full w-full cursor-pointer select-none overflow-hidden",children:[ne("div",{className:"relative",children:[E("img",{src:r,className:"h-full w-full select-none object-cover"}),E("img",{src:r,className:"absolute top-0 left-0 h-full w-full select-none object-cover opacity-0 duration-150 group-hover:opacity-100",css:css`
            mask: linear-gradient(black 50%, transparent 90%);
            backdrop-filter: blur(20px);
          `}),n&&E(re.Image.SpecialEffects.Filter,{})]}),E("div",{className:"absolute bottom-0 left-0 right-0 flex items-center justify-center bg-gradient-to-t from-black/50 to-transparent pb-2 opacity-0 duration-150 group-hover:opacity-100",children:ne("div",{className:"pointer-events-auto flex flex-row items-center justify-center overflow-hidden rounded bg-zinc-50 text-black/75 text-opacity-50 dark:bg-zinc-800 dark:text-white/75",children:[E("button",{type:"button",onClick:t,className:"relative items-center px-2 py-2 hover:bg-black/10 dark:hover:bg-white/10",children:E(q.Icon.Check,{size:20})}),E("button",{type:"button",className:"relative items-center px-2 py-2 hover:bg-black/10 dark:hover:bg-white/10",onClick:()=>{const a=document.createElement("a");a.download="dream.png",a.href=e,a.click(),a.remove()},children:E(q.Icon.Download,{size:20})})]})})]},e)}function rc({id:e}){const[t]=ee.Entity.use(e),n=ee.Dream.Choose.use(e),r=re.Image.Output.use(t?.outputID),i=r&&t&&(r?.imageIDs?.length??0)>=rc.pageSize()&&t?.lastMode==="txt2img"?rc.pageSize():1,a=re.Images.useFromIDs(...r&&t?r?.imageIDs?.slice((t.choicesPage??0)*i,((t.choicesPage??0)+1)*i)??[]:[]),s=a[0];return!t||!s?null:a&&a.length===1&&s.src?E(PR,{choice:s.src,onChoose:()=>n(s),filtered:!1}):E("div",{className:classes("grid grid-cols-2 grid-rows-2 gap-2",a&&a.length>1&&"pointer-events-auto bg-zinc-300 p-2 dark:bg-zinc-900"),children:a&&a.filter(o=>o.src).map(o=>E(PR,{choice:o.src,onChoose:()=>n(o),filtered:!1},o.src))})}(e=>{e.pageSize=()=>4})(rc||(rc={}));var RR;(e=>{e.use=()=>ee.Entities.useType("dream")})(RR||(RR={}));function gS({id:e}){const[t,n]=useState({width:0,height:0}),{input:r}=re.Image.Input.use(e);return ne(ee.Entity,{id:e,showBorder:!1,showHandles:!1,onSizeChange:n,resizable:!1,sizeClamp:{min:{width:512,height:512},max:r?.model.includes("xl")?{width:512,height:512}:{width:1024,height:1024}},children:[ee.Floating.use({id:e,...t,content:E(pue,{id:e})}),ee.Floating.use({id:e+"pagination",...t,content:E(qF,{id:e})}),ee.Floating.use({id:e+"results",...t,content:E(rc,{id:e})})]})}(e=>{e.Choose=hS,e.Create=pS,e.Pagination=qF,e.Render=mS,e.Results=rc,e.preset=()=>({id:ID.create(),type:"dream",x:0,y:0,width:512,height:512,locked:!1,visible:!0,outputID:void 0}),e.use=t=>ee.Entity.useType(t,"dream")})(gS||(gS={}));var yS;(e=>{function t(){const n=ee.Entities.use(),r=ee.Dream.Create.use(),i=ee.Entities.useDelete(),a=ee.Selection.use(),s=ee.Image.Import.useOpenFiles(),{dreams:o,images:l,selectedDreams:u,selectedImages:c}=useMemo(()=>{const h=n.filter(y=>y.type==="dream"),p=n.filter(y=>y.type==="image"),m=h.filter(y=>a.has(y.id)),g=p.filter(y=>a.has(y.id));return{dreams:h,images:p,selectedDreams:m,selectedImages:g}},[n,a]);return ne(it,{children:[ne(Ot.Sidebar.Section,{collapsable:!0,divider:!0,defaultExpanded:!0,padding:"none",children:[ne("div",{className:"flex border-b border-zinc-800 py-2 pl-1",children:[E(q.Button,{transparent:!0,icon:q.Icon.Plus,onClick:()=>r()}),u.length>0&&o.length>0&&E(q.Button,{transparent:!0,label:"Delete selected",icon:q.Icon.Trash,onClick:()=>i(...u.map(h=>h.id))})]}),E("div",{className:"overflow-y-auto",children:useMemo(()=>o.length>0?o.flatMap(({id:h},p)=>[E(AR,{id:h,index:p,total:o.length},h)]):ne("div",{className:"my-12 select-none text-center text-gray-500",children:["You don't have any dreams yet",E("br",{}),E("span",{onClick:()=>r(),className:"text-brand-300 cursor-pointer hover:underline",children:"Create"}),"one to get started"]}),[r,o])})]}),ne(Ot.Sidebar.Section,{collapsable:!0,divider:!0,defaultExpanded:!0,padding:"none",children:[ne("div",{className:"flex border-b border-zinc-800 py-2 pl-1",children:[E(q.Button,{transparent:!0,icon:q.Icon.Upload,onClick:()=>s()}),c.length>0&&l.length>0&&E(q.Button,{transparent:!0,label:"Delete selected",icon:q.Icon.Trash,onClick:()=>i(...c.map(h=>h.id))})]}),E("div",{className:"overflow-y-auto",children:useMemo(()=>l.length>0?l.filter(h=>h.type==="image").flatMap(({id:h},p)=>[E(AR,{id:h,index:p,total:l.length},h)]):ne("div",{className:"my-12 select-none text-center text-gray-500",children:["You don't have any images yet",E("br",{}),"Generate or",E("span",{onClick:()=>s(),className:"text-brand-300 cursor-pointer hover:underline",children:"import"}),"some"]}),[l,s])})]})]})}e.Section=t})(yS||(yS={}));function AR({id:e,...t}){const n=ee.Camera.useSet(),r=ee.Entity.useTitle(e),[i]=ee.Entity.use(e),a=ee.Selection.useSelect(),s=ee.Selection.use(),o=useMemo(()=>s.has(e),[s,e]),l=useCallback(()=>{i&&(o||a(i.id),n(i))},[i,o,a,n]);return i?ne("div",{onClick:l,className:classes("group flex items-center gap-3 p-2",o?"bg-brand-700":"hover:bg-zinc-800/50"),children:[E(mue,{entity:i}),E("div",{className:"grow overflow-hidden",children:E("div",{className:"overflow-hidden overflow-ellipsis whitespace-nowrap",children:r})}),E(yue,{id:e,...t})]}):null}const mue=({entity:e})=>{const t=e.type==="image"&&e.element?.src;return ne("div",{className:"relative aspect-square h-8 w-8 shrink-0 overflow-hidden rounded-md shadow",children:[E(q.Checkered,{size:"sm"}),t&&E("div",{className:"absolute bottom-0 left-0 right-0 top-0",css:css`
            background-image: url(${t});
            background-size: cover;
            background-position: center;
          `}),ne("div",{className:"relative flex h-full w-full items-center justify-center",children:[!t&&E(q.Icon.Wand,{className:"h-6 w-6 text-zinc-400 dark:text-zinc-500"}),e&&e.type==="dream"&&E(gue,{id:e.id})]})]})};function gue({id:e}){return re.Image.Input.use(e),E(q.Loading.Rainbow,{showing:!1,className:"blur-[8px]"})}const yue=({id:e})=>{const t=ee.Entities.useDelete(),[n,r]=ee.Entity.use(e);return E("div",{className:"flex flex-col justify-between",children:useMemo(()=>{const i="hidden group-hover:block",a=E(q.Button,{transparent:!0,icon:n?.visible?q.Icon.Eye:q.Icon.EyeOff,className:i,onClick:l=>{l.stopPropagation(),r(u=>{u.visible=!u.visible})}}),s=E(q.Button,{transparent:!0,icon:n?.locked?q.Icon.Lock:q.Icon.Unlock,className:i,onClick:l=>{l.stopPropagation(),r(u=>{u.locked=!u.locked})}}),o=E(q.Button,{transparent:!0,icon:q.Icon.Trash,className:classes(i,"hover:text-red-500 dark:hover:text-red-500"),onClick:l=>{l.stopPropagation(),t(e)}});return ne("div",{className:"flex flex-row items-center gap-0.5",children:[a,s,o]})},[n?.visible,n?.locked,r,t,e])})};var vS;(e=>{e.use=(t,n=10)=>{const r=ee.Entities.use(),{allowSnapping:i}=ee.State.use(),[a,s]=useState([]),o=useMemo(()=>i?r.filter(c=>c.id!==t).flatMap(c=>{const{x:h,y:p,width:m,height:g}=c;return[{x:h+m/2,type:"center"},{y:p+g/2,type:"center"},{x:h+m,type:"end"},{y:p+g,type:"end"},{x:h,type:"origin"},{y:p,type:"origin"}]}):[],[i,r,t]),l=()=>i?E(it,{children:a.map((c,h)=>{if("x"in c)return E(q5,{points:[c.x,-999999,c.x,999999],strokeWidth:2,stroke:"red"},"x"+c.x+h);if("y"in c)return E(q5,{points:[-999999,c.y,999999,c.y],strokeWidth:2,stroke:"red"},"y"+c.y+h)})}):null,u=useCallback(c=>{if(!i)return c;const h=[{x:c.x+c.width/2,type:"center"},{x:c.x+c.width,type:"end"},{x:c.x,type:"origin"},{y:c.y+c.height/2,type:"center"},{y:c.y+c.height,type:"end"},{y:c.y,type:"origin"}],p=o.flatMap(m=>h.filter(g=>"x"in m=="x"in g).map(g=>{const y="x"in m?"x":"y",b=Math.abs(m[y]-g[y]);return b<=n?{distance:b,line:m,type:g.type}:null})).filter(m=>m!==null).sort((m,g)=>(m?.distance??0)-(g?.distance??0));if(p.length>0){const m=p.find(y=>y&&"x"in(y?.line??{})),g=p.find(y=>y&&"y"in(y?.line??{}));return m&&"x"in m.line&&(m.type==="origin"?c.x=m.line.x:m.type==="center"?c.x=m.line.x-c.width/2:m.type==="end"&&(c.x=m.line.x-c.width)),g&&"y"in g.line&&(g.type==="origin"?c.y=g.line.y:g.type==="center"?c.y=g.line.y-c.height/2:g.type==="end"&&(c.y=g.line.y-c.height)),s([m?.line,g?.line].filter(y=>y!==void 0)),c}return s([]),c},[i,n,o]);return[l,u,s]}})(vS||(vS={}));function Kh(){const e=Kh.use();return useMemo(()=>ne(it,{children:[ne(i0,{on:!0,children:[[...e.reverse()].filter(t=>t.type==="image"&&t.visible).map(t=>E(ee.Image,{id:t.id},t.id)),E(ee.Brush,{})]}),ne(i0,{on:!0,children:[[...e.reverse()].filter(t=>t.type==="dream"&&t.visible).map(t=>E(ee.Dream,{id:t.id},t.id)),E(ee.Brush,{})]})]}),[e])}const _o=nc.create(e=>({entities:new Map,setEntities:t=>e(({entities:n})=>({entities:typeof t=="function"?t(n):t}))}));(e=>{e.Sidebar=yS,e.Snapping=vS,e.get=()=>_o.getState().entities,e.set=t=>_o.getState().setEntities(t),e.useMap=()=>_o(({entities:t})=>t),e.use=()=>{const t=(0,e.useMap)();return useMemo(()=>[...t.values()].sort((n,r)=>r.index-n.index),[t])},e.useType=t=>{const n=(0,e.use)();return useMemo(()=>n.filter(r=>r.type===t),[n,t])},e.useSet=()=>{const{setEntities:t}=_o();return t},e.useSurroundingBox=()=>{const t=(0,e.use)();return useMemo(()=>Qu.surroundingBox(t),[t])},e.useDelete=()=>{const{setEntities:t}=_o(),n=ee.Selection.use(),r=ee.Selection.useSelect(),i=ee.Selection.useClear();return useCallback((...a)=>t(s=>{const o=[...s.values()],l=new Map;o.forEach(c=>{a.includes(c.id)||l.set(c.id,c)}),[...l.values()].forEach((c,h)=>l.set(c.id,{...c,index:h}));const u=Array.from(n).filter(c=>!a.includes(c));return u.length===0?i():r(u[0]??[],...u.slice(1)),l}),[t,n,i,r])},e.useFlatten=()=>{const t=ee.Image.Create.useFromURL(),n=(0,e.useDelete)();return useCallback(i=>{const a=ee.Canvas.Render.getBoundsOfImages(i),s=ee.Canvas.Render.createImageFromBox(a.x,a.y,a.width,a.height,i,1);return new Promise(o=>{s?.toBlob(async l=>{if(!l)return;const u=await t(URL.createObjectURL(l),{...ee.Image.preset(),x:a.x,y:a.y,width:a.width,height:a.height,title:"Flattened image"});return n(...i.map(({id:c})=>c)),o(u)})})},[t,n])},e.useDeleteEverything=()=>{const t=(0,e.use)(),n=(0,e.useDelete)();return useMemo(()=>t.length>=1?(r=()=>!0)=>n(...t.filter(r).map(({id:i})=>i)):void 0,[t,n])},e.useChangeOrder=()=>{const t=_o(),n=_o.setState;return useCallback(({id:r,direction:i})=>{const a=t.entities.get(r);if(!a)return;const s=a.index,o=i==="down"?Math.max(0,a.index-1):Math.min(t.entities.size-1,a.index+1);if(s===o)return;const l=[...t.entities.values()].find(c=>c.index===o);if(!l)return;const u=new Map(t.entities);u.set(a.id,{...a,index:o}),u.set(l.id,{...l,index:a.index}),n({entities:u})},[t,n])}})(Kh||(Kh={}));function ey({id:e,draggable:t=!0,selectable:n=!0,resizable:r=!0,showHandles:i=!0,showBorder:a=!0,onSizeChange:s,sizeClamp:o={min:{width:64,height:64},max:{width:8192,height:8192}},children:l}){const[u]=ee.Tool.Active.use(),c=ee.Camera.useSet(),[h,p]=ee.Entity.use(e),[m,g]=useState(!1),y=t&&!h?.locked&&u==="select",[b,v,x]=ee.Entities.Snapping.use(e),k=ee.Selection.useSelect(),T=ee.Selection.useSelected(e),P=ee.Selection.use(),R=n&&u==="select",N=useRef(null),B=useRef(null),j=Zu.useZoom();useEffect(()=>{h&&m&&(N.current?.stopDrag(),B.current?.stopTransform())},[j]);const[W,H]=useState(()=>{const M={width:h?.width??512,height:h?.height??512},Ce={x:h?.x??0,y:h?.y??0,...M};return s?.(M),Ce}),z=useCallback(M=>{const Ce=typeof M=="function"?M(W):M,_e=Xd.Clamp.apply({width:Ce.width??W.width,height:Ce.height??W.height},o),Te={...W,...Ce,..._e};return H(Te),s?.(_e),Te},[W,o,s]),$=useCallback(M=>{if(M.evt.preventDefault(),M.cancelBubble=!["brush","export"].includes(u),T||!R)return;const Ce=M.evt.shiftKey?P:[];k(e,...Ce)},[u,T,R,P,k,e]),O=useCallback(()=>c(W),[W,c]),te=useCallback(M=>{M.evt.button===0&&(M.evt.preventDefault(),M.cancelBubble=!0)},[]),X=useCallback(M=>{const Ce=M.target.x(),_e=M.target.y(),Te=Xd.Clamp.apply({width:W.width*M.target.scaleX(),height:W.height*M.target.scaleY()},{min:{width:64,height:64},max:{width:1024,height:1024}});M.target.size(Te),M.target.scale({x:1,y:1}),z({x:Ce,y:_e,...Te}),!m&&g(!0)},[W.width,W.height,z,m]),le=useCallback(M=>p(Ce=>{Ce.x=M.target.x(),Ce.y=M.target.y(),Ce.width=M.target.width(),Ce.height=M.target.height(),g(!1)}),[p]),de=useCallback(M=>{if(!y)return M.target.stopDrag();g(!0);for(const Ce of P){const _e=N.current?.getStage()?.findOne(`#${Ce}`);_e&&_e!==M.target&&!_e.isDragging()&&_e.startDrag(M)}},[y,P]),ie=useCallback(M=>{const Ce=M.target.x(),_e=M.target.y(),Te=v({...W,x:Ce,y:_e});M.target.position({x:Te.x,y:Te.y}),z({...Te,width:W.width,height:W.height})},[W,z,v]),pe=useCallback(M=>{g(!1),p(Ce=>{Ce.x=M.target.x(),Ce.y=M.target.y()}),x([])},[p,x]);useEffect(()=>{m||H({x:h?.x??W.x,y:h?.y??W.y,width:h?.width??W.width,height:h?.height??W.height})},[h?.x,h?.y,h?.width,h?.height,H,W.x,W.y,W.width,W.height,m]),useEffect(()=>{!T||!B.current||!N.current||(B.current.nodes([N.current]),B.current.getLayer()?.batchDraw())},[T]);const F=useCallback((M,Ce)=>({...Ce,...Xd.Clamp.apply(Ce,{min:{width:64,height:64},max:{width:1024,height:1024}})}),[]);return h?ne(it,{children:[ne(PH,{id:e,x:W.x,y:W.y,ref:N,draggable:t,onMouseDown:$,onDblClick:O,onDragStart:de,onDragMove:ie,onDragEnd:pe,onTransform:X,onTransformEnd:le,children:[E(a0,{x:0,y:0,width:W.width,height:W.height}),l]}),T&&!["brush","export"].includes(u)&&r&&E(NH,{...!y&&{enabledAnchors:[]},ref:B,boundBoxFunc:F,onMouseDown:te,anchorSize:ey.Handle.size(),anchorFill:i?"white":"transparent",anchorStroke:i?"white":"transparent",borderStroke:a?"white":"transparent",rotateEnabled:!1,flipEnabled:!1}),E(b,{})]}):null}(e=>{function t(r){const i=ee.Entities.useMap(),a=ee.Entities.useSet(),s=useMemo(()=>i.get(r),[r,i]),o=useCallback(l=>{a(u=>{const c=u.get(r);return c?new Map(u).set(r,copy(c,h=>void l(h))):u})},[r,a]);return[s,o]}e.use=t;function n(r,i){const[a,s]=ee.Entity.use(r);return useMemo(()=>{if(a&&a.type===i)return[a,s]},[i,a,s])}e.useType=n,e.useTitle=r=>{const{input:i}=re.Image.Input.use(r),[a]=ee.Entity.use(r);return useMemo(()=>a?.title??i?.prompts[0]?.text,[a?.title,i?.prompts])},(r=>{r.size=()=>12})(e.Handle||(e.Handle={})),(r=>{r.size=()=>2})(e.Border||(e.Border={}))})(ey||(ey={}));var eh;(e=>{function t(){const{setOrigin:n,setSize:r}=ee.Canvas.ExportBox.useState(u=>({setOrigin:u.setOrigin,setSize:u.setSize})),[i,a]=useState(!1),s=ee.Entities.use(),o=ee.Canvas.use();function l(){if(!o||!o.current)return;const u=o.current.scaleX()||1,c=o.current.getPosition()||{x:0,y:0};return s.filter(h=>h.type==="image"&&h.visible&&h.x*u+c.x>=0&&h.y*u+c.y>=0&&h.x*u+h.width*u+c.x<=o.current.width()&&h.y*u+h.height*u+c.y<=o.current.height()).reverse()}return ne(it,{children:[E(ee.Tool,{label:"Smart export",onMouseEnter:()=>{if(o&&o.current){const u=l();if(u&&u.length>0){const c=Qu.surroundingBox(u);c&&(n(()=>[c.x,c.y]),r(()=>[c.width,c.height]))}else a(!0)}},onMouseLeave:()=>{n(()=>null),r(()=>[0,0]),a(!1)},onClick:()=>{const u=l();if(u){const c=Qu.surroundingBox(u);if(c){const h=ee.Canvas.Render.createImageFromBox(c.x,c.y,c.width,c.height,u,1);if(h){const p=document.createElement("a");p.download="export.png",p.href=h.toDataURL("image/png"),p.click(),h.remove()}}}n(()=>null),r(()=>[0,0])},children:E(q.Icon.Download,{strokeWidth:1.5,size:22})}),E(ff,{children:i&&E(Or.div,{className:"pointer-events-none absolute inset-0 flex h-screen w-screen select-none items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.05},children:E("div",{className:"rounded border border-zinc-700 bg-zinc-900 p-6",children:E("h1",{className:"opacity-muted text-lg font-light",children:"No images in view"})})})})]})}e.Tool=t,(n=>{n.use=()=>{Xe.use(useMemo(()=>({name:["Export","Everything"],icon:q.Icon.Download,keys:["Meta","e"],action:()=>alert("TODO: We need to refactor `Editor.Export.Everything`")}),[]))}})(e.Shortcuts||(e.Shortcuts={}))})(eh||(eh={}));var th;(e=>{function t(){return E(ee.Tool,{label:"Selection export",tool:"export",children:E(q.Icon.Camera,{strokeWidth:1.5,size:22})})}e.Tool=t,(n=>{n.use=()=>{const r=ee.Tool.Active.useSet();Xe.use(useMemo(()=>({name:["Export","Selection"],icon:q.Icon.Camera,keys:"c",action:()=>r("export")}),[r]))}})(e.Shortcuts||(e.Shortcuts={}))})(th||(th={}));var wS;(e=>{e.Everything=eh,e.Selection=th;function t(){return ne(ee.Tool.Group,{children:[E(th.Tool,{}),E(eh.Tool,{})]})}e.Tools=t,(n=>{n.use=()=>{eh.Shortcuts.use(),th.Shortcuts.use()}})(e.Shortcuts||(e.Shortcuts={}))})(wS||(wS={}));function Yh(){const{elements:e}=Yh.useState(),t=ee.Canvas.useTriggerWheelEvent(),n=ee.Canvas.useTriggerMouseMoveEvent();return E("div",{className:"pointer-events-none absolute top-0 left-0 h-screen w-screen overflow-hidden",id:"floating-portal",onWheel:t,onMouseMove:r=>{n(r)},children:useMemo(()=>Object.entries(e).map(([r,{absolute:i,content:a,keepOnScreen:s}])=>E(vue,{id:r,absolute:i,content:a,keepOnScreen:s},r)),[e])})}function vue({id:e,absolute:t,content:n,keepOnScreen:r}){const i=useRef(null);return useEffect(()=>{if(r){const a=i.current;if(!a)return;const s=a.getBoundingClientRect().height,o=a.getBoundingClientRect().width,l=Math.min(Math.max(t.x,o),window.innerWidth-o-10),u=Math.min(Math.max(t.y,s),window.innerHeight-s-10);a.style.left=`${l}px`,a.style.top=`${u}px`}},[t,r]),E("div",{className:"absolute",style:{left:`${t.x}px`,top:`${t.y}px`,width:`${t.width}px`,height:`${t.height}px`},ref:i,children:n},e)}(e=>{e.useState=tt.create(()=>({elements:{}}));function t({id:n,content:r,keepOnScreen:i,width:a=0,height:s=0,x:o=0,y:l=0}){const u=e.useState.setState,c=useCallback(p=>{u(m=>({...m,elements:{...m.elements,[n]:{absolute:p,content:r,keepOnScreen:i}}}))},[u,n,r,i]),h=useCallback((p,m)=>c({x:m.getAbsolutePosition().x,y:m.getAbsolutePosition().y,width:m.getAbsoluteScale().x*a,height:m.getAbsoluteScale().y*s}),[a,s,c]);return useEffect(()=>()=>u(p=>{const{[n]:m,...g}=p.elements;return{...p,elements:g}}),[n,u]),E(AH,{x:o,y:l,sceneFunc:h})}e.use=t})(Yh||(Yh={}));var bS;(e=>{e.use=()=>{const t=ee.Entities.use(),n=ee.Entities.useSet(),r=ee.Camera.Center.useGet();return useCallback(i=>{const a={...ee.Image.preset(),...i,index:t.length},s=r(),o={...a,x:a.x??(s?s.x-a.width/2:0),y:a.y??(s?s.y-a.height/2:0)};return n(l=>new Map(l).set(a.id,o)),o},[r,t.length,n])},e.useFromURL=()=>{const t=(0,e.use)();return useCallback(async(n,r)=>new Promise(i=>{const a=new Image;a.crossOrigin="anonymous",a.src=n,a.onload=()=>{const s={width:a.width,height:a.height};i(t({...r,...s,element:a,original:{...s,element:a}}))}}),[t])}})(bS||(bS={}));var xS;(e=>{e.useOnDrop=()=>{const t=ee.Canvas.use(),n=ee.Image.Create.useFromURL();return useCallback(async r=>{if(!t.current)return;r.preventDefault(),t.current.setPointersPositions(r);const i=t.current.getPointerPosition();if(!i)return;const a=t.current.scaleX(),s=t.current.position(),o=(i.x-s.x)/a,l=(i.y-s.y)/a;for(const u of r.dataTransfer.files){const c=URL.createObjectURL(u);n(c,{x:o,y:l,title:u.name??"Imported Image"})}},[t,n])},e.useOpenFiles=()=>{const t=ee.Camera.Center.useGet(),n=ee.Image.Create.useFromURL();return useCallback(()=>{const r=t();if(!r)return;const i=r.x,a=r.y,s=document.createElement("input");s.type="file",s.multiple=!0,s.accept="image/*",s.style.display="none",document.body.appendChild(s),s.click(),s.onchange=()=>{for(const o of s.files??[]){const l=URL.createObjectURL(o),u=new Image;u.src=l,u.onload=()=>{const c={x:u.width/2,y:u.height/2};n(l,{x:i-c.x,y:a-c.y,title:o.name??"Imported Image"})}}}},[n,t])}})(xS||(xS={}));var kS;(e=>{function t({id:n}){const[r,i]=ee.Entity.use(n);return r?E(it,{children:E(Ot.Sidebar.Section,{divider:!0,collapsable:!0,defaultExpanded:!0,title:"Transform",children:ne("div",{className:"flex flex-col gap-4",children:[ne("div",{className:"grid grid-cols-2 gap-8",children:[E(q.NumberInput,{icon:"X",fullWidth:!0,number:!0,round:!0,step:1,value:r?.x,onNumberChange:a=>i(s=>({...s,x:a}))}),E(q.NumberInput,{icon:"Y",fullWidth:!0,number:!0,round:!0,step:1,value:r?.y,onNumberChange:a=>i(s=>({...s,y:a}))})]}),E("div",{className:"flex flex-col gap-4",children:ne("div",{className:"grid grid-cols-2 gap-8",children:[E(q.NumberInput,{icon:"W",fullWidth:!0,number:!0,round:!0,step:1,value:r?.width,onNumberChange:a=>i(s=>({...s,width:a}))}),E(q.NumberInput,{icon:"H",fullWidth:!0,number:!0,round:!0,step:1,value:r?.height,onNumberChange:a=>i(s=>({...s,height:a}))})]})})]})})}):null}e.Tab=t})(kS||(kS={}));function SS({id:e}){const[t]=ee.Entity.use(e),[{width:n,height:r},i]=useState({width:0,height:0});return E(ee.Entity,{id:e,onSizeChange:i,children:t&&E(a0,{x:0,y:0,width:n,height:r,fillPatternRepeat:"no-repeat",fillPatternImage:t.element,fillPatternScale:{x:n/t.original.width,y:r/t.original.height}})})}(e=>{e.Create=bS,e.Import=xS,e.Sidebar=kS,e.preset=()=>{const t={width:512,height:512};return{id:ID.create(),type:"image",visible:!0,locked:!1,x:0,y:0,...t,original:t}}})(SS||(SS={}));var ES;(e=>{e.use=t=>{const n=es.useNavigate(),r=ee.Dream.Create.use(),i=ee.Image.Create.useFromURL();return useCallback(async()=>{if(!t?.src)return;const a=await i(t.src,{...t,title:re.Image.Input.get(t.inputID)?.prompts[0].text});r({inputID:t.inputID,dream:{x:a.x,y:a.y,width:a.width,height:a.height}}),n("/edit")},[t,i,r,n])}})(ES||(ES={}));function CS({fixed:e=!1,left:t,right:n,children:r,className:i}){return E("div",{className:classes("pointer-events-none absolute bottom-2 flex flex-col justify-between gap-2",e?"top-0":"top-2",!e&&t&&"left-2",e&&"left-12",n&&"right-2",i),children:r})}(e=>{const t=tt.create(()=>({topLeft:!1,topRight:!1,bottomLeft:!1,bottomRight:!1}));e.useExpanded=n=>{const r=t(),i=t.setState,a=useMemo(()=>r[n],[r,n]),s=useCallback(o=>i({[n]:o===void 0?!a:typeof o=="function"?o(a):o}),[n,a,i]);return[a,s]}})(CS||(CS={}));function wue({visible:e=!0,position:t,icon:n,title:r,left:i,className:a,contentClassName:s,children:o,...l}){const[u,c]=ee.Panels.useExpanded(t),h=t=="bottomLeft"||t=="bottomRight",p=t==="topRight"||t==="bottomRight",m=ee.Canvas.useResize();useEffect(m,[u,m]);const g=useCallback(()=>l.onClick??c(k=>!k),[l.onClick,c]),y=useCallback(k=>E(q.Icon.ChevronUp,{className:classes(k.className,p?"-ml-0.5":"-mr-0.5",(h&&u||!h&&!u)&&"rotate-180")}),[h,u,p]),b=r&&o&&e&&ne("div",{className:"flex gap-2",children:[!u&&i,E(q.Button,{transparent:u,onClick:g,className:"shrink-0",iconLeft:p?n:y,iconRight:p?y:n,children:r})]}),v=E("div",{className:classes("flex items-center gap-2 px-2",p&&"justify-start"),children:l.bar}),x=ne("div",{className:"flex cursor-pointer",children:[p&&v,E("div",{onClick:()=>c(!1),className:classes("flex grow cursor-pointer",p&&"justify-end"),children:b}),!p&&v]});return ne("div",{className:classes("relative z-10 min-h-0",!e&&"hidden",!u&&(p?"self-end":"self-start"),a),children:[!h&&!u&&b,u&&o&&ne("div",{className:classes("pointer-events-auto flex h-full w-[500px] flex-col overflow-hidden rounded-md bg-zinc-50 text-neutral-700 shadow-2xl dark:bg-zinc-800 dark:text-white dark:shadow-none dark:ring-[1px] dark:ring-white/10",s),children:[u&&i&&E("div",{className:"absolute right-[100%] top-0 mr-2",children:i}),!h&&x,o,h&&x]}),h&&!u&&b]})}var _S;(e=>{e.use=()=>{const t=ee.Camera.Reset.use();return useCallback(()=>{t()},[t])}})(_S||(_S={}));var TS;(e=>{e.use=()=>{const t=ee.Selection.use(),n=ee.Entities.useDelete(),r=ee.Tool.Active.useSet(),[i]=ee.Tool.Active.use(),a=useMemo(()=>`Selection (${t.size})`,[t.size]);Xe.Priority.use(useMemo(()=>({name:a,level:"high",enabled:t.size>0}),[a,t.size])),Xe.use(useMemo(()=>({name:"Select",icon:ee.Selection.Icon,keys:"v",action:()=>r("select")}),[r])),Xe.use(useMemo(()=>({name:[a,"Delete"],icon:q.Icon.Trash,keys:[["Backspace"],["Delete"]],action:()=>n(...t),enabled:t.size>0&&i==="select"}),[a,t,i,n]))}})(TS||(TS={}));var IS;(e=>{e.Shortcuts=TS;const t=tt.create(()=>({selection:new Set}));e.use=()=>t(({selection:i})=>i),e.useSelect=()=>{const i=t.setState;return useCallback((a,...s)=>{const o=[...typeof a=="string"?[a]:a,...s];return i({selection:new Set(o)})},[i])},e.useSelected=i=>{const a=(0,e.use)();return useMemo(()=>a.has(i),[i,a])},e.useClear=()=>{const i=t.setState;return useCallback(()=>i({selection:new Set}),[i])},(i=>{i.use=a=>{const s=t(({selection:o})=>o);return useMemo(()=>{if(!(s.size!==1||a&&!s.has(a)))return a??[...s][0]},[a,s])},i.useSet=a=>{const s=t.setState;return useCallback(o=>{s(({selection:l})=>{const u=new Set(l),c=u.has(a);return(typeof o=="function"?o(c):o)?u.add(a):u.delete(a),{selection:u}})},[a,s])}})(e.OnlyOne||(e.OnlyOne={}));function n(){return E(ee.Tool,{label:"Select",tool:"select",children:E(r,{strokeWidth:1.5,size:22})})}e.Tool=n;function r(i){return E(q.Icon.Select,{...i})}e.Icon=r})(IS||(IS={}));var ty;(e=>{e.use=()=>{nc.Shortcuts.use(),ee.Dream.Create.Shortcuts.use(),ee.Brush.Shortcuts.use(),ee.Selection.Shortcuts.use(),ee.Export.Shortcuts.use(),ee.Camera.Shortcuts.use()}})(ty||(ty={}));const Ub=["You can drag and drop images into the editor to import them","Use the V key to switch to the select tool","Use the E key to switch to the eraser tool","Use the C key to switch to the snapshot tool","You can use the mouse wheel to zoom in and out","Try using multiple dreams to quickly switch between prompt and style presets","You can use the mouse wheel to zoom in and out","Hold shift to select multiple layers and move them together"];function bue(){const e=es.useLocation(),t=ee.Selection.OnlyOne.use(),n=ee.Entities.useType("dream"),[r,i]=useState(""),a=ee.Dream.Render.use(r);useEffect(()=>{t&&i(t)},[t]);const s=useMemo(()=>n.filter(h=>h.id===t)[0]?.outputID,[n,t]),o=re.Image.Output.useIsGenerating(s),l=useMemo(()=>n.filter(({id:c})=>c===t).length>0,[n,t]),u=t&&E(Ot.Sidebar.Tab.Bottom,{children:E(re.Image.Create.Button,{id:r,onIdleClick:()=>a(),fullWidth:!0,disabled:!r||o||!(n.filter(c=>c.id===t).length>0),loading:o})});return ne(it,{children:[ne(Ot.Sidebar.Tab.Set,{name:"Edit",position:"left",route:"/edit",icon:q.Icon.Edit,bottom:u,enabled:e.pathname.startsWith("/generate")||e.pathname.startsWith("/edit"),button:c=>E(Ot.Sidebar.Tab.Button,{...c,onClick:c.onClick,children:"Edit"}),children:[E(ee.Tool.Sidebar.Section,{}),l&&E(re.Image.Sidebar.Tab,{variant:"editor",id:r}),!l&&t&&E(ee.Image.Sidebar.Tab,{id:t}),!t&&E(kue,{})]}),E(Ot.Sidebar.Tab.Set,{button:!1,route:"/edit",enabled:e.pathname.startsWith("/edit"),defaultActive:!0,name:"Layers",position:"right",icon:q.Icon.Layers,children:E(ee.Entities.Sidebar.Section,{})})]})}function xue({name:e}){const{color:t,setColor:n,allowSnapping:r,setAllowSnapping:i,autoFlatten:a,setAutoFlatten:s}=ee.State.use(),o=useRef(null);return E(Ot.Sidebar.Section,{divider:!0,title:e||"Settings",defaultExpanded:!0,padding:"sm",children:ne("div",{className:"flex flex-col gap-2 overflow-hidden px-1 pb-2",children:[ne("div",{className:"flex items-center justify-between",children:[E(q.Tooltip,{placement:"right",content:"Snap layers to anchor points based on other layers.",children:E("h1",{className:"text-muted-white",children:"Snapping"})}),E(q.Checkbox,{value:r,onChange:i,labelLeft:!0,labelClassName:"text-muted-white mr-12"})]}),ne("div",{className:"flex items-center justify-between",children:[E(q.Tooltip,{placement:"right",content:"Automatically combine chosen images with existing overlapping images on the canvas.",children:E("h1",{className:"text-muted-white",children:"Auto flatten"})}),E(q.Checkbox,{value:a,onChange:s,labelLeft:!0,labelClassName:"text-muted-white mr-7"})]}),ne("div",{className:"flex items-center justify-between",children:[E(q.Tooltip,{placement:"right",content:"Change the background color for the canvas.",children:E("h1",{className:"text-muted-white",children:"Background fill"})}),ne("div",{className:"flex items-center gap-3",children:[E("div",{className:"relative aspect-square h-7 cursor-pointer rounded-md border border-zinc-800",style:{backgroundColor:`#${t}`},onMouseDown:()=>{o.current&&(o.current.focus(),o.current.click())},children:E("input",{ref:o,type:"color",className:"pointer-events-none absolute inset-0 opacity-0",value:`#${t}`,onChange:l=>{n(l.target.value.replace("#",""))}})}),E(q.NumberInput,{icon:"#",onChange:n,value:t})]})]})]})})}function kue(){const e=ee.Dream.Create.use(),t=ee.Image.Import.useOpenFiles(),[n,r]=useState(Math.ceil(Math.random()*(Ub.length-1)));return ne(it,{children:[E(Ot.Sidebar.Section,{divider:!0,title:"Add a dream",button:E(q.Button,{icon:q.Icon.Plus,onClick:()=>e(),transparent:!0})}),E(Ot.Sidebar.Section,{divider:!0,title:"Upload",button:E(q.Button,{icon:q.Icon.Upload,onClick:()=>t(),transparent:!0})}),E(xue,{}),ne("div",{className:"absolute bottom-2 left-2 right-2 flex cursor-pointer select-none flex-col gap-2 justify-self-end rounded bg-zinc-800 p-2",onClick:()=>r(Math.ceil(Math.random()*(Ub.length-1))),children:[E("h1",{className:"text-sm",children:"Tip"}),E("h1",{className:"text-muted-white text-sm",children:Ub[n]})]})]})}function Sue(){const[e]=ee.Tool.Active.use(),{body:t}=useMemo(()=>{switch(e){case"brush":return{body:E(ee.Brush.Panel,{})};default:return{}}},[e]);return E(ee.Panels,{fixed:!0,className:"max-w-[300px]",children:E(ee.Panel,{position:"topLeft",title:E("span",{className:"capitalize",children:e}),contentClassName:"w-[300px]",children:t})})}var PS;(e=>{function t(){const[n]=ee.Tool.Active.use();return useMemo(()=>{switch(n){case"brush":return E(ee.Brush.Sidebar.Section,{});default:return null}},[n])}e.Section=t})(PS||(PS={}));function Eue(){const[e]=Ot.Sidebar.use("left");return e.tab!=="Edit"?null:E(it,{children:ne("div",{className:"flex h-full flex-row items-center gap-2",children:[ne(ee.Tool.Group,{children:[E(ee.Selection.Tool,{}),E(ee.Brush.Tool,{})]}),E("div",{className:"h-[75%] w-[2px] bg-zinc-700"}),E(ee.Export.Tools,{})]})})}function RS({tool:e,label:t,active:n,onClick:r,onMouseEnter:i,onMouseLeave:a,children:s}){const[o,l]=ee.Tool.Active.use(),u=E("div",{className:"flex flex-col",children:E("div",{onClick:r??(()=>{e&&l(e)}),onMouseEnter:i,onMouseLeave:a,className:classes("m-0.5 flex h-10 w-10 cursor-pointer items-center justify-center rounded",n||e===o?"bg-brand-500":"hover:bg-zinc-700"),children:s})});return t?E(q.Tooltip,{content:t,placement:"bottom",delay:500,children:u}):u}(e=>{e.Panel=Sue,e.Sidebar=PS;function t({children:n}){return E("div",{className:"pointer-events-auto z-10 flex flex-row",children:n})}e.Group=t,(n=>{const r=tt.create(i=>({value:"select",set:a=>i({value:a})}));n.use=()=>[r().value,r().set],n.useSet=()=>r().set,n.useReset=()=>r().set("select")})(e.Active||(e.Active={}))})(RS||(RS={}));function Cue(){return E(Ot.TopBar.Center.Set,{children:E(ee.Tools,{})})}function ee(){ty.use();const e=ee.Dream.Create.use(),{color:t}=ee.State.use();return useEffect(()=>{ee.Entities.get().size>0||e()},[e]),useMemo(()=>ne(it,{children:[E(Cue,{}),ne("div",{className:"relative z-[0] flex h-full min-h-0 w-full shrink select-none flex-col overflow-hidden dark:text-white",style:{backgroundColor:`#${t}`},children:[E(Fh,{children:E(Kh,{})}),E(Yh,{})]})]}),[t])}(e=>{e.Brush=R0,e.Camera=lk,e.Canvas=Fh,e.Dream=gS,e.Entities=Kh,e.Entity=ey,e.Export=wS,e.Floating=Yh,e.Image=SS,e.Import=ES,e.Panel=wue,e.Panels=CS,e.Reset=_S,e.Selection=IS,e.Shortcuts=ty,e.Sidebar=bue,e.Tool=RS,e.Tools=Eue,(t=>{t.use=tt.create(n=>({color:"121212",setColor:r=>n(i=>({...i,color:r})),allowSnapping:!0,setAllowSnapping:r=>n(i=>({...i,allowSnapping:r})),autoFlatten:!0,setAutoFlatten:r=>n(i=>({...i,autoFlatten:r}))}))})(e.State||(e.State={}))})(ee||(ee={}));function KF({className:e,children:t}){return E("div",{className:classes("rounded border border-zinc-700 bg-zinc-800 p-5",e),children:t})}function _ue({installPlugin:e}){const t=Fn.useSetup(),[n,r]=useState("");return ne(KF,{className:"flex flex-col gap-3",children:[E("h1",{className:"text-2xl",children:"Install untrusted plugin"}),ne("p",{className:"-mt-2 flex items-center gap-2 text-red-500",children:[E(q.Icon.AlertTriangle,{className:"h-5 w-5"}),"Do not install plugins from untrusted sources!"]}),ne("div",{className:"flex items-center gap-2",children:[E(q.Input,{value:n,onChange:r,onKeyDown:i=>i.key==="Enter"&&e(n),loading:t.isLoading,placeholder:"http://localhost:3000/CoolExamplePlugin.js"}),E(q.Button,{color:"brand",className:"h-[31px]",onClick:()=>e(n),loading:t.isLoading,disabled:!n,children:"Load"})]}),ne("p",{className:"text-muted text-sm",children:["Enter a URL which points to a valid",E("a",{className:"text-brand-300 hover:underline",href:"https://github.com/Stability-AI/StableStudio/blob/main/packages/stablestudio-plugin/README.md",target:"_blank",rel:"noreferrer",children:"StableStudio plugin"}),"."]})]})}const NR=["http","https","mailto","tel"];function Tue(e){const t=(e||"").trim(),n=t.charAt(0);if(n==="#"||n==="/")return t;const r=t.indexOf(":");if(r===-1)return t;let i=-1;for(;++i<NR.length;){const a=NR[i];if(r===a.length&&t.slice(0,a.length).toLowerCase()===a)return t}return i=t.indexOf("?"),i!==-1&&r>i||(i=t.indexOf("#"),i!==-1&&r>i)?t:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Iue=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)};const YF=Zi(Iue);function nh(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?DR(e.position):"start"in e||"end"in e?DR(e):"line"in e||"column"in e?AS(e):""}function AS(e){return OR(e&&e.line)+":"+OR(e&&e.column)}function DR(e){return AS(e&&e.start)+"-"+AS(e&&e.end)}function OR(e){return e&&typeof e=="number"?e:1}class Ii extends Error{constructor(t,n,r){const i=[null,null];let a={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const s=r.indexOf(":");s===-1?i[1]=r:(i[0]=r.slice(0,s),i[1]=r.slice(s+1))}n&&("type"in n||"position"in n?n.position&&(a=n.position):"start"in n||"end"in n?a=n:("line"in n||"column"in n)&&(a.start=n)),this.name=nh(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack="",typeof t=="object"&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=a.start.line,this.column=a.start.column,this.position=a,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}Ii.prototype.file="";Ii.prototype.name="";Ii.prototype.reason="";Ii.prototype.message="";Ii.prototype.stack="";Ii.prototype.fatal=null;Ii.prototype.column=null;Ii.prototype.line=null;Ii.prototype.source=null;Ii.prototype.ruleId=null;Ii.prototype.position=null;const pa={basename:Pue,dirname:Rue,extname:Aue,join:Nue,sep:"/"};function Pue(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');_f(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,o=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(e.charCodeAt(i)===t.charCodeAt(o--)?o<0&&(r=i):(o=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function Rue(e){if(_f(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.charCodeAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function Aue(e){_f(e);let t=e.length,n=-1,r=0,i=-1,a=0,s;for(;t--;){const o=e.charCodeAt(t);if(o===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),o===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function Nue(...e){let t=-1,n;for(;++t<e.length;)_f(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Due(n)}function Due(e){_f(e);const t=e.charCodeAt(0)===47;let n=Oue(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Oue(e,t){let n="",r=0,i=-1,a=0,s=-1,o,l;for(;++s<=e.length;){if(s<e.length)o=e.charCodeAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return n}function _f(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Mue={cwd:Lue};function Lue(){return"/"}function NS(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function Fue(e){if(typeof e=="string")e=new URL(e);else if(!NS(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Bue(e)}function Bue(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const r=t.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const jb=["history","path","basename","stem","extname","dirname"];class XF{constructor(t){let n;t?typeof t=="string"||zue(t)?n={value:t}:NS(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=Mue.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<jb.length;){const a=jb[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)jb.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(t){NS(t)&&(t=Fue(t)),Vb(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?pa.dirname(this.path):void 0}set dirname(t){MR(this.basename,"dirname"),this.path=pa.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?pa.basename(this.path):void 0}set basename(t){Vb(t,"basename"),$b(t,"basename"),this.path=pa.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?pa.extname(this.path):void 0}set extname(t){if($b(t,"extname"),MR(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=pa.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?pa.basename(this.path,this.extname):void 0}set stem(t){Vb(t,"stem"),$b(t,"stem"),this.path=pa.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t||void 0)}message(t,n,r){const i=new Ii(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=null,i}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}}function $b(e,t){if(e&&e.includes(pa.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+pa.sep+"`")}function Vb(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function MR(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function zue(e){return YF(e)}function LR(e){if(e)throw e}var Eg=Object.prototype.hasOwnProperty,QF=Object.prototype.toString,FR=Object.defineProperty,BR=Object.getOwnPropertyDescriptor,zR=function(t){return typeof Array.isArray=="function"?Array.isArray(t):QF.call(t)==="[object Array]"},UR=function(t){if(!t||QF.call(t)!=="[object Object]")return!1;var n=Eg.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Eg.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||Eg.call(t,i)},jR=function(t,n){FR&&n.name==="__proto__"?FR(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},$R=function(t,n){if(n==="__proto__")if(Eg.call(t,n)){if(BR)return BR(t,n).value}else return;return t[n]},Uue=function e(){var t,n,r,i,a,s,o=arguments[0],l=1,u=arguments.length,c=!1;for(typeof o=="boolean"&&(c=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=$R(o,n),i=$R(t,n),o!==i&&(c&&i&&(UR(i)||(a=zR(i)))?(a?(a=!1,s=r&&zR(r)?r:[]):s=r&&UR(r)?r:{},jR(o,{name:n,newValue:e(c,s,i)})):typeof i<"u"&&jR(o,{name:n,newValue:i}));return o};const VR=Zi(Uue);function DS(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function jue(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...u){const c=e[++a];let h=-1;if(l){s(l);return}for(;++h<i.length;)(u[h]===null||u[h]===void 0)&&(u[h]=i[h]);i=u,c?$ue(c,o)(...u):s(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function $ue(e,t){let n;return r;function r(...s){const o=e.length>s.length;let l;o&&s.push(i);try{l=e.apply(this,s)}catch(u){const c=u;if(o&&n)throw c;return i(c)}o||(l instanceof Promise?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){n||(n=!0,t(s,...o))}function a(s){i(null,s)}}const Vue=JF().freeze(),ZF={}.hasOwnProperty;function JF(){const e=jue(),t=[];let n={},r,i=-1;return a.data=s,a.Parser=void 0,a.Compiler=void 0,a.freeze=o,a.attachers=t,a.use=l,a.parse=u,a.stringify=c,a.run=h,a.runSync=p,a.process=m,a.processSync=g,a;function a(){const y=JF();let b=-1;for(;++b<t.length;)y.use(...t[b]);return y.data(VR(!0,{},n)),y}function s(y,b){return typeof y=="string"?arguments.length===2?(Hb("data",r),n[y]=b,a):ZF.call(n,y)&&n[y]||null:y?(Hb("data",r),n=y,a):n}function o(){if(r)return a;for(;++i<t.length;){const[y,...b]=t[i];if(b[0]===!1)continue;b[0]===!0&&(b[0]=void 0);const v=y.call(a,...b);typeof v=="function"&&e.use(v)}return r=!0,i=Number.POSITIVE_INFINITY,a}function l(y,...b){let v;if(Hb("use",r),y!=null)if(typeof y=="function")P(y,...b);else if(typeof y=="object")Array.isArray(y)?T(y):k(y);else throw new TypeError("Expected usable value, not `"+y+"`");return v&&(n.settings=Object.assign(n.settings||{},v)),a;function x(R){if(typeof R=="function")P(R);else if(typeof R=="object")if(Array.isArray(R)){const[N,...B]=R;P(N,...B)}else k(R);else throw new TypeError("Expected usable value, not `"+R+"`")}function k(R){T(R.plugins),R.settings&&(v=Object.assign(v||{},R.settings))}function T(R){let N=-1;if(R!=null)if(Array.isArray(R))for(;++N<R.length;){const B=R[N];x(B)}else throw new TypeError("Expected a list of plugins, not `"+R+"`")}function P(R,N){let B=-1,j;for(;++B<t.length;)if(t[B][0]===R){j=t[B];break}j?(DS(j[1])&&DS(N)&&(N=VR(!0,j[1],N)),j[1]=N):t.push([...arguments])}}function u(y){a.freeze();const b=md(y),v=a.Parser;return Wb("parse",v),WR(v,"parse")?new v(String(b),b).parse():v(String(b),b)}function c(y,b){a.freeze();const v=md(b),x=a.Compiler;return Gb("stringify",x),GR(y),WR(x,"compile")?new x(y,v).compile():x(y,v)}function h(y,b,v){if(GR(y),a.freeze(),!v&&typeof b=="function"&&(v=b,b=void 0),!v)return new Promise(x);x(null,v);function x(k,T){e.run(y,md(b),P);function P(R,N,B){N=N||y,R?T(R):k?k(N):v(null,N,B)}}}function p(y,b){let v,x;return a.run(y,b,k),HR("runSync","run",x),v;function k(T,P){LR(T),v=P,x=!0}}function m(y,b){if(a.freeze(),Wb("process",a.Parser),Gb("process",a.Compiler),!b)return new Promise(v);v(null,b);function v(x,k){const T=md(y);a.run(a.parse(T),T,(R,N,B)=>{if(R||!N||!B)P(R);else{const j=a.stringify(N,B);j==null||(Hue(j)?B.value=j:B.result=j),P(R,B)}});function P(R,N){R||!N?k(R):x?x(N):b(null,N)}}}function g(y){let b;a.freeze(),Wb("processSync",a.Parser),Gb("processSync",a.Compiler);const v=md(y);return a.process(v,x),HR("processSync","process",b),v;function x(k){b=!0,LR(k)}}}function WR(e,t){return typeof e=="function"&&e.prototype&&(Wue(e.prototype)||t in e.prototype)}function Wue(e){let t;for(t in e)if(ZF.call(e,t))return!0;return!1}function Wb(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function Gb(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function Hb(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function GR(e){if(!DS(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function HR(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function md(e){return Gue(e)?e:new XF(e)}function Gue(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Hue(e){return typeof e=="string"||YF(e)}const que={};function Kue(e,t){const n=t||que,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return e8(e,r,i)}function e8(e,t,n){if(Yue(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return qR(e.children,t,n)}return Array.isArray(e)?qR(e,t,n):""}function qR(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=e8(e[i],t,n);return r.join("")}function Yue(e){return!!(e&&typeof e=="object")}function Zr(e,t,n,r){const i=e.length;let a=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),[].splice.apply(e,s);else for(n&&[].splice.apply(e,[t,n]);a<r.length;)s=r.slice(a,a+1e4),s.unshift(t,0),[].splice.apply(e,s),a+=1e4,t+=1e4}function ki(e,t){return e.length>0?(Zr(e,e.length,0,t),e):t}const KR={}.hasOwnProperty;function t8(e){const t={};let n=-1;for(;++n<e.length;)Xue(t,e[n]);return t}function Xue(e,t){let n;for(n in t){const i=(KR.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let s;for(s in a){KR.call(i,s)||(i[s]=[]);const o=a[s];Que(i[s],Array.isArray(o)?o:o?[o]:[])}}}function Que(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Zr(e,0,0,r)}const Zue=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,wr=lo(/[A-Za-z]/),OS=lo(/\d/),Jue=lo(/[\dA-Fa-f]/),hr=lo(/[\dA-Za-z]/),ece=lo(/[!-/:-@[-`{-~]/),YR=lo(/[#-'*+\--9=?A-Z^-~]/);function ny(e){return e!==null&&(e<32||e===127)}function Qt(e){return e!==null&&(e<0||e===32)}function nt(e){return e!==null&&e<-2}function Wt(e){return e===-2||e===-1||e===32}const cl=lo(/\s/),xv=lo(Zue);function lo(e){return t;function t(n){return n!==null&&e.test(String.fromCharCode(n))}}function Tt(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return Wt(l)?(e.enter(n),o(l)):t(l)}function o(l){return Wt(l)&&a++<i?(e.consume(l),o):(e.exit(n),t(l))}}const tce={tokenize:nce};function nce(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Tt(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),a(o)}function a(o){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return nt(o)?(e.consume(o),e.exit("chunkText"),a):(e.consume(o),s)}}const rce={tokenize:ice},XR={tokenize:ace};function ice(e){const t=this,n=[];let r=0,i,a,s;return o;function o(k){if(r<n.length){const T=n[r];return t.containerState=T[1],e.attempt(T[0].continuation,l,u)(k)}return u(k)}function l(k){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&x();const T=t.events.length;let P=T,R;for(;P--;)if(t.events[P][0]==="exit"&&t.events[P][1].type==="chunkFlow"){R=t.events[P][1].end;break}v(r);let N=T;for(;N<t.events.length;)t.events[N][1].end=Object.assign({},R),N++;return Zr(t.events,P+1,0,t.events.slice(T)),t.events.length=N,u(k)}return o(k)}function u(k){if(r===n.length){if(!i)return p(k);if(i.currentConstruct&&i.currentConstruct.concrete)return g(k);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(XR,c,h)(k)}function c(k){return i&&x(),v(r),p(k)}function h(k){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,g(k)}function p(k){return t.containerState={},e.attempt(XR,m,g)(k)}function m(k){return r++,n.push([t.currentConstruct,t.containerState]),p(k)}function g(k){if(k===null){i&&x(),v(0),e.consume(k);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:a,_tokenizer:i}),y(k)}function y(k){if(k===null){b(e.exit("chunkFlow"),!0),v(0),e.consume(k);return}return nt(k)?(e.consume(k),b(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(k),y)}function b(k,T){const P=t.sliceStream(k);if(T&&P.push(null),k.previous=a,a&&(a.next=k),a=k,i.defineSkip(k.start),i.write(P),t.parser.lazy[k.start.line]){let R=i.events.length;for(;R--;)if(i.events[R][1].start.offset<s&&(!i.events[R][1].end||i.events[R][1].end.offset>s))return;const N=t.events.length;let B=N,j,W;for(;B--;)if(t.events[B][0]==="exit"&&t.events[B][1].type==="chunkFlow"){if(j){W=t.events[B][1].end;break}j=!0}for(v(r),R=N;R<t.events.length;)t.events[R][1].end=Object.assign({},W),R++;Zr(t.events,B+1,0,t.events.slice(N)),t.events.length=R}}function v(k){let T=n.length;for(;T-- >k;){const P=n[T];t.containerState=P[1],P[0].exit.call(t,e)}n.length=k}function x(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function ace(e,t,n){return Tt(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ry(e){if(e===null||Qt(e)||cl(e))return 1;if(xv(e))return 2}function kv(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const MS={name:"attention",tokenize:oce,resolveAll:sce};function sce(e,t){let n=-1,r,i,a,s,o,l,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h=Object.assign({},e[r][1].end),p=Object.assign({},e[n][1].start);QR(h,-l),QR(p,l),s={type:l>1?"strongSequence":"emphasisSequence",start:h,end:Object.assign({},e[r][1].end)},o={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:p},a={type:l>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},s.start),end:Object.assign({},o.end)},e[r][1].end=Object.assign({},s.start),e[n][1].start=Object.assign({},o.end),u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=ki(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=ki(u,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",a,t]]),u=ki(u,kv(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=ki(u,[["exit",a,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=ki(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,Zr(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function oce(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=ry(r);let a;return s;function s(l){return e.enter("attentionSequence"),a=l,o(l)}function o(l){if(l===a)return e.consume(l),o;const u=e.exit("attentionSequence"),c=ry(l),h=!c||c===2&&i||n.includes(l),p=!i||i===2&&c||n.includes(r);return u._open=!!(a===42?h:h&&(i||!p)),u._close=!!(a===42?p:p&&(c||!h)),t(l)}}function QR(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const lce={name:"autolink",tokenize:uce};function uce(e,t,n){let r=1;return i;function i(g){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(g){return wr(g)?(e.consume(g),s):YR(g)?u(g):n(g)}function s(g){return g===43||g===45||g===46||hr(g)?o(g):u(g)}function o(g){return g===58?(e.consume(g),l):(g===43||g===45||g===46||hr(g))&&r++<32?(e.consume(g),o):u(g)}function l(g){return g===62?(e.exit("autolinkProtocol"),m(g)):g===null||g===32||g===60||ny(g)?n(g):(e.consume(g),l)}function u(g){return g===64?(e.consume(g),r=0,c):YR(g)?(e.consume(g),u):n(g)}function c(g){return hr(g)?h(g):n(g)}function h(g){return g===46?(e.consume(g),r=0,c):g===62?(e.exit("autolinkProtocol").type="autolinkEmail",m(g)):p(g)}function p(g){return(g===45||hr(g))&&r++<63?(e.consume(g),g===45?p:h):n(g)}function m(g){return e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),t}}const Tf={tokenize:cce,partial:!0};function cce(e,t,n){return Tt(e,r,"linePrefix");function r(i){return i===null||nt(i)?t(i):n(i)}}const n8={name:"blockQuote",tokenize:dce,continuation:{tokenize:hce},exit:fce};function dce(e,t,n){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),a}return n(s)}function a(s){return Wt(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function hce(e,t,n){return Tt(e,e.attempt(n8,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function fce(e){e.exit("blockQuote")}const r8={name:"characterEscape",tokenize:pce};function pce(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return ece(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const ZR=document.createElement("i");function T_(e){const t="&"+e+";";ZR.innerHTML=t;const n=ZR.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}const i8={name:"characterReference",tokenize:mce};function mce(e,t,n){const r=this;let i=0,a,s;return o;function o(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),l}function l(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),a=31,s=hr,c(h))}function u(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=Jue,c):(e.enter("characterReferenceValue"),a=7,s=OS,c(h))}function c(h){let p;return h===59&&i?(p=e.exit("characterReferenceValue"),s===hr&&!T_(r.sliceSerialize(p))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)):s(h)&&i++<a?(e.consume(h),c):n(h)}}const JR={name:"codeFenced",tokenize:gce,concrete:!0};function gce(e,t,n){const r=this,i={tokenize:P,partial:!0},a={tokenize:T,partial:!0},s=this.events[this.events.length-1],o=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0;let l=0,u;return c;function c(R){return e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),u=R,h(R)}function h(R){return R===u?(e.consume(R),l++,h):(e.exit("codeFencedFenceSequence"),l<3?n(R):Tt(e,p,"whitespace")(R))}function p(R){return R===null||nt(R)?b(R):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),m(R))}function m(R){return R===null||Qt(R)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Tt(e,g,"whitespace")(R)):R===96&&R===u?n(R):(e.consume(R),m)}function g(R){return R===null||nt(R)?b(R):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),y(R))}function y(R){return R===null||nt(R)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),b(R)):R===96&&R===u?n(R):(e.consume(R),y)}function b(R){return e.exit("codeFencedFence"),r.interrupt?t(R):v(R)}function v(R){return R===null?k(R):nt(R)?e.attempt(a,e.attempt(i,k,o?Tt(e,v,"linePrefix",o+1):v),k)(R):(e.enter("codeFlowValue"),x(R))}function x(R){return R===null||nt(R)?(e.exit("codeFlowValue"),v(R)):(e.consume(R),x)}function k(R){return e.exit("codeFenced"),t(R)}function T(R,N,B){const j=this;return W;function W(z){return R.enter("lineEnding"),R.consume(z),R.exit("lineEnding"),H}function H(z){return j.parser.lazy[j.now().line]?B(z):N(z)}}function P(R,N,B){let j=0;return Tt(R,W,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function W($){return R.enter("codeFencedFence"),R.enter("codeFencedFenceSequence"),H($)}function H($){return $===u?(R.consume($),j++,H):j<l?B($):(R.exit("codeFencedFenceSequence"),Tt(R,z,"whitespace")($))}function z($){return $===null||nt($)?(R.exit("codeFencedFence"),N($)):B($)}}}const qb={name:"codeIndented",tokenize:vce},yce={tokenize:wce,partial:!0};function vce(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),Tt(e,a,"linePrefix",4+1)(u)}function a(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?s(u):n(u)}function s(u){return u===null?l(u):nt(u)?e.attempt(yce,s,l)(u):(e.enter("codeFlowValue"),o(u))}function o(u){return u===null||nt(u)?(e.exit("codeFlowValue"),s(u)):(e.consume(u),o)}function l(u){return e.exit("codeIndented"),t(u)}}function wce(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):nt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):Tt(e,a,"linePrefix",4+1)(s)}function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):nt(s)?i(s):n(s)}}const bce={name:"codeText",tokenize:Sce,resolve:xce,previous:kce};function xce(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function kce(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Sce(e,t,n){let r=0,i,a;return s;function s(h){return e.enter("codeText"),e.enter("codeTextSequence"),o(h)}function o(h){return h===96?(e.consume(h),r++,o):(e.exit("codeTextSequence"),l(h))}function l(h){return h===null?n(h):h===96?(a=e.enter("codeTextSequence"),i=0,c(h)):h===32?(e.enter("space"),e.consume(h),e.exit("space"),l):nt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||nt(h)?(e.exit("codeTextData"),l(h)):(e.consume(h),u)}function c(h){return h===96?(e.consume(h),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(a.type="codeTextData",u(h))}}function a8(e){const t={};let n=-1,r,i,a,s,o,l,u;for(;++n<e.length;){for(;n in t;)n=t[n];if(r=e[n],n&&r[1].type==="chunkFlow"&&e[n-1][1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Ece(e,n)),n=t[n],u=!0);else if(r[1]._container){for(a=n,i=void 0;a--&&(s=e[a],s[1].type==="lineEnding"||s[1].type==="lineEndingBlank");)s[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);i&&(r[1].end=Object.assign({},e[i][1].start),o=e.slice(i,n),o.unshift(r),Zr(e,i,n-i+1,o))}}return!u}function Ece(e,t){const n=e[t][1],r=e[t][2];let i=t-1;const a=[],s=n._tokenizer||r.parser[n.contentType](n.start),o=s.events,l=[],u={};let c,h,p=-1,m=n,g=0,y=0;const b=[y];for(;m;){for(;e[++i][1]!==m;);a.push(i),m._tokenizer||(c=r.sliceStream(m),m.next||c.push(null),h&&s.defineSkip(m.start),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(c),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),h=m,m=m.next}for(m=n;++p<o.length;)o[p][0]==="exit"&&o[p-1][0]==="enter"&&o[p][1].type===o[p-1][1].type&&o[p][1].start.line!==o[p][1].end.line&&(y=p+1,b.push(y),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(s.events=[],m?(m._tokenizer=void 0,m.previous=void 0):b.pop(),p=b.length;p--;){const v=o.slice(b[p],b[p+1]),x=a.pop();l.unshift([x,x+v.length-1]),Zr(e,x,2,v)}for(p=-1;++p<l.length;)u[g+l[p][0]]=g+l[p][1],g+=l[p][1]-l[p][0]-1;return u}const Cce={tokenize:Ice,resolve:Tce},_ce={tokenize:Pce,partial:!0};function Tce(e){return a8(e),e}function Ice(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):nt(o)?e.check(_ce,s,a)(o):(e.consume(o),i)}function a(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function s(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Pce(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Tt(e,a,"linePrefix")}function a(s){if(s===null||nt(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function s8(e,t,n,r,i,a,s,o,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return h;function h(v){return v===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(v),e.exit(a),p):v===null||v===41||ny(v)?n(v):(e.enter(r),e.enter(s),e.enter(o),e.enter("chunkString",{contentType:"string"}),y(v))}function p(v){return v===62?(e.enter(a),e.consume(v),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),m(v))}function m(v){return v===62?(e.exit("chunkString"),e.exit(o),p(v)):v===null||v===60||nt(v)?n(v):(e.consume(v),v===92?g:m)}function g(v){return v===60||v===62||v===92?(e.consume(v),m):m(v)}function y(v){return v===40?++c>u?n(v):(e.consume(v),y):v===41?c--?(e.consume(v),y):(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(r),t(v)):v===null||Qt(v)?c?n(v):(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(r),t(v)):ny(v)?n(v):(e.consume(v),v===92?b:y)}function b(v){return v===40||v===41||v===92?(e.consume(v),y):y(v)}}function o8(e,t,n,r,i,a){const s=this;let o=0,l;return u;function u(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(a),c}function c(m){return m===null||m===91||m===93&&!l||m===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs||o>999?n(m):m===93?(e.exit(a),e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):nt(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===null||m===91||m===93||nt(m)||o++>999?(e.exit("chunkString"),c(m)):(e.consume(m),l=l||!Wt(m),m===92?p:h)}function p(m){return m===91||m===92||m===93?(e.consume(m),o++,h):h(m)}}function l8(e,t,n,r,i,a){let s;return o;function o(p){return e.enter(r),e.enter(i),e.consume(p),e.exit(i),s=p===40?41:p,l}function l(p){return p===s?(e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):(e.enter(a),u(p))}function u(p){return p===s?(e.exit(a),l(s)):p===null?n(p):nt(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),Tt(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(p))}function c(p){return p===s||p===null||nt(p)?(e.exit("chunkString"),u(p)):(e.consume(p),p===92?h:c)}function h(p){return p===s||p===92?(e.consume(p),c):c(p)}}function rh(e,t){let n;return r;function r(i){return nt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Wt(i)?Tt(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}function Xi(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Rce={name:"definition",tokenize:Nce},Ace={tokenize:Dce,partial:!0};function Nce(e,t,n){const r=this;let i;return a;function a(l){return e.enter("definition"),o8.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(l)}function s(l){return i=Xi(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),l===58?(e.enter("definitionMarker"),e.consume(l),e.exit("definitionMarker"),rh(e,s8(e,e.attempt(Ace,Tt(e,o,"whitespace"),Tt(e,o,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(l)}function o(l){return l===null||nt(l)?(e.exit("definition"),r.parser.defined.includes(i)||r.parser.defined.push(i),t(l)):n(l)}}function Dce(e,t,n){return r;function r(s){return Qt(s)?rh(e,i)(s):n(s)}function i(s){return s===34||s===39||s===40?l8(e,Tt(e,a,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s):n(s)}function a(s){return s===null||nt(s)?t(s):n(s)}}const Oce={name:"hardBreakEscape",tokenize:Mce};function Mce(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.enter("escapeMarker"),e.consume(a),i}function i(a){return nt(a)?(e.exit("escapeMarker"),e.exit("hardBreakEscape"),t(a)):n(a)}}const Lce={name:"headingAtx",tokenize:Bce,resolve:Fce};function Fce(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Zr(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function Bce(e,t,n){const r=this;let i=0;return a;function a(c){return e.enter("atxHeading"),e.enter("atxHeadingSequence"),s(c)}function s(c){return c===35&&i++<6?(e.consume(c),s):c===null||Qt(c)?(e.exit("atxHeadingSequence"),r.interrupt?t(c):o(c)):n(c)}function o(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||nt(c)?(e.exit("atxHeading"),t(c)):Wt(c)?Tt(e,o,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),o(c))}function u(c){return c===null||c===35||Qt(c)?(e.exit("atxHeadingText"),o(c)):(e.consume(c),u)}}const zce=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],eA=["pre","script","style","textarea"],Uce={name:"htmlFlow",tokenize:Vce,resolveTo:$ce,concrete:!0},jce={tokenize:Wce,partial:!0};function $ce(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Vce(e,t,n){const r=this;let i,a,s,o,l;return u;function u(M){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(M),c}function c(M){return M===33?(e.consume(M),h):M===47?(e.consume(M),g):M===63?(e.consume(M),i=3,r.interrupt?t:ie):wr(M)?(e.consume(M),s=String.fromCharCode(M),a=!0,y):n(M)}function h(M){return M===45?(e.consume(M),i=2,p):M===91?(e.consume(M),i=5,s="CDATA[",o=0,m):wr(M)?(e.consume(M),i=4,r.interrupt?t:ie):n(M)}function p(M){return M===45?(e.consume(M),r.interrupt?t:ie):n(M)}function m(M){return M===s.charCodeAt(o++)?(e.consume(M),o===s.length?r.interrupt?t:H:m):n(M)}function g(M){return wr(M)?(e.consume(M),s=String.fromCharCode(M),y):n(M)}function y(M){return M===null||M===47||M===62||Qt(M)?M!==47&&a&&eA.includes(s.toLowerCase())?(i=1,r.interrupt?t(M):H(M)):zce.includes(s.toLowerCase())?(i=6,M===47?(e.consume(M),b):r.interrupt?t(M):H(M)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(M):a?x(M):v(M)):M===45||hr(M)?(e.consume(M),s+=String.fromCharCode(M),y):n(M)}function b(M){return M===62?(e.consume(M),r.interrupt?t:H):n(M)}function v(M){return Wt(M)?(e.consume(M),v):j(M)}function x(M){return M===47?(e.consume(M),j):M===58||M===95||wr(M)?(e.consume(M),k):Wt(M)?(e.consume(M),x):j(M)}function k(M){return M===45||M===46||M===58||M===95||hr(M)?(e.consume(M),k):T(M)}function T(M){return M===61?(e.consume(M),P):Wt(M)?(e.consume(M),T):x(M)}function P(M){return M===null||M===60||M===61||M===62||M===96?n(M):M===34||M===39?(e.consume(M),l=M,R):Wt(M)?(e.consume(M),P):(l=null,N(M))}function R(M){return M===null||nt(M)?n(M):M===l?(e.consume(M),B):(e.consume(M),R)}function N(M){return M===null||M===34||M===39||M===60||M===61||M===62||M===96||Qt(M)?T(M):(e.consume(M),N)}function B(M){return M===47||M===62||Wt(M)?x(M):n(M)}function j(M){return M===62?(e.consume(M),W):n(M)}function W(M){return Wt(M)?(e.consume(M),W):M===null||nt(M)?H(M):n(M)}function H(M){return M===45&&i===2?(e.consume(M),te):M===60&&i===1?(e.consume(M),X):M===62&&i===4?(e.consume(M),pe):M===63&&i===3?(e.consume(M),ie):M===93&&i===5?(e.consume(M),de):nt(M)&&(i===6||i===7)?e.check(jce,pe,z)(M):M===null||nt(M)?z(M):(e.consume(M),H)}function z(M){return e.exit("htmlFlowData"),$(M)}function $(M){return M===null?F(M):nt(M)?e.attempt({tokenize:O,partial:!0},$,F)(M):(e.enter("htmlFlowData"),H(M))}function O(M,Ce,_e){return Te;function Te(pt){return M.enter("lineEnding"),M.consume(pt),M.exit("lineEnding"),Qe}function Qe(pt){return r.parser.lazy[r.now().line]?_e(pt):Ce(pt)}}function te(M){return M===45?(e.consume(M),ie):H(M)}function X(M){return M===47?(e.consume(M),s="",le):H(M)}function le(M){return M===62&&eA.includes(s.toLowerCase())?(e.consume(M),pe):wr(M)&&s.length<8?(e.consume(M),s+=String.fromCharCode(M),le):H(M)}function de(M){return M===93?(e.consume(M),ie):H(M)}function ie(M){return M===62?(e.consume(M),pe):M===45&&i===2?(e.consume(M),ie):H(M)}function pe(M){return M===null||nt(M)?(e.exit("htmlFlowData"),F(M)):(e.consume(M),pe)}function F(M){return e.exit("htmlFlow"),t(M)}}function Wce(e,t,n){return r;function r(i){return e.exit("htmlFlowData"),e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),e.attempt(Tf,t,n)}}const Gce={name:"htmlText",tokenize:Hce};function Hce(e,t,n){const r=this;let i,a,s,o;return l;function l(F){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(F),u}function u(F){return F===33?(e.consume(F),c):F===47?(e.consume(F),N):F===63?(e.consume(F),P):wr(F)?(e.consume(F),W):n(F)}function c(F){return F===45?(e.consume(F),h):F===91?(e.consume(F),a="CDATA[",s=0,b):wr(F)?(e.consume(F),T):n(F)}function h(F){return F===45?(e.consume(F),p):n(F)}function p(F){return F===null||F===62?n(F):F===45?(e.consume(F),m):g(F)}function m(F){return F===null||F===62?n(F):g(F)}function g(F){return F===null?n(F):F===45?(e.consume(F),y):nt(F)?(o=g,de(F)):(e.consume(F),g)}function y(F){return F===45?(e.consume(F),pe):g(F)}function b(F){return F===a.charCodeAt(s++)?(e.consume(F),s===a.length?v:b):n(F)}function v(F){return F===null?n(F):F===93?(e.consume(F),x):nt(F)?(o=v,de(F)):(e.consume(F),v)}function x(F){return F===93?(e.consume(F),k):v(F)}function k(F){return F===62?pe(F):F===93?(e.consume(F),k):v(F)}function T(F){return F===null||F===62?pe(F):nt(F)?(o=T,de(F)):(e.consume(F),T)}function P(F){return F===null?n(F):F===63?(e.consume(F),R):nt(F)?(o=P,de(F)):(e.consume(F),P)}function R(F){return F===62?pe(F):P(F)}function N(F){return wr(F)?(e.consume(F),B):n(F)}function B(F){return F===45||hr(F)?(e.consume(F),B):j(F)}function j(F){return nt(F)?(o=j,de(F)):Wt(F)?(e.consume(F),j):pe(F)}function W(F){return F===45||hr(F)?(e.consume(F),W):F===47||F===62||Qt(F)?H(F):n(F)}function H(F){return F===47?(e.consume(F),pe):F===58||F===95||wr(F)?(e.consume(F),z):nt(F)?(o=H,de(F)):Wt(F)?(e.consume(F),H):pe(F)}function z(F){return F===45||F===46||F===58||F===95||hr(F)?(e.consume(F),z):$(F)}function $(F){return F===61?(e.consume(F),O):nt(F)?(o=$,de(F)):Wt(F)?(e.consume(F),$):H(F)}function O(F){return F===null||F===60||F===61||F===62||F===96?n(F):F===34||F===39?(e.consume(F),i=F,te):nt(F)?(o=O,de(F)):Wt(F)?(e.consume(F),O):(e.consume(F),i=void 0,le)}function te(F){return F===i?(e.consume(F),X):F===null?n(F):nt(F)?(o=te,de(F)):(e.consume(F),te)}function X(F){return F===62||F===47||Qt(F)?H(F):n(F)}function le(F){return F===null||F===34||F===39||F===60||F===61||F===96?n(F):F===62||Qt(F)?H(F):(e.consume(F),le)}function de(F){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),Tt(e,ie,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ie(F){return e.enter("htmlTextData"),o(F)}function pe(F){return F===62?(e.consume(F),e.exit("htmlTextData"),e.exit("htmlText"),t):n(F)}}const I_={name:"labelEnd",tokenize:Zce,resolveTo:Qce,resolveAll:Xce},qce={tokenize:Jce},Kce={tokenize:ede},Yce={tokenize:tde};function Xce(e){let t=-1,n;for(;++t<e.length;)n=e[t][1],(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++);return e}function Qce(e,t){let n=e.length,r=0,i,a,s,o;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:e[a][1].type==="labelLink"?"link":"image",start:Object.assign({},e[a][1].start),end:Object.assign({},e[e.length-1][1].end)},u={type:"label",start:Object.assign({},e[a][1].start),end:Object.assign({},e[s][1].end)},c={type:"labelText",start:Object.assign({},e[a+r+2][1].end),end:Object.assign({},e[s-2][1].start)};return o=[["enter",l,t],["enter",u,t]],o=ki(o,e.slice(a+1,a+r+3)),o=ki(o,[["enter",c,t]]),o=ki(o,kv(t.parser.constructs.insideSpan.null,e.slice(a+r+4,s-3),t)),o=ki(o,[["exit",c,t],e[s-2],e[s-1],["exit",u,t]]),o=ki(o,e.slice(s+1)),o=ki(o,[["exit",l,t]]),Zr(e,a,e.length,o),e}function Zce(e,t,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(c){return a?a._inactive?u(c):(s=r.parser.defined.includes(Xi(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelEnd"),l):n(c)}function l(c){return c===40?e.attempt(qce,t,s?t:u)(c):c===91?e.attempt(Kce,t,s?e.attempt(Yce,t,u):u)(c):s?t(c):u(c)}function u(c){return a._balanced=!0,n(c)}}function Jce(e,t,n){return r;function r(l){return e.enter("resource"),e.enter("resourceMarker"),e.consume(l),e.exit("resourceMarker"),rh(e,i)}function i(l){return l===41?o(l):s8(e,a,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(l)}function a(l){return Qt(l)?rh(e,s)(l):o(l)}function s(l){return l===34||l===39||l===40?l8(e,rh(e,o),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(l):o(l)}function o(l){return l===41?(e.enter("resourceMarker"),e.consume(l),e.exit("resourceMarker"),e.exit("resource"),t):n(l)}}function ede(e,t,n){const r=this;return i;function i(s){return o8.call(r,e,a,n,"reference","referenceMarker","referenceString")(s)}function a(s){return r.parser.defined.includes(Xi(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}}function tde(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const nde={name:"labelStartImage",tokenize:rde,resolveAll:I_.resolveAll};function rde(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),a}function a(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const ide={name:"labelStartLink",tokenize:ade,resolveAll:I_.resolveAll};function ade(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const Kb={name:"lineEnding",tokenize:sde};function sde(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Tt(e,t,"linePrefix")}}const Cg={name:"thematicBreak",tokenize:ode};function ode(e,t,n){let r=0,i;return a;function a(l){return e.enter("thematicBreak"),i=l,s(l)}function s(l){return l===i?(e.enter("thematicBreakSequence"),o(l)):Wt(l)?Tt(e,s,"whitespace")(l):r<3||l!==null&&!nt(l)?n(l):(e.exit("thematicBreak"),t(l))}function o(l){return l===i?(e.consume(l),r++,o):(e.exit("thematicBreakSequence"),s(l))}}const Rr={name:"list",tokenize:cde,continuation:{tokenize:dde},exit:fde},lde={tokenize:pde,partial:!0},ude={tokenize:hde,partial:!0};function cde(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(m){const g=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:OS(m)){if(r.containerState.type||(r.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(Cg,n,u)(m):u(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return OS(m)&&++s<10?(e.consume(m),l):(!r.interrupt||s<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),u(m)):n(m)}function u(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(Tf,r.interrupt?n:c,e.attempt(lde,p,h))}function c(m){return r.containerState.initialBlankLine=!0,a++,p(m)}function h(m){return Wt(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function dde(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Tf,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Tt(e,t,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!Wt(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(ude,t,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,Tt(e,e.attempt(Rr,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function hde(e,t,n){const r=this;return Tt(e,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(a):n(a)}}function fde(e){e.exit(this.containerState.type)}function pde(e,t,n){const r=this;return Tt(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(a){const s=r.events[r.events.length-1];return!Wt(a)&&s&&s[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const tA={name:"setextUnderline",tokenize:gde,resolveTo:mde};function mde(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",s,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[a][1].end)):e[r][1]=s,e.push(["exit",s,t]),e}function gde(e,t,n){const r=this;let i=r.events.length,a,s;for(;i--;)if(r.events[i][1].type!=="lineEnding"&&r.events[i][1].type!=="linePrefix"&&r.events[i][1].type!=="content"){s=r.events[i][1].type==="paragraph";break}return o;function o(c){return!r.parser.lazy[r.now().line]&&(r.interrupt||s)?(e.enter("setextHeadingLine"),e.enter("setextHeadingLineSequence"),a=c,l(c)):n(c)}function l(c){return c===a?(e.consume(c),l):(e.exit("setextHeadingLineSequence"),Tt(e,u,"lineSuffix")(c))}function u(c){return c===null||nt(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const yde={tokenize:vde};function vde(e){const t=this,n=e.attempt(Tf,r,e.attempt(this.parser.constructs.flowInitial,i,Tt(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Cce,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const wde={resolveAll:c8()},bde=u8("string"),xde=u8("text");function u8(e){return{tokenize:t,resolveAll:c8(e==="text"?kde:void 0)};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,s,o);return s;function s(c){return u(c)?a(c):o(c)}function o(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),a(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const h=i[c];let p=-1;if(h)for(;++p<h.length;){const m=h[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function c8(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function kde(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,s=-1,o=0,l;for(;a--;){const u=i[a];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(u===-2)l=!0,o++;else if(u!==-1){a++;break}}if(o){const u={type:n===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-o,offset:r.end.offset-o,_index:r.start._index+a,_bufferIndex:a?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},u.start),r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}function Sde(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},a=[];let s=[],o=[];const l={consume:x,enter:k,exit:T,attempt:N(P),check:N(R),interrupt:N(R,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:m,sliceSerialize:p,now:g,defineSkip:y,write:h};let c=t.tokenize.call(u,l);return t.resolveAll&&a.push(t),u;function h(H){return s=ki(s,H),b(),s[s.length-1]!==null?[]:(B(t,0),u.events=kv(a,u.events,u),u.events)}function p(H,z){return Cde(m(H),z)}function m(H){return Ede(s,H)}function g(){return Object.assign({},r)}function y(H){i[H.line]=H.column,W()}function b(){let H;for(;r._index<s.length;){const z=s[r._index];if(typeof z=="string")for(H=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===H&&r._bufferIndex<z.length;)v(z.charCodeAt(r._bufferIndex));else v(z)}}function v(H){c=c(H)}function x(H){nt(H)?(r.line++,r.column=1,r.offset+=H===-3?2:1,W()):H!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=H}function k(H,z){const $=z||{};return $.type=H,$.start=g(),u.events.push(["enter",$,u]),o.push($),$}function T(H){const z=o.pop();return z.end=g(),u.events.push(["exit",z,u]),z}function P(H,z){B(H,z.from)}function R(H,z){z.restore()}function N(H,z){return $;function $(O,te,X){let le,de,ie,pe;return Array.isArray(O)?M(O):"tokenize"in O?M([O]):F(O);function F(Qe){return pt;function pt(Je){const st=Je!==null&&Qe[Je],Et=Je!==null&&Qe.null,dt=[...Array.isArray(st)?st:st?[st]:[],...Array.isArray(Et)?Et:Et?[Et]:[]];return M(dt)(Je)}}function M(Qe){return le=Qe,de=0,Qe.length===0?X:Ce(Qe[de])}function Ce(Qe){return pt;function pt(Je){return pe=j(),ie=Qe,Qe.partial||(u.currentConstruct=Qe),Qe.name&&u.parser.constructs.disable.null.includes(Qe.name)?Te():Qe.tokenize.call(z?Object.assign(Object.create(u),z):u,l,_e,Te)(Je)}}function _e(Qe){return H(ie,pe),te}function Te(Qe){return pe.restore(),++de<le.length?Ce(le[de]):X}}}function B(H,z){H.resolveAll&&!a.includes(H)&&a.push(H),H.resolve&&Zr(u.events,z,u.events.length-z,H.resolve(u.events.slice(z),u)),H.resolveTo&&(u.events=H.resolveTo(u.events,u))}function j(){const H=g(),z=u.previous,$=u.currentConstruct,O=u.events.length,te=Array.from(o);return{restore:X,from:O};function X(){r=H,u.previous=z,u.currentConstruct=$,u.events.length=O,o=te,W()}}function W(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Ede(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let s;return n===i?s=[e[n].slice(r,a)]:(s=e.slice(n,i),r>-1&&(s[0]=s[0].slice(r)),a>0&&s.push(e[i].slice(0,a))),s}function Cde(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}const _de={[42]:Rr,[43]:Rr,[45]:Rr,[48]:Rr,[49]:Rr,[50]:Rr,[51]:Rr,[52]:Rr,[53]:Rr,[54]:Rr,[55]:Rr,[56]:Rr,[57]:Rr,[62]:n8},Tde={[91]:Rce},Ide={[-2]:qb,[-1]:qb,[32]:qb},Pde={[35]:Lce,[42]:Cg,[45]:[tA,Cg],[60]:Uce,[61]:tA,[95]:Cg,[96]:JR,[126]:JR},Rde={[38]:i8,[92]:r8},Ade={[-5]:Kb,[-4]:Kb,[-3]:Kb,[33]:nde,[38]:i8,[42]:MS,[60]:[lce,Gce],[91]:ide,[92]:[Oce,r8],[93]:I_,[95]:MS,[96]:bce},Nde={null:[MS,wde]},Dde={null:[42,95]},Ode={null:[]},Mde=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Dde,contentInitial:Tde,disable:Ode,document:_de,flow:Pde,flowInitial:Ide,insideSpan:Nde,string:Rde,text:Ade},Symbol.toStringTag,{value:"Module"}));function Lde(e={}){const t=t8([Mde].concat(e.extensions||[])),n={defined:[],lazy:{},constructs:t,content:r(tce),document:r(rce),flow:r(yde),string:r(bde),text:r(xde)};return n;function r(i){return a;function a(s){return Sde(n,i,s)}}}const nA=/[\0\t\n\r]/g;function Fde(){let e=1,t="",n=!0,r;return i;function i(a,s,o){const l=[];let u,c,h,p,m;for(a=t+a.toString(s),h=0,t="",n&&(a.charCodeAt(0)===65279&&h++,n=void 0);h<a.length;){if(nA.lastIndex=h,u=nA.exec(a),p=u&&u.index!==void 0?u.index:a.length,m=a.charCodeAt(p),!u){t=a.slice(h);break}if(m===10&&h===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),h<p&&(l.push(a.slice(h,p)),e+=p-h),m){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}h=p+1}return o&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}function Bde(e){for(;!a8(e););return e}function d8(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCharCode(n)}const zde=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function h8(e){return e.replace(zde,Ude)}function Ude(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return d8(n.slice(a?2:1),a?16:10)}return T_(n)||e}const f8={}.hasOwnProperty,jde=function(e,t,n){return typeof t!="string"&&(n=t,t=void 0),$de(n)(Bde(Lde(n).document().write(Fde()(e,t,!0))))};function $de(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(ke),autolinkProtocol:H,autolinkEmail:H,atxHeading:o(ve),blockQuote:o(dt),characterEscape:H,characterReference:H,codeFenced:o(bn),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(bn,l),codeText:o(Ct,l),codeTextData:H,data:H,codeFlowValue:H,definition:o(L),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(xe),hardBreakEscape:o(Q),hardBreakTrailing:o(Q),htmlFlow:o(K,l),htmlFlowData:H,htmlText:o(K,l),htmlTextData:H,image:o(se),label:l,link:o(ke),listItem:o(he),listItemValue:g,listOrdered:o(Ee,m),listUnordered:o(Ee),paragraph:o(Re),reference:Te,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(ve),strong:o(ze),thematicBreak:o(Ye)},exit:{atxHeading:c(),atxHeadingSequence:N,autolink:c(),autolinkEmail:Et,autolinkProtocol:st,blockQuote:c(),characterEscapeValue:z,characterReferenceMarkerHexadecimal:pt,characterReferenceMarkerNumeric:pt,characterReferenceValue:Je,codeFenced:c(x),codeFencedFence:v,codeFencedFenceInfo:y,codeFencedFenceMeta:b,codeFlowValue:z,codeIndented:c(k),codeText:c(le),codeTextData:z,data:z,definition:c(),definitionDestinationString:R,definitionLabelString:T,definitionTitleString:P,emphasis:c(),hardBreakEscape:c(O),hardBreakTrailing:c(O),htmlFlow:c(te),htmlFlowData:z,htmlText:c(X),htmlTextData:z,image:c(ie),label:F,labelText:pe,lineEnding:$,link:c(de),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:Qe,resourceDestinationString:M,resourceTitleString:Ce,resource:_e,setextHeading:c(W),setextHeadingLineSequence:j,setextHeadingText:B,strong:c(),thematicBreak:c()}};p8(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(D){let C={type:"root",children:[]};const I={stack:[C],tokenStack:[],config:t,enter:u,exit:h,buffer:l,resume:p,setData:a,getData:s},V=[];let J=-1;for(;++J<D.length;)if(D[J][1].type==="listOrdered"||D[J][1].type==="listUnordered")if(D[J][0]==="enter")V.push(J);else{const fe=V.pop();J=i(D,fe,J)}for(J=-1;++J<D.length;){const fe=t[D[J][0]];f8.call(fe,D[J][1].type)&&fe[D[J][1].type].call(Object.assign({sliceSerialize:D[J][2].sliceSerialize},I),D[J][1])}if(I.tokenStack.length>0){const fe=I.tokenStack[I.tokenStack.length-1];(fe[1]||rA).call(I,void 0,fe[0])}for(C.position={start:bs(D.length>0?D[0][1].start:{line:1,column:1,offset:0}),end:bs(D.length>0?D[D.length-2][1].end:{line:1,column:1,offset:0})},J=-1;++J<t.transforms.length;)C=t.transforms[J](C)||C;return C}function i(D,C,I){let V=C-1,J=-1,fe=!1,me,Ze,St,ct;for(;++V<=I;){const rt=D[V];if(rt[1].type==="listUnordered"||rt[1].type==="listOrdered"||rt[1].type==="blockQuote"?(rt[0]==="enter"?J++:J--,ct=void 0):rt[1].type==="lineEndingBlank"?rt[0]==="enter"&&(me&&!ct&&!J&&!St&&(St=V),ct=void 0):rt[1].type==="linePrefix"||rt[1].type==="listItemValue"||rt[1].type==="listItemMarker"||rt[1].type==="listItemPrefix"||rt[1].type==="listItemPrefixWhitespace"||(ct=void 0),!J&&rt[0]==="enter"&&rt[1].type==="listItemPrefix"||J===-1&&rt[0]==="exit"&&(rt[1].type==="listUnordered"||rt[1].type==="listOrdered")){if(me){let xt=V;for(Ze=void 0;xt--;){const jr=D[xt];if(jr[1].type==="lineEnding"||jr[1].type==="lineEndingBlank"){if(jr[0]==="exit")continue;Ze&&(D[Ze][1].type="lineEndingBlank",fe=!0),jr[1].type="lineEnding",Ze=xt}else if(!(jr[1].type==="linePrefix"||jr[1].type==="blockQuotePrefix"||jr[1].type==="blockQuotePrefixWhitespace"||jr[1].type==="blockQuoteMarker"||jr[1].type==="listItemIndent"))break}St&&(!Ze||St<Ze)&&(me._spread=!0),me.end=Object.assign({},Ze?D[Ze][1].start:rt[1].end),D.splice(Ze||V,0,["exit",me,rt[2]]),V++,I++}rt[1].type==="listItemPrefix"&&(me={type:"listItem",_spread:!1,start:Object.assign({},rt[1].start)},D.splice(V,0,["enter",me,rt[2]]),V++,I++,St=void 0,ct=!0)}}return D[C][1]._spread=fe,I}function a(D,C){n[D]=C}function s(D){return n[D]}function o(D,C){return I;function I(V){u.call(this,D(V),V),C&&C.call(this,V)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(D,C,I){return this.stack[this.stack.length-1].children.push(D),this.stack.push(D),this.tokenStack.push([C,I]),D.position={start:bs(C.start)},D}function c(D){return C;function C(I){D&&D.call(this,I),h.call(this,I)}}function h(D,C){const I=this.stack.pop(),V=this.tokenStack.pop();if(V)V[0].type!==D.type&&(C?C.call(this,D,V[0]):(V[1]||rA).call(this,D,V[0]));else throw new Error("Cannot close `"+D.type+"` ("+nh({start:D.start,end:D.end})+"): its not open");return I.position.end=bs(D.end),I}function p(){return Kue(this.stack.pop())}function m(){a("expectingFirstListItemValue",!0)}function g(D){if(s("expectingFirstListItemValue")){const C=this.stack[this.stack.length-2];C.start=Number.parseInt(this.sliceSerialize(D),10),a("expectingFirstListItemValue")}}function y(){const D=this.resume(),C=this.stack[this.stack.length-1];C.lang=D}function b(){const D=this.resume(),C=this.stack[this.stack.length-1];C.meta=D}function v(){s("flowCodeInside")||(this.buffer(),a("flowCodeInside",!0))}function x(){const D=this.resume(),C=this.stack[this.stack.length-1];C.value=D.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),a("flowCodeInside")}function k(){const D=this.resume(),C=this.stack[this.stack.length-1];C.value=D.replace(/(\r?\n|\r)$/g,"")}function T(D){const C=this.resume(),I=this.stack[this.stack.length-1];I.label=C,I.identifier=Xi(this.sliceSerialize(D)).toLowerCase()}function P(){const D=this.resume(),C=this.stack[this.stack.length-1];C.title=D}function R(){const D=this.resume(),C=this.stack[this.stack.length-1];C.url=D}function N(D){const C=this.stack[this.stack.length-1];if(!C.depth){const I=this.sliceSerialize(D).length;C.depth=I}}function B(){a("setextHeadingSlurpLineEnding",!0)}function j(D){const C=this.stack[this.stack.length-1];C.depth=this.sliceSerialize(D).charCodeAt(0)===61?1:2}function W(){a("setextHeadingSlurpLineEnding")}function H(D){const C=this.stack[this.stack.length-1];let I=C.children[C.children.length-1];(!I||I.type!=="text")&&(I=Ie(),I.position={start:bs(D.start)},C.children.push(I)),this.stack.push(I)}function z(D){const C=this.stack.pop();C.value+=this.sliceSerialize(D),C.position.end=bs(D.end)}function $(D){const C=this.stack[this.stack.length-1];if(s("atHardBreak")){const I=C.children[C.children.length-1];I.position.end=bs(D.end),a("atHardBreak");return}!s("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(C.type)&&(H.call(this,D),z.call(this,D))}function O(){a("atHardBreak",!0)}function te(){const D=this.resume(),C=this.stack[this.stack.length-1];C.value=D}function X(){const D=this.resume(),C=this.stack[this.stack.length-1];C.value=D}function le(){const D=this.resume(),C=this.stack[this.stack.length-1];C.value=D}function de(){const D=this.stack[this.stack.length-1];if(s("inReference")){const C=s("referenceType")||"shortcut";D.type+="Reference",D.referenceType=C,delete D.url,delete D.title}else delete D.identifier,delete D.label;a("referenceType")}function ie(){const D=this.stack[this.stack.length-1];if(s("inReference")){const C=s("referenceType")||"shortcut";D.type+="Reference",D.referenceType=C,delete D.url,delete D.title}else delete D.identifier,delete D.label;a("referenceType")}function pe(D){const C=this.sliceSerialize(D),I=this.stack[this.stack.length-2];I.label=h8(C),I.identifier=Xi(C).toLowerCase()}function F(){const D=this.stack[this.stack.length-1],C=this.resume(),I=this.stack[this.stack.length-1];if(a("inReference",!0),I.type==="link"){const V=D.children;I.children=V}else I.alt=C}function M(){const D=this.resume(),C=this.stack[this.stack.length-1];C.url=D}function Ce(){const D=this.resume(),C=this.stack[this.stack.length-1];C.title=D}function _e(){a("inReference")}function Te(){a("referenceType","collapsed")}function Qe(D){const C=this.resume(),I=this.stack[this.stack.length-1];I.label=C,I.identifier=Xi(this.sliceSerialize(D)).toLowerCase(),a("referenceType","full")}function pt(D){a("characterReferenceType",D.type)}function Je(D){const C=this.sliceSerialize(D),I=s("characterReferenceType");let V;I?(V=d8(C,I==="characterReferenceMarkerNumeric"?10:16),a("characterReferenceType")):V=T_(C);const J=this.stack.pop();J.value+=V,J.position.end=bs(D.end)}function st(D){z.call(this,D);const C=this.stack[this.stack.length-1];C.url=this.sliceSerialize(D)}function Et(D){z.call(this,D);const C=this.stack[this.stack.length-1];C.url="mailto:"+this.sliceSerialize(D)}function dt(){return{type:"blockquote",children:[]}}function bn(){return{type:"code",lang:null,meta:null,value:""}}function Ct(){return{type:"inlineCode",value:""}}function L(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function xe(){return{type:"emphasis",children:[]}}function ve(){return{type:"heading",depth:void 0,children:[]}}function Q(){return{type:"break"}}function K(){return{type:"html",value:""}}function se(){return{type:"image",title:null,url:"",alt:null}}function ke(){return{type:"link",title:null,url:"",children:[]}}function Ee(D){return{type:"list",ordered:D.type==="listOrdered",start:null,spread:D._spread,children:[]}}function he(D){return{type:"listItem",spread:D._spread,checked:null,children:[]}}function Re(){return{type:"paragraph",children:[]}}function ze(){return{type:"strong",children:[]}}function Ie(){return{type:"text",value:""}}function Ye(){return{type:"thematicBreak"}}}function bs(e){return{line:e.line,column:e.column,offset:e.offset}}function p8(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?p8(e,r):Vde(e,r)}}function Vde(e,t){let n;for(n in t)if(f8.call(t,n)){if(n==="canContainEols"){const r=t[n];r&&e[n].push(...r)}else if(n==="transforms"){const r=t[n];r&&e[n].push(...r)}else if(n==="enter"||n==="exit"){const r=t[n];r&&Object.assign(e[n],r)}}}function rA(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+nh({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+nh({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+nh({start:t.start,end:t.end})+") is still open")}function Wde(e){Object.assign(this,{Parser:n=>{const r=this.data("settings");return jde(n,Object.assign({},r,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function Gde(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function Hde(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function qde(e,t){const n=t.value?t.value+`
`:"",r=t.lang?t.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,i={};r&&(i.className=["language-"+r]);let a={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function Kde(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Yde(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function xc(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let s="";if(a===37&&hr(e.charCodeAt(n+1))&&hr(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=e.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s=""}else s=String.fromCharCode(a);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function m8(e,t){const n=String(t.identifier).toUpperCase(),r=xc(n.toLowerCase()),i=e.footnoteOrder.indexOf(n);let a;i===-1?(e.footnoteOrder.push(n),e.footnoteCounts[n]=1,a=e.footnoteOrder.length):(e.footnoteCounts[n]++,a=i+1);const s=e.footnoteCounts[n],o={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fn-"+r,id:e.clobberPrefix+"fnref-"+r+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,o);const l={type:"element",tagName:"sup",properties:{},children:[o]};return e.patch(t,l),e.applyData(t,l)}function Xde(e,t){const n=e.footnoteById;let r=1;for(;r in n;)r++;const i=String(r);return n[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:t.children}],position:t.position},m8(e,{type:"footnoteReference",identifier:i,position:t.position})}function Qde(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Zde(e,t){if(e.dangerous){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}return null}function g8(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return{type:"text",value:"!["+t.alt+r};const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function Jde(e,t){const n=e.definition(t.identifier);if(!n)return g8(e,t);const r={src:xc(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,i),e.applyData(t,i)}function ehe(e,t){const n={src:xc(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function the(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function nhe(e,t){const n=e.definition(t.identifier);if(!n)return g8(e,t);const r={href:xc(n.url||"")};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function rhe(e,t){const n={href:xc(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function ihe(e,t,n){const r=e.all(t),i=n?ahe(n):y8(t),a={},s=[];if(typeof t.checked=="boolean"){const c=r[0];let h;c&&c.type==="element"&&c.tagName==="p"?h=c:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const c=r[o];(i||o!==0||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?s.push(...c.children):s.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:a,children:s};return e.patch(t,u),e.applyData(t,u)}function ahe(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=y8(n[r])}return t}function y8(e){const t=e.spread;return t??e.children.length>1}function she(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function ohe(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function lhe(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function uhe(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const P_=v8("start"),R_=v8("end");function che(e){return{start:P_(e),end:R_(e)}}function v8(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function dhe(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=P_(t.children[1]),l=R_(t.children[t.children.length-1]);o.line&&l.line&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function hhe(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:t.children.length;let l=-1;const u=[];for(;++l<o;){const h=t.children[l],p={},m=s?s[l]:void 0;m&&(p.align=m);let g={type:"element",tagName:a,properties:p,children:[]};h&&(g.children=e.all(h),e.patch(h,g),g=e.applyData(t,g)),u.push(g)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function fhe(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const iA=9,aA=32;function phe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(sA(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(sA(t.slice(i),i>0,!1)),a.join("")}function sA(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===iA||a===aA;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===iA||a===aA;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function mhe(e,t){const n={type:"text",value:phe(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function ghe(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const yhe={blockquote:Gde,break:Hde,code:qde,delete:Kde,emphasis:Yde,footnoteReference:m8,footnote:Xde,heading:Qde,html:Zde,imageReference:Jde,image:ehe,inlineCode:the,linkReference:nhe,link:rhe,listItem:ihe,list:she,paragraph:ohe,root:lhe,strong:uhe,table:dhe,tableCell:fhe,tableRow:hhe,text:mhe,thematicBreak:ghe,toml:wm,yaml:wm,definition:wm,footnoteDefinition:wm};function wm(){return null}const A_=function(e){if(e==null)return xhe;if(typeof e=="string")return bhe(e);if(typeof e=="object")return Array.isArray(e)?vhe(e):whe(e);if(typeof e=="function")return Sv(e);throw new Error("Expected function, string, or object as test")};function vhe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=A_(e[n]);return Sv(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].call(this,...i))return!0;return!1}}function whe(e){return Sv(t);function t(n){let r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function bhe(e){return Sv(t);function t(n){return n&&n.type===e}}function Sv(e){return t;function t(n,...r){return!!(n&&typeof n=="object"&&"type"in n&&e.call(this,n,...r))}}function xhe(){return!0}const khe=!0,oA=!1,She="skip",w8=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null);const i=A_(t),a=r?-1:1;s(e,void 0,[])();function s(o,l,u){const c=o&&typeof o=="object"?o:{};if(typeof c.type=="string"){const p=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(o.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=[],m,g,y;if((!t||i(o,l,u[u.length-1]||null))&&(p=Ehe(n(o,u)),p[0]===oA))return p;if(o.children&&p[0]!==She)for(g=(r?o.children.length:-1)+a,y=u.concat(o);g>-1&&g<o.children.length;){if(m=s(o.children[g],g,y)(),m[0]===oA)return m;g=typeof m[1]=="number"?m[1]:g+a}return p}}};function Ehe(e){return Array.isArray(e)?e:typeof e=="number"?[khe,e]:[e]}const N_=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),w8(e,t,i,r);function i(a,s){const o=s[s.length-1];return n(a,o?o.children.indexOf(a):null,o)}};function Che(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const lA={}.hasOwnProperty;function _he(e){const t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return N_(e,"definition",r=>{const i=uA(r.identifier);i&&!lA.call(t,i)&&(t[i]=r)}),n;function n(r){const i=uA(r);return i&&lA.call(t,i)?t[i]:null}}function uA(e){return String(e||"").toUpperCase()}const iy={}.hasOwnProperty;function The(e,t){const n=t||{},r=n.allowDangerousHtml||!1,i={};return s.dangerous=r,s.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,s.footnoteLabel=n.footnoteLabel||"Footnotes",s.footnoteLabelTagName=n.footnoteLabelTagName||"h2",s.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},s.footnoteBackLabel=n.footnoteBackLabel||"Back to content",s.unknownHandler=n.unknownHandler,s.passThrough=n.passThrough,s.handlers={...yhe,...n.handlers},s.definition=_he(e),s.footnoteById=i,s.footnoteOrder=[],s.footnoteCounts={},s.patch=Ihe,s.applyData=Phe,s.one=o,s.all=l,s.wrap=Ahe,s.augment=a,N_(e,"footnoteDefinition",u=>{const c=String(u.identifier).toUpperCase();iy.call(i,c)||(i[c]=u)}),s;function a(u,c){if(u&&"data"in u&&u.data){const h=u.data;h.hName&&(c.type!=="element"&&(c={type:"element",tagName:"",properties:{},children:[]}),c.tagName=h.hName),c.type==="element"&&h.hProperties&&(c.properties={...c.properties,...h.hProperties}),"children"in c&&c.children&&h.hChildren&&(c.children=h.hChildren)}if(u){const h="type"in u?u:{position:u};Che(h)||(c.position={start:P_(h),end:R_(h)})}return c}function s(u,c,h,p){return Array.isArray(h)&&(p=h,h={}),a(u,{type:"element",tagName:c,properties:h||{},children:p||[]})}function o(u,c){return b8(s,u,c)}function l(u){return D_(s,u)}}function Ihe(e,t){e.position&&(t.position=che(e))}function Phe(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;typeof r=="string"&&(n.type==="element"?n.tagName=r:n={type:"element",tagName:r,properties:{},children:[]}),n.type==="element"&&a&&(n.properties={...n.properties,...a}),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function b8(e,t,n){const r=t&&t.type;if(!r)throw new Error("Expected node, got `"+t+"`");return iy.call(e.handlers,r)?e.handlers[r](e,t,n):e.passThrough&&e.passThrough.includes(r)?"children"in t?{...t,children:D_(e,t)}:t:e.unknownHandler?e.unknownHandler(e,t,n):Rhe(e,t)}function D_(e,t){const n=[];if("children"in t){const r=t.children;let i=-1;for(;++i<r.length;){const a=b8(e,r[i],t);if(a){if(i&&r[i-1].type==="break"&&(!Array.isArray(a)&&a.type==="text"&&(a.value=a.value.replace(/^\s+/,"")),!Array.isArray(a)&&a.type==="element")){const s=a.children[0];s&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,""))}Array.isArray(a)?n.push(...a):n.push(a)}}}return n}function Rhe(e,t){const n=t.data||{},r="value"in t&&!(iy.call(n,"hProperties")||iy.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:D_(e,t)};return e.patch(t,r),e.applyData(t,r)}function Ahe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Nhe(e){const t=[];let n=-1;for(;++n<e.footnoteOrder.length;){const r=e.footnoteById[e.footnoteOrder[n]];if(!r)continue;const i=e.all(r),a=String(r.identifier).toUpperCase(),s=xc(a.toLowerCase());let o=0;const l=[];for(;++o<=e.footnoteCounts[a];){const h={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+s+(o>1?"-"+o:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:""}]};o>1&&h.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(o)}]}),l.length>0&&l.push({type:"text",value:" "}),l.push(h)}const u=i[i.length-1];if(u&&u.type==="element"&&u.tagName==="p"){const h=u.children[u.children.length-1];h&&h.type==="text"?h.value+=" ":u.children.push({type:"text",value:" "}),u.children.push(...l)}else i.push(...l);const c={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+s},children:e.wrap(i,!0)};e.patch(r,c),t.push(c)}if(t.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:e.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(t,!0)},{type:"text",value:`
`}]}}function x8(e,t){const n=The(e,t),r=n.one(e,null),i=Nhe(n);return i&&r.children.push({type:"text",value:`
`},i),Array.isArray(r)?{type:"root",children:r}:r}const Dhe=function(e,t){return e&&"run"in e?Mhe(e,t):Lhe(e||t)},Ohe=Dhe;function Mhe(e,t){return(n,r,i)=>{e.run(x8(n,t),r,a=>{i(a)})}}function Lhe(e){return t=>x8(t,e)}var k8={exports:{}},Fhe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Bhe=Fhe,zhe=Bhe;function S8(){}function E8(){}E8.resetWarningCache=S8;var Uhe=function(){function e(r,i,a,s,o,l){if(l!==zhe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:E8,resetWarningCache:S8};return n.PropTypes=n,n};k8.exports=Uhe();var jhe=k8.exports;const ot=Zi(jhe);class If{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}If.prototype.property={};If.prototype.normal={};If.prototype.space=null;function C8(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new If(n,r,t)}function LS(e){return e.toLowerCase()}class Pi{constructor(t,n){this.property=t,this.attribute=n}}Pi.prototype.space=null;Pi.prototype.boolean=!1;Pi.prototype.booleanish=!1;Pi.prototype.overloadedBoolean=!1;Pi.prototype.number=!1;Pi.prototype.commaSeparated=!1;Pi.prototype.spaceSeparated=!1;Pi.prototype.commaOrSpaceSeparated=!1;Pi.prototype.mustUseProperty=!1;Pi.prototype.defined=!1;let $he=0;const ft=kl(),_n=kl(),_8=kl(),Ne=kl(),nn=kl(),Du=kl(),Wr=kl();function kl(){return 2**++$he}const FS=Object.freeze(Object.defineProperty({__proto__:null,boolean:ft,booleanish:_n,commaOrSpaceSeparated:Wr,commaSeparated:Du,number:Ne,overloadedBoolean:_8,spaceSeparated:nn},Symbol.toStringTag,{value:"Module"})),Yb=Object.keys(FS);class O_ extends Pi{constructor(t,n,r,i){let a=-1;if(super(t,n),cA(this,"space",i),typeof r=="number")for(;++a<Yb.length;){const s=Yb[a];cA(this,Yb[a],(r&FS[s])===FS[s])}}}O_.prototype.defined=!0;function cA(e,t,n){n&&(e[t]=n)}const Vhe={}.hasOwnProperty;function kc(e){const t={},n={};let r;for(r in e.properties)if(Vhe.call(e.properties,r)){const i=e.properties[r],a=new O_(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[LS(r)]=r,n[LS(a.attribute)]=r}return new If(t,n,e.space)}const T8=kc({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),I8=kc({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function P8(e,t){return t in e?e[t]:t}function R8(e,t){return P8(e,t.toLowerCase())}const A8=kc({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:R8,properties:{xmlns:null,xmlnsXLink:null}}),N8=kc({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:_n,ariaAutoComplete:null,ariaBusy:_n,ariaChecked:_n,ariaColCount:Ne,ariaColIndex:Ne,ariaColSpan:Ne,ariaControls:nn,ariaCurrent:null,ariaDescribedBy:nn,ariaDetails:null,ariaDisabled:_n,ariaDropEffect:nn,ariaErrorMessage:null,ariaExpanded:_n,ariaFlowTo:nn,ariaGrabbed:_n,ariaHasPopup:null,ariaHidden:_n,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:nn,ariaLevel:Ne,ariaLive:null,ariaModal:_n,ariaMultiLine:_n,ariaMultiSelectable:_n,ariaOrientation:null,ariaOwns:nn,ariaPlaceholder:null,ariaPosInSet:Ne,ariaPressed:_n,ariaReadOnly:_n,ariaRelevant:null,ariaRequired:_n,ariaRoleDescription:nn,ariaRowCount:Ne,ariaRowIndex:Ne,ariaRowSpan:Ne,ariaSelected:_n,ariaSetSize:Ne,ariaSort:null,ariaValueMax:Ne,ariaValueMin:Ne,ariaValueNow:Ne,ariaValueText:null,role:null}}),Whe=kc({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:R8,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Du,acceptCharset:nn,accessKey:nn,action:null,allow:null,allowFullScreen:ft,allowPaymentRequest:ft,allowUserMedia:ft,alt:null,as:null,async:ft,autoCapitalize:null,autoComplete:nn,autoFocus:ft,autoPlay:ft,capture:ft,charSet:null,checked:ft,cite:null,className:nn,cols:Ne,colSpan:null,content:null,contentEditable:_n,controls:ft,controlsList:nn,coords:Ne|Du,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ft,defer:ft,dir:null,dirName:null,disabled:ft,download:_8,draggable:_n,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ft,formTarget:null,headers:nn,height:Ne,hidden:ft,high:Ne,href:null,hrefLang:null,htmlFor:nn,httpEquiv:nn,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:ft,itemId:null,itemProp:nn,itemRef:nn,itemScope:ft,itemType:nn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ft,low:Ne,manifest:null,max:null,maxLength:Ne,media:null,method:null,min:null,minLength:Ne,multiple:ft,muted:ft,name:null,nonce:null,noModule:ft,noValidate:ft,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ft,optimum:Ne,pattern:null,ping:nn,placeholder:null,playsInline:ft,poster:null,preload:null,readOnly:ft,referrerPolicy:null,rel:nn,required:ft,reversed:ft,rows:Ne,rowSpan:Ne,sandbox:nn,scope:null,scoped:ft,seamless:ft,selected:ft,shape:null,size:Ne,sizes:null,slot:null,span:Ne,spellCheck:_n,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ne,step:null,style:null,tabIndex:Ne,target:null,title:null,translate:null,type:null,typeMustMatch:ft,useMap:null,value:_n,width:Ne,wrap:null,align:null,aLink:null,archive:nn,axis:null,background:null,bgColor:null,border:Ne,borderColor:null,bottomMargin:Ne,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ft,declare:ft,event:null,face:null,frame:null,frameBorder:null,hSpace:Ne,leftMargin:Ne,link:null,longDesc:null,lowSrc:null,marginHeight:Ne,marginWidth:Ne,noResize:ft,noHref:ft,noShade:ft,noWrap:ft,object:null,profile:null,prompt:null,rev:null,rightMargin:Ne,rules:null,scheme:null,scrolling:_n,standby:null,summary:null,text:null,topMargin:Ne,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ne,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ft,disableRemotePlayback:ft,prefix:null,property:null,results:Ne,security:null,unselectable:null}}),Ghe=kc({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:P8,properties:{about:Wr,accentHeight:Ne,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ne,amplitude:Ne,arabicForm:null,ascent:Ne,attributeName:null,attributeType:null,azimuth:Ne,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ne,by:null,calcMode:null,capHeight:Ne,className:nn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ne,diffuseConstant:Ne,direction:null,display:null,dur:null,divisor:Ne,dominantBaseline:null,download:ft,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ne,enableBackground:null,end:null,event:null,exponent:Ne,externalResourcesRequired:null,fill:null,fillOpacity:Ne,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Du,g2:Du,glyphName:Du,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ne,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ne,horizOriginX:Ne,horizOriginY:Ne,id:null,ideographic:Ne,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ne,k:Ne,k1:Ne,k2:Ne,k3:Ne,k4:Ne,kernelMatrix:Wr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ne,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ne,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ne,overlineThickness:Ne,paintOrder:null,panose1:null,path:null,pathLength:Ne,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:nn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ne,pointsAtY:Ne,pointsAtZ:Ne,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Wr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Wr,rev:Wr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Wr,requiredFeatures:Wr,requiredFonts:Wr,requiredFormats:Wr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ne,specularExponent:Ne,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ne,strikethroughThickness:Ne,string:null,stroke:null,strokeDashArray:Wr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ne,strokeOpacity:Ne,strokeWidth:null,style:null,surfaceScale:Ne,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Wr,tabIndex:Ne,tableValues:null,target:null,targetX:Ne,targetY:Ne,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Wr,to:null,transform:null,u1:null,u2:null,underlinePosition:Ne,underlineThickness:Ne,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ne,values:null,vAlphabetic:Ne,vMathematical:Ne,vectorEffect:null,vHanging:Ne,vIdeographic:Ne,version:null,vertAdvY:Ne,vertOriginX:Ne,vertOriginY:Ne,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ne,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Hhe=/^data[-\w.:]+$/i,dA=/-[a-z]/g,qhe=/[A-Z]/g;function Khe(e,t){const n=LS(t);let r=t,i=Pi;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Hhe.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(dA,Xhe);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!dA.test(a)){let s=a.replace(qhe,Yhe);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=O_}return new i(r,t)}function Yhe(e){return"-"+e.toLowerCase()}function Xhe(e){return e.charAt(1).toUpperCase()}const hA={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Qhe=C8([I8,T8,A8,N8,Whe],"html"),Zhe=C8([I8,T8,A8,N8,Ghe],"svg");function Jhe(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{N_(t,"element",(n,r,i)=>{const a=i;let s;if(e.allowedElements?s=!e.allowedElements.includes(n.tagName):e.disallowedElements&&(s=e.disallowedElements.includes(n.tagName)),!s&&e.allowElement&&typeof r=="number"&&(s=!e.allowElement(n,r,a)),s&&typeof r=="number")return e.unwrapDisallowed&&n.children?a.children.splice(r,1,...n.children):a.children.splice(r,1),r})}}var D8={exports:{}},zt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_=Symbol.for("react.element"),L_=Symbol.for("react.portal"),Ev=Symbol.for("react.fragment"),Cv=Symbol.for("react.strict_mode"),_v=Symbol.for("react.profiler"),Tv=Symbol.for("react.provider"),Iv=Symbol.for("react.context"),efe=Symbol.for("react.server_context"),Pv=Symbol.for("react.forward_ref"),Rv=Symbol.for("react.suspense"),Av=Symbol.for("react.suspense_list"),Nv=Symbol.for("react.memo"),Dv=Symbol.for("react.lazy"),tfe=Symbol.for("react.offscreen"),O8;O8=Symbol.for("react.module.reference");function Ri(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case M_:switch(e=e.type,e){case Ev:case _v:case Cv:case Rv:case Av:return e;default:switch(e=e&&e.$$typeof,e){case efe:case Iv:case Pv:case Dv:case Nv:case Tv:return e;default:return t}}case L_:return t}}}zt.ContextConsumer=Iv;zt.ContextProvider=Tv;zt.Element=M_;zt.ForwardRef=Pv;zt.Fragment=Ev;zt.Lazy=Dv;zt.Memo=Nv;zt.Portal=L_;zt.Profiler=_v;zt.StrictMode=Cv;zt.Suspense=Rv;zt.SuspenseList=Av;zt.isAsyncMode=function(){return!1};zt.isConcurrentMode=function(){return!1};zt.isContextConsumer=function(e){return Ri(e)===Iv};zt.isContextProvider=function(e){return Ri(e)===Tv};zt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===M_};zt.isForwardRef=function(e){return Ri(e)===Pv};zt.isFragment=function(e){return Ri(e)===Ev};zt.isLazy=function(e){return Ri(e)===Dv};zt.isMemo=function(e){return Ri(e)===Nv};zt.isPortal=function(e){return Ri(e)===L_};zt.isProfiler=function(e){return Ri(e)===_v};zt.isStrictMode=function(e){return Ri(e)===Cv};zt.isSuspense=function(e){return Ri(e)===Rv};zt.isSuspenseList=function(e){return Ri(e)===Av};zt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ev||e===_v||e===Cv||e===Rv||e===Av||e===tfe||typeof e=="object"&&e!==null&&(e.$$typeof===Dv||e.$$typeof===Nv||e.$$typeof===Tv||e.$$typeof===Iv||e.$$typeof===Pv||e.$$typeof===O8||e.getModuleId!==void 0)};zt.typeOf=Ri;D8.exports=zt;var nfe=D8.exports;const rfe=Zi(nfe);function ife(e){const t=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof t=="string"&&t.replace(/[ \t\n\f\r]/g,"")===""}function afe(e){return e.join(" ").trim()}function sfe(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var F_={exports:{}},fA=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,ofe=/\n/g,lfe=/^\s*/,ufe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,cfe=/^:\s*/,dfe=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,hfe=/^[;\s]*/,ffe=/^\s+|\s+$/g,pfe=`
`,pA="/",mA="*",Lo="",mfe="comment",gfe="declaration",yfe=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(g){var y=g.match(ofe);y&&(n+=y.length);var b=g.lastIndexOf(pfe);r=~b?g.length-b:r+g.length}function a(){var g={line:n,column:r};return function(y){return y.position=new s(g),u(),y}}function s(g){this.start=g,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function o(g){var y=new Error(t.source+":"+n+":"+r+": "+g);if(y.reason=g,y.filename=t.source,y.line=n,y.column=r,y.source=e,!t.silent)throw y}function l(g){var y=g.exec(e);if(y){var b=y[0];return i(b),e=e.slice(b.length),y}}function u(){l(lfe)}function c(g){var y;for(g=g||[];y=h();)y!==!1&&g.push(y);return g}function h(){var g=a();if(!(pA!=e.charAt(0)||mA!=e.charAt(1))){for(var y=2;Lo!=e.charAt(y)&&(mA!=e.charAt(y)||pA!=e.charAt(y+1));)++y;if(y+=2,Lo===e.charAt(y-1))return o("End of comment missing");var b=e.slice(2,y-2);return r+=2,i(b),e=e.slice(y),r+=2,g({type:mfe,comment:b})}}function p(){var g=a(),y=l(ufe);if(y){if(h(),!l(cfe))return o("property missing ':'");var b=l(dfe),v=g({type:gfe,property:gA(y[0].replace(fA,Lo)),value:b?gA(b[0].replace(fA,Lo)):Lo});return l(hfe),v}}function m(){var g=[];c(g);for(var y;y=p();)y!==!1&&(g.push(y),c(g));return g}return u(),m()};function gA(e){return e?e.replace(ffe,Lo):Lo}var vfe=yfe;function M8(e,t){var n=null;if(!e||typeof e!="string")return n;for(var r,i=vfe(e),a=typeof t=="function",s,o,l=0,u=i.length;l<u;l++)r=i[l],s=r.property,o=r.value,a?t(s,o,r):o&&(n||(n={}),n[s]=o);return n}F_.exports=M8;F_.exports.default=M8;var wfe=F_.exports;const bfe=Zi(wfe),BS={}.hasOwnProperty,xfe=new Set(["table","thead","tbody","tfoot","tr"]);function L8(e,t){const n=[];let r=-1,i;for(;++r<t.children.length;)i=t.children[r],i.type==="element"?n.push(kfe(e,i,r,t)):i.type==="text"?(t.type!=="element"||!xfe.has(t.tagName)||!ife(i))&&n.push(i.value):i.type==="raw"&&!e.options.skipHtml&&n.push(i.value);return n}function kfe(e,t,n,r){const i=e.options,a=i.transformLinkUri===void 0?Tue:i.transformLinkUri,s=e.schema,o=t.tagName,l={};let u=s,c;if(s.space==="html"&&o==="svg"&&(u=Zhe,e.schema=u),t.properties)for(c in t.properties)BS.call(t.properties,c)&&Efe(l,c,t.properties[c],e);(o==="ol"||o==="ul")&&e.listDepth++;const h=L8(e,t);(o==="ol"||o==="ul")&&e.listDepth--,e.schema=s;const p=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},m=i.components&&BS.call(i.components,o)?i.components[o]:o,g=typeof m=="string"||m===Ve.Fragment;if(!rfe.isValidElementType(m))throw new TypeError(`Component for name \`${o}\` not defined or is not renderable`);if(l.key=n,o==="a"&&i.linkTarget&&(l.target=typeof i.linkTarget=="function"?i.linkTarget(String(l.href||""),t.children,typeof l.title=="string"?l.title:null):i.linkTarget),o==="a"&&a&&(l.href=a(String(l.href||""),t.children,typeof l.title=="string"?l.title:null)),!g&&o==="code"&&r.type==="element"&&r.tagName!=="pre"&&(l.inline=!0),!g&&(o==="h1"||o==="h2"||o==="h3"||o==="h4"||o==="h5"||o==="h6")&&(l.level=Number.parseInt(o.charAt(1),10)),o==="img"&&i.transformImageUri&&(l.src=i.transformImageUri(String(l.src||""),String(l.alt||""),typeof l.title=="string"?l.title:null)),!g&&o==="li"&&r.type==="element"){const y=Sfe(t);l.checked=y&&y.properties?!!y.properties.checked:null,l.index=Xb(r,t),l.ordered=r.tagName==="ol"}return!g&&(o==="ol"||o==="ul")&&(l.ordered=o==="ol",l.depth=e.listDepth),(o==="td"||o==="th")&&(l.align&&(l.style||(l.style={}),l.style.textAlign=l.align,delete l.align),g||(l.isHeader=o==="th")),!g&&o==="tr"&&r.type==="element"&&(l.isHeader=r.tagName==="thead"),i.sourcePos&&(l["data-sourcepos"]=Tfe(p)),!g&&i.rawSourcePos&&(l.sourcePosition=t.position),!g&&i.includeElementIndex&&(l.index=Xb(r,t),l.siblingCount=Xb(r)),g||(l.node=t),h.length>0?Ve.createElement(m,l,h):Ve.createElement(m,l)}function Sfe(e){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n.type==="element"&&n.tagName==="input")return n}return null}function Xb(e,t){let n=-1,r=0;for(;++n<e.children.length&&e.children[n]!==t;)e.children[n].type==="element"&&r++;return r}function Efe(e,t,n,r){const i=Khe(r.schema,t);let a=n;a==null||a!==a||(Array.isArray(a)&&(a=i.commaSeparated?sfe(a):afe(a)),i.property==="style"&&typeof a=="string"&&(a=Cfe(a)),i.space&&i.property?e[BS.call(hA,i.property)?hA[i.property]:i.property]=a:i.attribute&&(e[i.attribute]=a))}function Cfe(e){const t={};try{bfe(e,n)}catch{}return t;function n(r,i){const a=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;t[a.replace(/-([a-z])/g,_fe)]=i}}function _fe(e,t){return t.toUpperCase()}function Tfe(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const yA={}.hasOwnProperty,Ife="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",bm={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function F8(e){for(const a in bm)if(yA.call(bm,a)&&yA.call(e,a)){const s=bm[a];console.warn(`[react-markdown] Warning: please ${s.to?`use \`${s.to}\` instead of`:"remove"} \`${a}\` (see <${Ife}#${s.id}> for more info)`),delete bm[a]}const t=Vue().use(Wde).use(e.remarkPlugins||[]).use(Ohe,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(Jhe,e),n=new XF;typeof e.children=="string"?n.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const r=t.runSync(t.parse(n),n);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=Ve.createElement(Ve.Fragment,{},L8({options:e,schema:Qhe,listDepth:0},r));return e.className&&(i=Ve.createElement("div",{className:e.className},i)),i}F8.propTypes={children:ot.string,className:ot.string,allowElement:ot.func,allowedElements:ot.arrayOf(ot.string),disallowedElements:ot.arrayOf(ot.string),unwrapDisallowed:ot.bool,remarkPlugins:ot.arrayOf(ot.oneOfType([ot.object,ot.func,ot.arrayOf(ot.oneOfType([ot.bool,ot.string,ot.object,ot.func,ot.arrayOf(ot.any)]))])),rehypePlugins:ot.arrayOf(ot.oneOfType([ot.object,ot.func,ot.arrayOf(ot.oneOfType([ot.bool,ot.string,ot.object,ot.func,ot.arrayOf(ot.any)]))])),sourcePos:ot.bool,rawSourcePos:ot.bool,skipHtml:ot.bool,includeElementIndex:ot.bool,transformLinkUri:ot.oneOfType([ot.func,ot.bool]),linkTarget:ot.oneOfType([ot.func,ot.string]),transformImageUri:ot.func,components:ot.object};const Pfe={tokenize:Mfe,partial:!0},B8={tokenize:Lfe,partial:!0},z8={tokenize:Ffe,partial:!0},U8={tokenize:Bfe,partial:!0},Rfe={tokenize:zfe,partial:!0},j8={tokenize:Dfe,previous:V8},$8={tokenize:Ofe,previous:W8},as={tokenize:Nfe,previous:G8},Pa={},Afe={text:Pa};let To=48;for(;To<123;)Pa[To]=as,To++,To===58?To=65:To===91&&(To=97);Pa[43]=as;Pa[45]=as;Pa[46]=as;Pa[95]=as;Pa[72]=[as,$8];Pa[104]=[as,$8];Pa[87]=[as,j8];Pa[119]=[as,j8];function Nfe(e,t,n){const r=this;let i,a;return s;function s(h){return!zS(h)||!G8.call(r,r.previous)||B_(r.events)?n(h):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(h))}function o(h){return zS(h)?(e.consume(h),o):h===64?(e.consume(h),l):n(h)}function l(h){return h===46?e.check(Rfe,c,u)(h):h===45||h===95||hr(h)?(a=!0,e.consume(h),l):c(h)}function u(h){return e.consume(h),i=!0,l}function c(h){return a&&i&&wr(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(h)):n(h)}}function Dfe(e,t,n){const r=this;return i;function i(s){return s!==87&&s!==119||!V8.call(r,r.previous)||B_(r.events)?n(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Pfe,e.attempt(B8,e.attempt(z8,a),n),n)(s))}function a(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function Ofe(e,t,n){const r=this;let i="",a=!1;return s;function s(h){return(h===72||h===104)&&W8.call(r,r.previous)&&!B_(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(h),e.consume(h),o):n(h)}function o(h){if(wr(h)&&i.length<5)return i+=String.fromCodePoint(h),e.consume(h),o;if(h===58){const p=i.toLowerCase();if(p==="http"||p==="https")return e.consume(h),l}return n(h)}function l(h){return h===47?(e.consume(h),a?u:(a=!0,l)):n(h)}function u(h){return h===null||ny(h)||Qt(h)||cl(h)||xv(h)?n(h):e.attempt(B8,e.attempt(z8,c),n)(h)}function c(h){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(h)}}function Mfe(e,t,n){let r=0;return i;function i(s){return(s===87||s===119)&&r<3?(r++,e.consume(s),i):s===46&&r===3?(e.consume(s),a):n(s)}function a(s){return s===null?n(s):t(s)}}function Lfe(e,t,n){let r,i,a;return s;function s(u){return u===46||u===95?e.check(U8,l,o)(u):u===null||Qt(u)||cl(u)||u!==45&&xv(u)?l(u):(a=!0,e.consume(u),s)}function o(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),s}function l(u){return i||r||!a?n(u):t(u)}}function Ffe(e,t){let n=0,r=0;return i;function i(s){return s===40?(n++,e.consume(s),i):s===41&&r<n?a(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check(U8,t,a)(s):s===null||Qt(s)||cl(s)?t(s):(e.consume(s),i)}function a(s){return s===41&&r++,e.consume(s),i}}function Bfe(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),a):o===93?(e.consume(o),i):o===60||o===null||Qt(o)||cl(o)?t(o):n(o)}function i(o){return o===null||o===40||o===91||Qt(o)||cl(o)?t(o):r(o)}function a(o){return wr(o)?s(o):n(o)}function s(o){return o===59?(e.consume(o),r):wr(o)?(e.consume(o),s):n(o)}}function zfe(e,t,n){return r;function r(a){return e.consume(a),i}function i(a){return hr(a)?n(a):t(a)}}function V8(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Qt(e)}function W8(e){return!wr(e)}function G8(e){return!(e===47||zS(e))}function zS(e){return e===43||e===45||e===46||e===95||hr(e)}function B_(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Ufe={tokenize:Kfe,partial:!0};function jfe(){return{document:{[91]:{tokenize:Gfe,continuation:{tokenize:Hfe},exit:qfe}},text:{[91]:{tokenize:Wfe},[93]:{add:"after",tokenize:$fe,resolveTo:Vfe}}}}function $fe(e,t,n){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){s=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!s||!s._balanced)return n(l);const u=Xi(r.sliceSerialize({start:s.end,end:r.now()}));return u.codePointAt(0)!==94||!a.includes(u.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function Vfe(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",s,t],["exit",s,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function Wfe(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,s;return o;function o(h){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),l}function l(h){return h!==94?n(h):(e.enter("gfmFootnoteCallMarker"),e.consume(h),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(h){if(a>999||h===93&&!s||h===null||h===91||Qt(h))return n(h);if(h===93){e.exit("chunkString");const p=e.exit("gfmFootnoteCallString");return i.includes(Xi(r.sliceSerialize(p)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(h)}return Qt(h)||(s=!0),a++,e.consume(h),h===92?c:u}function c(h){return h===91||h===92||h===93?(e.consume(h),a++,u):u(h)}}function Gfe(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,s=0,o;return l;function l(g){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(g){return g===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):n(g)}function c(g){if(s>999||g===93&&!o||g===null||g===91||Qt(g))return n(g);if(g===93){e.exit("chunkString");const y=e.exit("gfmFootnoteDefinitionLabelString");return a=Xi(r.sliceSerialize(y)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),p}return Qt(g)||(o=!0),s++,e.consume(g),g===92?h:c}function h(g){return g===91||g===92||g===93?(e.consume(g),s++,c):c(g)}function p(g){return g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),i.includes(a)||i.push(a),Tt(e,m,"gfmFootnoteDefinitionWhitespace")):n(g)}function m(g){return t(g)}}function Hfe(e,t,n){return e.check(Tf,t,e.attempt(Ufe,t,n))}function qfe(e){e.exit("gfmFootnoteDefinition")}function Kfe(e,t,n){const r=this;return Tt(e,i,"gfmFootnoteDefinitionIndent",4+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(a):n(a)}}function Yfe(e){let n=(e||{}).singleTilde;const r={tokenize:a,resolveAll:i};return n==null&&(n=!0),{text:{[126]:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(s,o){let l=-1;for(;++l<s.length;)if(s[l][0]==="enter"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._close){let u=l;for(;u--;)if(s[u][0]==="exit"&&s[u][1].type==="strikethroughSequenceTemporary"&&s[u][1]._open&&s[l][1].end.offset-s[l][1].start.offset===s[u][1].end.offset-s[u][1].start.offset){s[l][1].type="strikethroughSequence",s[u][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},s[u][1].start),end:Object.assign({},s[l][1].end)},h={type:"strikethroughText",start:Object.assign({},s[u][1].end),end:Object.assign({},s[l][1].start)},p=[["enter",c,o],["enter",s[u][1],o],["exit",s[u][1],o],["enter",h,o]],m=o.parser.constructs.insideSpan.null;m&&Zr(p,p.length,0,kv(m,s.slice(u+1,l),o)),Zr(p,p.length,0,[["exit",h,o],["enter",s[l][1],o],["exit",s[l][1],o],["exit",c,o]]),Zr(s,u-1,l-u+3,p),l=u+p.length-2;break}}for(l=-1;++l<s.length;)s[l][1].type==="strikethroughSequenceTemporary"&&(s[l][1].type="data");return s}function a(s,o,l){const u=this.previous,c=this.events;let h=0;return p;function p(g){return u===126&&c[c.length-1][1].type!=="characterEscape"?l(g):(s.enter("strikethroughSequenceTemporary"),m(g))}function m(g){const y=ry(u);if(g===126)return h>1?l(g):(s.consume(g),h++,m);if(h<2&&!n)return l(g);const b=s.exit("strikethroughSequenceTemporary"),v=ry(g);return b._open=!v||v===2&&!!y,b._close=!y||y===2&&!!v,o(g)}}}const Xfe={flow:{null:{tokenize:Zfe,resolve:Qfe}}},vA={tokenize:Jfe,partial:!0};function Qfe(e,t){let n=-1,r,i,a,s,o,l,u;for(;++n<e.length;){const c=e[n][1];if(a&&(c.type==="temporaryTableCellContent"&&(s=s||n,o=n),(c.type==="tableCellDivider"||c.type==="tableRow")&&o)){const h={type:"tableContent",start:e[s][1].start,end:e[o][1].end},p={type:"chunkText",start:h.start,end:h.end,contentType:"text"};e.splice(s,o-s+1,["enter",h,t],["enter",p,t],["exit",p,t],["exit",h,t]),n-=o-s-3,s=void 0,o=void 0}if(e[n][0]==="exit"&&l!==void 0&&l+(u?0:1)<n&&(c.type==="tableCellDivider"||c.type==="tableRow"&&(l+3<n||e[l][1].type!=="whitespace"))){const h={type:i?"tableDelimiter":r?"tableHeader":"tableData",start:e[l][1].start,end:e[n][1].end};e.splice(n+(c.type==="tableCellDivider"?1:0),0,["exit",h,t]),e.splice(l,0,["enter",h,t]),n+=2,l=n+1,u=!0}c.type==="tableRow"&&(a=e[n][0]==="enter",a&&(l=n+1,u=!1)),c.type==="tableDelimiterRow"&&(i=e[n][0]==="enter",i&&(l=n+1,u=!1)),c.type==="tableHead"&&(r=e[n][0]==="enter")}return e}function Zfe(e,t,n){const r=this,i=[];let a=0,s,o;return l;function l(X){return e.enter("table")._align=i,e.enter("tableHead"),e.enter("tableRow"),X===124?u(X):(a++,e.enter("temporaryTableCellContent"),p(X))}function u(X){return e.enter("tableCellDivider"),e.consume(X),e.exit("tableCellDivider"),s=!0,c}function c(X){return X===null||nt(X)?g(X):Wt(X)?(e.enter("whitespace"),e.consume(X),h):(s&&(s=void 0,a++),X===124?u(X):(e.enter("temporaryTableCellContent"),p(X)))}function h(X){return Wt(X)?(e.consume(X),h):(e.exit("whitespace"),c(X))}function p(X){return X===null||X===124||Qt(X)?(e.exit("temporaryTableCellContent"),c(X)):(e.consume(X),X===92?m:p)}function m(X){return X===92||X===124?(e.consume(X),p):p(X)}function g(X){if(X===null)return n(X);e.exit("tableRow"),e.exit("tableHead");const le=r.interrupt;return r.interrupt=!0,e.attempt({tokenize:te,partial:!0},function(de){return r.interrupt=le,e.enter("tableDelimiterRow"),y(de)},function(de){return r.interrupt=le,n(de)})(X)}function y(X){return X===null||nt(X)?T(X):Wt(X)?(e.enter("whitespace"),e.consume(X),b):X===45?(e.enter("tableDelimiterFiller"),e.consume(X),o=!0,i.push("none"),v):X===58?(e.enter("tableDelimiterAlignment"),e.consume(X),e.exit("tableDelimiterAlignment"),i.push("left"),x):X===124?(e.enter("tableCellDivider"),e.consume(X),e.exit("tableCellDivider"),y):n(X)}function b(X){return Wt(X)?(e.consume(X),b):(e.exit("whitespace"),y(X))}function v(X){return X===45?(e.consume(X),v):(e.exit("tableDelimiterFiller"),X===58?(e.enter("tableDelimiterAlignment"),e.consume(X),e.exit("tableDelimiterAlignment"),i[i.length-1]=i[i.length-1]==="left"?"center":"right",k):y(X))}function x(X){return X===45?(e.enter("tableDelimiterFiller"),e.consume(X),o=!0,v):n(X)}function k(X){return X===null||nt(X)?T(X):Wt(X)?(e.enter("whitespace"),e.consume(X),b):X===124?(e.enter("tableCellDivider"),e.consume(X),e.exit("tableCellDivider"),y):n(X)}function T(X){return e.exit("tableDelimiterRow"),!o||a!==i.length?n(X):X===null?P(X):e.check(vA,P,e.attempt({tokenize:te,partial:!0},Tt(e,R,"linePrefix",4),P))(X)}function P(X){return e.exit("table"),t(X)}function R(X){return e.enter("tableBody"),N(X)}function N(X){return e.enter("tableRow"),X===124?B(X):(e.enter("temporaryTableCellContent"),H(X))}function B(X){return e.enter("tableCellDivider"),e.consume(X),e.exit("tableCellDivider"),j}function j(X){return X===null||nt(X)?$(X):Wt(X)?(e.enter("whitespace"),e.consume(X),W):X===124?B(X):(e.enter("temporaryTableCellContent"),H(X))}function W(X){return Wt(X)?(e.consume(X),W):(e.exit("whitespace"),j(X))}function H(X){return X===null||X===124||Qt(X)?(e.exit("temporaryTableCellContent"),j(X)):(e.consume(X),X===92?z:H)}function z(X){return X===92||X===124?(e.consume(X),H):H(X)}function $(X){return e.exit("tableRow"),X===null?O(X):e.check(vA,O,e.attempt({tokenize:te,partial:!0},Tt(e,N,"linePrefix",4),O))(X)}function O(X){return e.exit("tableBody"),P(X)}function te(X,le,de){return ie;function ie(F){return X.enter("lineEnding"),X.consume(F),X.exit("lineEnding"),Tt(X,pe,"linePrefix")}function pe(F){if(r.parser.lazy[r.now().line]||F===null||nt(F))return de(F);const M=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&M&&M[1].type==="linePrefix"&&M[2].sliceSerialize(M[1],!0).length>=4?de(F):(r._gfmTableDynamicInterruptHack=!0,X.check(r.parser.constructs.flow,function(Ce){return r._gfmTableDynamicInterruptHack=!1,de(Ce)},function(Ce){return r._gfmTableDynamicInterruptHack=!1,le(Ce)})(F))}}}function Jfe(e,t,n){let r=0;return i;function i(s){return e.enter("check"),e.consume(s),a}function a(s){return s===-1||s===32?(e.consume(s),r++,r===4?t:a):s===null||Qt(s)?t(s):n(s)}}const epe={tokenize:npe},tpe={text:{[91]:epe}};function npe(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),a)}function a(l){return Qt(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),s):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),s):n(l)}function s(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(l)}function o(l){return nt(l)?t(l):Wt(l)?e.check({tokenize:rpe},t,n)(l):n(l)}}function rpe(e,t,n){return Tt(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function ipe(e){return t8([Afe,jfe(),Yfe(e),Xfe,tpe])}function wA(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function ape(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const spe={}.hasOwnProperty,ope=function(e,t,n,r){let i,a;typeof t=="string"||t instanceof RegExp?(a=[[t,n]],i=r):(a=t,i=n),i||(i={});const s=A_(i.ignore||[]),o=lpe(a);let l=-1;for(;++l<o.length;)w8(e,"text",u);return e;function u(h,p){let m=-1,g;for(;++m<p.length;){const y=p[m];if(s(y,g?g.children.indexOf(y):void 0,g))return;g=y}if(g)return c(h,p)}function c(h,p){const m=p[p.length-1],g=o[l][0],y=o[l][1];let b=0;const v=m.children.indexOf(h);let x=!1,k=[];g.lastIndex=0;let T=g.exec(h.value);for(;T;){const P=T.index,R={index:T.index,input:T.input,stack:[...p,h]};let N=y(...T,R);if(typeof N=="string"&&(N=N.length>0?{type:"text",value:N}:void 0),N!==!1&&(b!==P&&k.push({type:"text",value:h.value.slice(b,P)}),Array.isArray(N)?k.push(...N):N&&k.push(N),b=P+T[0].length,x=!0),!g.global)break;T=g.exec(h.value)}return x?(b<h.value.length&&k.push({type:"text",value:h.value.slice(b)}),m.children.splice(v,1,...k)):k=[h],v+k.length}};function lpe(e){const t=[];if(typeof e!="object")throw new TypeError("Expected array or object as schema");if(Array.isArray(e)){let n=-1;for(;++n<e.length;)t.push([bA(e[n][0]),xA(e[n][1])])}else{let n;for(n in e)spe.call(e,n)&&t.push([bA(n),xA(e[n])])}return t}function bA(e){return typeof e=="string"?new RegExp(ape(e),"g"):e}function xA(e){return typeof e=="function"?e:()=>e}const Qb="phrasing",Zb=["autolink","link","image","label"],upe={transforms:[gpe],enter:{literalAutolink:dpe,literalAutolinkEmail:Jb,literalAutolinkHttp:Jb,literalAutolinkWww:Jb},exit:{literalAutolink:mpe,literalAutolinkEmail:ppe,literalAutolinkHttp:hpe,literalAutolinkWww:fpe}},cpe={unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Qb,notInConstruct:Zb},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Qb,notInConstruct:Zb},{character:":",before:"[ps]",after:"\\/",inConstruct:Qb,notInConstruct:Zb}]};function dpe(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Jb(e){this.config.enter.autolinkProtocol.call(this,e)}function hpe(e){this.config.exit.autolinkProtocol.call(this,e)}function fpe(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.url="http://"+this.sliceSerialize(e)}function ppe(e){this.config.exit.autolinkEmail.call(this,e)}function mpe(e){this.exit(e)}function gpe(e){ope(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,ype],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,vpe]],{ignore:["link","linkReference"]})}function ype(e,t,n,r,i){let a="";if(!H8(i)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!wpe(n)))return!1;const s=bpe(n+r);if(!s[0])return!1;const o={type:"link",title:null,url:a+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[o,{type:"text",value:s[1]}]:o}function vpe(e,t,n,r){return!H8(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function wpe(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function bpe(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=wA(e,"(");let a=wA(e,")");for(;r!==-1&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}function H8(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||cl(n)||xv(n))&&(!t||n!==47)}function q8(e){return e.label||!e.identifier?e.label||"":h8(e.identifier)}function xpe(e,t,n){const r=t.indexStack,i=e.children||[],a=t.createTracker(n),s=[];let o=-1;for(r.push(-1);++o<i.length;){const l=i[o];r[r.length-1]=o,s.push(a.move(t.handle(l,e,t,{before:`
`,after:`
`,...a.current()}))),l.type!=="list"&&(t.bulletLastUsed=void 0),o<i.length-1&&s.push(a.move(kpe(l,i[o+1],e,t)))}return r.pop(),s.join("")}function kpe(e,t,n,r){let i=r.join.length;for(;i--;){const a=r.join[i](e,t,n,r);if(a===!0||a===1)break;if(typeof a=="number")return`
`.repeat(1+a);if(a===!1)return`

<!---->

`}return`

`}const Spe=/\r?\n|\r/g;function Epe(e,t){const n=[];let r=0,i=0,a;for(;a=Spe.exec(e);)s(e.slice(r,a.index)),n.push(a[0]),r=a.index+a[0].length,i++;return s(e.slice(r)),n.join("");function s(o){n.push(t(o,i,!o))}}function K8(e){if(!e._compiled){const t=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function Cpe(e,t){return kA(e,t.inConstruct,!0)&&!kA(e,t.notInConstruct,!1)}function kA(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function Y8(e,t,n){const r=(n.before||"")+(t||"")+(n.after||""),i=[],a=[],s={};let o=-1;for(;++o<e.unsafe.length;){const c=e.unsafe[o];if(!Cpe(e.stack,c))continue;const h=K8(c);let p;for(;p=h.exec(r);){const m="before"in c||!!c.atBreak,g="after"in c,y=p.index+(m?p[1].length:0);i.includes(y)?(s[y].before&&!m&&(s[y].before=!1),s[y].after&&!g&&(s[y].after=!1)):(i.push(y),s[y]={before:m,after:g})}}i.sort(_pe);let l=n.before?n.before.length:0;const u=r.length-(n.after?n.after.length:0);for(o=-1;++o<i.length;){const c=i[o];c<l||c>=u||c+1<u&&i[o+1]===c+1&&s[c].after&&!s[c+1].before&&!s[c+1].after||i[o-1]===c-1&&s[c].before&&!s[c-1].before&&!s[c-1].after||(l!==c&&a.push(SA(r.slice(l,c),"\\")),l=c,/[!-/:-@[-`{-~]/.test(r.charAt(c))&&(!n.encode||!n.encode.includes(r.charAt(c)))?a.push("\\"):(a.push("&#x"+r.charCodeAt(c).toString(16).toUpperCase()+";"),l++))}return a.push(SA(r.slice(l,u),n.after)),a.join("")}function _pe(e,t){return e-t}function SA(e,t){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],a=e+t;let s=-1,o=0,l;for(;l=n.exec(a);)r.push(l.index);for(;++s<r.length;)o!==r[s]&&i.push(e.slice(o,r[s])),i.push("\\"),o=r[s];return i.push(e.slice(o)),i.join("")}function Ov(e){const t=e||{},n=t.now||{};let r=t.lineShift||0,i=n.line||1,a=n.column||1;return{move:l,current:s,shift:o};function s(){return{now:{line:i,column:a},lineShift:r}}function o(u){r+=u}function l(u){const c=u||"",h=c.split(/\r?\n|\r/g),p=h[h.length-1];return i+=h.length-1,a=h.length===1?a+p.length:1+p.length+r,c}}X8.peek=Fpe;function Tpe(){return{enter:{gfmFootnoteDefinition:Ppe,gfmFootnoteDefinitionLabelString:Rpe,gfmFootnoteCall:Dpe,gfmFootnoteCallString:Ope},exit:{gfmFootnoteDefinition:Npe,gfmFootnoteDefinitionLabelString:Ape,gfmFootnoteCall:Lpe,gfmFootnoteCallString:Mpe}}}function Ipe(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:Bpe,footnoteReference:X8}}}function Ppe(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Rpe(){this.buffer()}function Ape(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Xi(this.sliceSerialize(e)).toLowerCase()}function Npe(e){this.exit(e)}function Dpe(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Ope(){this.buffer()}function Mpe(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Xi(this.sliceSerialize(e)).toLowerCase()}function Lpe(e){this.exit(e)}function X8(e,t,n,r){const i=Ov(r);let a=i.move("[^");const s=n.enter("footnoteReference"),o=n.enter("reference");return a+=i.move(Y8(n,q8(e),{...i.current(),before:a,after:"]"})),o(),s(),a+=i.move("]"),a}function Fpe(){return"["}function Bpe(e,t,n,r){const i=Ov(r);let a=i.move("[^");const s=n.enter("footnoteDefinition"),o=n.enter("label");return a+=i.move(Y8(n,q8(e),{...i.current(),before:a,after:"]"})),o(),a+=i.move("]:"+(e.children&&e.children.length>0?" ":"")),i.shift(4),a+=i.move(Epe(xpe(e,n,i.current()),zpe)),s(),a}function zpe(e,t,n){return t===0?e:(n?"":"    ")+e}function Q8(e,t,n){const r=t.indexStack,i=e.children||[],a=[];let s=-1,o=n.before;r.push(-1);let l=t.createTracker(n);for(;++s<i.length;){const u=i[s];let c;if(r[r.length-1]=s,s+1<i.length){let h=t.handle.handlers[i[s+1].type];h&&h.peek&&(h=h.peek),c=h?h(i[s+1],e,t,{before:"",after:"",...l.current()}).charAt(0):""}else c=n.after;a.length>0&&(o==="\r"||o===`
`)&&u.type==="html"&&(a[a.length-1]=a[a.length-1].replace(/(\r?\n|\r)$/," "),o=" ",l=t.createTracker(n),l.move(a.join(""))),a.push(l.move(t.handle(u,e,t,{...l.current(),before:o,after:c}))),o=a[a.length-1].slice(-1)}return r.pop(),a.join("")}const Upe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Z8.peek=Gpe;const jpe={canContainEols:["delete"],enter:{strikethrough:Vpe},exit:{strikethrough:Wpe}},$pe={unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Upe}],handlers:{delete:Z8}};function Vpe(e){this.enter({type:"delete",children:[]},e)}function Wpe(e){this.exit(e)}function Z8(e,t,n,r){const i=Ov(r),a=n.enter("strikethrough");let s=i.move("~~");return s+=Q8(e,n,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),a(),s}function Gpe(){return"~"}J8.peek=Hpe;function J8(e,t,n){let r=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const s=n.unsafe[a],o=K8(s);let l;if(s.atBreak)for(;l=o.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function Hpe(){return"`"}function qpe(e,t={}){const n=(t.align||[]).concat(),r=t.stringLength||Ype,i=[],a=[],s=[],o=[];let l=0,u=-1;for(;++u<e.length;){const g=[],y=[];let b=-1;for(e[u].length>l&&(l=e[u].length);++b<e[u].length;){const v=Kpe(e[u][b]);if(t.alignDelimiters!==!1){const x=r(v);y[b]=x,(o[b]===void 0||x>o[b])&&(o[b]=x)}g.push(v)}a[u]=g,s[u]=y}let c=-1;if(typeof n=="object"&&"length"in n)for(;++c<l;)i[c]=EA(n[c]);else{const g=EA(n);for(;++c<l;)i[c]=g}c=-1;const h=[],p=[];for(;++c<l;){const g=i[c];let y="",b="";g===99?(y=":",b=":"):g===108?y=":":g===114&&(b=":");let v=t.alignDelimiters===!1?1:Math.max(1,o[c]-y.length-b.length);const x=y+"-".repeat(v)+b;t.alignDelimiters!==!1&&(v=y.length+v+b.length,v>o[c]&&(o[c]=v),p[c]=v),h[c]=x}a.splice(1,0,h),s.splice(1,0,p),u=-1;const m=[];for(;++u<a.length;){const g=a[u],y=s[u];c=-1;const b=[];for(;++c<l;){const v=g[c]||"";let x="",k="";if(t.alignDelimiters!==!1){const T=o[c]-(y[c]||0),P=i[c];P===114?x=" ".repeat(T):P===99?T%2?(x=" ".repeat(T/2+.5),k=" ".repeat(T/2-.5)):(x=" ".repeat(T/2),k=x):k=" ".repeat(T)}t.delimiterStart!==!1&&!c&&b.push("|"),t.padding!==!1&&!(t.alignDelimiters===!1&&v==="")&&(t.delimiterStart!==!1||c)&&b.push(" "),t.alignDelimiters!==!1&&b.push(x),b.push(v),t.alignDelimiters!==!1&&b.push(k),t.padding!==!1&&b.push(" "),(t.delimiterEnd!==!1||c!==l-1)&&b.push("|")}m.push(t.delimiterEnd===!1?b.join("").replace(/ +$/,""):b.join(""))}return m.join(`
`)}function Kpe(e){return e==null?"":String(e)}function Ype(e){return e.length}function EA(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}const Xpe={enter:{table:Qpe,tableData:CA,tableHeader:CA,tableRow:Jpe},exit:{codeText:eme,table:Zpe,tableData:ex,tableHeader:ex,tableRow:ex}};function Qpe(e){const t=e._align;this.enter({type:"table",align:t.map(n=>n==="none"?null:n),children:[]},e),this.setData("inTable",!0)}function Zpe(e){this.exit(e),this.setData("inTable")}function Jpe(e){this.enter({type:"tableRow",children:[]},e)}function ex(e){this.exit(e)}function CA(e){this.enter({type:"tableCell",children:[]},e)}function eme(e){let t=this.resume();this.getData("inTable")&&(t=t.replace(/\\([\\|])/g,tme));const n=this.stack[this.stack.length-1];n.value=t,this.exit(e)}function tme(e,t){return t==="|"?t:e}function nme(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:s,tableRow:o,tableCell:l,inlineCode:p}};function s(m,g,y,b){return u(c(m,y,b),m.align)}function o(m,g,y,b){const v=h(m,y,b),x=u([v]);return x.slice(0,x.indexOf(`
`))}function l(m,g,y,b){const v=y.enter("tableCell"),x=y.enter("phrasing"),k=Q8(m,y,{...b,before:a,after:a});return x(),v(),k}function u(m,g){return qpe(m,{align:g,alignDelimiters:r,padding:n,stringLength:i})}function c(m,g,y){const b=m.children;let v=-1;const x=[],k=g.enter("table");for(;++v<b.length;)x[v]=h(b[v],g,y);return k(),x}function h(m,g,y){const b=m.children;let v=-1;const x=[],k=g.enter("tableRow");for(;++v<b.length;)x[v]=l(b[v],m,g,y);return k(),x}function p(m,g,y){let b=J8(m,g,y);return y.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function rme(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function ime(e){const t=e.options.listItemIndent||"tab";if(t===1||t==="1")return"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function ame(e,t,n,r){const i=ime(n);let a=n.bulletCurrent||rme(n);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let s=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const o=n.createTracker(r);o.move(a+" ".repeat(s-a.length)),o.shift(s);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,o.current()),c);return l(),u;function c(h,p,m){return p?(m?"":" ".repeat(s))+h:(m?a:a+" ".repeat(s-a.length))+h}}const sme={exit:{taskListCheckValueChecked:_A,taskListCheckValueUnchecked:_A,paragraph:lme}},ome={unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:ume}};function _A(e){const t=this.stack[this.stack.length-2];t.checked=e.type==="taskListCheckValueChecked"}function lme(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1],r=n.children[0];if(r&&r.type==="text"){const i=t.children;let a=-1,s;for(;++a<i.length;){const o=i[a];if(o.type==="paragraph"){s=o;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function ume(e,t,n,r){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",o=Ov(r);a&&o.move(s);let l=ame(e,t,n,{...r,...o.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(c){return c+s}}function cme(){return[upe,Tpe(),jpe,Xpe,sme]}function dme(e){return{extensions:[cpe,Ipe(),$pe,nme(e),ome]}}function hme(e={}){const t=this.data();n("micromarkExtensions",ipe(e)),n("fromMarkdownExtensions",cme()),n("toMarkdownExtensions",dme(e));function n(r,i){(t[r]?t[r]:t[r]=[]).push(i)}}function eB({text:e,className:t}){return E("span",{className:classes("prose dark:prose-invert",t),children:E(F8,{children:e,remarkPlugins:[hme]})})}function tB({settingKey:e,settingValue:t,setSetting:n}){const r=t.formatter?t.formatter(t.value):t.value,i=a=>n(e,t.setter?t.setter(a):a);return ne("div",{className:"flex flex-col gap-1.5",children:[ne("div",{className:"flex justify-between",children:[ne("label",{children:[t.title," ",t.required&&E("span",{className:"text-sm text-red-500",children:"*"})]}),t.type==="boolean"&&E(q.Checkbox,{size:"xl",value:r,onChange:i})]}),t.type==="string"&&t.options&&E(q.Dropdown,{value:t.value??"",size:"md",onChange:a=>i(a.value),options:t.options,fullWidth:!0,className:"mx-0 -ml-0.5",innerClassName:"pl-3.5"}),t.type==="string"&&!t.options&&E(q.Input,{placeholder:t.placeholder,value:r,onChange:i,type:t.password?"password":"text"}),t.type==="number"&&(t.variant==="input"||!t.variant)&&E(q.NumberInput,{number:!0,placeholder:t.placeholder?.toString(),value:r,onNumberChange:i,max:t.max,min:t.min,step:t.step??void 0,inputClassName:"bg-white/5 px-2 py-0.5 group-hover:outline-0 outline-0 focus:outline-transparent",containerClassName:"mx-0",icon:q.Icon.ChevronsLeftRight}),t.type==="number"&&t.variant==="slider"&&ne("div",{className:"flex flex-col",children:[ne("div",{className:"flex justify-between",children:[E(q.Label,{className:"mx-0",children:t.min??0}),E(q.Label,{className:"mx-0",children:t.max??100})]}),E(q.Slider,{value:r,displayValue:![t.min??0,t.max??100].includes(r),onChange:i,max:t.max??100,min:t.min,step:t.step??void 0,className:"mt-3.5"})]}),E(eB,{text:t.description??"",className:"text-sm font-light opacity-75"})]},t.title)}function fme({id:e,manifest:t,pluginStatus:n,settings:r,setSetting:i}){const a=Fn.useUnload();return ne(KF,{className:"flex flex-col gap-2",children:[ne("div",{className:"flex flex-col",children:[ne("div",{className:"mb-4",children:[ne("div",{className:"flex items-start justify-between",children:[ne("div",{className:"flex items-center gap-4",children:[t?.icon&&E("img",{src:t.icon,className:"aspect-square h-7 w-7 shrink-0 rounded-lg object-cover",alt:"Plugin icon"}),t?.link?E("a",{href:t.link,className:"text-2xl hover:underline",target:"_blank",rel:"noreferrer",children:t.name??"Unnamed"}):E("h1",{className:"text-2xl",children:t?.name??"Unnamed"}),n&&ne("div",{className:"flex items-center gap-1",children:[n.indicator==="error"&&E(q.Icon.AlertCircle,{className:"h-5 w-5 text-red-500"}),n.indicator==="warning"&&E(q.Icon.AlertTriangle,{className:"h-5 w-5 text-yellow-500"}),n.indicator==="success"&&E(q.Icon.Check,{className:"h-5 w-5 text-green-500"}),n.indicator==="info"&&E(q.Icon.Info,{className:"h-5 w-5 text-blue-500"}),n.indicator==="loading"&&E(q.Icon.RefreshClockwise,{className:"h-5 w-5 animate-spin text-blue-500"}),E("span",{className:classes("text-sm",n.indicator==="error"&&"text-red-500",n.indicator==="warning"&&"text-yellow-500",n.indicator==="success"&&"text-green-500",n.indicator==="info"&&"text-blue-500",n.indicator==="loading"&&"text-blue-500"),children:n.text})]})]}),e&&a&&E(q.Button,{className:"h-18",icon:q.Icon.Trash,onClick:()=>e&&a(e),children:"Uninstall"})]}),ne("div",{className:"mt-2 flex gap-5",children:[t?.version&&E(tx,{label:"Version",value:t.version}),E(tx,{label:"License",value:t?.license??"No license"}),E(tx,{label:"Author",value:t?.author??"No author"})]})]}),E(pme,{label:"About",value:t?.description??"No description",markdown:!0})]}),Object.keys(r).length>0&&ne("div",{className:"mt-2 flex flex-col gap-4",children:[E(q.Label,{className:"ml-0",children:"Settings"}),Object.entries(r).map(([s,o])=>E(tB,{settingKey:s,settingValue:o,setSetting:i},s))]})]})}function pme({label:e,value:t,markdown:n,className:r}){return ne("div",{className:classes("flex flex-col gap-2",r),children:[E(q.Label,{className:"ml-0",children:e}),n?E(eB,{text:t??""}):E("p",{children:t})]})}function tx({label:e,value:t,className:n}){return ne("p",{className:classes("opacity-muted text-sm",n),children:[ne("span",{className:"select-none opacity-50",children:[e," "]}),t]})}function ay(){const[e,t]=useState(),n=Fn.useSetup(),{manifest:r,settings:i,setSetting:a,getStatus:s}=Fn.use(({manifest:c,settings:h,setSetting:p,getStatus:m})=>({manifest:c,settings:h,setSetting:p??doNothing,getStatus:m})),{developerMode:o,setDeveloperMode:l}=ay.use();useEffect(()=>{function c(){if(!s)return;const p=s();p&&(p instanceof Promise?(t(m=>({...m,indicator:"loading"})),p.then(t)):(t(p),console.log(p)))}c();const h=setInterval(c,1e4);return()=>clearInterval(h)},[s]);const u=useMemo(()=>Object.entries(i??{}).find(([,c])=>c.required&&!c.value),[i]);return E(it,{children:E("div",{className:"h-full justify-between overflow-y-auto bg-zinc-900 px-5 py-6",children:ne("div",{className:"mx-auto flex max-w-[60rem] flex-col gap-5",children:[!u&&E(Vy,{to:"/generate",className:"w-fit",children:ne("div",{className:"my-5 -ml-1 flex gap-1 text-lg opacity-50 hover:opacity-100",children:[E(q.Icon.ChevronLeft,{className:"h-6 w-6"}),"Generate"]})}),E("div",{children:E("h1",{className:"text-3xl",children:"Settings"})}),E(fme,{manifest:r,pluginStatus:e,settings:i??{},setSetting:a}),E(tB,{settingKey:"developerMode",setSetting:()=>l(!o),settingValue:{type:"boolean",title:"Developer mode",description:"Enable experimental features such as installing untrusted plugins",required:!1,value:o}}),o&&E(_ue,{installPlugin:c=>c&&n.loadFromURL(c)})]})})})}(e=>{let t;(n=>{n.use=tt.create(r=>({developerMode:localStorage.getItem("stablestudio-developerMode")==="true",setDeveloperMode:i=>r(a=>(localStorage.setItem("stablestudio-developerMode",i.toString()),{...a,developerMode:i}))}))})(t||(t={})),e.use=t.use})(ay||(ay={}));function es(){const e=es.useNavigate(),t=Fn.use(({settings:n})=>n??{});return useEffect(()=>{Object.entries(t).find(([,r])=>r.required&&!r.value)&&e("/settings")},[e,t]),E(es.Routes,{})}(e=>{function t(){return I$(t.use())}e.Routes=t,(r=>{function i(){return useMemo(()=>[{path:"/generate",element:E(re,{})},{path:"/edit",element:E(ee,{})},{path:"/settings",element:E(ay,{})},{path:"*",element:E(U$,{to:"/generate",replace:!0})}],[])}r.use=i})(t=e.Routes||(e.Routes={})),e.useNavigate=aC,e.useLocation=ro;function n({children:r}){const i="/stablestudio/".replace(/\/$/,"");return E(H$,{basename:i,children:r})}e.Provider=n})(es||(es={}));function mme(){const[e,t]=useState(!1),{input:n}=re.Image.Session.useCurrentInput(),r=re.Image.Session.useCreateDream(),i=useRef(null),a=ro();return console.log("BottomBar"),Yy(i,()=>t(!1)),a.pathname.startsWith("/generate")?E(Or.div,{layoutId:"bottom-bar-parent",className:classes("fixed bottom-0 z-[100] flex max-h-screen min-h-0 w-screen flex-col rounded-t-xl border-t border-zinc-700/75 bg-zinc-900 sm:hidden"),ref:i,children:ne("div",{className:"relative",children:[E(Or.div,{layoutId:"bottom-bar-open-button",layout:"preserve-aspect",className:"flex items-center justify-center pt-3 pb-1",onClick:()=>t(!e),children:E(q.Icon.ChevronUp,{className:classes("text-lg text-zinc-500",e&&"rotate-180")})}),e&&n&&E(Or.div,{layoutId:"bottom-bar",layout:"preserve-aspect",className:"flex max-h-[60vh] min-h-0 shrink grow-0 flex-col overflow-y-auto",children:E(re.Image.Sidebar.Tab,{id:n.id})}),n&&E(Or.div,{layout:"preserve-aspect",layoutId:"bottom-bar-create-button",className:"p-2",children:E(re.Image.Create.Button,{id:n.id,onIdleClick:()=>r(),fullWidth:!0})})]})}):null}let TA;var US;(e=>{e.get=()=>TA,e.create=()=>TA||(TA=new Wse({defaultOptions:{mutations:{cacheTime:0},queries:{cacheTime:24*60*60*1e3,refetchOnWindowFocus:!1,retry:1}}}))})(US||(US={}));const gme=({children:e})=>ne(Kse,{client:useMemo(()=>sy.Client.create(),[]),children:[!1,e]});var sy;(e=>{e.Client=US,e.Provider=gme})(sy||(sy={}));function yme({children:e}){return E(zs.Provider,{children:E(es.Provider,{children:E(sy.Provider,{children:e})})})}function vme({position:e}){const[t,n]=useState(!1),[r,i]=Ot.Sidebar.use(e),a=q.useIsMobileDevice(),s=ee.Canvas.useResize(),o=useCallback(()=>{if(a)return i(({visible:l})=>({visible:!l}));i(({width:l})=>({width:l===0?Ot.Sidebar.presetWidth():0}))},[a,i]);return useEffect(()=>{const l=()=>n(!1),u=c=>{t&&(c.preventDefault(),c.stopPropagation(),i({width:clamp(0,e==="left"?c.clientX:window.innerWidth-c.clientX,600)}),s())};return window.addEventListener("mousemove",u),window.addEventListener("mouseup",l),()=>{window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",l)}},[e,s,t,i]),ne("div",{onMouseDown:useCallback(()=>!a&&n(!0),[a,n]),style:{[e]:"100%"},className:classes("group absolute top-0 bottom-0 flex w-5 cursor-col-resize",e==="right"&&"justify-end"),children:[E("div",{className:classes("absolute p-2 duration-150 group-hover:opacity-100 sm:opacity-100 md:opacity-0",r.width===0&&"opacity-muted"),children:E(q.Button,{className:uO("dark:bg-zinc-700",a&&"h-10 w-16"),onClick:o,icon:e==="left"&&r.width>0&&r.visible?q.Icon.ChevronLeft:q.Icon.ChevronRight})}),ne("div",{className:"relative",children:[E(IA,{resizing:t}),E(IA,{resizing:t,className:"w-1 blur-md"})]})]})}function IA({resizing:e,className:t}){return E("div",{className:classes("bg-brand-500 absolute top-0 h-full w-0.5 -translate-x-1/2 opacity-0 duration-150 group-hover:opacity-70",e&&"opacity-100 group-hover:opacity-100",t)})}function wme(e){const{title:t,children:n,className:r,collapsable:i,defaultExpanded:a,padding:s=q.Common.Size.preset(),button:o,icon:l,divider:u=!0,onChange:c}=e,[h,p]=useState(!!a||!i),m=useMemo(()=>typeof r=="function"?r({...e,expanded:h}):r,[r,e,h]);useEffect(()=>{a&&p(a)},[a]);const g=useMemo(()=>({testsdfsadfasdfs:!0,transparent:!0,className:"p-0"}),[]),y=useMemo(()=>typeof o=="function"?o(g):o,[g,o]);return ne("div",{className:classes("flex flex-col border-zinc-700 last-of-type:border-b-0",u&&"border-b-1 border-b",m),children:[t&&ne("div",{className:"flex items-center py-2 px-2",children:[E(q.Button,{...g,className:classes(g.className,"mr-auto",!i&&"ml-1 cursor-default hover:text-white/80 dark:hover:text-white/80"),onClick:()=>{i&&(p(!h),c?.(!h))},iconLeft:l?typeof l=="function"?l({...e,expanded:h}):l:i&&(b=>E(q.Icon.ChevronDown,{className:classes(b.className,!h&&"-rotate-90",i&&"cursor-pointer")})),children:t}),y]}),(h||!i)&&n&&E("div",{className:classes(s==="sm"&&"p-2",s==="md"&&"p-4",s==="lg"&&"p-5"),children:n})]})}var jS;(e=>{e.use=()=>{const t=doNothing,n=doNothing,r=doNothing,i=doNothing,a=doNothing;Xe.use(useMemo(()=>({name:["Sidebar","Toggle Both"],keys:["Meta","\\"],icon:q.Icon.Sidebar,action:t}),[t])),Xe.use(useMemo(()=>({name:["Sidebar","Toggle Right"],keys:["F7"],icon:q.Icon.SidebarOpen,action:n}),[n])),Xe.use(useMemo(()=>({name:["Sidebar","Toggle Left"],keys:["F5"],icon:q.Icon.SidebarClose,action:r}),[r])),Xe.use(useMemo(()=>({name:["Sidebar","Layers"],keys:["Control","l"],icon:q.Icon.Layers,action:i}),[i])),Xe.use(useMemo(()=>({name:["Sidebar","History"],keys:["Control","y"],icon:q.Icon.History,action:a}),[a]))}})(jS||(jS={}));function bme({className:e,children:t}){return E("div",{className:classes("justify-end border-t border-zinc-700 p-2",e),children:t})}function xme({position:e}){const[t]=Ot.Sidebar.use(e),r=Ot.Sidebar.Tabs.use(e).find(i=>i.name===t.tab);return E(it,{children:r?.bottom})}function nB(e){return E(q.Button,{size:"lg",...e,className:classes("w-full",e.className)})}function kme({position:e}){const t=es.useNavigate(),[n,r]=Ot.Sidebar.use(e),i=Ot.Sidebar.Tabs.use(e),a=q.useIsMobileDevice(),s=i.every(o=>o.button===!1);return useMemo(()=>!i[0]||s?null:ne("div",{className:"flex flex-row gap-2 border-b border-zinc-700 p-2",children:[i.map(o=>{if(o.button===!1)return null;const l=()=>{r(c=>({...c,tab:o.name})),o.route&&t(o.route)},u={key:o.name,icon:o.icon,active:o.name===n.tab,className:classes("justify-start",!!o.button&&"w-full"),children:o.name,onClick:l};return typeof o.button=="function"?o.button(u):E(nB,{...u})}),a&&E(q.Button,{className:"h-full w-full",icon:q.Icon.ChevronLeft,onClick:()=>r(o=>({...o,visible:!1}))})]}),[i,s,a,n.tab,r,t])}var ic;(e=>{e.use=n=>{const r=t.use(({tabs:i})=>i);return useMemo(()=>Object.values(r).filter(i=>i.position===n).sort((i,a)=>(i.index??1/0)-(a.index??1/0)),[n,r])};let t;(n=>{n.use=tt.create(r=>({tabs:{},setTab:(i,a)=>r(s=>{const{[i]:o,...l}=s.tabs;return{tabs:{...l,...a&&{[i]:a}}}}),setLeftElement:i=>r({leftElement:i}),setRightElement:i=>r({rightElement:i})}))})(t=e.State||(e.State={}))})(ic||(ic={}));function Ou({position:e}){const t=ic.State.use(n=>e==="left"?n.setLeftElement:n.setRightElement,tt.shallow);return E("div",{ref:t,className:classes("flex min-h-0 shrink flex-col overflow-y-auto")})}(e=>{e.Bottom=bme,e.Button=nB,e.Buttons=kme,e.Bottoms=xme;function t({children:n,...r}){const[i,a]=Ot.Sidebar.use(r.position),s=ro(),{setTab:o,element:l}=ic.State.use(({setTab:u,...c})=>({setTab:u,element:r.position==="left"?c.leftElement:c.rightElement}),tt.shallow);return useEffect(()=>(o(r.name,{enabled:!0,...r}),()=>o(r.name)),[r,o]),useEffect(()=>{(window.location.pathname===r.route||window.location.pathname==="/"&&r.defaultActive)&&a(u=>({...u,tab:r.name}))},[r.name,r.defaultActive,a,r.route,s]),useMemo(()=>E(it,{children:i.tab===r.name&&r.enabled&&l&&cc.createPortal(n,l)}),[n,l,r.enabled,r.name,i.tab])}e.Set=t})(Ou||(Ou={}));function Sme(){return ne(it,{children:[E(re.Image.Sidebar,{}),E(ee.Sidebar,{})]})}function ac({position:e}){const[t]=ac.use(e),r=ic.use(e).some(o=>o.enabled),i=q.useIsMobileDevice(),a=r&&t.visible&&t.width>300,s=useMemo(()=>ne(it,{children:[E(Ou.Buttons,{position:e}),E(Ou,{position:e}),E(Ou.Bottoms,{position:e})]}),[e]);return i?null:ne("div",{style:{width:a?i?"100%":t.width:0},className:classes("relative z-[10] min-h-0 shrink-0 border-zinc-700 dark:bg-zinc-900",a&&(e==="left"?"border-r":"border-l")),children:[r&&E(vme,{position:e}),E("div",{className:classes("flex h-full min-h-0 shrink grow flex-col",!a&&"hidden"),children:s})]})}(e=>{e.Section=wme,e.Shortcuts=jS,e.Tab=Ou,e.Tabs=ic,e.presetWidth=()=>400,e.use=n=>{const{sidebar:r,stateSet:i}=t.use(s=>({sidebar:s[n],stateSet:s.setSidebar}),tt.shallow),a=useCallback(s=>i(n,s),[n,i]);return useMemo(()=>[r,a],[r,a])};let t;(n=>{n.use=tt.create(r=>{const i={visible:!0,width:(0,e.presetWidth)()};return{left:i,right:i,setSidebar:(a,s)=>r(o=>({[a]:{...o[a],...typeof s=="function"?s(o[a]):s}}))}})})(t||(t={}))})(ac||(ac={}));function oy({className:e,children:t}){const n=ly.use(({setElement:r})=>r);return E("div",{ref:n,className:classes("flex h-full grow basis-0 items-center justify-center",e),children:t})}(e=>{function t({children:n}){const r=ly.use(({element:i})=>i,tt.shallow);return E(it,{children:r&&cc.createPortal(n,r)})}e.Set=t})(oy||(oy={}));var ly;(e=>{e.use=tt.create(t=>({setElement:n=>t({element:n})}))})(ly||(ly={}));const Eme=()=>E("div",{className:"flex grow basis-0 items-center gap-4",children:E(Vy,{className:"flex flex-row items-center gap-3",to:"/",children:E(q.Logo.Next,{})})}),Cme=()=>{const{setIsOpen:e}=Xe.Palette.use(),t=q.useIsMobileDevice();return E("div",{className:"flex grow basis-0 items-center justify-end gap-2",children:ne(it,{children:[!t&&ne(q.Button,{outline:!0,className:"rounded-full",icon:q.Icon.Keyboard,onClick:()=>e(!0),children:["Shortcuts",E(Xe.Keys,{keys:["Meta","k"],className:"ml-2"})]}),E(Vy,{to:"/settings",children:E(q.Button,{outline:!0,label:"Settings",labelPlacement:"bottom",className:"aspect-square h-[30px] w-[30px]",icon:q.Icon.Settings})})]})})};function uy(){return ne("nav",{className:"relative flex h-14 w-screen shrink-0 flex-row items-center border-b border-black/20 bg-zinc-50 px-2 text-black dark:border-zinc-700 dark:bg-zinc-900 dark:text-white sm:min-w-[1000px]",children:[E(Eme,{}),E(oy,{}),E(Cme,{})]})}(e=>{e.Center=oy;function t(i){return E(q.Divider,{variant:"vertical",className:"mx-2 group-hover:bg-red-500",...i})}e.Divider=t;function n({children:i}){return E("div",{children:i})}e.Buttons=n;function r({menu:i,...a}){return ne("div",{className:classes("group/button relative flex h-full items-center justify-center duration-150",a.active?"dark:bg-brand-500":"hover:dark:bg-muted-white-extra"),children:[E(q.Button,{transparent:!0,size:"lg",className:"p-4",...a}),i&&E(q.Button,{transparent:!0,size:"sm",className:"-ml-4 h-full p-0 pr-2",icon:q.Icon.ChevronDown})]})}e.Button=r})(uy||(uy={}));function Ot(){const e=q.useIsMobileDevice();return useMemo(()=>ne(yme,{children:[E("div",{className:"absolute top-0 left-0 -z-50 h-screen w-screen dark:bg-zinc-800"}),ne("div",{className:"absolute top-0 left-0 flex h-screen w-screen flex-col text-white sm:overflow-x-auto",children:[E(Xe.Palette,{}),E(uy,{}),E(Sme,{}),ne("div",{className:"flex min-h-0 grow overflow-auto sm:min-w-[1000px]",children:[E(ac,{position:"left"}),E("div",{className:"shrink grow overflow-y-auto",children:E(es,{})}),E(ac,{position:"right"})]}),e&&E(mme,{})]})]}),[e])}(e=>{e.Sidebar=ac,e.TopBar=uy})(Ot||(Ot={}));const _me=async()=>{const e=document.getElementById("app");e&&ax.createRoot(e).render(E(React.StrictMode,{children:E(Ot,{})}))};_me();
